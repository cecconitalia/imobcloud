# Generated by Django 5.0.1 on 2026-01-07 19:41

from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('app_clientes', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='ModeloContrato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nome', models.CharField(help_text='Ex: Contrato de Aluguel Residencial (Padrão)', max_length=255, verbose_name='Nome do Modelo')),
                ('tipo_contrato', models.CharField(choices=[('VENDA', 'Venda'), ('ALUGUEL', 'Aluguel')], max_length=50, verbose_name='Tipo de Contrato')),
                ('conteudo', models.TextField(help_text='Cole aqui o HTML do contrato. Use variáveis como {{ inquilino.nome }}.', verbose_name='Conteúdo do Modelo (HTML/Django)')),
                ('padrao', models.BooleanField(default=False, help_text='Marque se este for o modelo padrão para este tipo de contrato.', verbose_name='Modelo Padrão')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Criação')),
                ('data_atualizacao', models.DateTimeField(auto_now=True, verbose_name='Última Atualização')),
            ],
            options={
                'verbose_name': 'Modelo de Contrato',
                'verbose_name_plural': 'Modelos de Contrato',
                'ordering': ['imobiliaria', 'tipo_contrato', '-padrao', 'nome'],
            },
        ),
        migrations.CreateModel(
            name='Pagamento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('valor', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Valor do Pagamento')),
                ('data_vencimento', models.DateField(verbose_name='Data de Vencimento')),
                ('data_pagamento', models.DateField(blank=True, null=True, verbose_name='Data de Pagamento')),
                ('status', models.CharField(choices=[('PENDENTE', 'Pendente'), ('PAGO', 'Pago'), ('ATRASADO', 'Atrasado'), ('CANCELADO', 'Cancelado')], default='PENDENTE', max_length=20, verbose_name='Status')),
            ],
            options={
                'verbose_name': 'Pagamento',
                'verbose_name_plural': 'Pagamentos',
                'ordering': ['data_vencimento'],
            },
        ),
        migrations.CreateModel(
            name='Contrato',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_contrato', models.CharField(choices=[('VENDA', 'Venda'), ('ALUGUEL', 'Aluguel')], max_length=50, verbose_name='Tipo de Contrato')),
                ('aluguel', models.DecimalField(blank=True, decimal_places=2, help_text='Usado para gerar parcelas de aluguel.', max_digits=15, null=True, verbose_name='Valor do Aluguel (Mensal)')),
                ('taxa_administracao_percentual', models.DecimalField(decimal_places=2, default=Decimal('10.00'), help_text='Percentual retido pela imobiliária sobre o aluguel.', max_digits=5, verbose_name='Taxa de Administração (%)')),
                ('comissao_venda_percentual', models.DecimalField(decimal_places=2, default=Decimal('6.00'), help_text='Percentual de comissão sobre o valor total da venda.', max_digits=5, verbose_name='Comissão de Venda (%)')),
                ('valor_comissao_acordado', models.DecimalField(blank=True, decimal_places=2, help_text='Valor final acordado. Usado para lançar a RECEITA.', max_digits=15, null=True, verbose_name='Valor Final da Comissão (R$)')),
                ('valor_total', models.DecimalField(blank=True, decimal_places=2, max_digits=15, null=True, verbose_name='Valor Total do Contrato (Venda)')),
                ('informacoes_adicionais', models.TextField(blank=True, null=True, verbose_name='Informações Adicionais')),
                ('duracao_meses', models.PositiveIntegerField(blank=True, default=12, help_text='Usado para gerar as parcelas de aluguel.', null=True, verbose_name='Duração do Contrato (em meses)')),
                ('data_primeiro_vencimento', models.DateField(blank=True, help_text='Data do primeiro vencimento para gerar as parcelas de aluguel.', null=True, verbose_name='Data do 1º Vencimento (Aluguel)')),
                ('data_vencimento_venda', models.DateField(blank=True, help_text='Data limite para o pagamento da comissão ou quitação da venda.', null=True, verbose_name='Data Venc. Comissão/Quitação (Venda)')),
                ('status_contrato', models.CharField(choices=[('RASCUNHO', 'Rascunho'), ('ATIVO', 'Ativo'), ('CONCLUIDO', 'Concluído'), ('RESCINDIDO', 'Rescindido'), ('CANCELADO', 'Cancelado')], default='RASCUNHO', max_length=50, verbose_name='Status do Contrato')),
                ('data_inicio', models.DateField(verbose_name='Data de Início')),
                ('data_fim', models.DateField(blank=True, null=True, verbose_name='Data de Término (se aplicável)')),
                ('data_assinatura', models.DateField(verbose_name='Data de Assinatura')),
                ('data_cadastro', models.DateTimeField(auto_now_add=True, verbose_name='Data de Registro')),
                ('conteudo_personalizado', models.TextField(blank=True, help_text='Armazena o conteúdo HTML do contrato após a edição.', null=True, verbose_name='Conteúdo Personalizado do Contrato')),
                ('excluido', models.BooleanField(default=False, verbose_name='Excluído')),
                ('fiadores', models.ManyToManyField(blank=True, related_name='contratos_como_fiador', to='app_clientes.cliente', verbose_name='Fiadores')),
            ],
            options={
                'verbose_name': 'Contrato',
                'verbose_name_plural': 'Contratos',
                'ordering': ['-data_cadastro'],
            },
        ),
    ]
