(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ns(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const qt={},$c=[],Os=()=>{},Tc=()=>!1,Gl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),py=t=>t.startsWith("onUpdate:"),Wt=Object.assign,my=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},uW=Object.prototype.hasOwnProperty,ln=(t,e)=>uW.call(t,e),Ge=Array.isArray,Lc=t=>xu(t)==="[object Map]",ql=t=>xu(t)==="[object Set]",F_=t=>xu(t)==="[object Date]",PN=t=>xu(t)==="[object RegExp]",pt=t=>typeof t=="function",St=t=>typeof t=="string",Oi=t=>typeof t=="symbol",un=t=>t!==null&&typeof t=="object",gy=t=>(un(t)||pt(t))&&pt(t.then)&&pt(t.catch),ME=Object.prototype.toString,xu=t=>ME.call(t),$N=t=>xu(t).slice(8,-1),Ep=t=>xu(t)==="[object Object]",vy=t=>St(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ba=Ns(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),LN=Ns("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),by=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},dW=/-\w/g,On=by(t=>t.replace(dW,e=>e.slice(1).toUpperCase())),fW=/\B([A-Z])/g,oi=by(t=>t.replace(fW,"-$1").toLowerCase()),Kl=by(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fc=by(t=>t?`on${Kl(t)}`:""),ii=(t,e)=>!Object.is(t,e),Vc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},IE=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Ph=t=>{const e=parseFloat(t);return isNaN(e)?t:e},$h=t=>{const e=St(t)?Number(t):NaN;return isNaN(e)?t:e};let l2;const wp=()=>l2||(l2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),hW=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function pW(t){return hW.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}function mW(t,e){return t+JSON.stringify(e,(n,s)=>typeof s=="function"?s.toString():s)}const gW={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},vW={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},bW={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},yW={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},xW={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},_W="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",NE=Ns(_W),SW=NE,c2=2;function FN(t,e=0,n=t.length){if(e=Math.max(0,Math.min(e,t.length)),n=Math.max(0,Math.min(n,t.length)),e>n)return"";let s=t.split(/(\r?\n)/);const i=s.filter((a,c)=>c%2===1);s=s.filter((a,c)=>c%2===0);let r=0;const o=[];for(let a=0;a<s.length;a++)if(r+=s[a].length+(i[a]&&i[a].length||0),r>=e){for(let c=a-c2;c<=a+c2||n>r;c++){if(c<0||c>=s.length)continue;const u=c+1;o.push(`${u}${" ".repeat(Math.max(3-String(u).length,0))}|  ${s[c]}`);const d=s[c].length,f=i[c]&&i[c].length||0;if(c===a){const h=e-(r-(d+f)),m=Math.max(1,n>r?d-h:n-e);o.push("   |  "+" ".repeat(h)+"^".repeat(m))}else if(c>a){if(n>r){const h=Math.max(Math.min(n-r,d),1);o.push("   |  "+"^".repeat(h))}r+=d+f}}break}return o.join(`
`)}function Ws(t){if(Ge(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=St(s)?PE(s):Ws(s);if(i)for(const r in i)e[r]=i[r]}return e}else if(St(t)||un(t))return t}const EW=/;(?![^(]*\))/g,wW=/:([^]+)/,CW=/\/\*[^]*?\*\//g;function PE(t){const e={};return t.replace(CW,"").split(EW).forEach(n=>{if(n){const s=n.split(wW);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function AW(t){if(!t)return"";if(St(t))return t;let e="";for(const n in t){const s=t[n];if(St(s)||typeof s=="number"){const i=n.startsWith("--")?n:oi(n);e+=`${i}:${s};`}}return e}function te(t){let e="";if(St(t))e=t;else if(Ge(t))for(let n=0;n<t.length;n++){const s=te(t[n]);s&&(e+=s+" ")}else if(un(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function rr(t){if(!t)return null;let{class:e,style:n}=t;return e&&!St(e)&&(t.class=te(e)),n&&(t.style=Ws(n)),t}const kW="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",TW="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",DW="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",OW="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",VN=Ns(kW),BN=Ns(TW),UN=Ns(DW),HN=Ns(OW),zN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jN=Ns(zN),RW=Ns(zN+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function $E(t){return!!t||t===""}const MW=/[>/="'\u0009\u000a\u000c\u0020]/,Q0={};function IW(t){if(Q0.hasOwnProperty(t))return Q0[t];const e=MW.test(t);return e&&console.error(`unsafe attribute name: ${t}`),Q0[t]=!e}const NW={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},PW=Ns("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),$W=Ns("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),LW=Ns("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function FW(t){if(t==null)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"}const VW=/["'&<>]/;function BW(t){const e=""+t,n=VW.exec(e);if(!n)return e;let s="",i,r,o=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==r&&(s+=e.slice(o,r)),o=r+1,s+=i}return o!==r?s+e.slice(o,r):s}const UW=/^-?>|<!--|-->|--!>|<!-$/g;function HW(t){return t.replace(UW,"")}const WN=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function zW(t,e){return t.replace(WN,n=>e?n==='"'?'\\\\\\"':`\\\\${n}`:`\\${n}`)}function jW(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=Ca(t[s],e[s]);return n}function Ca(t,e){if(t===e)return!0;let n=F_(t),s=F_(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Oi(t),s=Oi(e),n||s)return t===e;if(n=Ge(t),s=Ge(e),n||s)return n&&s?jW(t,e):!1;if(n=un(t),s=un(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Ca(t[o],e[o]))return!1}}return String(t)===String(e)}function Cp(t,e){return t.findIndex(n=>Ca(n,e))}const GN=t=>!!(t&&t.__v_isRef===!0),F=t=>St(t)?t:t==null?"":Ge(t)||un(t)&&(t.toString===ME||!pt(t.toString))?GN(t)?F(t.value):JSON.stringify(t,qN,2):String(t),qN=(t,e)=>GN(e)?qN(t,e.value):Lc(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i],r)=>(n[Z0(s,r)+" =>"]=i,n),{})}:ql(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Z0(n))}:Oi(e)?Z0(e):un(e)&&!Ge(e)&&!Ep(e)?String(e):e,Z0=(t,e="")=>{var n;return Oi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function KN(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}const WW=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:$c,EMPTY_OBJ:qt,NO:Tc,NOOP:Os,PatchFlagNames:vW,PatchFlags:gW,ShapeFlags:bW,SlotFlags:yW,camelize:On,capitalize:Kl,cssVarNameEscapeSymbolsRE:WN,def:IE,escapeHtml:BW,escapeHtmlComment:HW,extend:Wt,genCacheKey:mW,genPropsAccessExp:pW,generateCodeFrame:FN,getEscapedCssVarName:zW,getGlobalThis:wp,hasChanged:ii,hasOwn:ln,hyphenate:oi,includeBooleanAttr:$E,invokeArrayFns:Vc,isArray:Ge,isBooleanAttr:RW,isBuiltInDirective:LN,isDate:F_,isFunction:pt,isGloballyAllowed:NE,isGloballyWhitelisted:SW,isHTMLTag:VN,isIntegerKey:vy,isKnownHtmlAttr:PW,isKnownMathMLAttr:LW,isKnownSvgAttr:$W,isMap:Lc,isMathMLTag:UN,isModelListener:py,isObject:un,isOn:Gl,isPlainObject:Ep,isPromise:gy,isRegExp:PN,isRenderableAttrValue:FW,isReservedProp:ba,isSSRSafeAttrName:IW,isSVGTag:BN,isSet:ql,isSpecialBooleanAttr:jN,isString:St,isSymbol:Oi,isVoidTag:HN,looseEqual:Ca,looseIndexOf:Cp,looseToNumber:Ph,makeMap:Ns,normalizeClass:te,normalizeCssVarValue:KN,normalizeProps:rr,normalizeStyle:Ws,objectToString:ME,parseStringStyle:PE,propsToAttrMap:NW,remove:my,slotFlagsText:xW,stringifyStyle:AW,toDisplayString:F,toHandlerKey:Fc,toNumber:$h,toRawType:$N,toTypeString:xu},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ei;class LE{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ei,!e&&ei&&(this.index=(ei.scopes||(ei.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ei;try{return ei=this,e()}finally{ei=n}}}on(){++this._on===1&&(this.prevScope=ei,ei=this)}off(){this._on>0&&--this._on===0&&(ei=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function FE(t){return new LE(t)}function VE(){return ei}function YN(t,e=!1){ei&&ei.cleanups.push(t)}let An;const ex=new WeakSet;class Lh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ei&&ei.active&&ei.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ex.has(this)&&(ex.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||JN(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,u2(this),QN(this);const e=An,n=no;An=this,no=!0;try{return this.fn()}finally{ZN(this),An=e,no=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)HE(e);this.deps=this.depsTail=void 0,u2(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ex.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){V_(this)&&this.run()}get dirty(){return V_(this)}}let XN=0,ih,rh;function JN(t,e=!1){if(t.flags|=8,e){t.next=rh,rh=t;return}t.next=ih,ih=t}function BE(){XN++}function UE(){if(--XN>0)return;if(rh){let e=rh;for(rh=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ih;){let e=ih;for(ih=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function QN(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ZN(t){let e,n=t.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),HE(s),GW(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}t.deps=e,t.depsTail=n}function V_(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(eP(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function eP(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Fh)||(t.globalVersion=Fh,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!V_(t))))return;t.flags|=2;const e=t.dep,n=An,s=no;An=t,no=!0;try{QN(t);const i=t.fn(t._value);(e.version===0||ii(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{An=n,no=s,ZN(t),t.flags&=-3}}function HE(t,e=!1){const{dep:n,prevSub:s,nextSub:i}=t;if(s&&(s.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)HE(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function GW(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function qW(t,e){t.effect instanceof Lh&&(t=t.effect.fn);const n=new Lh(t);e&&Wt(n,e);try{n.run()}catch(i){throw n.stop(),i}const s=n.run.bind(n);return s.effect=n,s}function KW(t){t.effect.stop()}let no=!0;const tP=[];function Aa(){tP.push(no),no=!1}function ka(){const t=tP.pop();no=t===void 0?!0:t}function u2(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=An;An=void 0;try{e()}finally{An=n}}}let Fh=0,YW=class{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class yy{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!An||!no||An===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==An)n=this.activeLink=new YW(An,this),An.deps?(n.prevDep=An.depsTail,An.depsTail.nextDep=n,An.depsTail=n):An.deps=An.depsTail=n,nP(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=An.depsTail,n.nextDep=void 0,An.depsTail.nextDep=n,An.depsTail=n,An.deps===n&&(An.deps=s)}return n}trigger(e){this.version++,Fh++,this.notify(e)}notify(e){BE();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{UE()}}}function nP(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)nP(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _v=new WeakMap,Bc=Symbol(""),B_=Symbol(""),Vh=Symbol("");function ri(t,e,n){if(no&&An){let s=_v.get(t);s||_v.set(t,s=new Map);let i=s.get(n);i||(s.set(n,i=new yy),i.map=s,i.key=n),i.track()}}function la(t,e,n,s,i,r){const o=_v.get(t);if(!o){Fh++;return}const a=c=>{c&&c.trigger()};if(BE(),e==="clear")o.forEach(a);else{const c=Ge(t),u=c&&vy(n);if(c&&n==="length"){const d=Number(s);o.forEach((f,h)=>{(h==="length"||h===Vh||!Oi(h)&&h>=d)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(Vh)),e){case"add":c?u&&a(o.get("length")):(a(o.get(Bc)),Lc(t)&&a(o.get(B_)));break;case"delete":c||(a(o.get(Bc)),Lc(t)&&a(o.get(B_)));break;case"set":Lc(t)&&a(o.get(Bc));break}}UE()}function XW(t,e){const n=_v.get(t);return n&&n.get(e)}function Hu(t){const e=sn(t);return e===t?e:(ri(e,"iterate",Vh),dr(t)?e:e.map(Us))}function xy(t){return ri(t=sn(t),"iterate",Vh),t}const JW={__proto__:null,[Symbol.iterator](){return tx(this,Symbol.iterator,Us)},concat(...t){return Hu(this).concat(...t.map(e=>Ge(e)?Hu(e):e))},entries(){return tx(this,"entries",t=>(t[1]=Us(t[1]),t))},every(t,e){return qo(this,"every",t,e,void 0,arguments)},filter(t,e){return qo(this,"filter",t,e,n=>n.map(Us),arguments)},find(t,e){return qo(this,"find",t,e,Us,arguments)},findIndex(t,e){return qo(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return qo(this,"findLast",t,e,Us,arguments)},findLastIndex(t,e){return qo(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return qo(this,"forEach",t,e,void 0,arguments)},includes(...t){return nx(this,"includes",t)},indexOf(...t){return nx(this,"indexOf",t)},join(t){return Hu(this).join(t)},lastIndexOf(...t){return nx(this,"lastIndexOf",t)},map(t,e){return qo(this,"map",t,e,void 0,arguments)},pop(){return Cf(this,"pop")},push(...t){return Cf(this,"push",t)},reduce(t,...e){return d2(this,"reduce",t,e)},reduceRight(t,...e){return d2(this,"reduceRight",t,e)},shift(){return Cf(this,"shift")},some(t,e){return qo(this,"some",t,e,void 0,arguments)},splice(...t){return Cf(this,"splice",t)},toReversed(){return Hu(this).toReversed()},toSorted(t){return Hu(this).toSorted(t)},toSpliced(...t){return Hu(this).toSpliced(...t)},unshift(...t){return Cf(this,"unshift",t)},values(){return tx(this,"values",Us)}};function tx(t,e,n){const s=xy(t),i=s[e]();return s!==t&&!dr(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=n(r.value)),r}),i}const QW=Array.prototype;function qo(t,e,n,s,i,r){const o=xy(t),a=o!==t&&!dr(t),c=o[e];if(c!==QW[e]){const f=c.apply(t,r);return a?Us(f):f}let u=n;o!==t&&(a?u=function(f,h){return n.call(this,Us(f),h,t)}:n.length>2&&(u=function(f,h){return n.call(this,f,h,t)}));const d=c.call(o,u,s);return a&&i?i(d):d}function d2(t,e,n,s){const i=xy(t);let r=n;return i!==t&&(dr(t)?n.length>3&&(r=function(o,a,c){return n.call(this,o,a,c,t)}):r=function(o,a,c){return n.call(this,o,Us(a),c,t)}),i[e](r,...s)}function nx(t,e,n){const s=sn(t);ri(s,"iterate",Vh);const i=s[e](...n);return(i===-1||i===!1)&&Ey(n[0])?(n[0]=sn(n[0]),s[e](...n)):i}function Cf(t,e,n=[]){Aa(),BE();const s=sn(t)[e].apply(t,n);return UE(),ka(),s}const ZW=Ns("__proto__,__v_isRef,__isVue"),sP=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Oi));function eG(t){Oi(t)||(t=String(t));const e=sn(this);return ri(e,"has",t),e.hasOwnProperty(t)}class iP{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?uP:cP:r?lP:aP).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=Ge(e);if(!i){let c;if(o&&(c=JW[n]))return c;if(n==="hasOwnProperty")return eG}const a=Reflect.get(e,n,Kn(e)?e:s);if((Oi(n)?sP.has(n):ZW(n))||(i||ri(e,"get",n),r))return a;if(Kn(a)){const c=o&&vy(n)?a:a.value;return i&&un(c)?Sv(c):c}return un(a)?i?Sv(a):No(a):a}}class rP extends iP{constructor(e=!1){super(!1,e)}set(e,n,s,i){let r=e[n];if(!this._isShallow){const c=Ta(r);if(!dr(s)&&!Ta(s)&&(r=sn(r),s=sn(s)),!Ge(e)&&Kn(r)&&!Kn(s))return c||(r.value=s),!0}const o=Ge(e)&&vy(n)?Number(n)<e.length:ln(e,n),a=Reflect.set(e,n,s,Kn(e)?e:i);return e===sn(i)&&(o?ii(s,r)&&la(e,"set",n,s):la(e,"add",n,s)),a}deleteProperty(e,n){const s=ln(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&s&&la(e,"delete",n,void 0),i}has(e,n){const s=Reflect.has(e,n);return(!Oi(n)||!sP.has(n))&&ri(e,"has",n),s}ownKeys(e){return ri(e,"iterate",Ge(e)?"length":Bc),Reflect.ownKeys(e)}}class oP extends iP{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const tG=new rP,nG=new oP,sG=new rP(!0),iG=new oP(!0),U_=t=>t,Um=t=>Reflect.getPrototypeOf(t);function rG(t,e,n){return function(...s){const i=this.__v_raw,r=sn(i),o=Lc(r),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...s),d=n?U_:e?Ev:Us;return!e&&ri(r,"iterate",c?B_:Bc),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function Hm(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function oG(t,e){const n={get(i){const r=this.__v_raw,o=sn(r),a=sn(i);t||(ii(i,a)&&ri(o,"get",i),ri(o,"get",a));const{has:c}=Um(o),u=e?U_:t?Ev:Us;if(c.call(o,i))return u(r.get(i));if(c.call(o,a))return u(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&ri(sn(i),"iterate",Bc),i.size},has(i){const r=this.__v_raw,o=sn(r),a=sn(i);return t||(ii(i,a)&&ri(o,"has",i),ri(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,c=sn(a),u=e?U_:t?Ev:Us;return!t&&ri(c,"iterate",Bc),a.forEach((d,f)=>i.call(r,u(d),u(f),o))}};return Wt(n,t?{add:Hm("add"),set:Hm("set"),delete:Hm("delete"),clear:Hm("clear")}:{add(i){!e&&!dr(i)&&!Ta(i)&&(i=sn(i));const r=sn(this);return Um(r).has.call(r,i)||(r.add(i),la(r,"add",i,i)),this},set(i,r){!e&&!dr(r)&&!Ta(r)&&(r=sn(r));const o=sn(this),{has:a,get:c}=Um(o);let u=a.call(o,i);u||(i=sn(i),u=a.call(o,i));const d=c.call(o,i);return o.set(i,r),u?ii(r,d)&&la(o,"set",i,r):la(o,"add",i,r),this},delete(i){const r=sn(this),{has:o,get:a}=Um(r);let c=o.call(r,i);c||(i=sn(i),c=o.call(r,i)),a&&a.call(r,i);const u=r.delete(i);return c&&la(r,"delete",i,void 0),u},clear(){const i=sn(this),r=i.size!==0,o=i.clear();return r&&la(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=rG(i,t,e)}),n}function _y(t,e){const n=oG(t,e);return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(ln(n,i)&&i in s?n:s,i,r)}const aG={get:_y(!1,!1)},lG={get:_y(!1,!0)},cG={get:_y(!0,!1)},uG={get:_y(!0,!0)},aP=new WeakMap,lP=new WeakMap,cP=new WeakMap,uP=new WeakMap;function dG(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fG(t){return t.__v_skip||!Object.isExtensible(t)?0:dG($N(t))}function No(t){return Ta(t)?t:Sy(t,!1,tG,aG,aP)}function zE(t){return Sy(t,!1,sG,lG,lP)}function Sv(t){return Sy(t,!0,nG,cG,cP)}function hG(t){return Sy(t,!0,iG,uG,uP)}function Sy(t,e,n,s,i){if(!un(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=fG(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?s:n);return i.set(t,a),a}function Ao(t){return Ta(t)?Ao(t.__v_raw):!!(t&&t.__v_isReactive)}function Ta(t){return!!(t&&t.__v_isReadonly)}function dr(t){return!!(t&&t.__v_isShallow)}function Ey(t){return t?!!t.__v_raw:!1}function sn(t){const e=t&&t.__v_raw;return e?sn(e):t}function Ap(t){return!ln(t,"__v_skip")&&Object.isExtensible(t)&&IE(t,"__v_skip",!0),t}const Us=t=>un(t)?No(t):t,Ev=t=>un(t)?Sv(t):t;function Kn(t){return t?t.__v_isRef===!0:!1}function H(t){return dP(t,!1)}function wy(t){return dP(t,!0)}function dP(t,e){return Kn(t)?t:new pG(t,e)}class pG{constructor(e,n){this.dep=new yy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:sn(e),this._value=n?e:Us(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||dr(e)||Ta(e);e=s?e:sn(e),ii(e,n)&&(this._rawValue=e,this._value=s?e:Us(e),this.dep.trigger())}}function mG(t){t.dep&&t.dep.trigger()}function Ve(t){return Kn(t)?t.value:t}function gG(t){return pt(t)?t():Ve(t)}const vG={get:(t,e,n)=>e==="__v_raw"?t:Ve(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return Kn(i)&&!Kn(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function jE(t){return Ao(t)?t:new Proxy(t,vG)}class bG{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new yy,{get:s,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function WE(t){return new bG(t)}function GE(t){const e=Ge(t)?new Array(t.length):{};for(const n in t)e[n]=fP(t,n);return e}class yG{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return XW(sn(this._object),this._key)}}class xG{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function _G(t,e,n){return Kn(t)?t:pt(t)?new xG(t):un(t)&&arguments.length>1?fP(t,e,n):H(t)}function fP(t,e,n){const s=t[e];return Kn(s)?s:new yG(t,e,n)}class SG{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new yy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fh-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&An!==this)return JN(this,!0),!0}get value(){const e=this.dep.track();return eP(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function EG(t,e,n=!1){let s,i;return pt(t)?s=t:(s=t.get,i=t.set),new SG(s,i,n)}const wG={GET:"get",HAS:"has",ITERATE:"iterate"},CG={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},zm={},wv=new WeakMap;let sl;function AG(){return sl}function hP(t,e=!1,n=sl){if(n){let s=wv.get(n);s||wv.set(n,s=[]),s.push(t)}}function kG(t,e,n=qt){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:c}=n,u=_=>i?_:dr(_)||i===!1||i===0?ca(_,1):ca(_);let d,f,h,m,g=!1,y=!1;if(Kn(t)?(f=()=>t.value,g=dr(t)):Ao(t)?(f=()=>u(t),g=!0):Ge(t)?(y=!0,g=t.some(_=>Ao(_)||dr(_)),f=()=>t.map(_=>{if(Kn(_))return _.value;if(Ao(_))return u(_);if(pt(_))return c?c(_,2):_()})):pt(t)?e?f=c?()=>c(t,2):t:f=()=>{if(h){Aa();try{h()}finally{ka()}}const _=sl;sl=d;try{return c?c(t,3,[m]):t(m)}finally{sl=_}}:f=Os,e&&i){const _=f,T=i===!0?1/0:i;f=()=>ca(_(),T)}const b=VE(),x=()=>{d.stop(),b&&b.active&&my(b.effects,d)};if(r&&e){const _=e;e=(...T)=>{_(...T),x()}}let E=y?new Array(t.length).fill(zm):zm;const C=_=>{if(!(!(d.flags&1)||!d.dirty&&!_))if(e){const T=d.run();if(i||g||(y?T.some((k,$)=>ii(k,E[$])):ii(T,E))){h&&h();const k=sl;sl=d;try{const $=[T,E===zm?void 0:y&&E[0]===zm?[]:E,m];E=T,c?c(e,3,$):e(...$)}finally{sl=k}}}else d.run()};return a&&a(C),d=new Lh(f),d.scheduler=o?()=>o(C,!1):C,m=_=>hP(_,!1,d),h=d.onStop=()=>{const _=wv.get(d);if(_){if(c)c(_,4);else for(const T of _)T();wv.delete(d)}},e?s?C(!0):E=d.run():o?o(C.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function ca(t,e=1/0,n){if(e<=0||!un(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,Kn(t))ca(t.value,e,n);else if(Ge(t))for(let s=0;s<t.length;s++)ca(t[s],e,n);else if(ql(t)||Lc(t))t.forEach(s=>{ca(s,e,n)});else if(Ep(t)){for(const s in t)ca(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ca(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const pP=[];function TG(t){pP.push(t)}function DG(){pP.pop()}function OG(t,e){}const RG={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},MG={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ef(t,e,n,s){try{return s?t(...s):t()}catch(i){_u(i,e,n)}}function Ur(t,e,n,s){if(pt(t)){const i=ef(t,e,n,s);return i&&gy(i)&&i.catch(r=>{_u(r,e,n)}),i}if(Ge(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Ur(t[r],e,n,s));return i}}function _u(t,e,n,s=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||qt;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const d=a.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,c,u)===!1)return}a=a.parent}if(r){Aa(),ef(r,null,10,[t,c,u]),ka();return}}IG(t,n,i,s,o)}function IG(t,e,n,s=!0,i=!1){if(i)throw t;console.error(t)}const Ci=[];let mo=-1;const pd=[];let il=null,td=0;const mP=Promise.resolve();let Cv=null;function Ma(t){const e=Cv||mP;return t?e.then(this?t.bind(this):t):e}function NG(t){let e=mo+1,n=Ci.length;for(;e<n;){const s=e+n>>>1,i=Ci[s],r=Uh(i);r<t||r===t&&i.flags&2?e=s+1:n=s}return e}function qE(t){if(!(t.flags&1)){const e=Uh(t),n=Ci[Ci.length-1];!n||!(t.flags&2)&&e>=Uh(n)?Ci.push(t):Ci.splice(NG(e),0,t),t.flags|=1,gP()}}function gP(){Cv||(Cv=mP.then(vP))}function Bh(t){Ge(t)?pd.push(...t):il&&t.id===-1?il.splice(td+1,0,t):t.flags&1||(pd.push(t),t.flags|=1),gP()}function f2(t,e,n=mo+1){for(;n<Ci.length;n++){const s=Ci[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ci.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Av(t){if(pd.length){const e=[...new Set(pd)].sort((n,s)=>Uh(n)-Uh(s));if(pd.length=0,il){il.push(...e);return}for(il=e,td=0;td<il.length;td++){const n=il[td];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}il=null,td=0}}const Uh=t=>t.id==null?t.flags&2?-1:1/0:t.id;function vP(t){try{for(mo=0;mo<Ci.length;mo++){const e=Ci[mo];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ef(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;mo<Ci.length;mo++){const e=Ci[mo];e&&(e.flags&=-2)}mo=-1,Ci.length=0,Av(),Cv=null,(Ci.length||pd.length)&&vP()}}let nd,jm=[];function bP(t,e){var n,s;nd=t,nd?(nd.enabled=!0,jm.forEach(({event:i,args:r})=>nd.emit(i,...r)),jm=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{bP(r,e)}),setTimeout(()=>{nd||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,jm=[])},3e3)):jm=[]}let qs=null,Cy=null;function Hh(t){const e=qs;return qs=t,Cy=t&&t.type.__scopeId||null,e}function PG(t){Cy=t}function $G(){Cy=null}const LG=t=>Pe;function Pe(t,e=qs,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&Wh(-1);const r=Hh(e);let o;try{o=t(...i)}finally{Hh(r),s._d&&Wh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Y(t,e){if(qs===null)return t;const n=Dp(qs),s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,c=qt]=e[i];r&&(pt(r)&&(r={mounted:r,updated:r}),r.deep&&ca(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function xo(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let c=a.dir[s];c&&(Aa(),Ur(c,n,8,[t.el,a,t,e]),ka())}}const yP=Symbol("_vte"),xP=t=>t.__isTeleport,oh=t=>t&&(t.disabled||t.disabled===""),h2=t=>t&&(t.defer||t.defer===""),p2=t=>typeof SVGElement<"u"&&t instanceof SVGElement,m2=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,H_=(t,e)=>{const n=t&&t.to;return St(n)?e?e(n):null:n},_P={name:"Teleport",__isTeleport:!0,process(t,e,n,s,i,r,o,a,c,u){const{mc:d,pc:f,pbc:h,o:{insert:m,querySelector:g,createText:y,createComment:b}}=u,x=oh(e.props);let{shapeFlag:E,children:C,dynamicChildren:_}=e;if(t==null){const T=e.el=y(""),k=e.anchor=y("");m(T,n,s),m(k,n,s);const $=(P,V)=>{E&16&&d(C,P,V,i,r,o,a,c)},M=()=>{const P=e.target=H_(e.props,g),V=EP(P,e,y,m);P&&(o!=="svg"&&p2(P)?o="svg":o!=="mathml"&&m2(P)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(P),x||($(P,V),Ug(e,!1)))};x&&($(n,k),Ug(e,!0)),h2(e.props)?(e.el.__isMounted=!1,ws(()=>{M(),delete e.el.__isMounted},r)):M()}else{if(h2(e.props)&&t.el.__isMounted===!1){ws(()=>{_P.process(t,e,n,s,i,r,o,a,c,u)},r);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,k=e.target=t.target,$=e.targetAnchor=t.targetAnchor,M=oh(t.props),P=M?n:k,V=M?T:$;if(o==="svg"||p2(k)?o="svg":(o==="mathml"||m2(k))&&(o="mathml"),_?(h(t.dynamicChildren,_,P,i,r,o,a),iw(t,e,!0)):c||f(t,e,P,V,i,r,o,a,!1),x)M?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Wm(e,n,T,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const I=e.target=H_(e.props,g);I&&Wm(e,I,null,u,0)}else M&&Wm(e,k,$,u,1);Ug(e,x)}},remove(t,e,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:c,targetStart:u,targetAnchor:d,target:f,props:h}=t;if(f&&(i(u),i(d)),r&&i(c),o&16){const m=r||!oh(h);for(let g=0;g<a.length;g++){const y=a[g];s(y,e,n,m,!!y.dynamicChildren)}}},move:Wm,hydrate:FG};function Wm(t,e,n,{o:{insert:s},m:i},r=2){r===0&&s(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:u,props:d}=t,f=r===2;if(f&&s(o,e,n),(!f||oh(d))&&c&16)for(let h=0;h<u.length;h++)i(u[h],e,n,2);f&&s(a,e,n)}function FG(t,e,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:u,createText:d}},f){function h(y,b,x,E){b.anchor=f(o(y),b,a(y),n,s,i,r),b.targetStart=x,b.targetAnchor=E}const m=e.target=H_(e.props,c),g=oh(e.props);if(m){const y=m._lpa||m.firstChild;if(e.shapeFlag&16)if(g)h(t,e,y,y&&o(y));else{e.anchor=o(t);let b=y;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,m._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||EP(m,e,d,u),f(y&&o(y),e,m,n,s,i,r)}Ug(e,g)}else g&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const SP=_P;function Ug(t,e){const n=t.ctx;if(n&&n.ut){let s,i;for(e?(s=t.el,i=t.anchor):(s=t.targetStart,i=t.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function EP(t,e,n,s){const i=e.targetStart=n(""),r=e.targetAnchor=n("");return i[yP]=r,t&&(s(i,t),s(r,t)),r}const oa=Symbol("_leaveCb"),Gm=Symbol("_enterCb");function KE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return it(()=>{t.isMounted=!0}),Po(()=>{t.isUnmounting=!0}),t}const kr=[Function,Array],YE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kr,onEnter:kr,onAfterEnter:kr,onEnterCancelled:kr,onBeforeLeave:kr,onLeave:kr,onAfterLeave:kr,onLeaveCancelled:kr,onBeforeAppear:kr,onAppear:kr,onAfterAppear:kr,onAppearCancelled:kr},wP=t=>{const e=t.subTree;return e.component?wP(e.component):e},VG={name:"BaseTransition",props:YE,setup(t,{slots:e}){const n=gi(),s=KE();return()=>{const i=e.default&&Ay(e.default(),!0);if(!i||!i.length)return;const r=CP(i),o=sn(t),{mode:a}=o;if(s.isLeaving)return sx(r);const c=g2(r);if(!c)return sx(r);let u=Td(c,o,s,n,f=>u=f);c.type!==fs&&Da(c,u);let d=n.subTree&&g2(n.subTree);if(d&&d.type!==fs&&!Jr(d,c)&&wP(n).type!==fs){let f=Td(d,o,s,n);if(Da(d,f),a==="out-in"&&c.type!==fs)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,d=void 0},sx(r);a==="in-out"&&c.type!==fs?f.delayLeave=(h,m,g)=>{const y=kP(s,d);y[String(d.key)]=d,h[oa]=()=>{m(),h[oa]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{g(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function CP(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==fs){e=n;break}}return e}const AP=VG;function kP(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Td(t,e,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:h,onLeave:m,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:b,onAppear:x,onAfterAppear:E,onAppearCancelled:C}=e,_=String(t.key),T=kP(n,t),k=(P,V)=>{P&&Ur(P,s,9,V)},$=(P,V)=>{const I=V[1];k(P,V),Ge(P)?P.every(w=>w.length<=1)&&I():P.length<=1&&I()},M={mode:o,persisted:a,beforeEnter(P){let V=c;if(!n.isMounted)if(r)V=b||c;else return;P[oa]&&P[oa](!0);const I=T[_];I&&Jr(t,I)&&I.el[oa]&&I.el[oa](),k(V,[P])},enter(P){let V=u,I=d,w=f;if(!n.isMounted)if(r)V=x||u,I=E||d,w=C||f;else return;let D=!1;const A=P[Gm]=B=>{D||(D=!0,B?k(w,[P]):k(I,[P]),M.delayedLeave&&M.delayedLeave(),P[Gm]=void 0)};V?$(V,[P,A]):A()},leave(P,V){const I=String(t.key);if(P[Gm]&&P[Gm](!0),n.isUnmounting)return V();k(h,[P]);let w=!1;const D=P[oa]=A=>{w||(w=!0,V(),A?k(y,[P]):k(g,[P]),P[oa]=void 0,T[I]===t&&delete T[I])};T[I]=t,m?$(m,[P,D]):D()},clone(P){const V=Td(P,e,n,s,i);return i&&i(V),V}};return M}function sx(t){if(kp(t))return t=Do(t),t.children=null,t}function g2(t){if(!kp(t))return xP(t.type)&&t.children?CP(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&pt(n.default))return n.default()}}function Da(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Da(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ay(t,e=!1,n){let s=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===Me?(o.patchFlag&128&&i++,s=s.concat(Ay(o.children,e,a))):(e||o.type!==fs)&&s.push(a!=null?Do(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}function We(t,e){return pt(t)?Wt({name:t.name},e,{setup:t}):t}function BG(){const t=gi();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function XE(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function UG(t){const e=gi(),n=wy(null);if(e){const i=e.refs===qt?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}const kv=new WeakMap;function md(t,e,n,s,i=!1){if(Ge(t)){t.forEach((g,y)=>md(g,e&&(Ge(e)?e[y]:e),n,s,i));return}if(kl(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&md(t,e,n,s.component.subTree);return}const r=s.shapeFlag&4?Dp(s.component):s.el,o=i?null:r,{i:a,r:c}=t,u=e&&e.r,d=a.refs===qt?a.refs={}:a.refs,f=a.setupState,h=sn(f),m=f===qt?Tc:g=>ln(h,g);if(u!=null&&u!==c){if(v2(e),St(u))d[u]=null,m(u)&&(f[u]=null);else if(Kn(u)){u.value=null;const g=e;g.k&&(d[g.k]=null)}}if(pt(c))ef(c,a,12,[o,d]);else{const g=St(c),y=Kn(c);if(g||y){const b=()=>{if(t.f){const x=g?m(c)?f[c]:d[c]:c.value;if(i)Ge(x)&&my(x,r);else if(Ge(x))x.includes(r)||x.push(r);else if(g)d[c]=[r],m(c)&&(f[c]=d[c]);else{const E=[r];c.value=E,t.k&&(d[t.k]=E)}}else g?(d[c]=o,m(c)&&(f[c]=o)):y&&(c.value=o,t.k&&(d[t.k]=o))};if(o){const x=()=>{b(),kv.delete(t)};x.id=-1,kv.set(t,x),ws(x,n)}else v2(t),b()}}}function v2(t){const e=kv.get(t);e&&(e.flags|=8,kv.delete(t))}let b2=!1;const zu=()=>{b2||(console.error("Hydration completed but contains mismatches."),b2=!0)},HG=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",zG=t=>t.namespaceURI.includes("MathML"),qm=t=>{if(t.nodeType===1){if(HG(t))return"svg";if(zG(t))return"mathml"}},ud=t=>t.nodeType===8;function jG(t){const{mt:e,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:c,createComment:u}}=t,d=(C,_)=>{if(!_.hasChildNodes()){n(null,C,_),Av(),_._vnode=C;return}f(_.firstChild,C,null,null,null),Av(),_._vnode=C},f=(C,_,T,k,$,M=!1)=>{M=M||!!_.dynamicChildren;const P=ud(C)&&C.data==="[",V=()=>y(C,_,T,k,$,P),{type:I,ref:w,shapeFlag:D,patchFlag:A}=_;let B=C.nodeType;_.el=C,A===-2&&(M=!1,_.dynamicChildren=null);let N=null;switch(I){case Tl:B!==3?_.children===""?(c(_.el=i(""),o(C),C),N=C):N=V():(C.data!==_.children&&(zu(),C.data=_.children),N=r(C));break;case fs:E(C)?(N=r(C),x(_.el=C.content.firstChild,C,T)):B!==8||P?N=V():N=r(C);break;case Hc:if(P&&(C=r(C),B=C.nodeType),B===1||B===3){N=C;const q=!_.children.length;for(let W=0;W<_.staticCount;W++)q&&(_.children+=N.nodeType===1?N.outerHTML:N.data),W===_.staticCount-1&&(_.anchor=N),N=r(N);return P?r(N):N}else V();break;case Me:P?N=g(C,_,T,k,$,M):N=V();break;default:if(D&1)(B!==1||_.type.toLowerCase()!==C.tagName.toLowerCase())&&!E(C)?N=V():N=h(C,_,T,k,$,M);else if(D&6){_.slotScopeIds=$;const q=o(C);if(P?N=b(C):ud(C)&&C.data==="teleport start"?N=b(C,C.data,"teleport end"):N=r(C),e(_,q,null,T,k,qm(q),M),kl(_)&&!_.type.__asyncResolved){let W;P?(W=be(Me),W.anchor=N?N.previousSibling:q.lastChild):W=C.nodeType===3?z(""):be("div"),W.el=C,_.component.subTree=W}}else D&64?B!==8?N=V():N=_.type.hydrate(C,_,T,k,$,M,t,m):D&128&&(N=_.type.hydrate(C,_,T,k,qm(o(C)),$,M,t,f))}return w!=null&&md(w,null,k,_),N},h=(C,_,T,k,$,M)=>{M=M||!!_.dynamicChildren;const{type:P,props:V,patchFlag:I,shapeFlag:w,dirs:D,transition:A}=_,B=P==="input"||P==="option";if(B||I!==-1){D&&xo(_,null,T,"created");let N=!1;if(E(C)){N=e$(null,A)&&T&&T.vnode.props&&T.vnode.props.appear;const W=C.content.firstChild;if(N){const Z=W.getAttribute("class");Z&&(W.$cls=Z),A.beforeEnter(W)}x(W,C,T),_.el=C=W}if(w&16&&!(V&&(V.innerHTML||V.textContent))){let W=m(C.firstChild,_,C,T,k,$,M);for(;W;){Km(C,1)||zu();const Z=W;W=W.nextSibling,a(Z)}}else if(w&8){let W=_.children;W[0]===`
`&&(C.tagName==="PRE"||C.tagName==="TEXTAREA")&&(W=W.slice(1)),C.textContent!==W&&(Km(C,0)||zu(),C.textContent=_.children)}if(V){if(B||!M||I&48){const W=C.tagName.includes("-");for(const Z in V)(B&&(Z.endsWith("value")||Z==="indeterminate")||Gl(Z)&&!ba(Z)||Z[0]==="."||W)&&s(C,Z,null,V[Z],void 0,T)}else if(V.onClick)s(C,"onClick",null,V.onClick,void 0,T);else if(I&4&&Ao(V.style))for(const W in V.style)V.style[W]}let q;(q=V&&V.onVnodeBeforeMount)&&Hi(q,T,_),D&&xo(_,null,T,"beforeMount"),((q=V&&V.onVnodeMounted)||D||N)&&u$(()=>{q&&Hi(q,T,_),N&&A.enter(C),D&&xo(_,null,T,"mounted")},k)}return C.nextSibling},m=(C,_,T,k,$,M,P)=>{P=P||!!_.dynamicChildren;const V=_.children,I=V.length;for(let w=0;w<I;w++){const D=P?V[w]:V[w]=zi(V[w]),A=D.type===Tl;C?(A&&!P&&w+1<I&&zi(V[w+1]).type===Tl&&(c(i(C.data.slice(D.children.length)),T,r(C)),C.data=D.children),C=f(C,D,k,$,M,P)):A&&!D.children?c(D.el=i(""),T):(Km(T,1)||zu(),n(null,D,T,null,k,$,qm(T),M))}return C},g=(C,_,T,k,$,M)=>{const{slotScopeIds:P}=_;P&&($=$?$.concat(P):P);const V=o(C),I=m(r(C),_,V,T,k,$,M);return I&&ud(I)&&I.data==="]"?r(_.anchor=I):(zu(),c(_.anchor=u("]"),V,I),I)},y=(C,_,T,k,$,M)=>{if(Km(C.parentElement,1)||zu(),_.el=null,M){const I=b(C);for(;;){const w=r(C);if(w&&w!==I)a(w);else break}}const P=r(C),V=o(C);return a(C),n(null,_,V,P,T,k,qm(V),$),T&&(T.vnode.el=_.el,Ry(T,_.el)),P},b=(C,_="[",T="]")=>{let k=0;for(;C;)if(C=r(C),C&&ud(C)&&(C.data===_&&k++,C.data===T)){if(k===0)return r(C);k--}return C},x=(C,_,T)=>{const k=_.parentNode;k&&k.replaceChild(C,_);let $=T;for(;$;)$.vnode.el===_&&($.vnode.el=$.subTree.el=C),$=$.parent},E=C=>C.nodeType===1&&C.tagName==="TEMPLATE";return[d,f]}const y2="data-allow-mismatch",WG={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Km(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(y2);)t=t.parentElement;const n=t&&t.getAttribute(y2);if(n==null)return!1;if(n==="")return!0;{const s=n.split(",");return e===0&&s.includes("children")?!0:s.includes(WG[e])}}const GG=wp().requestIdleCallback||(t=>setTimeout(t,1)),qG=wp().cancelIdleCallback||(t=>clearTimeout(t)),KG=(t=1e4)=>e=>{const n=GG(e,{timeout:t});return()=>qG(n)};function YG(t){const{top:e,left:n,bottom:s,right:i}=t.getBoundingClientRect(),{innerHeight:r,innerWidth:o}=window;return(e>0&&e<r||s>0&&s<r)&&(n>0&&n<o||i>0&&i<o)}const XG=t=>(e,n)=>{const s=new IntersectionObserver(i=>{for(const r of i)if(r.isIntersecting){s.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(YG(i))return e(),s.disconnect(),!1;s.observe(i)}}),()=>s.disconnect()},JG=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},QG=(t=[])=>(e,n)=>{St(t)&&(t=[t]);let s=!1;const i=o=>{s||(s=!0,r(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},r=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),r};function ZG(t,e){if(ud(t)&&t.data==="["){let n=1,s=t.nextSibling;for(;s;){if(s.nodeType===1){if(e(s)===!1)break}else if(ud(s))if(s.data==="]"){if(--n===0)break}else s.data==="["&&n++;s=s.nextSibling}}else e(t)}const kl=t=>!!t.type.__asyncLoader;function eq(t){pt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:i=200,hydrate:r,timeout:o,suspensible:a=!0,onError:c}=t;let u=null,d,f=0;const h=()=>(f++,u=null,m()),m=()=>{let g;return u||(g=u=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),c)return new Promise((b,x)=>{c(y,()=>b(h()),()=>x(y),f+1)});throw y}).then(y=>g!==u&&u?u:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),d=y,y)))};return We({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(g,y,b){let x=!1;(y.bu||(y.bu=[])).push(()=>x=!0);const E=()=>{x||b()},C=r?()=>{const _=r(E,T=>ZG(g,T));_&&(y.bum||(y.bum=[])).push(_)}:E;d?C():m().then(()=>!y.isUnmounted&&C())},get __asyncResolved(){return d},setup(){const g=Gs;if(XE(g),d)return()=>ix(d,g);const y=C=>{u=null,_u(C,g,13,!s)};if(a&&g.suspense||Dd)return m().then(C=>()=>ix(C,g)).catch(C=>(y(C),()=>s?be(s,{error:C}):null));const b=H(!1),x=H(),E=H(!!i);return i&&setTimeout(()=>{E.value=!1},i),o!=null&&setTimeout(()=>{if(!b.value&&!x.value){const C=new Error(`Async component timed out after ${o}ms.`);y(C),x.value=C}},o),m().then(()=>{b.value=!0,g.parent&&kp(g.parent.vnode)&&g.parent.update()}).catch(C=>{y(C),x.value=C}),()=>{if(b.value&&d)return ix(d,g);if(x.value&&s)return be(s,{error:x.value});if(n&&!E.value)return be(n)}}})}function ix(t,e){const{ref:n,props:s,children:i,ce:r}=e.vnode,o=be(t,s,i);return o.ref=n,o.ce=r,delete e.vnode.ce,o}const kp=t=>t.type.__isKeepAlive,tq={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=gi(),s=n.ctx;if(!s.renderer)return()=>{const E=e.default&&e.default();return E&&E.length===1?E[0]:E};const i=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:u,um:d,o:{createElement:f}}}=s,h=f("div");s.activate=(E,C,_,T,k)=>{const $=E.component;u(E,C,_,0,a),c($.vnode,E,C,_,$,a,T,E.slotScopeIds,k),ws(()=>{$.isDeactivated=!1,$.a&&Vc($.a);const M=E.props&&E.props.onVnodeMounted;M&&Hi(M,$.parent,E)},a)},s.deactivate=E=>{const C=E.component;Dv(C.m),Dv(C.a),u(E,h,null,1,a),ws(()=>{C.da&&Vc(C.da);const _=E.props&&E.props.onVnodeUnmounted;_&&Hi(_,C.parent,E),C.isDeactivated=!0},a)};function m(E){rx(E),d(E,n,a,!0)}function g(E){i.forEach((C,_)=>{const T=Z_(C.type);T&&!E(T)&&y(_)})}function y(E){const C=i.get(E);C&&(!o||!Jr(C,o))?m(C):o&&rx(o),i.delete(E),r.delete(E)}Rn(()=>[t.include,t.exclude],([E,C])=>{E&&g(_=>Hf(E,_)),C&&g(_=>!Hf(C,_))},{flush:"post",deep:!0});let b=null;const x=()=>{b!=null&&(Ov(n.subTree.type)?ws(()=>{i.set(b,Ym(n.subTree))},n.subTree.suspense):i.set(b,Ym(n.subTree)))};return it(x),Ty(x),Po(()=>{i.forEach(E=>{const{subTree:C,suspense:_}=n,T=Ym(C);if(E.type===T.type&&E.key===T.key){rx(T);const k=T.component.da;k&&ws(k,_);return}m(E)})}),()=>{if(b=null,!e.default)return o=null;const E=e.default(),C=E[0];if(E.length>1)return o=null,E;if(!Oa(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return o=null,C;let _=Ym(C);if(_.type===fs)return o=null,_;const T=_.type,k=Z_(kl(_)?_.type.__asyncResolved||{}:T),{include:$,exclude:M,max:P}=t;if($&&(!k||!Hf($,k))||M&&k&&Hf(M,k))return _.shapeFlag&=-257,o=_,C;const V=_.key==null?T:_.key,I=i.get(V);return _.el&&(_=Do(_),C.shapeFlag&128&&(C.ssContent=_)),b=V,I?(_.el=I.el,_.component=I.component,_.transition&&Da(_,_.transition),_.shapeFlag|=512,r.delete(V),r.add(V)):(r.add(V),P&&r.size>parseInt(P,10)&&y(r.values().next().value)),_.shapeFlag|=256,o=_,Ov(C.type)?C:_}}},nq=tq;function Hf(t,e){return Ge(t)?t.some(n=>Hf(n,e)):St(t)?t.split(",").includes(e):PN(t)?(t.lastIndex=0,t.test(e)):!1}function TP(t,e){OP(t,"a",e)}function DP(t,e){OP(t,"da",e)}function OP(t,e,n=Gs){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ky(e,s,n),n){let i=n.parent;for(;i&&i.parent;)kp(i.parent.vnode)&&sq(s,e,n,i),i=i.parent}}function sq(t,e,n,s){const i=ky(e,t,s,!0);Yl(()=>{my(s[e],i)},n)}function rx(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ym(t){return t.shapeFlag&128?t.ssContent:t}function ky(t,e,n=Gs,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Aa();const a=iu(n),c=Ur(e,n,t,o);return a(),ka(),c});return s?i.unshift(r):i.push(r),r}}const Ia=t=>(e,n=Gs)=>{(!Dd||t==="sp")&&ky(t,(...s)=>e(...s),n)},RP=Ia("bm"),it=Ia("m"),JE=Ia("bu"),Ty=Ia("u"),Po=Ia("bum"),Yl=Ia("um"),MP=Ia("sp"),IP=Ia("rtg"),NP=Ia("rtc");function PP(t,e=Gs){ky("ec",t,e)}const QE="components",iq="directives";function on(t,e){return ZE(QE,t,!0,e)||t}const $P=Symbol.for("v-ndc");function gd(t){return St(t)?ZE(QE,t,!1)||t:t||$P}function Dy(t){return ZE(iq,t)}function ZE(t,e,n=!0,s=!1){const i=qs||Gs;if(i){const r=i.type;if(t===QE){const a=Z_(r,!1);if(a&&(a===e||a===On(e)||a===Kl(On(e))))return r}const o=x2(i[t]||r[t],e)||x2(i.appContext[t],e);return!o&&s?r:o}}function x2(t,e){return t&&(t[e]||t[On(e)]||t[Kl(On(e))])}function je(t,e,n,s){let i;const r=n&&n[s],o=Ge(t);if(o||St(t)){const a=o&&Ao(t);let c=!1,u=!1;a&&(c=!dr(t),u=Ta(t),t=xy(t)),i=new Array(t.length);for(let d=0,f=t.length;d<f;d++)i[d]=e(c?u?Ev(Us(t[d])):Us(t[d]):t[d],d,void 0,r&&r[d])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r&&r[a])}else if(un(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,r&&r[c]));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const d=a[c];i[c]=e(t[d],d,c,r&&r[c])}}else i=[];return n&&(n[s]=i),i}function rq(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(Ge(s))for(let i=0;i<s.length;i++)t[s[i].name]=s[i].fn;else s&&(t[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return t}function Rr(t,e,n={},s,i){if(qs.ce||qs.parent&&kl(qs.parent)&&qs.parent.ce){const u=Object.keys(n).length>0;return e!=="default"&&(n.name=e),O(),is(Me,null,[be("slot",n,s&&s())],u?-2:64)}let r=t[e];r&&r._c&&(r._d=!1),O();const o=r&&ew(r(n)),a=n.key||o&&o.key,c=is(Me,{key:(a&&!Oi(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),r&&r._c&&(r._d=!0),c}function ew(t){return t.some(e=>Oa(e)?!(e.type===fs||e.type===Me&&!ew(e.children)):!0)?t:null}function LP(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:Fc(s)]=t[s];return n}const z_=t=>t?m$(t)?Dp(t):z_(t.parent):null,ah=Wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>z_(t.parent),$root:t=>z_(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>tw(t),$forceUpdate:t=>t.f||(t.f=()=>{qE(t.update)}),$nextTick:t=>t.n||(t.n=Ma.bind(t.proxy)),$watch:t=>Nq.bind(t)}),ox=(t,e)=>t!==qt&&!t.__isScriptSetup&&ln(t,e),j_={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(ox(s,e))return o[e]=1,s[e];if(i!==qt&&ln(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&ln(u,e))return o[e]=3,r[e];if(n!==qt&&ln(n,e))return o[e]=4,n[e];W_&&(o[e]=0)}}const d=ah[e];let f,h;if(d)return e==="$attrs"&&ri(t.attrs,"get",""),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==qt&&ln(n,e))return o[e]=4,n[e];if(h=c.config.globalProperties,ln(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return ox(i,e)?(i[e]=n,!0):s!==qt&&ln(s,e)?(s[e]=n,!0):ln(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r,type:o}},a){let c,u;return!!(n[a]||t!==qt&&a[0]!=="$"&&ln(t,a)||ox(e,a)||(c=r[0])&&ln(c,a)||ln(s,a)||ln(ah,a)||ln(i.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ln(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},oq=Wt({},j_,{get(t,e){if(e!==Symbol.unscopables)return j_.get(t,e,t)},has(t,e){return e[0]!=="_"&&!NE(e)}});function aq(){return null}function lq(){return null}function cq(t){}function uq(t){}function dq(){return null}function fq(){}function hq(t,e){return null}function pq(){return VP().slots}function FP(){return VP().attrs}function VP(t){const e=gi();return e.setupContext||(e.setupContext=b$(e))}function zh(t){return Ge(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function mq(t,e){const n=zh(t);for(const s in e){if(s.startsWith("__skip"))continue;let i=n[s];i?Ge(i)||pt(i)?i=n[s]={type:i,default:e[s]}:i.default=e[s]:i===null&&(i=n[s]={default:e[s]}),i&&e[`__skip_${s}`]&&(i.skipFactory=!0)}return n}function gq(t,e){return!t||!e?t||e:Ge(t)&&Ge(e)?t.concat(e):Wt({},zh(t),zh(e))}function vq(t,e){const n={};for(const s in t)e.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>t[s]});return n}function bq(t){const e=gi();let n=t();return X_(),gy(n)&&(n=n.catch(s=>{throw iu(e),s})),[n,()=>iu(e)]}let W_=!0;function yq(t){const e=tw(t),n=t.proxy,s=t.ctx;W_=!1,e.beforeCreate&&_2(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:c,inject:u,created:d,beforeMount:f,mounted:h,beforeUpdate:m,updated:g,activated:y,deactivated:b,beforeDestroy:x,beforeUnmount:E,destroyed:C,unmounted:_,render:T,renderTracked:k,renderTriggered:$,errorCaptured:M,serverPrefetch:P,expose:V,inheritAttrs:I,components:w,directives:D,filters:A}=e;if(u&&xq(u,s,null),o)for(const q in o){const W=o[q];pt(W)&&(s[q]=W.bind(n))}if(i){const q=i.call(n,n);un(q)&&(t.data=No(q))}if(W_=!0,r)for(const q in r){const W=r[q],Z=pt(W)?W.bind(n,n):pt(W.get)?W.get.bind(n,n):Os,Le=!pt(W)&&pt(W.set)?W.set.bind(n):Os,ge=we({get:Z,set:Le});Object.defineProperty(s,q,{enumerable:!0,configurable:!0,get:()=>ge.value,set:qe=>ge.value=qe})}if(a)for(const q in a)BP(a[q],s,n,q);if(c){const q=pt(c)?c.call(n):c;Reflect.ownKeys(q).forEach(W=>{lh(W,q[W])})}d&&_2(d,t,"c");function N(q,W){Ge(W)?W.forEach(Z=>q(Z.bind(n))):W&&q(W.bind(n))}if(N(RP,f),N(it,h),N(JE,m),N(Ty,g),N(TP,y),N(DP,b),N(PP,M),N(NP,k),N(IP,$),N(Po,E),N(Yl,_),N(MP,P),Ge(V))if(V.length){const q=t.exposed||(t.exposed={});V.forEach(W=>{Object.defineProperty(q,W,{get:()=>n[W],set:Z=>n[W]=Z,enumerable:!0})})}else t.exposed||(t.exposed={});T&&t.render===Os&&(t.render=T),I!=null&&(t.inheritAttrs=I),w&&(t.components=w),D&&(t.directives=D),P&&XE(t)}function xq(t,e,n=Os){Ge(t)&&(t=G_(t));for(const s in t){const i=t[s];let r;un(i)?"default"in i?r=fr(i.from||s,i.default,!0):r=fr(i.from||s):r=fr(i),Kn(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function _2(t,e,n){Ur(Ge(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function BP(t,e,n,s){let i=s.includes(".")?o$(n,s):()=>n[s];if(St(t)){const r=e[t];pt(r)&&Rn(i,r)}else if(pt(t))Rn(i,t.bind(n));else if(un(t))if(Ge(t))t.forEach(r=>BP(r,e,n,s));else{const r=pt(t.handler)?t.handler.bind(n):e[t.handler];pt(r)&&Rn(i,r,t)}}function tw(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let c;return a?c=a:!i.length&&!n&&!s?c=e:(c={},i.length&&i.forEach(u=>Tv(c,u,o,!0)),Tv(c,e,o)),un(e)&&r.set(e,c),c}function Tv(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Tv(t,r,n,!0),i&&i.forEach(o=>Tv(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=_q[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const _q={data:S2,props:E2,emits:E2,methods:zf,computed:zf,beforeCreate:_i,created:_i,beforeMount:_i,mounted:_i,beforeUpdate:_i,updated:_i,beforeDestroy:_i,beforeUnmount:_i,destroyed:_i,unmounted:_i,activated:_i,deactivated:_i,errorCaptured:_i,serverPrefetch:_i,components:zf,directives:zf,watch:Eq,provide:S2,inject:Sq};function S2(t,e){return e?t?function(){return Wt(pt(t)?t.call(this,this):t,pt(e)?e.call(this,this):e)}:e:t}function Sq(t,e){return zf(G_(t),G_(e))}function G_(t){if(Ge(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function _i(t,e){return t?[...new Set([].concat(t,e))]:e}function zf(t,e){return t?Wt(Object.create(null),t,e):e}function E2(t,e){return t?Ge(t)&&Ge(e)?[...new Set([...t,...e])]:Wt(Object.create(null),zh(t),zh(e??{})):e}function Eq(t,e){if(!t)return e;if(!e)return t;const n=Wt(Object.create(null),t);for(const s in e)n[s]=_i(t[s],e[s]);return n}function UP(){return{app:null,config:{isNativeTag:Tc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wq=0;function Cq(t,e){return function(s,i=null){pt(s)||(s=Wt({},s)),i!=null&&!un(i)&&(i=null);const r=UP(),o=new WeakSet,a=[];let c=!1;const u=r.app={_uid:wq++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:x$,get config(){return r.config},set config(d){},use(d,...f){return o.has(d)||(d&&pt(d.install)?(o.add(d),d.install(u,...f)):pt(d)&&(o.add(d),d(u,...f))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,f){return f?(r.components[d]=f,u):r.components[d]},directive(d,f){return f?(r.directives[d]=f,u):r.directives[d]},mount(d,f,h){if(!c){const m=u._ceVNode||be(s,i);return m.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),f&&e?e(m,d):t(m,d,h),c=!0,u._container=d,d.__vue_app__=u,Dp(m.component)}},onUnmount(d){a.push(d)},unmount(){c&&(Ur(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,f){return r.provides[d]=f,u},runWithContext(d){const f=Uc;Uc=u;try{return d()}finally{Uc=f}}};return u}}let Uc=null;function lh(t,e){if(Gs){let n=Gs.provides;const s=Gs.parent&&Gs.parent.provides;s===n&&(n=Gs.provides=Object.create(s)),n[t]=e}}function fr(t,e,n=!1){const s=gi();if(s||Uc){let i=Uc?Uc._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&pt(e)?e.call(s&&s.proxy):e}}function HP(){return!!(gi()||Uc)}const zP={},jP=()=>Object.create(zP),WP=t=>Object.getPrototypeOf(t)===zP;function Aq(t,e,n,s=!1){const i={},r=jP();t.propsDefaults=Object.create(null),GP(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:zE(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function kq(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=sn(i),[c]=t.propsOptions;let u=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Oy(t.emitsOptions,h))continue;const m=e[h];if(c)if(ln(r,h))m!==r[h]&&(r[h]=m,u=!0);else{const g=On(h);i[g]=q_(c,a,g,m,t,!1)}else m!==r[h]&&(r[h]=m,u=!0)}}}else{GP(t,e,i,r)&&(u=!0);let d;for(const f in a)(!e||!ln(e,f)&&((d=oi(f))===f||!ln(e,d)))&&(c?n&&(n[f]!==void 0||n[d]!==void 0)&&(i[f]=q_(c,a,f,void 0,t,!0)):delete i[f]);if(r!==a)for(const f in r)(!e||!ln(e,f))&&(delete r[f],u=!0)}u&&la(t.attrs,"set","")}function GP(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(ba(c))continue;const u=e[c];let d;i&&ln(i,d=On(c))?!r||!r.includes(d)?n[d]=u:(a||(a={}))[d]=u:Oy(t.emitsOptions,c)||(!(c in s)||u!==s[c])&&(s[c]=u,o=!0)}if(r){const c=sn(n),u=a||qt;for(let d=0;d<r.length;d++){const f=r[d];n[f]=q_(i,c,f,u[f],t,!ln(u,f))}}return o}function q_(t,e,n,s,i,r){const o=t[n];if(o!=null){const a=ln(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&pt(c)){const{propsDefaults:u}=i;if(n in u)s=u[n];else{const d=iu(i);s=u[n]=c.call(null,e),d()}}else s=c;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===oi(n))&&(s=!0))}return s}const Tq=new WeakMap;function qP(t,e,n=!1){const s=n?Tq:e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},a=[];let c=!1;if(!pt(t)){const d=f=>{c=!0;const[h,m]=qP(f,e,!0);Wt(o,h),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!c)return un(t)&&s.set(t,$c),$c;if(Ge(r))for(let d=0;d<r.length;d++){const f=On(r[d]);w2(f)&&(o[f]=qt)}else if(r)for(const d in r){const f=On(d);if(w2(f)){const h=r[d],m=o[f]=Ge(h)||pt(h)?{type:h}:Wt({},h),g=m.type;let y=!1,b=!0;if(Ge(g))for(let x=0;x<g.length;++x){const E=g[x],C=pt(E)&&E.name;if(C==="Boolean"){y=!0;break}else C==="String"&&(b=!1)}else y=pt(g)&&g.name==="Boolean";m[0]=y,m[1]=b,(y||ln(m,"default"))&&a.push(f)}}const u=[o,a];return un(t)&&s.set(t,u),u}function w2(t){return t[0]!=="$"&&!ba(t)}const nw=t=>t==="_"||t==="_ctx"||t==="$stable",sw=t=>Ge(t)?t.map(zi):[zi(t)],Dq=(t,e,n)=>{if(e._n)return e;const s=Pe((...i)=>sw(e(...i)),n);return s._c=!1,s},KP=(t,e,n)=>{const s=t._ctx;for(const i in t){if(nw(i))continue;const r=t[i];if(pt(r))e[i]=Dq(i,r,s);else if(r!=null){const o=sw(r);e[i]=()=>o}}},YP=(t,e)=>{const n=sw(e);t.slots.default=()=>n},XP=(t,e,n)=>{for(const s in e)(n||!nw(s))&&(t[s]=e[s])},Oq=(t,e,n)=>{const s=t.slots=jP();if(t.vnode.shapeFlag&32){const i=e._;i?(XP(s,e,n),n&&IE(s,"_",i,!0)):KP(e,s)}else e&&YP(t,e)},Rq=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=qt;if(s.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:XP(i,e,n):(r=!e.$stable,KP(e,i)),o=e}else e&&(YP(t,e),o={default:1});if(r)for(const a in i)!nw(a)&&o[a]==null&&delete i[a]},ws=u$;function JP(t){return ZP(t)}function QP(t){return ZP(t,jG)}function ZP(t,e){const n=wp();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:c,setText:u,setElementText:d,parentNode:f,nextSibling:h,setScopeId:m=Os,insertStaticContent:g}=t,y=(K,X,ue,Ee=null,ve=null,Ae=null,Ue=void 0,Ne=null,De=!!X.dynamicChildren)=>{if(K===X)return;K&&!Jr(K,X)&&(Ee=se(K),qe(K,ve,Ae,!0),K=null),X.patchFlag===-2&&(De=!1,X.dynamicChildren=null);const{type:ke,ref:Ze,shapeFlag:He}=X;switch(ke){case Tl:b(K,X,ue,Ee);break;case fs:x(K,X,ue,Ee);break;case Hc:K==null&&E(X,ue,Ee,Ue);break;case Me:w(K,X,ue,Ee,ve,Ae,Ue,Ne,De);break;default:He&1?T(K,X,ue,Ee,ve,Ae,Ue,Ne,De):He&6?D(K,X,ue,Ee,ve,Ae,Ue,Ne,De):(He&64||He&128)&&ke.process(K,X,ue,Ee,ve,Ae,Ue,Ne,De,Je)}Ze!=null&&ve?md(Ze,K&&K.ref,Ae,X||K,!X):Ze==null&&K&&K.ref!=null&&md(K.ref,null,Ae,K,!0)},b=(K,X,ue,Ee)=>{if(K==null)s(X.el=a(X.children),ue,Ee);else{const ve=X.el=K.el;X.children!==K.children&&u(ve,X.children)}},x=(K,X,ue,Ee)=>{K==null?s(X.el=c(X.children||""),ue,Ee):X.el=K.el},E=(K,X,ue,Ee)=>{[K.el,K.anchor]=g(K.children,X,ue,Ee,K.el,K.anchor)},C=({el:K,anchor:X},ue,Ee)=>{let ve;for(;K&&K!==X;)ve=h(K),s(K,ue,Ee),K=ve;s(X,ue,Ee)},_=({el:K,anchor:X})=>{let ue;for(;K&&K!==X;)ue=h(K),i(K),K=ue;i(X)},T=(K,X,ue,Ee,ve,Ae,Ue,Ne,De)=>{X.type==="svg"?Ue="svg":X.type==="math"&&(Ue="mathml"),K==null?k(X,ue,Ee,ve,Ae,Ue,Ne,De):P(K,X,ve,Ae,Ue,Ne,De)},k=(K,X,ue,Ee,ve,Ae,Ue,Ne)=>{let De,ke;const{props:Ze,shapeFlag:He,transition:Ye,dirs:at}=K;if(De=K.el=o(K.type,Ae,Ze&&Ze.is,Ze),He&8?d(De,K.children):He&16&&M(K.children,De,null,Ee,ve,ax(K,Ae),Ue,Ne),at&&xo(K,null,Ee,"created"),$(De,K,K.scopeId,Ue,Ee),Ze){for(const Vt in Ze)Vt!=="value"&&!ba(Vt)&&r(De,Vt,null,Ze[Vt],Ae,Ee);"value"in Ze&&r(De,"value",null,Ze.value,Ae),(ke=Ze.onVnodeBeforeMount)&&Hi(ke,Ee,K)}at&&xo(K,null,Ee,"beforeMount");const Ct=e$(ve,Ye);Ct&&Ye.beforeEnter(De),s(De,X,ue),((ke=Ze&&Ze.onVnodeMounted)||Ct||at)&&ws(()=>{ke&&Hi(ke,Ee,K),Ct&&Ye.enter(De),at&&xo(K,null,Ee,"mounted")},ve)},$=(K,X,ue,Ee,ve)=>{if(ue&&m(K,ue),Ee)for(let Ae=0;Ae<Ee.length;Ae++)m(K,Ee[Ae]);if(ve){let Ae=ve.subTree;if(X===Ae||Ov(Ae.type)&&(Ae.ssContent===X||Ae.ssFallback===X)){const Ue=ve.vnode;$(K,Ue,Ue.scopeId,Ue.slotScopeIds,ve.parent)}}},M=(K,X,ue,Ee,ve,Ae,Ue,Ne,De=0)=>{for(let ke=De;ke<K.length;ke++){const Ze=K[ke]=Ne?rl(K[ke]):zi(K[ke]);y(null,Ze,X,ue,Ee,ve,Ae,Ue,Ne)}},P=(K,X,ue,Ee,ve,Ae,Ue)=>{const Ne=X.el=K.el;let{patchFlag:De,dynamicChildren:ke,dirs:Ze}=X;De|=K.patchFlag&16;const He=K.props||qt,Ye=X.props||qt;let at;if(ue&&uc(ue,!1),(at=Ye.onVnodeBeforeUpdate)&&Hi(at,ue,X,K),Ze&&xo(X,K,ue,"beforeUpdate"),ue&&uc(ue,!0),(He.innerHTML&&Ye.innerHTML==null||He.textContent&&Ye.textContent==null)&&d(Ne,""),ke?V(K.dynamicChildren,ke,Ne,ue,Ee,ax(X,ve),Ae):Ue||W(K,X,Ne,null,ue,Ee,ax(X,ve),Ae,!1),De>0){if(De&16)I(Ne,He,Ye,ue,ve);else if(De&2&&He.class!==Ye.class&&r(Ne,"class",null,Ye.class,ve),De&4&&r(Ne,"style",He.style,Ye.style,ve),De&8){const Ct=X.dynamicProps;for(let Vt=0;Vt<Ct.length;Vt++){const ie=Ct[Vt],le=He[ie],fe=Ye[ie];(fe!==le||ie==="value")&&r(Ne,ie,le,fe,ve,ue)}}De&1&&K.children!==X.children&&d(Ne,X.children)}else!Ue&&ke==null&&I(Ne,He,Ye,ue,ve);((at=Ye.onVnodeUpdated)||Ze)&&ws(()=>{at&&Hi(at,ue,X,K),Ze&&xo(X,K,ue,"updated")},Ee)},V=(K,X,ue,Ee,ve,Ae,Ue)=>{for(let Ne=0;Ne<X.length;Ne++){const De=K[Ne],ke=X[Ne],Ze=De.el&&(De.type===Me||!Jr(De,ke)||De.shapeFlag&198)?f(De.el):ue;y(De,ke,Ze,null,Ee,ve,Ae,Ue,!0)}},I=(K,X,ue,Ee,ve)=>{if(X!==ue){if(X!==qt)for(const Ae in X)!ba(Ae)&&!(Ae in ue)&&r(K,Ae,X[Ae],null,ve,Ee);for(const Ae in ue){if(ba(Ae))continue;const Ue=ue[Ae],Ne=X[Ae];Ue!==Ne&&Ae!=="value"&&r(K,Ae,Ne,Ue,ve,Ee)}"value"in ue&&r(K,"value",X.value,ue.value,ve)}},w=(K,X,ue,Ee,ve,Ae,Ue,Ne,De)=>{const ke=X.el=K?K.el:a(""),Ze=X.anchor=K?K.anchor:a("");let{patchFlag:He,dynamicChildren:Ye,slotScopeIds:at}=X;at&&(Ne=Ne?Ne.concat(at):at),K==null?(s(ke,ue,Ee),s(Ze,ue,Ee),M(X.children||[],ue,Ze,ve,Ae,Ue,Ne,De)):He>0&&He&64&&Ye&&K.dynamicChildren?(V(K.dynamicChildren,Ye,ue,ve,Ae,Ue,Ne),(X.key!=null||ve&&X===ve.subTree)&&iw(K,X,!0)):W(K,X,ue,Ze,ve,Ae,Ue,Ne,De)},D=(K,X,ue,Ee,ve,Ae,Ue,Ne,De)=>{X.slotScopeIds=Ne,K==null?X.shapeFlag&512?ve.ctx.activate(X,ue,Ee,Ue,De):A(X,ue,Ee,ve,Ae,Ue,De):B(K,X,De)},A=(K,X,ue,Ee,ve,Ae,Ue)=>{const Ne=K.component=p$(K,Ee,ve);if(kp(K)&&(Ne.ctx.renderer=Je),g$(Ne,!1,Ue),Ne.asyncDep){if(ve&&ve.registerDep(Ne,N,Ue),!K.el){const De=Ne.subTree=be(fs);x(null,De,X,ue),K.placeholder=De.el}}else N(Ne,K,X,ue,ve,Ae,Ue)},B=(K,X,ue)=>{const Ee=X.component=K.component;if(Uq(K,X,ue))if(Ee.asyncDep&&!Ee.asyncResolved){q(Ee,X,ue);return}else Ee.next=X,Ee.update();else X.el=K.el,Ee.vnode=X},N=(K,X,ue,Ee,ve,Ae,Ue)=>{const Ne=()=>{if(K.isMounted){let{next:He,bu:Ye,u:at,parent:Ct,vnode:Vt}=K;{const Be=t$(K);if(Be){He&&(He.el=Vt.el,q(K,He,Ue)),Be.asyncDep.then(()=>{K.isUnmounted||Ne()});return}}let ie=He,le;uc(K,!1),He?(He.el=Vt.el,q(K,He,Ue)):He=Vt,Ye&&Vc(Ye),(le=He.props&&He.props.onVnodeBeforeUpdate)&&Hi(le,Ct,He,Vt),uc(K,!0);const fe=Hg(K),Ce=K.subTree;K.subTree=fe,y(Ce,fe,f(Ce.el),se(Ce),K,ve,Ae),He.el=fe.el,ie===null&&Ry(K,fe.el),at&&ws(at,ve),(le=He.props&&He.props.onVnodeUpdated)&&ws(()=>Hi(le,Ct,He,Vt),ve)}else{let He;const{el:Ye,props:at}=X,{bm:Ct,m:Vt,parent:ie,root:le,type:fe}=K,Ce=kl(X);if(uc(K,!1),Ct&&Vc(Ct),!Ce&&(He=at&&at.onVnodeBeforeMount)&&Hi(He,ie,X),uc(K,!0),Ye&&Ut){const Be=()=>{K.subTree=Hg(K),Ut(Ye,K.subTree,K,ve,null)};Ce&&fe.__asyncHydrate?fe.__asyncHydrate(Ye,K,Be):Be()}else{le.ce&&le.ce._def.shadowRoot!==!1&&le.ce._injectChildStyle(fe);const Be=K.subTree=Hg(K);y(null,Be,ue,Ee,K,ve,Ae),X.el=Be.el}if(Vt&&ws(Vt,ve),!Ce&&(He=at&&at.onVnodeMounted)){const Be=X;ws(()=>Hi(He,ie,Be),ve)}(X.shapeFlag&256||ie&&kl(ie.vnode)&&ie.vnode.shapeFlag&256)&&K.a&&ws(K.a,ve),K.isMounted=!0,X=ue=Ee=null}};K.scope.on();const De=K.effect=new Lh(Ne);K.scope.off();const ke=K.update=De.run.bind(De),Ze=K.job=De.runIfDirty.bind(De);Ze.i=K,Ze.id=K.uid,De.scheduler=()=>qE(Ze),uc(K,!0),ke()},q=(K,X,ue)=>{X.component=K;const Ee=K.vnode.props;K.vnode=X,K.next=null,kq(K,X.props,Ee,ue),Rq(K,X.children,ue),Aa(),f2(K),ka()},W=(K,X,ue,Ee,ve,Ae,Ue,Ne,De=!1)=>{const ke=K&&K.children,Ze=K?K.shapeFlag:0,He=X.children,{patchFlag:Ye,shapeFlag:at}=X;if(Ye>0){if(Ye&128){Le(ke,He,ue,Ee,ve,Ae,Ue,Ne,De);return}else if(Ye&256){Z(ke,He,ue,Ee,ve,Ae,Ue,Ne,De);return}}at&8?(Ze&16&&ae(ke,ve,Ae),He!==ke&&d(ue,He)):Ze&16?at&16?Le(ke,He,ue,Ee,ve,Ae,Ue,Ne,De):ae(ke,ve,Ae,!0):(Ze&8&&d(ue,""),at&16&&M(He,ue,Ee,ve,Ae,Ue,Ne,De))},Z=(K,X,ue,Ee,ve,Ae,Ue,Ne,De)=>{K=K||$c,X=X||$c;const ke=K.length,Ze=X.length,He=Math.min(ke,Ze);let Ye;for(Ye=0;Ye<He;Ye++){const at=X[Ye]=De?rl(X[Ye]):zi(X[Ye]);y(K[Ye],at,ue,null,ve,Ae,Ue,Ne,De)}ke>Ze?ae(K,ve,Ae,!0,!1,He):M(X,ue,Ee,ve,Ae,Ue,Ne,De,He)},Le=(K,X,ue,Ee,ve,Ae,Ue,Ne,De)=>{let ke=0;const Ze=X.length;let He=K.length-1,Ye=Ze-1;for(;ke<=He&&ke<=Ye;){const at=K[ke],Ct=X[ke]=De?rl(X[ke]):zi(X[ke]);if(Jr(at,Ct))y(at,Ct,ue,null,ve,Ae,Ue,Ne,De);else break;ke++}for(;ke<=He&&ke<=Ye;){const at=K[He],Ct=X[Ye]=De?rl(X[Ye]):zi(X[Ye]);if(Jr(at,Ct))y(at,Ct,ue,null,ve,Ae,Ue,Ne,De);else break;He--,Ye--}if(ke>He){if(ke<=Ye){const at=Ye+1,Ct=at<Ze?X[at].el:Ee;for(;ke<=Ye;)y(null,X[ke]=De?rl(X[ke]):zi(X[ke]),ue,Ct,ve,Ae,Ue,Ne,De),ke++}}else if(ke>Ye)for(;ke<=He;)qe(K[ke],ve,Ae,!0),ke++;else{const at=ke,Ct=ke,Vt=new Map;for(ke=Ct;ke<=Ye;ke++){const bt=X[ke]=De?rl(X[ke]):zi(X[ke]);bt.key!=null&&Vt.set(bt.key,ke)}let ie,le=0;const fe=Ye-Ct+1;let Ce=!1,Be=0;const st=new Array(fe);for(ke=0;ke<fe;ke++)st[ke]=0;for(ke=at;ke<=He;ke++){const bt=K[ke];if(le>=fe){qe(bt,ve,Ae,!0);continue}let Yt;if(bt.key!=null)Yt=Vt.get(bt.key);else for(ie=Ct;ie<=Ye;ie++)if(st[ie-Ct]===0&&Jr(bt,X[ie])){Yt=ie;break}Yt===void 0?qe(bt,ve,Ae,!0):(st[Yt-Ct]=ke+1,Yt>=Be?Be=Yt:Ce=!0,y(bt,X[Yt],ue,null,ve,Ae,Ue,Ne,De),le++)}const _t=Ce?Mq(st):$c;for(ie=_t.length-1,ke=fe-1;ke>=0;ke--){const bt=Ct+ke,Yt=X[bt],dt=X[bt+1],Qe=bt+1<Ze?dt.el||dt.placeholder:Ee;st[ke]===0?y(null,Yt,ue,Qe,ve,Ae,Ue,Ne,De):Ce&&(ie<0||ke!==_t[ie]?ge(Yt,ue,Qe,2):ie--)}}},ge=(K,X,ue,Ee,ve=null)=>{const{el:Ae,type:Ue,transition:Ne,children:De,shapeFlag:ke}=K;if(ke&6){ge(K.component.subTree,X,ue,Ee);return}if(ke&128){K.suspense.move(X,ue,Ee);return}if(ke&64){Ue.move(K,X,ue,Je);return}if(Ue===Me){s(Ae,X,ue);for(let He=0;He<De.length;He++)ge(De[He],X,ue,Ee);s(K.anchor,X,ue);return}if(Ue===Hc){C(K,X,ue);return}if(Ee!==2&&ke&1&&Ne)if(Ee===0)Ne.beforeEnter(Ae),s(Ae,X,ue),ws(()=>Ne.enter(Ae),ve);else{const{leave:He,delayLeave:Ye,afterLeave:at}=Ne,Ct=()=>{K.ctx.isUnmounted?i(Ae):s(Ae,X,ue)},Vt=()=>{Ae._isLeaving&&Ae[oa](!0),He(Ae,()=>{Ct(),at&&at()})};Ye?Ye(Ae,Ct,Vt):Vt()}else s(Ae,X,ue)},qe=(K,X,ue,Ee=!1,ve=!1)=>{const{type:Ae,props:Ue,ref:Ne,children:De,dynamicChildren:ke,shapeFlag:Ze,patchFlag:He,dirs:Ye,cacheIndex:at}=K;if(He===-2&&(ve=!1),Ne!=null&&(Aa(),md(Ne,null,ue,K,!0),ka()),at!=null&&(X.renderCache[at]=void 0),Ze&256){X.ctx.deactivate(K);return}const Ct=Ze&1&&Ye,Vt=!kl(K);let ie;if(Vt&&(ie=Ue&&Ue.onVnodeBeforeUnmount)&&Hi(ie,X,K),Ze&6)Oe(K.component,ue,Ee);else{if(Ze&128){K.suspense.unmount(ue,Ee);return}Ct&&xo(K,null,X,"beforeUnmount"),Ze&64?K.type.remove(K,X,ue,Je,Ee):ke&&!ke.hasOnce&&(Ae!==Me||He>0&&He&64)?ae(ke,X,ue,!1,!0):(Ae===Me&&He&384||!ve&&Ze&16)&&ae(De,X,ue),Ee&&lt(K)}(Vt&&(ie=Ue&&Ue.onVnodeUnmounted)||Ct)&&ws(()=>{ie&&Hi(ie,X,K),Ct&&xo(K,null,X,"unmounted")},ue)},lt=K=>{const{type:X,el:ue,anchor:Ee,transition:ve}=K;if(X===Me){Mt(ue,Ee);return}if(X===Hc){_(K);return}const Ae=()=>{i(ue),ve&&!ve.persisted&&ve.afterLeave&&ve.afterLeave()};if(K.shapeFlag&1&&ve&&!ve.persisted){const{leave:Ue,delayLeave:Ne}=ve,De=()=>Ue(ue,Ae);Ne?Ne(K.el,Ae,De):De()}else Ae()},Mt=(K,X)=>{let ue;for(;K!==X;)ue=h(K),i(K),K=ue;i(X)},Oe=(K,X,ue)=>{const{bum:Ee,scope:ve,job:Ae,subTree:Ue,um:Ne,m:De,a:ke}=K;Dv(De),Dv(ke),Ee&&Vc(Ee),ve.stop(),Ae&&(Ae.flags|=8,qe(Ue,K,X,ue)),Ne&&ws(Ne,X),ws(()=>{K.isUnmounted=!0},X)},ae=(K,X,ue,Ee=!1,ve=!1,Ae=0)=>{for(let Ue=Ae;Ue<K.length;Ue++)qe(K[Ue],X,ue,Ee,ve)},se=K=>{if(K.shapeFlag&6)return se(K.component.subTree);if(K.shapeFlag&128)return K.suspense.next();const X=h(K.anchor||K.el),ue=X&&X[yP];return ue?h(ue):X};let xe=!1;const Ie=(K,X,ue)=>{K==null?X._vnode&&qe(X._vnode,null,null,!0):y(X._vnode||null,K,X,null,null,null,ue),X._vnode=K,xe||(xe=!0,f2(),Av(),xe=!1)},Je={p:y,um:qe,m:ge,r:lt,mt:A,mc:M,pc:W,pbc:V,n:se,o:t};let mt,Ut;return e&&([mt,Ut]=e(Je)),{render:Ie,hydrate:mt,createApp:Cq(Ie,mt)}}function ax({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function uc({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function e$(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function iw(t,e,n=!1){const s=t.children,i=e.children;if(Ge(s)&&Ge(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=rl(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&iw(o,a)),a.type===Tl&&a.patchFlag!==-1&&(a.el=o.el),a.type===fs&&!a.el&&(a.el=o.el)}}function Mq(t){const e=t.slice(),n=[0];let s,i,r,o,a;const c=t.length;for(s=0;s<c;s++){const u=t[s];if(u!==0){if(i=n[n.length-1],t[i]<u){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<u?r=a+1:o=a;u<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function t$(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:t$(e)}function Dv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const n$=Symbol.for("v-scx"),s$=()=>fr(n$);function i$(t,e){return Tp(t,null,e)}function Iq(t,e){return Tp(t,null,{flush:"post"})}function r$(t,e){return Tp(t,null,{flush:"sync"})}function Rn(t,e,n){return Tp(t,e,n)}function Tp(t,e,n=qt){const{immediate:s,deep:i,flush:r,once:o}=n,a=Wt({},n),c=e&&s||!e&&r!=="post";let u;if(Dd){if(r==="sync"){const m=s$();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Os,m.resume=Os,m.pause=Os,m}}const d=Gs;a.call=(m,g,y)=>Ur(m,d,g,y);let f=!1;r==="post"?a.scheduler=m=>{ws(m,d&&d.suspense)}:r!=="sync"&&(f=!0,a.scheduler=(m,g)=>{g?m():qE(m)}),a.augmentJob=m=>{e&&(m.flags|=4),f&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const h=kG(t,e,a);return Dd&&(u?u.push(h):c&&h()),h}function Nq(t,e,n){const s=this.proxy,i=St(t)?t.includes(".")?o$(s,t):()=>s[t]:t.bind(s,s);let r;pt(e)?r=e:(r=e.handler,n=e);const o=iu(this),a=Tp(i,r.bind(s),n);return o(),a}function o$(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function Pq(t,e,n=qt){const s=gi(),i=On(e),r=oi(e),o=a$(t,i),a=WE((c,u)=>{let d,f=qt,h;return r$(()=>{const m=t[i];ii(d,m)&&(d=m,u())}),{get(){return c(),n.get?n.get(d):d},set(m){const g=n.set?n.set(m):m;if(!ii(g,d)&&!(f!==qt&&ii(m,f)))return;const y=s.vnode.props;y&&(e in y||i in y||r in y)&&(`onUpdate:${e}`in y||`onUpdate:${i}`in y||`onUpdate:${r}`in y)||(d=m,u()),s.emit(`update:${e}`,g),ii(m,g)&&ii(m,f)&&!ii(g,h)&&u(),f=m,h=g}}});return a[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?o||qt:a,done:!1}:{done:!0}}}},a}const a$=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${On(e)}Modifiers`]||t[`${oi(e)}Modifiers`];function $q(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||qt;let i=n;const r=e.startsWith("update:"),o=r&&a$(s,e.slice(7));o&&(o.trim&&(i=n.map(d=>St(d)?d.trim():d)),o.number&&(i=n.map(Ph)));let a,c=s[a=Fc(e)]||s[a=Fc(On(e))];!c&&r&&(c=s[a=Fc(oi(e))]),c&&Ur(c,t,6,i);const u=s[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ur(u,t,6,i)}}const Lq=new WeakMap;function l$(t,e,n=!1){const s=n?Lq:e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!pt(t)){const c=u=>{const d=l$(u,e,!0);d&&(a=!0,Wt(o,d))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!a?(un(t)&&s.set(t,null),null):(Ge(r)?r.forEach(c=>o[c]=null):Wt(o,r),un(t)&&s.set(t,o),o)}function Oy(t,e){return!t||!Gl(e)?!1:(e=e.slice(2).replace(/Once$/,""),ln(t,e[0].toLowerCase()+e.slice(1))||ln(t,oi(e))||ln(t,e))}function Hg(t){const{type:e,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:c,render:u,renderCache:d,props:f,data:h,setupState:m,ctx:g,inheritAttrs:y}=t,b=Hh(t);let x,E;try{if(n.shapeFlag&4){const _=i||s,T=_;x=zi(u.call(T,_,d,f,m,h,g)),E=a}else{const _=e;x=zi(_.length>1?_(f,{attrs:a,slots:o,emit:c}):_(f,null)),E=e.props?a:Vq(a)}}catch(_){ch.length=0,_u(_,t,1),x=be(fs)}let C=x;if(E&&y!==!1){const _=Object.keys(E),{shapeFlag:T}=C;_.length&&T&7&&(r&&_.some(py)&&(E=Bq(E,r)),C=Do(C,E,!1,!0))}return n.dirs&&(C=Do(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&Da(C,n.transition),x=C,Hh(b),x}function Fq(t,e=!0){let n;for(let s=0;s<t.length;s++){const i=t[s];if(Oa(i)){if(i.type!==fs||i.children==="v-if"){if(n)return;n=i}}else return}return n}const Vq=t=>{let e;for(const n in t)(n==="class"||n==="style"||Gl(n))&&((e||(e={}))[n]=t[n]);return e},Bq=(t,e)=>{const n={};for(const s in t)(!py(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Uq(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:a,patchFlag:c}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?C2(s,o,u):!!o;if(c&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==s[h]&&!Oy(u,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?C2(s,o,u):!0:!!o;return!1}function C2(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!Oy(n,r))return!0}return!1}function Ry({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ov=t=>t.__isSuspense;let K_=0;const Hq={name:"Suspense",__isSuspense:!0,process(t,e,n,s,i,r,o,a,c,u){if(t==null)jq(e,n,s,i,r,o,a,c,u);else{if(r&&r.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Wq(t,e,n,s,i,o,a,c,u)}},hydrate:Gq,normalize:qq},zq=Hq;function jh(t,e){const n=t.props&&t.props[e];pt(n)&&n()}function jq(t,e,n,s,i,r,o,a,c){const{p:u,o:{createElement:d}}=c,f=d("div"),h=t.suspense=c$(t,i,s,e,f,n,r,o,a,c);u(null,h.pendingBranch=t.ssContent,f,null,s,h,r,o),h.deps>0?(jh(t,"onPending"),jh(t,"onFallback"),u(null,t.ssFallback,e,n,s,null,r,o),vd(h,t.ssFallback)):h.resolve(!1,!0)}function Wq(t,e,n,s,i,r,o,a,{p:c,um:u,o:{createElement:d}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const h=e.ssContent,m=e.ssFallback,{activeBranch:g,pendingBranch:y,isInFallback:b,isHydrating:x}=f;if(y)f.pendingBranch=h,Jr(y,h)?(c(y,h,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0?f.resolve():b&&(x||(c(g,m,n,s,i,null,r,o,a),vd(f,m)))):(f.pendingId=K_++,x?(f.isHydrating=!1,f.activeBranch=y):u(y,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=d("div"),b?(c(null,h,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0?f.resolve():(c(g,m,n,s,i,null,r,o,a),vd(f,m))):g&&Jr(g,h)?(c(g,h,n,s,i,f,r,o,a),f.resolve(!0)):(c(null,h,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0&&f.resolve()));else if(g&&Jr(g,h))c(g,h,n,s,i,f,r,o,a),vd(f,h);else if(jh(e,"onPending"),f.pendingBranch=h,h.shapeFlag&512?f.pendingId=h.component.suspenseId:f.pendingId=K_++,c(null,h,f.hiddenContainer,null,i,f,r,o,a),f.deps<=0)f.resolve();else{const{timeout:E,pendingId:C}=f;E>0?setTimeout(()=>{f.pendingId===C&&f.fallback(m)},E):E===0&&f.fallback(m)}}function c$(t,e,n,s,i,r,o,a,c,u,d=!1){const{p:f,m:h,um:m,n:g,o:{parentNode:y,remove:b}}=u;let x;const E=Kq(t);E&&e&&e.pendingBranch&&(x=e.pendingId,e.deps++);const C=t.props?$h(t.props.timeout):void 0,_=r,T={vnode:t,parent:e,parentComponent:n,namespace:o,container:s,hiddenContainer:i,deps:0,pendingId:K_++,timeout:typeof C=="number"?C:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(k=!1,$=!1){const{vnode:M,activeBranch:P,pendingBranch:V,pendingId:I,effects:w,parentComponent:D,container:A}=T;let B=!1;T.isHydrating?T.isHydrating=!1:k||(B=P&&V.transition&&V.transition.mode==="out-in",B&&(P.transition.afterLeave=()=>{I===T.pendingId&&(h(V,A,r===_?g(P):r,0),Bh(w))}),P&&(y(P.el)===A&&(r=g(P)),m(P,D,T,!0)),B||h(V,A,r,0)),vd(T,V),T.pendingBranch=null,T.isInFallback=!1;let N=T.parent,q=!1;for(;N;){if(N.pendingBranch){N.effects.push(...w),q=!0;break}N=N.parent}!q&&!B&&Bh(w),T.effects=[],E&&e&&e.pendingBranch&&x===e.pendingId&&(e.deps--,e.deps===0&&!$&&e.resolve()),jh(M,"onResolve")},fallback(k){if(!T.pendingBranch)return;const{vnode:$,activeBranch:M,parentComponent:P,container:V,namespace:I}=T;jh($,"onFallback");const w=g(M),D=()=>{T.isInFallback&&(f(null,k,V,w,P,null,I,a,c),vd(T,k))},A=k.transition&&k.transition.mode==="out-in";A&&(M.transition.afterLeave=D),T.isInFallback=!0,m(M,P,null,!0),A||D()},move(k,$,M){T.activeBranch&&h(T.activeBranch,k,$,M),T.container=k},next(){return T.activeBranch&&g(T.activeBranch)},registerDep(k,$,M){const P=!!T.pendingBranch;P&&T.deps++;const V=k.vnode.el;k.asyncDep.catch(I=>{_u(I,k,0)}).then(I=>{if(k.isUnmounted||T.isUnmounted||T.pendingId!==k.suspenseId)return;k.asyncResolved=!0;const{vnode:w}=k;J_(k,I,!1),V&&(w.el=V);const D=!V&&k.subTree.el;$(k,w,y(V||k.subTree.el),V?null:g(k.subTree),T,o,M),D&&b(D),Ry(k,w.el),P&&--T.deps===0&&T.resolve()})},unmount(k,$){T.isUnmounted=!0,T.activeBranch&&m(T.activeBranch,n,k,$),T.pendingBranch&&m(T.pendingBranch,n,k,$)}};return T}function Gq(t,e,n,s,i,r,o,a,c){const u=e.suspense=c$(e,s,n,t.parentNode,document.createElement("div"),null,i,r,o,a,!0),d=c(t,u.pendingBranch=e.ssContent,n,u,r,o);return u.deps===0&&u.resolve(!1,!0),d}function qq(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=A2(s?n.default:n),t.ssFallback=s?A2(n.fallback):be(fs)}function A2(t){let e;if(pt(t)){const n=su&&t._c;n&&(t._d=!1,O()),t=t(),n&&(t._d=!0,e=ui,d$())}return Ge(t)&&(t=Fq(t)),t=zi(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function u$(t,e){e&&e.pendingBranch?Ge(t)?e.effects.push(...t):e.effects.push(t):Bh(t)}function vd(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,s&&s.subTree===n&&(s.vnode.el=i,Ry(s,i))}function Kq(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Me=Symbol.for("v-fgt"),Tl=Symbol.for("v-txt"),fs=Symbol.for("v-cmt"),Hc=Symbol.for("v-stc"),ch=[];let ui=null;function O(t=!1){ch.push(ui=t?null:[])}function d$(){ch.pop(),ui=ch[ch.length-1]||null}let su=1;function Wh(t,e=!1){su+=t,t<0&&ui&&e&&(ui.hasOnce=!0)}function f$(t){return t.dynamicChildren=su>0?ui||$c:null,d$(),su>0&&ui&&ui.push(t),t}function R(t,e,n,s,i,r){return f$(l(t,e,n,s,i,r,!0))}function is(t,e,n,s,i){return f$(be(t,e,n,s,i,!0))}function Oa(t){return t?t.__v_isVNode===!0:!1}function Jr(t,e){return t.type===e.type&&t.key===e.key}function Yq(t){}const h$=({key:t})=>t??null,zg=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?St(t)||Kn(t)||pt(t)?{i:qs,r:t,k:e,f:!!n}:t:null);function l(t,e=null,n=null,s=0,i=null,r=t===Me?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&h$(e),ref:e&&zg(e),scopeId:Cy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qs};return a?(rw(c,n),r&128&&t.normalize(c)):n&&(c.shapeFlag|=St(n)?8:16),su>0&&!o&&ui&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&ui.push(c),c}const be=Xq;function Xq(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===$P)&&(t=fs),Oa(t)){const a=Do(t,e,!0);return n&&rw(a,n),su>0&&!r&&ui&&(a.shapeFlag&6?ui[ui.indexOf(t)]=a:ui.push(a)),a.patchFlag=-2,a}if(sK(t)&&(t=t.__vccOpts),e){e=Mr(e);let{class:a,style:c}=e;a&&!St(a)&&(e.class=te(a)),un(c)&&(Ey(c)&&!Ge(c)&&(c=Wt({},c)),e.style=Ws(c))}const o=St(t)?1:Ov(t)?128:xP(t)?64:un(t)?4:pt(t)?2:0;return l(t,e,n,s,i,o,r,!0)}function Mr(t){return t?Ey(t)||WP(t)?Wt({},t):t:null}function Do(t,e,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:c}=t,u=e?Gh(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&h$(u),ref:e&&e.ref?n&&r?Ge(r)?r.concat(zg(e)):[r,zg(e)]:zg(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Do(t.ssContent),ssFallback:t.ssFallback&&Do(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&Da(d,c.clone(d)),d}function z(t=" ",e=0){return be(Tl,null,t,e)}function hi(t,e){const n=be(Hc,null,t);return n.staticCount=e,n}function J(t="",e=!1){return e?(O(),is(fs,null,t)):be(fs,null,t)}function zi(t){return t==null||typeof t=="boolean"?be(fs):Ge(t)?be(Me,null,t.slice()):Oa(t)?rl(t):be(Tl,null,String(t))}function rl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Do(t)}function rw(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(Ge(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),rw(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!WP(e)?e._ctx=qs:i===3&&qs&&(qs.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pt(e)?(e={default:e,_ctx:qs},n=32):(e=String(e),s&64?(n=16,e=[z(e)]):n=8);t.children=e,t.shapeFlag|=n}function Gh(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=te([e.class,s.class]));else if(i==="style")e.style=Ws([e.style,s.style]);else if(Gl(i)){const r=e[i],o=s[i];o&&r!==o&&!(Ge(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function Hi(t,e,n,s=null){Ur(t,e,7,[n,s])}const Jq=UP();let Qq=0;function p$(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||Jq,r={uid:Qq++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new LE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qP(s,i),emitsOptions:l$(s,i),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:s.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=$q.bind(null,r),t.ce&&t.ce(r),r}let Gs=null;const gi=()=>Gs||qs;let Rv,Y_;{const t=wp(),e=(n,s)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Rv=e("__VUE_INSTANCE_SETTERS__",n=>Gs=n),Y_=e("__VUE_SSR_SETTERS__",n=>Dd=n)}const iu=t=>{const e=Gs;return Rv(t),t.scope.on(),()=>{t.scope.off(),Rv(e)}},X_=()=>{Gs&&Gs.scope.off(),Rv(null)};function m$(t){return t.vnode.shapeFlag&4}let Dd=!1;function g$(t,e=!1,n=!1){e&&Y_(e);const{props:s,children:i}=t.vnode,r=m$(t);Aq(t,s,r,e),Oq(t,i,n||e);const o=r?Zq(t,e):void 0;return e&&Y_(!1),o}function Zq(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,j_);const{setup:s}=n;if(s){Aa();const i=t.setupContext=s.length>1?b$(t):null,r=iu(t),o=ef(s,t,0,[t.props,i]),a=gy(o);if(ka(),r(),(a||t.sp)&&!kl(t)&&XE(t),a){if(o.then(X_,X_),e)return o.then(c=>{J_(t,c,e)}).catch(c=>{_u(c,t,0)});t.asyncDep=o}else J_(t,o,e)}else v$(t,e)}function J_(t,e,n){pt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:un(e)&&(t.setupState=jE(e)),v$(t,n)}let Mv,Q_;function eK(t){Mv=t,Q_=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,oq))}}const tK=()=>!Mv;function v$(t,e,n){const s=t.type;if(!t.render){if(!e&&Mv&&!s.render){const i=s.template||tw(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,u=Wt(Wt({isCustomElement:r,delimiters:a},o),c);s.render=Mv(i,u)}}t.render=s.render||Os,Q_&&Q_(t)}{const i=iu(t);Aa();try{yq(t)}finally{ka(),i()}}}const nK={get(t,e){return ri(t,"get",""),t[e]}};function b$(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,nK),slots:t.slots,emit:t.emit,expose:e}}function Dp(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(jE(Ap(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ah)return ah[n](t)},has(e,n){return n in e||n in ah}})):t.proxy}function Z_(t,e=!0){return pt(t)?t.displayName||t.name:t.name||e&&t.__name}function sK(t){return pt(t)&&"__vccOpts"in t}const we=(t,e)=>EG(t,e,Dd);function so(t,e,n){try{Wh(-1);const s=arguments.length;return s===2?un(e)&&!Ge(e)?Oa(e)?be(t,null,[e]):be(t,e):be(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Oa(n)&&(n=[n]),be(t,e,n))}finally{Wh(1)}}function iK(){}function rK(t,e,n,s){const i=n[s];if(i&&y$(i,t))return i;const r=e();return r.memo=t.slice(),r.cacheIndex=s,n[s]=r}function y$(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(ii(n[s],e[s]))return!1;return su>0&&ui&&ui.push(t),!0}const x$="3.5.22",oK=Os,aK=MG,lK=nd,cK=bP,uK={createComponentInstance:p$,setupComponent:g$,renderComponentRoot:Hg,setCurrentRenderingInstance:Hh,isVNode:Oa,normalizeVNode:zi,getComponentPublicInstance:Dp,ensureValidVNode:ew,pushWarningContext:TG,popWarningContext:DG},dK=uK,fK=null,hK=null,pK=null;/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let eS;const k2=typeof window<"u"&&window.trustedTypes;if(k2)try{eS=k2.createPolicy("vue",{createHTML:t=>t})}catch{}const _$=eS?t=>eS.createHTML(t):t=>t,mK="http://www.w3.org/2000/svg",gK="http://www.w3.org/1998/Math/MathML",ia=typeof document<"u"?document:null,T2=ia&&ia.createElement("template"),vK={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e==="svg"?ia.createElementNS(mK,t):e==="mathml"?ia.createElementNS(gK,t):n?ia.createElement(t,{is:n}):ia.createElement(t);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>ia.createTextNode(t),createComment:t=>ia.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ia.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{T2.innerHTML=_$(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=T2.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ya="transition",Af="animation",Od=Symbol("_vtc"),S$={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},E$=Wt({},YE,S$),bK=t=>(t.displayName="Transition",t.props=E$,t),$l=bK((t,{slots:e})=>so(AP,w$(t),e)),dc=(t,e=[])=>{Ge(t)?t.forEach(n=>n(...e)):t&&t(...e)},D2=t=>t?Ge(t)?t.some(e=>e.length>1):t.length>1:!1;function w$(t){const e={};for(const w in t)w in S$||(e[w]=t[w]);if(t.css===!1)return e;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,g=yK(i),y=g&&g[0],b=g&&g[1],{onBeforeEnter:x,onEnter:E,onEnterCancelled:C,onLeave:_,onLeaveCancelled:T,onBeforeAppear:k=x,onAppear:$=E,onAppearCancelled:M=C}=e,P=(w,D,A,B)=>{w._enterCancelled=B,el(w,D?d:a),el(w,D?u:o),A&&A()},V=(w,D)=>{w._isLeaving=!1,el(w,f),el(w,m),el(w,h),D&&D()},I=w=>(D,A)=>{const B=w?$:E,N=()=>P(D,w,A);dc(B,[D,N]),O2(()=>{el(D,w?c:r),ho(D,w?d:a),D2(B)||R2(D,s,y,N)})};return Wt(e,{onBeforeEnter(w){dc(x,[w]),ho(w,r),ho(w,o)},onBeforeAppear(w){dc(k,[w]),ho(w,c),ho(w,u)},onEnter:I(!1),onAppear:I(!0),onLeave(w,D){w._isLeaving=!0;const A=()=>V(w,D);ho(w,f),w._enterCancelled?(ho(w,h),tS(w)):(tS(w),ho(w,h)),O2(()=>{w._isLeaving&&(el(w,f),ho(w,m),D2(_)||R2(w,s,b,A))}),dc(_,[w,A])},onEnterCancelled(w){P(w,!1,void 0,!0),dc(C,[w])},onAppearCancelled(w){P(w,!0,void 0,!0),dc(M,[w])},onLeaveCancelled(w){V(w),dc(T,[w])}})}function yK(t){if(t==null)return null;if(un(t))return[lx(t.enter),lx(t.leave)];{const e=lx(t);return[e,e]}}function lx(t){return $h(t)}function ho(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Od]||(t[Od]=new Set)).add(e)}function el(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Od];n&&(n.delete(e),n.size||(t[Od]=void 0))}function O2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let xK=0;function R2(t,e,n,s){const i=t._endId=++xK,r=()=>{i===t._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:c}=C$(t,e);if(!o)return s();const u=o+"end";let d=0;const f=()=>{t.removeEventListener(u,h),r()},h=m=>{m.target===t&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},a+1),t.addEventListener(u,h)}function C$(t,e){const n=window.getComputedStyle(t),s=g=>(n[g]||"").split(", "),i=s(`${Ya}Delay`),r=s(`${Ya}Duration`),o=M2(i,r),a=s(`${Af}Delay`),c=s(`${Af}Duration`),u=M2(a,c);let d=null,f=0,h=0;e===Ya?o>0&&(d=Ya,f=o,h=r.length):e===Af?u>0&&(d=Af,f=u,h=c.length):(f=Math.max(o,u),d=f>0?o>u?Ya:Af:null,h=d?d===Ya?r.length:c.length:0);const m=d===Ya&&/\b(?:transform|all)(?:,|$)/.test(s(`${Ya}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:m}}function M2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>I2(n)+I2(t[s])))}function I2(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function tS(t){return(t?t.ownerDocument:document).body.offsetHeight}function _K(t,e,n){const s=t[Od];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Iv=Symbol("_vod"),A$=Symbol("_vsh"),Hs={name:"show",beforeMount(t,{value:e},{transition:n}){t[Iv]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):kf(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),kf(t,!0),s.enter(t)):s.leave(t,()=>{kf(t,!1)}):kf(t,e))},beforeUnmount(t,{value:e}){kf(t,e)}};function kf(t,e){t.style.display=e?t[Iv]:"none",t[A$]=!e}function SK(){Hs.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const k$=Symbol("");function EK(t){const e=gi();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(r=>Nv(r,i))},s=()=>{const i=t(e.proxy);e.ce?Nv(e.ce,i):nS(e.subTree,i),n(i)};JE(()=>{Bh(s)}),it(()=>{Rn(s,Os,{flush:"post"});const i=new MutationObserver(s);i.observe(e.subTree.el.parentNode,{childList:!0}),Yl(()=>i.disconnect())})}function nS(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{nS(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Nv(t.el,e);else if(t.type===Me)t.children.forEach(n=>nS(n,e));else if(t.type===Hc){let{el:n,anchor:s}=t;for(;n&&(Nv(n,e),n!==s);)n=n.nextSibling}}function Nv(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const i in e){const r=KN(e[i]);n.setProperty(`--${i}`,r),s+=`--${i}: ${r};`}n[k$]=s}}const wK=/(?:^|;)\s*display\s*:/;function CK(t,e,n){const s=t.style,i=St(n);let r=!1;if(n&&!i){if(e)if(St(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&jg(s,a,"")}else for(const o in e)n[o]==null&&jg(s,o,"");for(const o in n)o==="display"&&(r=!0),jg(s,o,n[o])}else if(i){if(e!==n){const o=s[k$];o&&(n+=";"+o),s.cssText=n,r=wK.test(n)}}else e&&t.removeAttribute("style");Iv in t&&(t[Iv]=r?s.display:"",t[A$]&&(s.display="none"))}const N2=/\s*!important$/;function jg(t,e,n){if(Ge(n))n.forEach(s=>jg(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=AK(t,e);N2.test(n)?t.setProperty(oi(s),n.replace(N2,""),"important"):t[s]=n}}const P2=["Webkit","Moz","ms"],cx={};function AK(t,e){const n=cx[e];if(n)return n;let s=On(e);if(s!=="filter"&&s in t)return cx[e]=s;s=Kl(s);for(let i=0;i<P2.length;i++){const r=P2[i]+s;if(r in t)return cx[e]=r}return e}const $2="http://www.w3.org/1999/xlink";function L2(t,e,n,s,i,r=jN(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS($2,e.slice(6,e.length)):t.setAttributeNS($2,e,n):n==null||r&&!$E(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Oi(n)?String(n):n)}function F2(t,e,n,s,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?_$(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=$E(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function ua(t,e,n,s){t.addEventListener(e,n,s)}function kK(t,e,n,s){t.removeEventListener(e,n,s)}const V2=Symbol("_vei");function TK(t,e,n,s,i=null){const r=t[V2]||(t[V2]={}),o=r[e];if(s&&o)o.value=s;else{const[a,c]=DK(e);if(s){const u=r[e]=MK(s,i);ua(t,a,u,c)}else o&&(kK(t,a,o,c),r[e]=void 0)}}const B2=/(?:Once|Passive|Capture)$/;function DK(t){let e;if(B2.test(t)){e={};let s;for(;s=t.match(B2);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):oi(t.slice(2)),e]}let ux=0;const OK=Promise.resolve(),RK=()=>ux||(OK.then(()=>ux=0),ux=Date.now());function MK(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ur(IK(s,n.value),e,5,[s])};return n.value=t,n.attached=RK(),n}function IK(t,e){if(Ge(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const U2=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,NK=(t,e,n,s,i,r)=>{const o=i==="svg";e==="class"?_K(t,s,o):e==="style"?CK(t,n,s):Gl(e)?py(e)||TK(t,e,n,s,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):PK(t,e,s,o))?(F2(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&L2(t,e,s,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!St(s))?F2(t,On(e),s,r,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),L2(t,e,s,o))};function PK(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&U2(e)&&pt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return U2(e)&&St(n)?!1:e in t}const H2={};function T$(t,e,n){let s=We(t,e);Ep(s)&&(s=Wt({},s,e));class i extends My{constructor(o){super(s,o,n)}}return i.def=s,i}const $K=((t,e)=>T$(t,e,F$)),LK=typeof HTMLElement<"u"?HTMLElement:class{};class My extends LK{constructor(e,n={},s=$v){super(),this._def=e,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==$v?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow(Wt({},e.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof My){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Ma(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(e){for(const n of e)this._setAttr(n.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const e=(s,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:r,styles:o}=s;let a;if(r&&!Ge(r))for(const c in r){const u=r[c];(u===Number||u&&u.type===Number)&&(c in this._props&&(this._props[c]=$h(this._props[c])),(a||(a=Object.create(null)))[On(c)]=!0)}this._numberProps=a,this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>{s.configureApp=this._def.configureApp,e(this._def=s,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)ln(this,s)||Object.defineProperty(this,s,{get:()=>Ve(n[s])})}_resolveProps(e){const{props:n}=e,s=Ge(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i]);for(const i of s.map(On))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let s=n?this.getAttribute(e):H2;const i=On(e);n&&this._numberProps&&this._numberProps[i]&&(s=$h(s)),this._setProp(i,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,i=!1){if(n!==this._props[e]&&(n===H2?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),s)){const r=this._ob;r&&(this._processMutations(r.takeRecords()),r.disconnect()),n===!0?this.setAttribute(oi(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(oi(e),n+""):n||this.removeAttribute(oi(e)),r&&r.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),L$(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=be(this._def,Wt(e,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const i=(r,o)=>{this.dispatchEvent(new CustomEvent(r,Ep(o[0])?Wt({detail:o},o[0]):{detail:o}))};s.emit=(r,...o)=>{i(r,o),oi(r)!==r&&i(oi(r),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let i=e.length-1;i>=0;i--){const r=document.createElement("style");s&&r.setAttribute("nonce",s),r.textContent=e[i],this.shadowRoot.prepend(r)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=this._getSlots(),n=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const i=e[s],r=i.getAttribute("name")||"default",o=this._slots[r],a=i.parentNode;if(o)for(const c of o){if(n&&c.nodeType===1){const u=n+"-s",d=document.createTreeWalker(c,1);c.setAttribute(u,"");let f;for(;f=d.nextNode();)f.setAttribute(u,"")}a.insertBefore(c,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_getSlots(){const e=[this];return this._teleportTargets&&e.push(...this._teleportTargets),e.reduce((n,s)=>(n.push(...Array.from(s.querySelectorAll("slot"))),n),[])}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function D$(t){const e=gi(),n=e&&e.ce;return n||null}function FK(){const t=D$();return t&&t.shadowRoot}function VK(t="$style"){{const e=gi();if(!e)return qt;const n=e.type.__cssModules;if(!n)return qt;const s=n[t];return s||qt}}const O$=new WeakMap,R$=new WeakMap,Pv=Symbol("_moveCb"),z2=Symbol("_enterCb"),BK=t=>(delete t.props.mode,t),UK=BK({name:"TransitionGroup",props:Wt({},E$,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=gi(),s=KE();let i,r;return Ty(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!GK(i[0].el,n.vnode.el,o)){i=[];return}i.forEach(zK),i.forEach(jK);const a=i.filter(WK);tS(n.vnode.el),a.forEach(c=>{const u=c.el,d=u.style;ho(u,o),d.transform=d.webkitTransform=d.transitionDuration="";const f=u[Pv]=h=>{h&&h.target!==u||(!h||h.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",f),u[Pv]=null,el(u,o))};u.addEventListener("transitionend",f)}),i=[]}),()=>{const o=sn(t),a=w$(o);let c=o.tag||Me;if(i=[],r)for(let u=0;u<r.length;u++){const d=r[u];d.el&&d.el instanceof Element&&(i.push(d),Da(d,Td(d,a,s,n)),O$.set(d,d.el.getBoundingClientRect()))}r=e.default?Ay(e.default()):[];for(let u=0;u<r.length;u++){const d=r[u];d.key!=null&&Da(d,Td(d,a,s,n))}return be(c,null,r)}}}),HK=UK;function zK(t){const e=t.el;e[Pv]&&e[Pv](),e[z2]&&e[z2]()}function jK(t){R$.set(t,t.el.getBoundingClientRect())}function WK(t){const e=O$.get(t),n=R$.get(t),s=e.left-n.left,i=e.top-n.top;if(s||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",t}}function GK(t,e,n){const s=t.cloneNode(),i=t[Od];i&&i.forEach(a=>{a.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(s);const{hasTransform:o}=C$(s);return r.removeChild(s),o}const Ll=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ge(e)?n=>Vc(e,n):e};function qK(t){t.target.composing=!0}function j2(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const $r=Symbol("_assign"),de={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t[$r]=Ll(i);const r=s||i.props&&i.props.type==="number";ua(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),r&&(a=Ph(a)),t[$r](a)}),n&&ua(t,"change",()=>{t.value=t.value.trim()}),e||(ua(t,"compositionstart",qK),ua(t,"compositionend",j2),ua(t,"change",j2))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(t[$r]=Ll(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Ph(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||i&&t.value.trim()===c)||(t.value=c))}},Zt={deep:!0,created(t,e,n){t[$r]=Ll(n),ua(t,"change",()=>{const s=t._modelValue,i=Rd(t),r=t.checked,o=t[$r];if(Ge(s)){const a=Cp(s,i),c=a!==-1;if(r&&!c)o(s.concat(i));else if(!r&&c){const u=[...s];u.splice(a,1),o(u)}}else if(ql(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(M$(t,r))})},mounted:W2,beforeUpdate(t,e,n){t[$r]=Ll(n),W2(t,e,n)}};function W2(t,{value:e,oldValue:n},s){t._modelValue=e;let i;if(Ge(e))i=Cp(e,s.props.value)>-1;else if(ql(e))i=e.has(s.props.value);else{if(e===n)return;i=Ca(e,M$(t,!0))}t.checked!==i&&(t.checked=i)}const Lr={created(t,{value:e},n){t.checked=Ca(e,n.props.value),t[$r]=Ll(n),ua(t,"change",()=>{t[$r](Rd(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[$r]=Ll(s),e!==n&&(t.checked=Ca(e,s.props.value))}},xt={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=ql(e);ua(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ph(Rd(o)):Rd(o));t[$r](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,Ma(()=>{t._assigning=!1})}),t[$r]=Ll(s)},mounted(t,{value:e}){G2(t,e)},beforeUpdate(t,e,n){t[$r]=Ll(n)},updated(t,{value:e}){t._assigning||G2(t,e)}};function G2(t,e){const n=t.multiple,s=Ge(e);if(!(n&&!s&&!ql(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=Rd(o);if(n)if(s){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Cp(e,a)>-1}else o.selected=e.has(a);else if(Ca(Rd(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Rd(t){return"_value"in t?t._value:t.value}function M$(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const ow={created(t,e,n){Xm(t,e,n,null,"created")},mounted(t,e,n){Xm(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){Xm(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){Xm(t,e,n,s,"updated")}};function I$(t,e){switch(t){case"SELECT":return xt;case"TEXTAREA":return de;default:switch(e){case"checkbox":return Zt;case"radio":return Lr;default:return de}}}function Xm(t,e,n,s,i){const o=I$(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,s)}function KK(){de.getSSRProps=({value:t})=>({value:t}),Lr.getSSRProps=({value:t},e)=>{if(e.props&&Ca(e.props.value,t))return{checked:!0}},Zt.getSSRProps=({value:t},e)=>{if(Ge(t)){if(e.props&&Cp(t,e.props.value)>-1)return{checked:!0}}else if(ql(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},ow.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=I$(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const YK=["ctrl","shift","alt","meta"],XK={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>YK.some(n=>t[`${n}Key`]&&!e.includes(n))},wt=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((i,...r)=>{for(let o=0;o<e.length;o++){const a=XK[e[o]];if(a&&a(i,e))return}return t(i,...r)}))},JK={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Op=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=(i=>{if(!("key"in i))return;const r=oi(i.key);if(e.some(o=>o===r||JK[o]===r))return t(i)}))},N$=Wt({patchProp:NK},vK);let uh,q2=!1;function P$(){return uh||(uh=JP(N$))}function $$(){return uh=q2?uh:QP(N$),q2=!0,uh}const L$=((...t)=>{P$().render(...t)}),QK=((...t)=>{$$().hydrate(...t)}),$v=((...t)=>{const e=P$().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=B$(s);if(!i)return;const r=e._component;!pt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,V$(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e}),F$=((...t)=>{const e=$$().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=B$(s);if(i)return n(i,!0,V$(i))},e});function V$(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function B$(t){return St(t)?document.querySelector(t):t}let K2=!1;const ZK=()=>{K2||(K2=!0,KK(),SK())},eY=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:AP,BaseTransitionPropsValidators:YE,Comment:fs,DeprecationTypes:pK,EffectScope:LE,ErrorCodes:RG,ErrorTypeStrings:aK,Fragment:Me,KeepAlive:nq,ReactiveEffect:Lh,Static:Hc,Suspense:zq,Teleport:SP,Text:Tl,TrackOpTypes:wG,Transition:$l,TransitionGroup:HK,TriggerOpTypes:CG,VueElement:My,assertNumber:OG,callWithAsyncErrorHandling:Ur,callWithErrorHandling:ef,camelize:On,capitalize:Kl,cloneVNode:Do,compatUtils:hK,computed:we,createApp:$v,createBlock:is,createCommentVNode:J,createElementBlock:R,createElementVNode:l,createHydrationRenderer:QP,createPropsRestProxy:vq,createRenderer:JP,createSSRApp:F$,createSlots:rq,createStaticVNode:hi,createTextVNode:z,createVNode:be,customRef:WE,defineAsyncComponent:eq,defineComponent:We,defineCustomElement:T$,defineEmits:lq,defineExpose:cq,defineModel:fq,defineOptions:uq,defineProps:aq,defineSSRCustomElement:$K,defineSlots:dq,devtools:lK,effect:qW,effectScope:FE,getCurrentInstance:gi,getCurrentScope:VE,getCurrentWatcher:AG,getTransitionRawChildren:Ay,guardReactiveProps:Mr,h:so,handleError:_u,hasInjectionContext:HP,hydrate:QK,hydrateOnIdle:KG,hydrateOnInteraction:QG,hydrateOnMediaQuery:JG,hydrateOnVisible:XG,initCustomFormatter:iK,initDirectivesForSSR:ZK,inject:fr,isMemoSame:y$,isProxy:Ey,isReactive:Ao,isReadonly:Ta,isRef:Kn,isRuntimeOnly:tK,isShallow:dr,isVNode:Oa,markRaw:Ap,mergeDefaults:mq,mergeModels:gq,mergeProps:Gh,nextTick:Ma,normalizeClass:te,normalizeProps:rr,normalizeStyle:Ws,onActivated:TP,onBeforeMount:RP,onBeforeUnmount:Po,onBeforeUpdate:JE,onDeactivated:DP,onErrorCaptured:PP,onMounted:it,onRenderTracked:NP,onRenderTriggered:IP,onScopeDispose:YN,onServerPrefetch:MP,onUnmounted:Yl,onUpdated:Ty,onWatcherCleanup:hP,openBlock:O,popScopeId:$G,provide:lh,proxyRefs:jE,pushScopeId:PG,queuePostFlushCb:Bh,reactive:No,readonly:Sv,ref:H,registerRuntimeCompiler:eK,render:L$,renderList:je,renderSlot:Rr,resolveComponent:on,resolveDirective:Dy,resolveDynamicComponent:gd,resolveFilter:fK,resolveTransitionHooks:Td,setBlockTracking:Wh,setDevtoolsHook:cK,setTransitionHooks:Da,shallowReactive:zE,shallowReadonly:hG,shallowRef:wy,ssrContextKey:n$,ssrUtils:dK,stop:KW,toDisplayString:F,toHandlerKey:Fc,toHandlers:LP,toRaw:sn,toRef:_G,toRefs:GE,toValue:gG,transformVNodeArgs:Yq,triggerRef:mG,unref:Ve,useAttrs:FP,useCssModule:VK,useCssVars:EK,useHost:D$,useId:BG,useModel:Pq,useSSRContext:s$,useShadowRoot:FK,useSlots:pq,useTemplateRef:UG,useTransitionState:KE,vModelCheckbox:Zt,vModelDynamic:ow,vModelRadio:Lr,vModelSelect:xt,vModelText:de,vShow:Hs,version:x$,warn:oK,watch:Rn,watchEffect:i$,watchPostEffect:Iq,watchSyncEffect:r$,withAsyncContext:bq,withCtx:Pe,withDefaults:hq,withDirectives:Y,withKeys:Op,withMemo:rK,withModifiers:wt,withScopeId:LG},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let U$;const Iy=t=>U$=t,H$=Symbol();function sS(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var dh;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(dh||(dh={}));function tY(){const t=FE(!0),e=t.run(()=>H({}));let n=[],s=[];const i=Ap({install(r){Iy(i),i._a=r,r.provide(H$,i),r.config.globalProperties.$pinia=i,s.forEach(o=>n.push(o)),s=[]},use(r){return this._a?n.push(r):s.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const z$=()=>{};function Y2(t,e,n,s=z$){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),s())};return!n&&VE()&&YN(i),i}function ju(t,...e){t.slice().forEach(n=>{n(...e)})}const nY=t=>t(),X2=Symbol(),dx=Symbol();function iS(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],i=t[n];sS(i)&&sS(s)&&t.hasOwnProperty(n)&&!Kn(s)&&!Ao(s)?t[n]=iS(i,s):t[n]=s}return t}const sY=Symbol();function iY(t){return!sS(t)||!Object.prototype.hasOwnProperty.call(t,sY)}const{assign:tl}=Object;function rY(t){return!!(Kn(t)&&t.effect)}function oY(t,e,n,s){const{state:i,actions:r,getters:o}=e,a=n.state.value[t];let c;function u(){a||(n.state.value[t]=i?i():{});const d=GE(n.state.value[t]);return tl(d,r,Object.keys(o||{}).reduce((f,h)=>(f[h]=Ap(we(()=>{Iy(n);const m=n._s.get(t);return o[h].call(m,m)})),f),{}))}return c=j$(t,u,e,n,s,!0),c}function j$(t,e,n={},s,i,r){let o;const a=tl({actions:{}},n),c={deep:!0};let u,d,f=[],h=[],m;const g=s.state.value[t];!r&&!g&&(s.state.value[t]={}),H({});let y;function b(M){let P;u=d=!1,typeof M=="function"?(M(s.state.value[t]),P={type:dh.patchFunction,storeId:t,events:m}):(iS(s.state.value[t],M),P={type:dh.patchObject,payload:M,storeId:t,events:m});const V=y=Symbol();Ma().then(()=>{y===V&&(u=!0)}),d=!0,ju(f,P,s.state.value[t])}const x=r?function(){const{state:P}=n,V=P?P():{};this.$patch(I=>{tl(I,V)})}:z$;function E(){o.stop(),f=[],h=[],s._s.delete(t)}const C=(M,P="")=>{if(X2 in M)return M[dx]=P,M;const V=function(){Iy(s);const I=Array.from(arguments),w=[],D=[];function A(q){w.push(q)}function B(q){D.push(q)}ju(h,{args:I,name:V[dx],store:T,after:A,onError:B});let N;try{N=M.apply(this&&this.$id===t?this:T,I)}catch(q){throw ju(D,q),q}return N instanceof Promise?N.then(q=>(ju(w,q),q)).catch(q=>(ju(D,q),Promise.reject(q))):(ju(w,N),N)};return V[X2]=!0,V[dx]=P,V},_={_p:s,$id:t,$onAction:Y2.bind(null,h),$patch:b,$reset:x,$subscribe(M,P={}){const V=Y2(f,M,P.detached,()=>I()),I=o.run(()=>Rn(()=>s.state.value[t],w=>{(P.flush==="sync"?d:u)&&M({storeId:t,type:dh.direct,events:m},w)},tl({},c,P)));return V},$dispose:E},T=No(_);s._s.set(t,T);const $=(s._a&&s._a.runWithContext||nY)(()=>s._e.run(()=>(o=FE()).run(()=>e({action:C}))));for(const M in $){const P=$[M];if(Kn(P)&&!rY(P)||Ao(P))r||(g&&iY(P)&&(Kn(P)?P.value=g[M]:iS(P,g[M])),s.state.value[t][M]=P);else if(typeof P=="function"){const V=C(P,M);$[M]=V,a.actions[M]=P}}return tl(T,$),tl(sn(T),$),Object.defineProperty(T,"$state",{get:()=>s.state.value[t],set:M=>{b(P=>{tl(P,M)})}}),s._p.forEach(M=>{tl(T,o.run(()=>M({store:T,app:s._a,pinia:s,options:a})))}),g&&r&&n.hydrate&&n.hydrate(T.$state,g),u=!0,d=!0,T}/*! #__NO_SIDE_EFFECTS__ */function aY(t,e,n){let s;const i=typeof e=="function";s=i?n:e;function r(o,a){const c=HP();return o=o||(c?fr(H$,null):null),o&&Iy(o),o=U$,o._s.has(t)||(i?j$(t,e,s,o):oY(t,s,o)),o._s.get(t)}return r.$id=t,r}const lY=We({__name:"App",setup(t){return(e,n)=>{const s=on("router-view");return O(),is(s)}}});/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const sd=typeof document<"u";function W$(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function cY(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&W$(t.default)}const pn=Object.assign;function fx(t,e){const n={};for(const s in e){const i=e[s];n[s]=ro(i)?i.map(t):t(i)}return n}const fh=()=>{},ro=Array.isArray;function J2(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const G$=/#/g,uY=/&/g,dY=/\//g,fY=/=/g,hY=/\?/g,q$=/\+/g,pY=/%5B/g,mY=/%5D/g,K$=/%5E/g,gY=/%60/g,Y$=/%7B/g,vY=/%7C/g,X$=/%7D/g,bY=/%20/g;function aw(t){return t==null?"":encodeURI(""+t).replace(vY,"|").replace(pY,"[").replace(mY,"]")}function yY(t){return aw(t).replace(Y$,"{").replace(X$,"}").replace(K$,"^")}function rS(t){return aw(t).replace(q$,"%2B").replace(bY,"+").replace(G$,"%23").replace(uY,"%26").replace(gY,"`").replace(Y$,"{").replace(X$,"}").replace(K$,"^")}function xY(t){return rS(t).replace(fY,"%3D")}function _Y(t){return aw(t).replace(G$,"%23").replace(hY,"%3F")}function SY(t){return _Y(t).replace(dY,"%2F")}function qh(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const EY=/\/$/,wY=t=>t.replace(EY,"");function hx(t,e,n="/"){let s,i={},r="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return c=a>=0&&c>a?-1:c,c>=0&&(s=e.slice(0,c),r=e.slice(c,a>0?a:e.length),i=t(r.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=TY(s??e,n),{fullPath:s+r+o,path:s,query:i,hash:qh(o)}}function CY(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Q2(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function AY(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Md(e.matched[s],n.matched[i])&&J$(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Md(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function J$(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!kY(t[n],e[n]))return!1;return!0}function kY(t,e){return ro(t)?Z2(t,e):ro(e)?Z2(e,t):t===e}function Z2(t,e){return ro(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function TY(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const Xa={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let oS=(function(t){return t.pop="pop",t.push="push",t})({}),px=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function DY(t){if(!t)if(sd){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),wY(t)}const OY=/^[^#]+#/;function RY(t,e){return t.replace(OY,"#")+e}function MY(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ny=()=>({left:window.scrollX,top:window.scrollY});function IY(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=MY(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function eD(t,e){return(history.state?history.state.position-e:-1)+t}const aS=new Map;function NY(t,e){aS.set(t,e)}function PY(t){const e=aS.get(t);return aS.delete(t),e}function $Y(t){return typeof t=="string"||t&&typeof t=="object"}function Q$(t){return typeof t=="string"||typeof t=="symbol"}let Zn=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Z$=Symbol("");Zn.MATCHER_NOT_FOUND+"",Zn.NAVIGATION_GUARD_REDIRECT+"",Zn.NAVIGATION_ABORTED+"",Zn.NAVIGATION_CANCELLED+"",Zn.NAVIGATION_DUPLICATED+"";function Id(t,e){return pn(new Error,{type:t,[Z$]:!0},e)}function Ko(t,e){return t instanceof Error&&Z$ in t&&(e==null||!!(t.type&e))}const LY=["params","query","hash"];function FY(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of LY)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function VY(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(q$," "),r=i.indexOf("="),o=qh(r<0?i:i.slice(0,r)),a=r<0?null:qh(i.slice(r+1));if(o in e){let c=e[o];ro(c)||(c=e[o]=[c]),c.push(a)}else e[o]=a}return e}function tD(t){let e="";for(let n in t){const s=t[n];if(n=xY(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(ro(s)?s.map(i=>i&&rS(i)):[s&&rS(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function BY(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=ro(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const UY=Symbol(""),nD=Symbol(""),Py=Symbol(""),lw=Symbol(""),lS=Symbol("");function Tf(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ol(t,e,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const u=h=>{h===!1?c(Id(Zn.NAVIGATION_ABORTED,{from:n,to:e})):h instanceof Error?c(h):$Y(h)?c(Id(Zn.NAVIGATION_GUARD_REDIRECT,{from:e,to:h})):(o&&s.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},d=r(()=>t.call(s&&s.instances[i],e,n,u));let f=Promise.resolve(d);t.length<3&&(f=f.then(u)),f.catch(h=>c(h))})}function mx(t,e,n,s,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(W$(c)){const u=(c.__vccOpts||c)[e];u&&r.push(ol(u,n,s,o,a,i))}else{let u=c();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=cY(d)?d.default:d;o.mods[a]=d,o.components[a]=f;const h=(f.__vccOpts||f)[e];return h&&ol(h,n,s,o,a,i)()}))}}return r}function HY(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(u=>Md(u,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>Md(u,c))||i.push(c))}return[n,s,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zY=()=>location.protocol+"//"+location.host;function eL(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let o=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),Q2(a,"")}return Q2(n,t)+s+i}function jY(t,e,n,s){let i=[],r=[],o=null;const a=({state:h})=>{const m=eL(t,location),g=n.value,y=e.value;let b=0;if(h){if(n.value=m,e.value=h,o&&o===g){o=null;return}b=y?h.position-y.position:0}else s(m);i.forEach(x=>{x(n.value,g,{delta:b,type:oS.pop,direction:b?b>0?px.forward:px.back:px.unknown})})};function c(){o=n.value}function u(h){i.push(h);const m=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return r.push(m),m}function d(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(pn({},h.state,{scroll:Ny()}),"")}}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:c,listen:u,destroy:f}}function sD(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?Ny():null}}function WY(t){const{history:e,location:n}=window,s={value:eL(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(c,u,d){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:zY()+t+c;try{e[d?"replaceState":"pushState"](u,"",h),i.value=u}catch(m){console.error(m),n[d?"replace":"assign"](h)}}function o(c,u){r(c,pn({},e.state,sD(i.value.back,c,i.value.forward,!0),u,{position:i.value.position}),!0),s.value=c}function a(c,u){const d=pn({},i.value,e.state,{forward:c,scroll:Ny()});r(d.current,d,!0),r(c,pn({},sD(s.value,c,null),{position:d.position+1},u),!1),s.value=c}return{location:s,state:i,push:a,replace:o}}function GY(t){t=DY(t);const e=WY(t),n=jY(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=pn({location:"",base:t,go:s,createHref:RY.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let Dc=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Es=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Es||{});const qY={type:Dc.Static,value:""},KY=/[a-zA-Z0-9_]/;function YY(t){if(!t)return[[]];if(t==="/")return[[qY]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=Es.Static,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,c,u="",d="";function f(){u&&(n===Es.Static?r.push({type:Dc.Static,value:u}):n===Es.Param||n===Es.ParamRegExp||n===Es.ParamRegExpEnd?(r.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:Dc.Param,value:u,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==Es.ParamRegExp){s=n,n=Es.EscapeNext;continue}switch(n){case Es.Static:c==="/"?(u&&f(),o()):c===":"?(f(),n=Es.Param):h();break;case Es.EscapeNext:h(),n=s;break;case Es.Param:c==="("?n=Es.ParamRegExp:KY.test(c)?h():(f(),n=Es.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case Es.ParamRegExp:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:n=Es.ParamRegExpEnd:d+=c;break;case Es.ParamRegExpEnd:f(),n=Es.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===Es.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}const iD="[^/]+?",XY={sensitive:!1,strict:!1,start:!0,end:!0};var wi=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(wi||{});const JY=/[.+*?^${}()[\]/\\]/g;function QY(t,e){const n=pn({},XY,e),s=[];let i=n.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[wi.Root];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const h=u[f];let m=wi.Segment+(n.sensitive?wi.BonusCaseSensitive:0);if(h.type===Dc.Static)f||(i+="/"),i+=h.value.replace(JY,"\\$&"),m+=wi.Static;else if(h.type===Dc.Param){const{value:g,repeatable:y,optional:b,regexp:x}=h;r.push({name:g,repeatable:y,optional:b});const E=x||iD;if(E!==iD){m+=wi.BonusCustomRegExp;try{`${E}`}catch(_){throw new Error(`Invalid custom RegExp for param "${g}" (${E}): `+_.message)}}let C=y?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;f||(C=b&&u.length<2?`(?:/${C})`:"/"+C),b&&(C+="?"),i+=C,m+=wi.Dynamic,b&&(m+=wi.BonusOptional),y&&(m+=wi.BonusRepeatable),E===".*"&&(m+=wi.BonusWildcard)}d.push(m)}s.push(d)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=wi.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const d=u.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const m=d[h]||"",g=r[h-1];f[g.name]=m&&g.repeatable?m.split("/"):m}return f}function c(u){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of h)if(m.type===Dc.Static)d+=m.value;else if(m.type===Dc.Param){const{value:g,repeatable:y,optional:b}=m,x=g in u?u[g]:"";if(ro(x)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const E=ro(x)?x.join("/"):x;if(!E)if(b)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);d+=E}}return d||"/"}return{re:o,score:s,keys:r,parse:a,stringify:c}}function ZY(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===wi.Static+wi.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===wi.Static+wi.Segment?1:-1:0}function tL(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=ZY(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(rD(s))return 1;if(rD(i))return-1}return i.length-s.length}function rD(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const eX={strict:!1,end:!0,sensitive:!1};function tX(t,e,n){const s=QY(YY(t.path),n),i=pn(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function nX(t,e){const n=[],s=new Map;e=J2(eX,e);function i(f){return s.get(f)}function r(f,h,m){const g=!m,y=aD(f);y.aliasOf=m&&m.record;const b=J2(e,f),x=[y];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const T of _)x.push(aD(pn({},y,{components:m?m.record.components:y.components,path:T,aliasOf:m?m.record:y})))}let E,C;for(const _ of x){const{path:T}=_;if(h&&T[0]!=="/"){const k=h.record.path,$=k[k.length-1]==="/"?"":"/";_.path=h.record.path+(T&&$+T)}if(E=tX(_,h,b),m?m.alias.push(E):(C=C||E,C!==E&&C.alias.push(E),g&&f.name&&!lD(E)&&o(f.name)),nL(E)&&c(E),y.children){const k=y.children;for(let $=0;$<k.length;$++)r(k[$],E,m&&m.children[$])}m=m||E}return C?()=>{o(C)}:fh}function o(f){if(Q$(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function c(f){const h=rX(f,n);n.splice(h,0,f),f.record.name&&!lD(f)&&s.set(f.record.name,f)}function u(f,h){let m,g={},y,b;if("name"in f&&f.name){if(m=s.get(f.name),!m)throw Id(Zn.MATCHER_NOT_FOUND,{location:f});b=m.record.name,g=pn(oD(h.params,m.keys.filter(C=>!C.optional).concat(m.parent?m.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),f.params&&oD(f.params,m.keys.map(C=>C.name))),y=m.stringify(g)}else if(f.path!=null)y=f.path,m=n.find(C=>C.re.test(y)),m&&(g=m.parse(y),b=m.record.name);else{if(m=h.name?s.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw Id(Zn.MATCHER_NOT_FOUND,{location:f,currentLocation:h});b=m.record.name,g=pn({},h.params,f.params),y=m.stringify(g)}const x=[];let E=m;for(;E;)x.unshift(E.record),E=E.parent;return{name:b,path:y,params:g,matched:x,meta:iX(x)}}t.forEach(f=>r(f));function d(){n.length=0,s.clear()}return{addRoute:r,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function oD(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function aD(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:sX(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function sX(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function lD(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function iX(t){return t.reduce((e,n)=>pn(e,n.meta),{})}function rX(t,e){let n=0,s=e.length;for(;n!==s;){const r=n+s>>1;tL(t,e[r])<0?s=r:n=r+1}const i=oX(t);return i&&(s=e.lastIndexOf(i,s-1)),s}function oX(t){let e=t;for(;e=e.parent;)if(nL(e)&&tL(t,e)===0)return e}function nL({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function cD(t){const e=fr(Py),n=fr(lw),s=we(()=>{const c=Ve(t.to);return e.resolve(c)}),i=we(()=>{const{matched:c}=s.value,{length:u}=c,d=c[u-1],f=n.matched;if(!d||!f.length)return-1;const h=f.findIndex(Md.bind(null,d));if(h>-1)return h;const m=uD(c[u-2]);return u>1&&uD(d)===m&&f[f.length-1].path!==m?f.findIndex(Md.bind(null,c[u-2])):h}),r=we(()=>i.value>-1&&dX(n.params,s.value.params)),o=we(()=>i.value>-1&&i.value===n.matched.length-1&&J$(n.params,s.value.params));function a(c={}){if(uX(c)){const u=e[Ve(t.replace)?"replace":"push"](Ve(t.to)).catch(fh);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:s,href:we(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function aX(t){return t.length===1?t[0]:t}const lX=We({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:cD,setup(t,{slots:e}){const n=No(cD(t)),{options:s}=fr(Py),i=we(()=>({[dD(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[dD(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&aX(e.default(n));return t.custom?r:so("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),cX=lX;function uX(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function dX(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!ro(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function uD(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const dD=(t,e,n)=>t??e??n,fX=We({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=fr(lS),i=we(()=>t.route||s.value),r=fr(nD,0),o=we(()=>{let u=Ve(r);const{matched:d}=i.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=we(()=>i.value.matched[o.value]);lh(nD,we(()=>o.value+1)),lh(UY,a),lh(lS,i);const c=H();return Rn(()=>[c.value,a.value,t.name],([u,d,f],[h,m,g])=>{d&&(d.instances[f]=u,m&&m!==d&&u&&u===h&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),u&&d&&(!m||!Md(d,m)||!h)&&(d.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=i.value,d=t.name,f=a.value,h=f&&f.components[d];if(!h)return fD(n.default,{Component:h,route:u});const m=f.props[d],g=m?m===!0?u.params:typeof m=="function"?m(u):m:null,b=so(h,pn({},g,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[d]=null)},ref:c}));return fD(n.default,{Component:b,route:u})||b}}});function fD(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const hX=fX;function pX(t){const e=nX(t.routes,t),n=t.parseQuery||VY,s=t.stringifyQuery||tD,i=t.history,r=Tf(),o=Tf(),a=Tf(),c=wy(Xa);let u=Xa;sd&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=fx.bind(null,se=>""+se),f=fx.bind(null,SY),h=fx.bind(null,qh);function m(se,xe){let Ie,Je;return Q$(se)?(Ie=e.getRecordMatcher(se),Je=xe):Je=se,e.addRoute(Je,Ie)}function g(se){const xe=e.getRecordMatcher(se);xe&&e.removeRoute(xe)}function y(){return e.getRoutes().map(se=>se.record)}function b(se){return!!e.getRecordMatcher(se)}function x(se,xe){if(xe=pn({},xe||c.value),typeof se=="string"){const X=hx(n,se,xe.path),ue=e.resolve({path:X.path},xe),Ee=i.createHref(X.fullPath);return pn(X,ue,{params:h(ue.params),hash:qh(X.hash),redirectedFrom:void 0,href:Ee})}let Ie;if(se.path!=null)Ie=pn({},se,{path:hx(n,se.path,xe.path).path});else{const X=pn({},se.params);for(const ue in X)X[ue]==null&&delete X[ue];Ie=pn({},se,{params:f(X)}),xe.params=f(xe.params)}const Je=e.resolve(Ie,xe),mt=se.hash||"";Je.params=d(h(Je.params));const Ut=CY(s,pn({},se,{hash:yY(mt),path:Je.path})),K=i.createHref(Ut);return pn({fullPath:Ut,hash:mt,query:s===tD?BY(se.query):se.query||{}},Je,{redirectedFrom:void 0,href:K})}function E(se){return typeof se=="string"?hx(n,se,c.value.path):pn({},se)}function C(se,xe){if(u!==se)return Id(Zn.NAVIGATION_CANCELLED,{from:xe,to:se})}function _(se){return $(se)}function T(se){return _(pn(E(se),{replace:!0}))}function k(se,xe){const Ie=se.matched[se.matched.length-1];if(Ie&&Ie.redirect){const{redirect:Je}=Ie;let mt=typeof Je=="function"?Je(se,xe):Je;return typeof mt=="string"&&(mt=mt.includes("?")||mt.includes("#")?mt=E(mt):{path:mt},mt.params={}),pn({query:se.query,hash:se.hash,params:mt.path!=null?{}:se.params},mt)}}function $(se,xe){const Ie=u=x(se),Je=c.value,mt=se.state,Ut=se.force,K=se.replace===!0,X=k(Ie,Je);if(X)return $(pn(E(X),{state:typeof X=="object"?pn({},mt,X.state):mt,force:Ut,replace:K}),xe||Ie);const ue=Ie;ue.redirectedFrom=xe;let Ee;return!Ut&&AY(s,Je,Ie)&&(Ee=Id(Zn.NAVIGATION_DUPLICATED,{to:ue,from:Je}),ge(Je,Je,!0,!1)),(Ee?Promise.resolve(Ee):V(ue,Je)).catch(ve=>Ko(ve)?Ko(ve,Zn.NAVIGATION_GUARD_REDIRECT)?ve:Le(ve):W(ve,ue,Je)).then(ve=>{if(ve){if(Ko(ve,Zn.NAVIGATION_GUARD_REDIRECT))return $(pn({replace:K},E(ve.to),{state:typeof ve.to=="object"?pn({},mt,ve.to.state):mt,force:Ut}),xe||ue)}else ve=w(ue,Je,!0,K,mt);return I(ue,Je,ve),ve})}function M(se,xe){const Ie=C(se,xe);return Ie?Promise.reject(Ie):Promise.resolve()}function P(se){const xe=Mt.values().next().value;return xe&&typeof xe.runWithContext=="function"?xe.runWithContext(se):se()}function V(se,xe){let Ie;const[Je,mt,Ut]=HY(se,xe);Ie=mx(Je.reverse(),"beforeRouteLeave",se,xe);for(const X of Je)X.leaveGuards.forEach(ue=>{Ie.push(ol(ue,se,xe))});const K=M.bind(null,se,xe);return Ie.push(K),ae(Ie).then(()=>{Ie=[];for(const X of r.list())Ie.push(ol(X,se,xe));return Ie.push(K),ae(Ie)}).then(()=>{Ie=mx(mt,"beforeRouteUpdate",se,xe);for(const X of mt)X.updateGuards.forEach(ue=>{Ie.push(ol(ue,se,xe))});return Ie.push(K),ae(Ie)}).then(()=>{Ie=[];for(const X of Ut)if(X.beforeEnter)if(ro(X.beforeEnter))for(const ue of X.beforeEnter)Ie.push(ol(ue,se,xe));else Ie.push(ol(X.beforeEnter,se,xe));return Ie.push(K),ae(Ie)}).then(()=>(se.matched.forEach(X=>X.enterCallbacks={}),Ie=mx(Ut,"beforeRouteEnter",se,xe,P),Ie.push(K),ae(Ie))).then(()=>{Ie=[];for(const X of o.list())Ie.push(ol(X,se,xe));return Ie.push(K),ae(Ie)}).catch(X=>Ko(X,Zn.NAVIGATION_CANCELLED)?X:Promise.reject(X))}function I(se,xe,Ie){a.list().forEach(Je=>P(()=>Je(se,xe,Ie)))}function w(se,xe,Ie,Je,mt){const Ut=C(se,xe);if(Ut)return Ut;const K=xe===Xa,X=sd?history.state:{};Ie&&(Je||K?i.replace(se.fullPath,pn({scroll:K&&X&&X.scroll},mt)):i.push(se.fullPath,mt)),c.value=se,ge(se,xe,Ie,K),Le()}let D;function A(){D||(D=i.listen((se,xe,Ie)=>{if(!Oe.listening)return;const Je=x(se),mt=k(Je,Oe.currentRoute.value);if(mt){$(pn(mt,{replace:!0,force:!0}),Je).catch(fh);return}u=Je;const Ut=c.value;sd&&NY(eD(Ut.fullPath,Ie.delta),Ny()),V(Je,Ut).catch(K=>Ko(K,Zn.NAVIGATION_ABORTED|Zn.NAVIGATION_CANCELLED)?K:Ko(K,Zn.NAVIGATION_GUARD_REDIRECT)?($(pn(E(K.to),{force:!0}),Je).then(X=>{Ko(X,Zn.NAVIGATION_ABORTED|Zn.NAVIGATION_DUPLICATED)&&!Ie.delta&&Ie.type===oS.pop&&i.go(-1,!1)}).catch(fh),Promise.reject()):(Ie.delta&&i.go(-Ie.delta,!1),W(K,Je,Ut))).then(K=>{K=K||w(Je,Ut,!1),K&&(Ie.delta&&!Ko(K,Zn.NAVIGATION_CANCELLED)?i.go(-Ie.delta,!1):Ie.type===oS.pop&&Ko(K,Zn.NAVIGATION_ABORTED|Zn.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),I(Je,Ut,K)}).catch(fh)}))}let B=Tf(),N=Tf(),q;function W(se,xe,Ie){Le(se);const Je=N.list();return Je.length?Je.forEach(mt=>mt(se,xe,Ie)):console.error(se),Promise.reject(se)}function Z(){return q&&c.value!==Xa?Promise.resolve():new Promise((se,xe)=>{B.add([se,xe])})}function Le(se){return q||(q=!se,A(),B.list().forEach(([xe,Ie])=>se?Ie(se):xe()),B.reset()),se}function ge(se,xe,Ie,Je){const{scrollBehavior:mt}=t;if(!sd||!mt)return Promise.resolve();const Ut=!Ie&&PY(eD(se.fullPath,0))||(Je||!Ie)&&history.state&&history.state.scroll||null;return Ma().then(()=>mt(se,xe,Ut)).then(K=>K&&IY(K)).catch(K=>W(K,se,xe))}const qe=se=>i.go(se);let lt;const Mt=new Set,Oe={currentRoute:c,listening:!0,addRoute:m,removeRoute:g,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:y,resolve:x,options:t,push:_,replace:T,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:N.add,isReady:Z,install(se){se.component("RouterLink",cX),se.component("RouterView",hX),se.config.globalProperties.$router=Oe,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>Ve(c)}),sd&&!lt&&c.value===Xa&&(lt=!0,_(i.location).catch(Je=>{}));const xe={};for(const Je in Xa)Object.defineProperty(xe,Je,{get:()=>c.value[Je],enumerable:!0});se.provide(Py,Oe),se.provide(lw,zE(xe)),se.provide(lS,c);const Ie=se.unmount;Mt.add(se),se.unmount=function(){Mt.delete(se),Mt.size<1&&(u=Xa,D&&D(),D=null,c.value=Xa,lt=!1,q=!1),Ie()}}};function ae(se){return se.reduce((xe,Ie)=>xe.then(()=>P(Ie)),Promise.resolve())}return Oe}function an(){return fr(Py)}function ms(t){return fr(lw)}function sL(t,e){return function(){return t.apply(e,arguments)}}const{toString:mX}=Object.prototype,{getPrototypeOf:cw}=Object,{iterator:$y,toStringTag:iL}=Symbol,Ly=(t=>e=>{const n=mX.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ao=t=>(t=t.toLowerCase(),e=>Ly(e)===t),Fy=t=>e=>typeof e===t,{isArray:tf}=Array,Nd=Fy("undefined");function Rp(t){return t!==null&&!Nd(t)&&t.constructor!==null&&!Nd(t.constructor)&&Ki(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const rL=ao("ArrayBuffer");function gX(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&rL(t.buffer),e}const vX=Fy("string"),Ki=Fy("function"),oL=Fy("number"),Mp=t=>t!==null&&typeof t=="object",bX=t=>t===!0||t===!1,Wg=t=>{if(Ly(t)!=="object")return!1;const e=cw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(iL in t)&&!($y in t)},yX=t=>{if(!Mp(t)||Rp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},xX=ao("Date"),_X=ao("File"),SX=ao("Blob"),EX=ao("FileList"),wX=t=>Mp(t)&&Ki(t.pipe),CX=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ki(t.append)&&((e=Ly(t))==="formdata"||e==="object"&&Ki(t.toString)&&t.toString()==="[object FormData]"))},AX=ao("URLSearchParams"),[kX,TX,DX,OX]=["ReadableStream","Request","Response","Headers"].map(ao),RX=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ip(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),tf(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(Rp(t))return;const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(s=0;s<o;s++)a=r[s],e.call(null,t[a],a,t)}}function aL(t,e){if(Rp(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Oc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lL=t=>!Nd(t)&&t!==Oc;function cS(){const{caseless:t,skipUndefined:e}=lL(this)&&this||{},n={},s=(i,r)=>{const o=t&&aL(n,r)||r;Wg(n[o])&&Wg(i)?n[o]=cS(n[o],i):Wg(i)?n[o]=cS({},i):tf(i)?n[o]=i.slice():(!e||!Nd(i))&&(n[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Ip(arguments[i],s);return n}const MX=(t,e,n,{allOwnKeys:s}={})=>(Ip(e,(i,r)=>{n&&Ki(i)?t[r]=sL(i,n):t[r]=i},{allOwnKeys:s}),t),IX=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),NX=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},PX=(t,e,n,s)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&cw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},$X=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},LX=t=>{if(!t)return null;if(tf(t))return t;let e=t.length;if(!oL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},FX=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&cw(Uint8Array)),VX=(t,e)=>{const s=(t&&t[$y]).call(t);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},BX=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},UX=ao("HTMLFormElement"),HX=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),hD=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),zX=ao("RegExp"),cL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Ip(n,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(s[r]=o||i)}),Object.defineProperties(t,s)},jX=t=>{cL(t,(e,n)=>{if(Ki(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Ki(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},WX=(t,e)=>{const n={},s=i=>{i.forEach(r=>{n[r]=!0})};return tf(t)?s(t):s(String(t).split(e)),n},GX=()=>{},qX=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function KX(t){return!!(t&&Ki(t.append)&&t[iL]==="FormData"&&t[$y])}const YX=t=>{const e=new Array(10),n=(s,i)=>{if(Mp(s)){if(e.indexOf(s)>=0)return;if(Rp(s))return s;if(!("toJSON"in s)){e[i]=s;const r=tf(s)?[]:{};return Ip(s,(o,a)=>{const c=n(o,i+1);!Nd(c)&&(r[a]=c)}),e[i]=void 0,r}}return s};return n(t,0)},XX=ao("AsyncFunction"),JX=t=>t&&(Mp(t)||Ki(t))&&Ki(t.then)&&Ki(t.catch),uL=((t,e)=>t?setImmediate:e?((n,s)=>(Oc.addEventListener("message",({source:i,data:r})=>{i===Oc&&r===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Oc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ki(Oc.postMessage)),QX=typeof queueMicrotask<"u"?queueMicrotask.bind(Oc):typeof process<"u"&&process.nextTick||uL,ZX=t=>t!=null&&Ki(t[$y]),pe={isArray:tf,isArrayBuffer:rL,isBuffer:Rp,isFormData:CX,isArrayBufferView:gX,isString:vX,isNumber:oL,isBoolean:bX,isObject:Mp,isPlainObject:Wg,isEmptyObject:yX,isReadableStream:kX,isRequest:TX,isResponse:DX,isHeaders:OX,isUndefined:Nd,isDate:xX,isFile:_X,isBlob:SX,isRegExp:zX,isFunction:Ki,isStream:wX,isURLSearchParams:AX,isTypedArray:FX,isFileList:EX,forEach:Ip,merge:cS,extend:MX,trim:RX,stripBOM:IX,inherits:NX,toFlatObject:PX,kindOf:Ly,kindOfTest:ao,endsWith:$X,toArray:LX,forEachEntry:VX,matchAll:BX,isHTMLForm:UX,hasOwnProperty:hD,hasOwnProp:hD,reduceDescriptors:cL,freezeMethods:jX,toObjectSet:WX,toCamelCase:HX,noop:GX,toFiniteNumber:qX,findKey:aL,global:Oc,isContextDefined:lL,isSpecCompliantForm:KX,toJSONObject:YX,isAsyncFn:XX,isThenable:JX,setImmediate:uL,asap:QX,isIterable:ZX};function Nt(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(Nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const dL=Nt.prototype,fL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fL[t]={value:t}});Object.defineProperties(Nt,fL);Object.defineProperty(dL,"isAxiosError",{value:!0});Nt.from=(t,e,n,s,i,r)=>{const o=Object.create(dL);pe.toFlatObject(t,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return Nt.call(o,a,c,n,s,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const eJ=null;function uS(t){return pe.isPlainObject(t)||pe.isArray(t)}function hL(t){return pe.endsWith(t,"[]")?t.slice(0,-2):t}function pD(t,e,n){return t?t.concat(e).map(function(i,r){return i=hL(i),!n&&r?"["+i+"]":i}).join(n?".":""):e}function tJ(t){return pe.isArray(t)&&!t.some(uS)}const nJ=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function Vy(t,e,n){if(!pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!pe.isUndefined(b[y])});const s=n.metaTokens,i=n.visitor||d,r=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(pe.isDate(g))return g.toISOString();if(pe.isBoolean(g))return g.toString();if(!c&&pe.isBlob(g))throw new Nt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(g)||pe.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,b){let x=g;if(g&&!b&&typeof g=="object"){if(pe.endsWith(y,"{}"))y=s?y:y.slice(0,-2),g=JSON.stringify(g);else if(pe.isArray(g)&&tJ(g)||(pe.isFileList(g)||pe.endsWith(y,"[]"))&&(x=pe.toArray(g)))return y=hL(y),x.forEach(function(C,_){!(pe.isUndefined(C)||C===null)&&e.append(o===!0?pD([y],_,r):o===null?y:y+"[]",u(C))}),!1}return uS(g)?!0:(e.append(pD(b,y,r),u(g)),!1)}const f=[],h=Object.assign(nJ,{defaultVisitor:d,convertValue:u,isVisitable:uS});function m(g,y){if(!pe.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),pe.forEach(g,function(x,E){(!(pe.isUndefined(x)||x===null)&&i.call(e,x,pe.isString(E)?E.trim():E,y,h))===!0&&m(x,y?y.concat(E):[E])}),f.pop()}}if(!pe.isObject(t))throw new TypeError("data must be an object");return m(t),e}function mD(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function uw(t,e){this._pairs=[],t&&Vy(t,this,e)}const pL=uw.prototype;pL.append=function(e,n){this._pairs.push([e,n])};pL.toString=function(e){const n=e?function(s){return e.call(this,s,mD)}:mD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sJ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mL(t,e,n){if(!e)return t;const s=n&&n.encode||sJ;pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let r;if(i?r=i(e,n):r=pe.isURLSearchParams(e)?e.toString():new uw(e,n).toString(s),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class gD{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(s){s!==null&&e(s)})}}const gL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iJ=typeof URLSearchParams<"u"?URLSearchParams:uw,rJ=typeof FormData<"u"?FormData:null,oJ=typeof Blob<"u"?Blob:null,aJ={isBrowser:!0,classes:{URLSearchParams:iJ,FormData:rJ,Blob:oJ},protocols:["http","https","file","blob","url","data"]},dw=typeof window<"u"&&typeof document<"u",dS=typeof navigator=="object"&&navigator||void 0,lJ=dw&&(!dS||["ReactNative","NativeScript","NS"].indexOf(dS.product)<0),cJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uJ=dw&&window.location.href||"http://localhost",dJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:dw,hasStandardBrowserEnv:lJ,hasStandardBrowserWebWorkerEnv:cJ,navigator:dS,origin:uJ},Symbol.toStringTag,{value:"Module"})),ai={...dJ,...aJ};function fJ(t,e){return Vy(t,new ai.classes.URLSearchParams,{visitor:function(n,s,i,r){return ai.isNode&&pe.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function hJ(t){return pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function pJ(t){const e={},n=Object.keys(t);let s;const i=n.length;let r;for(s=0;s<i;s++)r=n[s],e[r]=t[r];return e}function vL(t){function e(n,s,i,r){let o=n[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=r>=n.length;return o=!o&&pe.isArray(i)?i.length:o,c?(pe.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!a):((!i[o]||!pe.isObject(i[o]))&&(i[o]=[]),e(n,s,i[o],r)&&pe.isArray(i[o])&&(i[o]=pJ(i[o])),!a)}if(pe.isFormData(t)&&pe.isFunction(t.entries)){const n={};return pe.forEachEntry(t,(s,i)=>{e(hJ(s),i,n,0)}),n}return null}function mJ(t,e,n){if(pe.isString(t))try{return(e||JSON.parse)(t),pe.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Np={transitional:gL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,r=pe.isObject(e);if(r&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return i?JSON.stringify(vL(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return fJ(e,this.formSerializer).toString();if((a=pe.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Vy(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||i?(n.setContentType("application/json",!1),mJ(e)):e}],transformResponse:[function(e){const n=this.transitional||Np.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Nt.from(a,Nt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ai.classes.FormData,Blob:ai.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],t=>{Np.headers[t]={}});const gJ=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vJ=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||e[n]&&gJ[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},vD=Symbol("internals");function Df(t){return t&&String(t).trim().toLowerCase()}function Gg(t){return t===!1||t==null?t:pe.isArray(t)?t.map(Gg):String(t)}function bJ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const yJ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gx(t,e,n,s,i){if(pe.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!pe.isString(e)){if(pe.isString(s))return e.indexOf(s)!==-1;if(pe.isRegExp(s))return s.test(e)}}function xJ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function _J(t,e){const n=pe.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}let Yi=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function r(a,c,u){const d=Df(c);if(!d)throw new Error("header name must be a non-empty string");const f=pe.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=Gg(a))}const o=(a,c)=>pe.forEach(a,(u,d)=>r(u,d,c));if(pe.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(pe.isString(e)&&(e=e.trim())&&!yJ(e))o(vJ(e),n);else if(pe.isObject(e)&&pe.isIterable(e)){let a={},c,u;for(const d of e){if(!pe.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?pe.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,n)}else e!=null&&r(n,e,s);return this}get(e,n){if(e=Df(e),e){const s=pe.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return bJ(i);if(pe.isFunction(n))return n.call(this,i,s);if(pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Df(e),e){const s=pe.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||gx(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function r(o){if(o=Df(o),o){const a=pe.findKey(s,o);a&&(!n||gx(s,s[a],a,n))&&(delete s[a],i=!0)}}return pe.isArray(e)?e.forEach(r):r(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const r=n[s];(!e||gx(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const n=this,s={};return pe.forEach(this,(i,r)=>{const o=pe.findKey(s,r);if(o){n[o]=Gg(i),delete n[r];return}const a=e?xJ(r):String(r).trim();a!==r&&delete n[r],n[a]=Gg(i),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return pe.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&pe.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[vD]=this[vD]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=Df(o);s[a]||(_J(i,o),s[a]=!0)}return pe.isArray(e)?e.forEach(r):r(e),this}};Yi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Yi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});pe.freezeMethods(Yi);function vx(t,e){const n=this||Np,s=e||n,i=Yi.from(s.headers);let r=s.data;return pe.forEach(t,function(a){r=a.call(n,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function bL(t){return!!(t&&t.__CANCEL__)}function nf(t,e,n){Nt.call(this,t??"canceled",Nt.ERR_CANCELED,e,n),this.name="CanceledError"}pe.inherits(nf,Nt,{__CANCEL__:!0});function yL(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Nt("Request failed with status code "+n.status,[Nt.ERR_BAD_REQUEST,Nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function SJ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function EJ(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=s[r];o||(o=u),n[i]=c,s[i]=u;let f=r,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function wJ(t,e){let n=0,s=1e3/e,i,r;const o=(u,d=Date.now())=>{n=d,i=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=s?o(u,d):(i=u,r||(r=setTimeout(()=>{r=null,o(i)},s-f)))},()=>i&&o(i)]}const Lv=(t,e,n=3)=>{let s=0;const i=EJ(50,250);return wJ(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,c=o-s,u=i(c),d=o<=a;s=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},bD=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},yD=t=>(...e)=>pe.asap(()=>t(...e)),CJ=ai.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ai.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ai.origin),ai.navigator&&/(msie|trident)/i.test(ai.navigator.userAgent)):()=>!0,AJ=ai.hasStandardBrowserEnv?{write(t,e,n,s,i,r){const o=[t+"="+encodeURIComponent(e)];pe.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),pe.isString(s)&&o.push("path="+s),pe.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kJ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function TJ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function xL(t,e,n){let s=!kJ(e);return t&&(s||n==!1)?TJ(t,e):e}const xD=t=>t instanceof Yi?{...t}:t;function ru(t,e){e=e||{};const n={};function s(u,d,f,h){return pe.isPlainObject(u)&&pe.isPlainObject(d)?pe.merge.call({caseless:h},u,d):pe.isPlainObject(d)?pe.merge({},d):pe.isArray(d)?d.slice():d}function i(u,d,f,h){if(pe.isUndefined(d)){if(!pe.isUndefined(u))return s(void 0,u,f,h)}else return s(u,d,f,h)}function r(u,d){if(!pe.isUndefined(d))return s(void 0,d)}function o(u,d){if(pe.isUndefined(d)){if(!pe.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function a(u,d,f){if(f in e)return s(u,d);if(f in t)return s(void 0,u)}const c={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,f)=>i(xD(u),xD(d),f,!0)};return pe.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||i,h=f(t[d],e[d],d);pe.isUndefined(h)&&f!==a||(n[d]=h)}),n}const _L=t=>{const e=ru({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;if(e.headers=o=Yi.from(o),e.url=mL(xL(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),pe.isFormData(n)){if(ai.hasStandardBrowserEnv||ai.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(pe.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(ai.hasStandardBrowserEnv&&(s&&pe.isFunction(s)&&(s=s(e)),s||s!==!1&&CJ(e.url))){const c=i&&r&&AJ.read(r);c&&o.set(i,c)}return e},DJ=typeof XMLHttpRequest<"u",OJ=DJ&&function(t){return new Promise(function(n,s){const i=_L(t);let r=i.data;const o=Yi.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=i,d,f,h,m,g;function y(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function x(){if(!b)return;const C=Yi.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};yL(function($){n($),y()},function($){s($),y()},T),b=null}"onloadend"in b?b.onloadend=x:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(x)},b.onabort=function(){b&&(s(new Nt("Request aborted",Nt.ECONNABORTED,t,b)),b=null)},b.onerror=function(_){const T=_&&_.message?_.message:"Network Error",k=new Nt(T,Nt.ERR_NETWORK,t,b);k.event=_||null,s(k),b=null},b.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||gL;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),s(new Nt(_,T.clarifyTimeoutError?Nt.ETIMEDOUT:Nt.ECONNABORTED,t,b)),b=null},r===void 0&&o.setContentType(null),"setRequestHeader"in b&&pe.forEach(o.toJSON(),function(_,T){b.setRequestHeader(T,_)}),pe.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),u&&([h,g]=Lv(u,!0),b.addEventListener("progress",h)),c&&b.upload&&([f,m]=Lv(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=C=>{b&&(s(!C||C.type?new nf(null,t,b):C),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=SJ(i.url);if(E&&ai.protocols.indexOf(E)===-1){s(new Nt("Unsupported protocol "+E+":",Nt.ERR_BAD_REQUEST,t));return}b.send(r||null)})},RJ=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const r=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;s.abort(d instanceof Nt?d:new nf(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,r(new Nt(`timeout ${e} of ms exceeded`,Nt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:c}=s;return c.unsubscribe=()=>pe.asap(a),c}},MJ=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},IJ=async function*(t,e){for await(const n of NJ(t))yield*MJ(n,e)},NJ=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},_D=(t,e,n,s)=>{const i=IJ(t,e);let r=0,o,a=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){a(),c.close();return}let f=d.byteLength;if(n){let h=r+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},SD=64*1024,{isFunction:Jm}=pe,PJ=(({Request:t,Response:e})=>({Request:t,Response:e}))(pe.global),{ReadableStream:ED,TextEncoder:wD}=pe.global,CD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$J=t=>{t=pe.merge.call({skipUndefined:!0},PJ,t);const{fetch:e,Request:n,Response:s}=t,i=e?Jm(e):typeof fetch=="function",r=Jm(n),o=Jm(s);if(!i)return!1;const a=i&&Jm(ED),c=i&&(typeof wD=="function"?(g=>y=>g.encode(y))(new wD):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=r&&a&&CD(()=>{let g=!1;const y=new n(ai.origin,{body:new ED,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=o&&a&&CD(()=>pe.isReadableStream(new s("").body)),f={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(y,b)=>{let x=y&&y[g];if(x)return x.call(y);throw new Nt(`Response type '${g}' is not supported`,Nt.ERR_NOT_SUPPORT,b)})});const h=async g=>{if(g==null)return 0;if(pe.isBlob(g))return g.size;if(pe.isSpecCompliantForm(g))return(await new n(ai.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(g)||pe.isArrayBuffer(g))return g.byteLength;if(pe.isURLSearchParams(g)&&(g=g+""),pe.isString(g))return(await c(g)).byteLength},m=async(g,y)=>{const b=pe.toFiniteNumber(g.getContentLength());return b??h(y)};return async g=>{let{url:y,method:b,data:x,signal:E,cancelToken:C,timeout:_,onDownloadProgress:T,onUploadProgress:k,responseType:$,headers:M,withCredentials:P="same-origin",fetchOptions:V}=_L(g),I=e||fetch;$=$?($+"").toLowerCase():"text";let w=RJ([E,C&&C.toAbortSignal()],_),D=null;const A=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let B;try{if(k&&u&&b!=="get"&&b!=="head"&&(B=await m(M,x))!==0){let ge=new n(y,{method:"POST",body:x,duplex:"half"}),qe;if(pe.isFormData(x)&&(qe=ge.headers.get("content-type"))&&M.setContentType(qe),ge.body){const[lt,Mt]=bD(B,Lv(yD(k)));x=_D(ge.body,SD,lt,Mt)}}pe.isString(P)||(P=P?"include":"omit");const N=r&&"credentials"in n.prototype,q={...V,signal:w,method:b.toUpperCase(),headers:M.normalize().toJSON(),body:x,duplex:"half",credentials:N?P:void 0};D=r&&new n(y,q);let W=await(r?I(D,V):I(y,q));const Z=d&&($==="stream"||$==="response");if(d&&(T||Z&&A)){const ge={};["status","statusText","headers"].forEach(Oe=>{ge[Oe]=W[Oe]});const qe=pe.toFiniteNumber(W.headers.get("content-length")),[lt,Mt]=T&&bD(qe,Lv(yD(T),!0))||[];W=new s(_D(W.body,SD,lt,()=>{Mt&&Mt(),A&&A()}),ge)}$=$||"text";let Le=await f[pe.findKey(f,$)||"text"](W,g);return!Z&&A&&A(),await new Promise((ge,qe)=>{yL(ge,qe,{data:Le,headers:Yi.from(W.headers),status:W.status,statusText:W.statusText,config:g,request:D})})}catch(N){throw A&&A(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Nt("Network Error",Nt.ERR_NETWORK,g,D),{cause:N.cause||N}):Nt.from(N,N&&N.code,g,D)}}},LJ=new Map,SL=t=>{let e=t?t.env:{};const{fetch:n,Request:s,Response:i}=e,r=[s,i,n];let o=r.length,a=o,c,u,d=LJ;for(;a--;)c=r[a],u=d.get(c),u===void 0&&d.set(c,u=a?new Map:$J(e)),d=u;return u};SL();const fS={http:eJ,xhr:OJ,fetch:{get:SL}};pe.forEach(fS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const AD=t=>`- ${t}`,FJ=t=>pe.isFunction(t)||t===null||t===!1,EL={getAdapter:(t,e)=>{t=pe.isArray(t)?t:[t];const{length:n}=t;let s,i;const r={};for(let o=0;o<n;o++){s=t[o];let a;if(i=s,!FJ(s)&&(i=fS[(a=String(s)).toLowerCase()],i===void 0))throw new Nt(`Unknown adapter '${a}'`);if(i&&(pe.isFunction(i)||(i=i.get(e))))break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(AD).join(`
`):" "+AD(o[0]):"as no adapter specified";throw new Nt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:fS};function bx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nf(null,t)}function kD(t){return bx(t),t.headers=Yi.from(t.headers),t.data=vx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),EL.getAdapter(t.adapter||Np.adapter,t)(t).then(function(s){return bx(t),s.data=vx.call(t,t.transformResponse,s),s.headers=Yi.from(s.headers),s},function(s){return bL(s)||(bx(t),s&&s.response&&(s.response.data=vx.call(t,t.transformResponse,s.response),s.response.headers=Yi.from(s.response.headers))),Promise.reject(s)})}const wL="1.12.2",By={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{By[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const TD={};By.transitional=function(e,n,s){function i(r,o){return"[Axios v"+wL+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,a)=>{if(e===!1)throw new Nt(i(o," has been removed"+(n?" in "+n:"")),Nt.ERR_DEPRECATED);return n&&!TD[o]&&(TD[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,a):!0}};By.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function VJ(t,e,n){if(typeof t!="object")throw new Nt("options must be an object",Nt.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const a=t[r],c=a===void 0||o(a,r,t);if(c!==!0)throw new Nt("option "+r+" must be "+c,Nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nt("Unknown option "+r,Nt.ERR_BAD_OPTION)}}const qg={assertOptions:VJ,validators:By},fo=qg.validators;let zc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new gD,response:new gD}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ru(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:r}=n;s!==void 0&&qg.assertOptions(s,{silentJSONParsing:fo.transitional(fo.boolean),forcedJSONParsing:fo.transitional(fo.boolean),clarifyTimeoutError:fo.transitional(fo.boolean)},!1),i!=null&&(pe.isFunction(i)?n.paramsSerializer={serialize:i}:qg.assertOptions(i,{encode:fo.function,serialize:fo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qg.assertOptions(n,{baseUrl:fo.spelling("baseURL"),withXsrfToken:fo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&pe.merge(r.common,r[n.method]);r&&pe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),n.headers=Yi.concat(o,r);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,h;if(!c){const g=[kD.bind(this),void 0];for(g.unshift(...a),g.push(...u),h=g.length,d=Promise.resolve(n);f<h;)d=d.then(g[f++],g[f++]);return d}h=a.length;let m=n;for(;f<h;){const g=a[f++],y=a[f++];try{m=g(m)}catch(b){y.call(this,b);break}}try{d=kD.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=ru(this.defaults,e);const n=xL(e.baseURL,e.url,e.allowAbsoluteUrls);return mL(n,e.params,e.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(e){zc.prototype[e]=function(n,s){return this.request(ru(s||{},{method:e,url:n,data:(s||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function n(s){return function(r,o,a){return this.request(ru(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}zc.prototype[e]=n(),zc.prototype[e+"Form"]=n(!0)});let BJ=class CL{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{s.subscribe(a),r=a}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,a){s.reason||(s.reason=new nf(r,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new CL(function(i){e=i}),cancel:e}}};function UJ(t){return function(n){return t.apply(null,n)}}function HJ(t){return pe.isObject(t)&&t.isAxiosError===!0}const hS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hS).forEach(([t,e])=>{hS[e]=t});function AL(t){const e=new zc(t),n=sL(zc.prototype.request,e);return pe.extend(n,zc.prototype,e,{allOwnKeys:!0}),pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return AL(ru(t,i))},n}const rs=AL(Np);rs.Axios=zc;rs.CanceledError=nf;rs.CancelToken=BJ;rs.isCancel=bL;rs.VERSION=wL;rs.toFormData=Vy;rs.AxiosError=Nt;rs.Cancel=rs.CanceledError;rs.all=function(e){return Promise.all(e)};rs.spread=UJ;rs.isAxiosError=HJ;rs.mergeConfig=ru;rs.AxiosHeaders=Yi;rs.formToJSON=t=>vL(pe.isHTMLForm(t)?new FormData(t):t);rs.getAdapter=EL.getAdapter;rs.HttpStatusCode=hS;rs.default=rs;const{Axios:oQe,AxiosError:aQe,CanceledError:lQe,isCancel:cQe,CancelToken:uQe,VERSION:dQe,all:fQe,Cancel:hQe,isAxiosError:pQe,spread:mQe,toFormData:gQe,AxiosHeaders:vQe,HttpStatusCode:bQe,formToJSON:yQe,getAdapter:xQe,mergeConfig:_Qe}=rs,zJ=()=>"/api",ce=rs.create({baseURL:zJ(),headers:{"Content-Type":"application/json"}});ce.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));const jJ=(t,e)=>{ce.interceptors.response.use(n=>n,async n=>{if(n.response){if(n.response.status===403){const s=n.response.data?.detail||"";if(s==="TRIAL_EXPIRED")return t.push({name:"lock-screen",query:{reason:"trial"}}),Promise.reject(n);if(s==="SUBSCRIPTION_EXPIRED"||typeof s=="string"&&s.includes("suspenso"))return t.push({name:"lock-screen",query:{reason:"subscription"}}),Promise.reject(n)}if(n.response.status===401)return t.currentRoute.value.name==="login"?Promise.reject(n):(console.warn(`Sesso expirada (${n.response.status}). Realizando logout...`),e&&typeof e.logout=="function"?e.logout():localStorage.clear(),t.replace({name:"login",query:{next:t.currentRoute.value.fullPath}}),Promise.reject(new Error("Sesso encerrada.")))}return Promise.reject(n)})},$o=aY("auth",{state:()=>({token:localStorage.getItem("authToken")||null,user:JSON.parse(localStorage.getItem("userData")||"null"),userCargo:localStorage.getItem("userCargo")||null}),getters:{isAuthenticated:t=>!!t.token,isAdmin:t=>t.userCargo==="ADMIN"||t.userCargo==="SUPERADMIN"||t.user?.is_superuser,isSuperUser:t=>t.user?.is_superuser===!0,isFinancialPending:t=>t.user?.is_superuser?!1:t.user?.imobiliaria_detalhes?.status_financeiro==="PENDENTE",vencimentoAtual:t=>{const e=t.user?.imobiliaria_detalhes?.data_vencimento_atual;if(!e)return"";try{const[n,s,i]=e.split("-");return`${i}/${s}/${n}`}catch{return e}}},actions:{async login(t){try{const e=await ce.post("/v1/token/",t),{access:n,refresh:s}=e.data;return this.token=n,localStorage.setItem("authToken",n),localStorage.setItem("refreshToken",s),ce.defaults.headers.common.Authorization=`Bearer ${n}`,await this.fetchUser(),!0}catch(e){throw console.error("Erro no login:",e),e}},async fetchUser(){try{const t=await ce.get("/v1/core/usuarios/me/");this.user=t.data;let e="CORRETOR";this.user.is_superuser?e="SUPERADMIN":this.user.is_admin&&(e="ADMIN"),this.userCargo=e,localStorage.setItem("userData",JSON.stringify(this.user)),localStorage.setItem("userCargo",e)}catch(t){console.error("Erro ao buscar usurio:",t)}},logout(){this.token=null,this.user=null,this.userCargo=null,localStorage.removeItem("authToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userData"),localStorage.removeItem("userCargo"),delete ce.defaults.headers.common.Authorization},initialize(){const t=localStorage.getItem("authToken");t&&(this.token=t,ce.defaults.headers.common.Authorization=`Bearer ${t}`,this.fetchUser())}}});var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WJ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uy(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var Kg={exports:{}},yx={exports:{}},xx={};/**
* @vue/compiler-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Pd=Symbol(""),bd=Symbol(""),Hy=Symbol(""),Kh=Symbol(""),fw=Symbol(""),Fl=Symbol(""),hw=Symbol(""),pw=Symbol(""),zy=Symbol(""),jy=Symbol(""),sf=Symbol(""),Wy=Symbol(""),mw=Symbol(""),Gy=Symbol(""),qy=Symbol(""),Ky=Symbol(""),Yy=Symbol(""),Xy=Symbol(""),Jy=Symbol(""),gw=Symbol(""),vw=Symbol(""),Pp=Symbol(""),Yh=Symbol(""),Qy=Symbol(""),Zy=Symbol(""),$d=Symbol(""),rf=Symbol(""),e1=Symbol(""),Fv=Symbol(""),kL=Symbol(""),Vv=Symbol(""),Xh=Symbol(""),TL=Symbol(""),DL=Symbol(""),t1=Symbol(""),OL=Symbol(""),RL=Symbol(""),n1=Symbol(""),bw=Symbol(""),ou={[Pd]:"Fragment",[bd]:"Teleport",[Hy]:"Suspense",[Kh]:"KeepAlive",[fw]:"BaseTransition",[Fl]:"openBlock",[hw]:"createBlock",[pw]:"createElementBlock",[zy]:"createVNode",[jy]:"createElementVNode",[sf]:"createCommentVNode",[Wy]:"createTextVNode",[mw]:"createStaticVNode",[Gy]:"resolveComponent",[qy]:"resolveDynamicComponent",[Ky]:"resolveDirective",[Yy]:"resolveFilter",[Xy]:"withDirectives",[Jy]:"renderList",[gw]:"renderSlot",[vw]:"createSlots",[Pp]:"toDisplayString",[Yh]:"mergeProps",[Qy]:"normalizeClass",[Zy]:"normalizeStyle",[$d]:"normalizeProps",[rf]:"guardReactiveProps",[e1]:"toHandlers",[Fv]:"camelize",[kL]:"capitalize",[Vv]:"toHandlerKey",[Xh]:"setBlockTracking",[TL]:"pushScopeId",[DL]:"popScopeId",[t1]:"withCtx",[OL]:"unref",[RL]:"isRef",[n1]:"withMemo",[bw]:"isMemoSame"};function ML(t){Object.getOwnPropertySymbols(t).forEach(e=>{ou[e]=t[e]})}const GJ={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},qJ={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},KJ={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},YJ={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},As={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function IL(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:As}}function Ld(t,e,n,s,i,r,o,a=!1,c=!1,u=!1,d=As){return t&&(a?(t.helper(Fl),t.helper(cu(t.inSSR,u))):t.helper(lu(t.inSSR,u)),o&&t.helper(Xy)),{type:13,tag:e,props:n,children:s,patchFlag:i,dynamicProps:r,directives:o,isBlock:a,disableTracking:c,isComponent:u,loc:d}}function Dl(t,e=As){return{type:17,loc:e,elements:t}}function ur(t,e=As){return{type:15,loc:e,properties:t}}function hs(t,e){return{type:16,loc:As,key:St(t)?Ot(t,!0):t,value:e}}function Ot(t,e=!1,n=As,s=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:s}}function XJ(t,e){return{type:5,loc:e,content:St(t)?Ot(t,!1,e):t}}function Fr(t,e=As){return{type:8,loc:e,children:t}}function vs(t,e=[],n=As){return{type:14,loc:n,callee:t,arguments:e}}function au(t,e=void 0,n=!1,s=!1,i=As){return{type:18,params:t,returns:e,newline:n,isSlot:s,loc:i}}function Bv(t,e,n,s=!0){return{type:19,test:t,consequent:e,alternate:n,newline:s,loc:As}}function NL(t,e,n=!1,s=!1){return{type:20,index:t,value:e,needPauseTracking:n,inVOnce:s,needArraySpread:!1,loc:As}}function PL(t){return{type:21,body:t,loc:As}}function JJ(t){return{type:22,elements:t,loc:As}}function QJ(t,e,n){return{type:23,test:t,consequent:e,alternate:n,loc:As}}function ZJ(t,e){return{type:24,left:t,right:e,loc:As}}function eQ(t){return{type:25,expressions:t,loc:As}}function tQ(t){return{type:26,returns:t,loc:As}}function lu(t,e){return t||e?zy:jy}function cu(t,e){return t||e?hw:pw}function s1(t,{helper:e,removeHelper:n,inSSR:s}){t.isBlock||(t.isBlock=!0,n(lu(s,t.isComponent)),e(Fl),e(cu(s,t.isComponent)))}const DD=new Uint8Array([123,123]),OD=new Uint8Array([125,125]);function RD(t){return t>=97&&t<=122||t>=65&&t<=90}function lr(t){return t===32||t===10||t===9||t===12||t===13}function Ja(t){return t===47||t===62||lr(t)}function Uv(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const Js={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class nQ{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=DD,this.delimiterClose=OD,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=DD,this.delimiterClose=OD}getPos(e){let n=1,s=e+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(e>r){n=i+2,s=e-r;break}}return{column:s,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Ja(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||lr(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const s=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=s}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Js.TitleEnd||this.currentSequence===Js.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===Js.Cdata[this.sequenceIndex]?++this.sequenceIndex===Js.Cdata.length&&(this.state=28,this.currentSequence=Js.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Js.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):RD(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ja(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ja(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(Uv("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){lr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=RD(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||lr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):lr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):lr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ja(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ja(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ja(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ja(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ja(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):lr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):lr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){lr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=Js.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===Js.ScriptEnd[3]?this.startSpecial(Js.ScriptEnd,4):e===Js.StyleEnd[3]?this.startSpecial(Js.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===Js.TitleEnd[3]?this.startSpecial(Js.TitleEnd,4):e===Js.TextareaEnd[3]?this.startSpecial(Js.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===Js.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}const sQ={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},iQ={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:t=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${t}.sync\` should be changed to \`v-model:${t}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function pS(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function jc(t,e){const n=pS("MODE",e),s=pS(t,e);return n===3?s===!0:s!==!1}function Fd(t,e,n,...s){return jc(t,e)}function rQ(t,e,n,...s){if(pS(t,e)==="suppress-warning")return;const{message:r,link:o}=iQ[t],a=`(deprecation ${t}) ${typeof r=="function"?r(...s):r}${o?`
  Details: ${o}`:""}`,c=new SyntaxError(a);c.code=t,n&&(c.loc=n),e.onWarn(c)}function yw(t){throw t}function $L(t){}function Nn(t,e,n,s){const i=`https://vuejs.org/error-reference/#compiler-${t}`,r=new SyntaxError(String(i));return r.code=t,r.loc=e,r}const oQ={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},aQ={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function lQ(t,e,n=!1,s=[],i=Object.create(null)){}function cQ(t,e,n){return!1}function uQ(t,e){if(t&&(t.type==="ObjectProperty"||t.type==="ArrayPattern")){let n=e.length;for(;n--;){const s=e[n];if(s.type==="AssignmentExpression")return!0;if(s.type!=="ObjectProperty"&&!s.type.endsWith("Pattern"))break}}return!1}function dQ(t){let e=t.length;for(;e--;){const n=t[e];if(n.type==="NewExpression")return!0;if(n.type!=="MemberExpression")break}return!1}function fQ(t,e){for(const n of t.params)for(const s of So(n))e(s)}function LL(t,e){const n=t.type==="SwitchCase"?t.consequent:t.body;for(const s of n)if(s.type==="VariableDeclaration"){if(s.declare)continue;for(const i of s.declarations)for(const r of So(i.id))e(r)}else if(s.type==="FunctionDeclaration"||s.type==="ClassDeclaration"){if(s.declare||!s.id)continue;e(s.id)}else hQ(s)?pQ(s,!0,e):s.type==="SwitchStatement"&&mQ(s,!0,e)}function hQ(t){return t.type==="ForOfStatement"||t.type==="ForInStatement"||t.type==="ForStatement"}function pQ(t,e,n){const s=t.type==="ForStatement"?t.init:t.left;if(s&&s.type==="VariableDeclaration"&&(s.kind==="var"?e:!e))for(const i of s.declarations)for(const r of So(i.id))n(r)}function mQ(t,e,n){for(const s of t.cases){for(const i of s.consequent)if(i.type==="VariableDeclaration"&&(i.kind==="var"?e:!e))for(const r of i.declarations)for(const o of So(r.id))n(o);LL(s,n)}}function So(t,e=[]){switch(t.type){case"Identifier":e.push(t);break;case"MemberExpression":let n=t;for(;n.type==="MemberExpression";)n=n.object;e.push(n);break;case"ObjectPattern":for(const s of t.properties)s.type==="RestElement"?So(s.argument,e):So(s.value,e);break;case"ArrayPattern":t.elements.forEach(s=>{s&&So(s,e)});break;case"RestElement":So(t.argument,e);break;case"AssignmentPattern":So(t.left,e);break}return e}const gQ=t=>/Function(?:Expression|Declaration)$|Method$/.test(t.type),FL=t=>t&&(t.type==="ObjectProperty"||t.type==="ObjectMethod")&&!t.computed,vQ=(t,e)=>FL(e)&&e.key===t,VL=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function BL(t){return VL.includes(t.type)?BL(t.expression):t}const ki=t=>t.type===4&&t.isStatic;function xw(t){switch(t){case"Teleport":case"teleport":return bd;case"Suspense":case"suspense":return Hy;case"KeepAlive":case"keep-alive":return Kh;case"BaseTransition":case"base-transition":return fw}}const bQ=/^$|^\d|[^\$\w\xA0-\uFFFF]/,$p=t=>!bQ.test(t),_w=/[A-Za-z_$\xA0-\uFFFF]/,yQ=/[\.\?\w$\xA0-\uFFFF]/,xQ=/\s+[.[]\s*|\s*[.[]\s+/g,UL=t=>t.type===4?t.content:t.loc.source,HL=t=>{const e=UL(t).trim().replace(xQ,a=>a.trim());let n=0,s=[],i=0,r=0,o=null;for(let a=0;a<e.length;a++){const c=e.charAt(a);switch(n){case 0:if(c==="[")s.push(n),n=1,i++;else if(c==="(")s.push(n),n=2,r++;else if(!(a===0?_w:yQ).test(c))return!1;break;case 1:c==="'"||c==='"'||c==="`"?(s.push(n),n=3,o=c):c==="["?i++:c==="]"&&(--i||(n=s.pop()));break;case 2:if(c==="'"||c==='"'||c==="`")s.push(n),n=3,o=c;else if(c==="(")r++;else if(c===")"){if(a===e.length-1)return!1;--r||(n=s.pop())}break;case 3:c===o&&(n=s.pop(),o=null);break}}return!i&&!r},_Q=Os,Sw=HL,SQ=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,zL=t=>SQ.test(UL(t)),EQ=Os,jL=zL;function wQ(t,e,n=e.length){return WL({offset:t.offset,line:t.line,column:t.column},e,n)}function WL(t,e,n=e.length){let s=0,i=-1;for(let r=0;r<n;r++)e.charCodeAt(r)===10&&(s++,i=r);return t.offset+=n,t.line+=s,t.column=i===-1?t.column+n:n-i,t}function CQ(t,e){if(!t)throw new Error(e||"unexpected compiler condition")}function Ai(t,e,n=!1){for(let s=0;s<t.props.length;s++){const i=t.props[s];if(i.type===7&&(n||i.exp)&&(St(e)?i.name===e:e.test(i.name)))return i}}function Lp(t,e,n=!1,s=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===6){if(n)continue;if(r.name===e&&(r.value||s))return r}else if(r.name==="bind"&&(r.exp||s)&&ml(r.arg,e))return r}}function ml(t,e){return!!(t&&ki(t)&&t.content===e)}function GL(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Yg(t){return t.type===5||t.type===2}function mS(t){return t.type===7&&t.name==="pre"}function Ew(t){return t.type===7&&t.name==="slot"}function Vd(t){return t.type===1&&t.tagType===3}function Jh(t){return t.type===1&&t.tagType===2}const AQ=new Set([$d,rf]);function qL(t,e=[]){if(t&&!St(t)&&t.type===14){const n=t.callee;if(!St(n)&&AQ.has(n))return qL(t.arguments[0],e.concat(t))}return[t,e]}function Qh(t,e,n){let s,i=t.type===13?t.props:t.arguments[2],r=[],o;if(i&&!St(i)&&i.type===14){const a=qL(i);i=a[0],r=a[1],o=r[r.length-1]}if(i==null||St(i))s=ur([e]);else if(i.type===14){const a=i.arguments[0];!St(a)&&a.type===15?MD(e,a)||a.properties.unshift(e):i.callee===e1?s=vs(n.helper(Yh),[ur([e]),i]):i.arguments.unshift(ur([e])),!s&&(s=i)}else i.type===15?(MD(e,i)||i.properties.unshift(e),s=i):(s=vs(n.helper(Yh),[ur([e]),i]),o&&o.callee===rf&&(o=r[r.length-2]));t.type===13?o?o.arguments[0]=s:t.props=s:o?o.arguments[0]=s:t.arguments[2]=s}function MD(t,e){let n=!1;if(t.key.type===4){const s=t.key.content;n=e.properties.some(i=>i.key.type===4&&i.key.content===s)}return n}function Bd(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,s)=>n==="-"?"_":t.charCodeAt(s).toString())}`}function Yr(t,e){if(!t||Object.keys(e).length===0)return!1;switch(t.type){case 1:for(let n=0;n<t.props.length;n++){const s=t.props[n];if(s.type===7&&(Yr(s.arg,e)||Yr(s.exp,e)))return!0}return t.children.some(n=>Yr(n,e));case 11:return Yr(t.source,e)?!0:t.children.some(n=>Yr(n,e));case 9:return t.branches.some(n=>Yr(n,e));case 10:return Yr(t.condition,e)?!0:t.children.some(n=>Yr(n,e));case 4:return!t.isStatic&&$p(t.content)&&!!e[t.content];case 8:return t.children.some(n=>un(n)&&Yr(n,e));case 5:case 12:return Yr(t.content,e);case 2:case 3:case 20:return!1;default:return!1}}function KL(t){return t.type===14&&t.callee===n1?t.arguments[1].returns:t}const YL=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,XL={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Tc,isPreTag:Tc,isIgnoreNewlineTag:Tc,isCustomElement:Tc,onError:yw,onWarn:$L,comments:!1,prefixIdentifiers:!1};let fn=XL,Zh=null,ya="",ni=null,Qt=null,Ui="",ea=-1,yc=-1,ww=0,al=!1,gS=null;const Fn=[],ns=new nQ(Fn,{onerr:Yo,ontext(t,e){Zm(Vs(t,e),t,e)},ontextentity(t,e,n){Zm(t,e,n)},oninterpolation(t,e){if(al)return Zm(Vs(t,e),t,e);let n=t+ns.delimiterOpen.length,s=e-ns.delimiterClose.length;for(;lr(ya.charCodeAt(n));)n++;for(;lr(ya.charCodeAt(s-1));)s--;let i=Vs(n,s);i.includes("&")&&(i=fn.decodeEntities(i,!1)),vS({type:5,content:Jg(i,!1,ds(n,s)),loc:ds(t,e)})},onopentagname(t,e){const n=Vs(t,e);ni={type:1,tag:n,ns:fn.getNamespace(n,Fn[0],fn.ns),tagType:0,props:[],children:[],loc:ds(t-1,e),codegenNode:void 0}},onopentagend(t){ND(t)},onclosetag(t,e){const n=Vs(t,e);if(!fn.isVoidTag(n)){let s=!1;for(let i=0;i<Fn.length;i++)if(Fn[i].tag.toLowerCase()===n.toLowerCase()){s=!0,i>0&&Yo(24,Fn[0].loc.start.offset);for(let o=0;o<=i;o++){const a=Fn.shift();Xg(a,e,o<i)}break}s||Yo(23,JL(t,60))}},onselfclosingtag(t){const e=ni.tag;ni.isSelfClosing=!0,ND(t),Fn[0]&&Fn[0].tag===e&&Xg(Fn.shift(),t)},onattribname(t,e){Qt={type:6,name:Vs(t,e),nameLoc:ds(t,e),value:void 0,loc:ds(t)}},ondirname(t,e){const n=Vs(t,e),s=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!al&&s===""&&Yo(26,t),al||s==="")Qt={type:6,name:n,nameLoc:ds(t,e),value:void 0,loc:ds(t)};else if(Qt={type:7,name:s,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Ot("prop")]:[],loc:ds(t)},s==="pre"){al=ns.inVPre=!0,gS=ni;const i=ni.props;for(let r=0;r<i.length;r++)i[r].type===7&&(i[r]=LQ(i[r]))}},ondirarg(t,e){if(t===e)return;const n=Vs(t,e);if(al&&!mS(Qt))Qt.name+=n,Rc(Qt.nameLoc,e);else{const s=n[0]!=="[";Qt.arg=Jg(s?n:n.slice(1,-1),s,ds(t,e),s?3:0)}},ondirmodifier(t,e){const n=Vs(t,e);if(al&&!mS(Qt))Qt.name+="."+n,Rc(Qt.nameLoc,e);else if(Qt.name==="slot"){const s=Qt.arg;s&&(s.content+="."+n,Rc(s.loc,e))}else{const s=Ot(n,!0,ds(t,e));Qt.modifiers.push(s)}},onattribdata(t,e){Ui+=Vs(t,e),ea<0&&(ea=t),yc=e},onattribentity(t,e,n){Ui+=t,ea<0&&(ea=e),yc=n},onattribnameend(t){const e=Qt.loc.start.offset,n=Vs(e,t);Qt.type===7&&(Qt.rawName=n),ni.props.some(s=>(s.type===7?s.rawName:s.name)===n)&&Yo(2,e)},onattribend(t,e){if(ni&&Qt){if(Rc(Qt.loc,e),t!==0)if(Ui.includes("&")&&(Ui=fn.decodeEntities(Ui,!0)),Qt.type===6)Qt.name==="class"&&(Ui=ZL(Ui).trim()),t===1&&!Ui&&Yo(13,e),Qt.value={type:2,content:Ui,loc:t===1?ds(ea,yc):ds(ea-1,yc+1)},ns.inSFCRoot&&ni.tag==="template"&&Qt.name==="lang"&&Ui&&Ui!=="html"&&ns.enterRCDATA(Uv("</template"),0);else{let n=0;Qt.exp=Jg(Ui,!1,ds(ea,yc),0,n),Qt.name==="for"&&(Qt.forParseResult=TQ(Qt.exp));let s=-1;Qt.name==="bind"&&(s=Qt.modifiers.findIndex(i=>i.content==="sync"))>-1&&Fd("COMPILER_V_BIND_SYNC",fn,Qt.loc,Qt.arg.loc.source)&&(Qt.name="model",Qt.modifiers.splice(s,1))}(Qt.type!==7||Qt.name!=="pre")&&ni.props.push(Qt)}Ui="",ea=yc=-1},oncomment(t,e){fn.comments&&vS({type:3,content:Vs(t,e),loc:ds(t-4,e+3)})},onend(){const t=ya.length;for(let e=0;e<Fn.length;e++)Xg(Fn[e],t-1),Yo(24,Fn[e].loc.start.offset)},oncdata(t,e){Fn[0].ns!==0?Zm(Vs(t,e),t,e):Yo(1,t-9)},onprocessinginstruction(t){(Fn[0]?Fn[0].ns:fn.ns)===0&&Yo(21,t-1)}}),ID=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,kQ=/^\(|\)$/g;function TQ(t){const e=t.loc,n=t.content,s=n.match(YL);if(!s)return;const[,i,r]=s,o=(f,h,m=!1)=>{const g=e.start.offset+h,y=g+f.length;return Jg(f,!1,ds(g,y),0,m?1:0)},a={source:o(r.trim(),n.indexOf(r,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let c=i.trim().replace(kQ,"").trim();const u=i.indexOf(c),d=c.match(ID);if(d){c=c.replace(ID,"").trim();const f=d[1].trim();let h;if(f&&(h=n.indexOf(f,u+c.length),a.key=o(f,h,!0)),d[2]){const m=d[2].trim();m&&(a.index=o(m,n.indexOf(m,a.key?h+f.length:u+c.length),!0))}}return c&&(a.value=o(c,u,!0)),a}function Vs(t,e){return ya.slice(t,e)}function ND(t){ns.inSFCRoot&&(ni.innerLoc=ds(t+1,t+1)),vS(ni);const{tag:e,ns:n}=ni;n===0&&fn.isPreTag(e)&&ww++,fn.isVoidTag(e)?Xg(ni,t):(Fn.unshift(ni),(n===1||n===2)&&(ns.inXML=!0)),ni=null}function Zm(t,e,n){{const r=Fn[0]&&Fn[0].tag;r!=="script"&&r!=="style"&&t.includes("&")&&(t=fn.decodeEntities(t,!1))}const s=Fn[0]||Zh,i=s.children[s.children.length-1];i&&i.type===2?(i.content+=t,Rc(i.loc,n)):s.children.push({type:2,content:t,loc:ds(e,n)})}function Xg(t,e,n=!1){n?Rc(t.loc,JL(e,60)):Rc(t.loc,DQ(e,62)+1),ns.inSFCRoot&&(t.children.length?t.innerLoc.end=Wt({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Wt({},t.innerLoc.start),t.innerLoc.source=Vs(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:s,ns:i,children:r}=t;if(al||(s==="slot"?t.tagType=2:PD(t)?t.tagType=3:RQ(t)&&(t.tagType=1)),ns.inRCDATA||(t.children=QL(r)),i===0&&fn.isIgnoreNewlineTag(s)){const o=r[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}i===0&&fn.isPreTag(s)&&ww--,gS===t&&(al=ns.inVPre=!1,gS=null),ns.inXML&&(Fn[0]?Fn[0].ns:fn.ns)===0&&(ns.inXML=!1);{const o=t.props;if(!ns.inSFCRoot&&jc("COMPILER_NATIVE_TEMPLATE",fn)&&t.tag==="template"&&!PD(t)){const c=Fn[0]||Zh,u=c.children.indexOf(t);c.children.splice(u,1,...t.children)}const a=o.find(c=>c.type===6&&c.name==="inline-template");a&&Fd("COMPILER_INLINE_TEMPLATE",fn,a.loc)&&t.children.length&&(a.value={type:2,content:Vs(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function DQ(t,e){let n=t;for(;ya.charCodeAt(n)!==e&&n<ya.length-1;)n++;return n}function JL(t,e){let n=t;for(;ya.charCodeAt(n)!==e&&n>=0;)n--;return n}const OQ=new Set(["if","else","else-if","for","slot"]);function PD({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&OQ.has(e[n].name))return!0}return!1}function RQ({tag:t,props:e}){if(fn.isCustomElement(t))return!1;if(t==="component"||MQ(t.charCodeAt(0))||xw(t)||fn.isBuiltInComponent&&fn.isBuiltInComponent(t)||fn.isNativeTag&&!fn.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const s=e[n];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(Fd("COMPILER_IS_ON_ELEMENT",fn,s.loc))return!0}}else if(s.name==="bind"&&ml(s.arg,"is")&&Fd("COMPILER_IS_ON_ELEMENT",fn,s.loc))return!0}return!1}function MQ(t){return t>64&&t<91}const IQ=/\r\n/g;function QL(t){const e=fn.whitespace!=="preserve";let n=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i.type===2)if(ww)i.content=i.content.replace(IQ,`
`);else if(NQ(i.content)){const r=t[s-1]&&t[s-1].type,o=t[s+1]&&t[s+1].type;!r||!o||e&&(r===3&&(o===3||o===1)||r===1&&(o===3||o===1&&PQ(i.content)))?(n=!0,t[s]=null):i.content=" "}else e&&(i.content=ZL(i.content))}return n?t.filter(Boolean):t}function NQ(t){for(let e=0;e<t.length;e++)if(!lr(t.charCodeAt(e)))return!1;return!0}function PQ(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function ZL(t){let e="",n=!1;for(let s=0;s<t.length;s++)lr(t.charCodeAt(s))?n||(e+=" ",n=!0):(e+=t[s],n=!1);return e}function vS(t){(Fn[0]||Zh).children.push(t)}function ds(t,e){return{start:ns.getPos(t),end:e==null?e:ns.getPos(e),source:e==null?e:Vs(t,e)}}function $Q(t){return ds(t.start.offset,t.end.offset)}function Rc(t,e){t.end=ns.getPos(e),t.source=Vs(t.start.offset,e)}function LQ(t){const e={type:6,name:t.rawName,nameLoc:ds(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function Jg(t,e=!1,n,s=0,i=0){return Ot(t,e,n,s)}function Yo(t,e,n){fn.onError(Nn(t,ds(e,e)))}function FQ(){ns.reset(),ni=null,Qt=null,Ui="",ea=-1,yc=-1,Fn.length=0}function Cw(t,e){if(FQ(),ya=t,fn=Wt({},XL),e){let i;for(i in e)e[i]!=null&&(fn[i]=e[i])}ns.mode=fn.parseMode==="html"?1:fn.parseMode==="sfc"?2:0,ns.inXML=fn.ns===1||fn.ns===2;const n=e&&e.delimiters;n&&(ns.delimiterOpen=Uv(n[0]),ns.delimiterClose=Uv(n[1]));const s=Zh=IL([],t);return ns.parse(ya),s.loc=ds(0,t.length),s.children=QL(s.children),Zh=null,s}function VQ(t,e){Qg(t,void 0,e,!!e3(t))}function e3(t){const e=t.children.filter(n=>n.type!==3);return e.length===1&&e[0].type===1&&!Jh(e[0])?e[0]:null}function Qg(t,e,n,s=!1,i=!1){const{children:r}=t,o=[];for(let d=0;d<r.length;d++){const f=r[d];if(f.type===1&&f.tagType===0){const h=s?0:Gi(f,n);if(h>0){if(h>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const m=f.codegenNode;if(m.type===13){const g=m.patchFlag;if((g===void 0||g===512||g===1)&&n3(f,n)>=2){const y=s3(f);y&&(m.props=n.hoist(y))}m.dynamicProps&&(m.dynamicProps=n.hoist(m.dynamicProps))}}}else if(f.type===12&&(s?0:Gi(f,n))>=2){f.codegenNode.type===14&&f.codegenNode.arguments.length>0&&f.codegenNode.arguments.push("-1"),o.push(f);continue}if(f.type===1){const h=f.tagType===1;h&&n.scopes.vSlot++,Qg(f,t,n,!1,i),h&&n.scopes.vSlot--}else if(f.type===11)Qg(f,t,n,f.children.length===1,!0);else if(f.type===9)for(let h=0;h<f.branches.length;h++)Qg(f.branches[h],t,n,f.branches[h].children.length===1,i)}let a=!1;if(o.length===r.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Ge(t.codegenNode.children))t.codegenNode.children=c(Dl(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Ge(t.codegenNode.children)&&t.codegenNode.children.type===15){const d=u(t.codegenNode,"default");d&&(d.returns=c(Dl(d.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Ge(e.codegenNode.children)&&e.codegenNode.children.type===15){const d=Ai(t,"slot",!0),f=d&&d.arg&&u(e.codegenNode,d.arg);f&&(f.returns=c(Dl(f.returns)),a=!0)}}if(!a)for(const d of o)d.codegenNode=n.cache(d.codegenNode);function c(d){const f=n.cache(d);return f.needArraySpread=!0,f}function u(d,f){if(d.children&&!Ge(d.children)&&d.children.type===15){const h=d.children.properties.find(m=>m.key===f||m.key.content===f);return h&&h.value}}o.length&&n.transformHoist&&n.transformHoist(r,n,t)}function Gi(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const s=n.get(t);if(s!==void 0)return s;const i=t.codegenNode;if(i.type!==13||i.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(i.patchFlag===void 0){let o=3;const a=n3(t,e);if(a===0)return n.set(t,0),0;a<o&&(o=a);for(let c=0;c<t.children.length;c++){const u=Gi(t.children[c],e);if(u===0)return n.set(t,0),0;u<o&&(o=u)}if(o>1)for(let c=0;c<t.props.length;c++){const u=t.props[c];if(u.type===7&&u.name==="bind"&&u.exp){const d=Gi(u.exp,e);if(d===0)return n.set(t,0),0;d<o&&(o=d)}}if(i.isBlock){for(let c=0;c<t.props.length;c++)if(t.props[c].type===7)return n.set(t,0),0;e.removeHelper(Fl),e.removeHelper(cu(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(lu(e.inSSR,i.isComponent))}return n.set(t,o),o}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Gi(t.content,e);case 4:return t.constType;case 8:let r=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(St(a)||Oi(a))continue;const c=Gi(a,e);if(c===0)return 0;c<r&&(r=c)}return r;case 20:return 2;default:return 0}}const BQ=new Set([Qy,Zy,$d,rf]);function t3(t,e){if(t.type===14&&!St(t.callee)&&BQ.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Gi(n,e);if(n.type===14)return t3(n,e)}return 0}function n3(t,e){let n=3;const s=s3(t);if(s&&s.type===15){const{properties:i}=s;for(let r=0;r<i.length;r++){const{key:o,value:a}=i[r],c=Gi(o,e);if(c===0)return c;c<n&&(n=c);let u;if(a.type===4?u=Gi(a,e):a.type===14?u=t3(a,e):u=0,u===0)return u;u<n&&(n=u)}}return n}function s3(t){const e=t.codegenNode;if(e.type===13)return e.props}function i3(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:s=!1,hmr:i=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:c=null,isBuiltInComponent:u=Os,isCustomElement:d=Os,expressionPlugins:f=[],scopeId:h=null,slotted:m=!0,ssr:g=!1,inSSR:y=!1,ssrCssVars:b="",bindingMetadata:x=qt,inline:E=!1,isTS:C=!1,onError:_=yw,onWarn:T=$L,compatConfig:k}){const $=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),M={filename:e,selfName:$&&Kl(On($[1])),prefixIdentifiers:n,hoistStatic:s,hmr:i,cacheHandlers:r,nodeTransforms:o,directiveTransforms:a,transformHoist:c,isBuiltInComponent:u,isCustomElement:d,expressionPlugins:f,scopeId:h,slotted:m,ssr:g,inSSR:y,ssrCssVars:b,bindingMetadata:x,inline:E,isTS:C,onError:_,onWarn:T,compatConfig:k,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(P){const V=M.helpers.get(P)||0;return M.helpers.set(P,V+1),P},removeHelper(P){const V=M.helpers.get(P);if(V){const I=V-1;I?M.helpers.set(P,I):M.helpers.delete(P)}},helperString(P){return`_${ou[M.helper(P)]}`},replaceNode(P){M.parent.children[M.childIndex]=M.currentNode=P},removeNode(P){const V=M.parent.children,I=P?V.indexOf(P):M.currentNode?M.childIndex:-1;!P||P===M.currentNode?(M.currentNode=null,M.onNodeRemoved()):M.childIndex>I&&(M.childIndex--,M.onNodeRemoved()),M.parent.children.splice(I,1)},onNodeRemoved:Os,addIdentifiers(P){},removeIdentifiers(P){},hoist(P){St(P)&&(P=Ot(P)),M.hoists.push(P);const V=Ot(`_hoisted_${M.hoists.length}`,!1,P.loc,2);return V.hoisted=P,V},cache(P,V=!1,I=!1){const w=NL(M.cached.length,P,V,I);return M.cached.push(w),w}};return M.filters=new Set,M}function r3(t,e){const n=i3(t,e);Fp(t,n),e.hoistStatic&&VQ(t,n),e.ssr||UQ(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function UQ(t,e){const{helper:n}=e,{children:s}=t;if(s.length===1){const i=e3(t);if(i&&i.codegenNode){const r=i.codegenNode;r.type===13&&s1(r,e),t.codegenNode=r}else t.codegenNode=s[0]}else if(s.length>1){let i=64;t.codegenNode=Ld(e,n(Pd),void 0,t.children,i,void 0,void 0,!0,void 0,!1)}}function HQ(t,e){let n=0;const s=()=>{n--};for(;n<t.children.length;n++){const i=t.children[n];St(i)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=s,Fp(i,e))}}function Fp(t,e){e.currentNode=t;const{nodeTransforms:n}=e,s=[];for(let r=0;r<n.length;r++){const o=n[r](t,e);if(o&&(Ge(o)?s.push(...o):s.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(sf);break;case 5:e.ssr||e.helper(Pp);break;case 9:for(let r=0;r<t.branches.length;r++)Fp(t.branches[r],e);break;case 10:case 11:case 1:case 0:HQ(t,e);break}e.currentNode=t;let i=s.length;for(;i--;)s[i]()}function Aw(t,e){const n=St(t)?s=>s===t:s=>t.test(s);return(s,i)=>{if(s.type===1){const{props:r}=s;if(s.tagType===3&&r.some(Ew))return;const o=[];for(let a=0;a<r.length;a++){const c=r[a];if(c.type===7&&n(c.name)){r.splice(a,1),a--;const u=e(s,c,i);u&&o.push(u)}}return o}}}const i1="/*@__PURE__*/",o3=t=>`${ou[t]}: _${ou[t]}`;function zQ(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:s=!1,filename:i="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:d=!1,isTS:f=!1,inSSR:h=!1}){const m={mode:e,prefixIdentifiers:n,sourceMap:s,filename:i,scopeId:r,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:u,ssr:d,isTS:f,inSSR:h,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(y){return`_${ou[y]}`},push(y,b=-2,x){m.code+=y},indent(){g(++m.indentLevel)},deindent(y=!1){y?--m.indentLevel:g(--m.indentLevel)},newline(){g(m.indentLevel)}};function g(y){m.push(`
`+"  ".repeat(y),0)}return m}function a3(t,e={}){const n=zQ(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:s,push:i,prefixIdentifiers:r,indent:o,deindent:a,newline:c,scopeId:u,ssr:d}=n,f=Array.from(t.helpers),h=f.length>0,m=!r&&s!=="module";jQ(t,n);const y=d?"ssrRender":"render",x=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${y}(${x}) {`),o(),m&&(i("with (_ctx) {"),o(),h&&(i(`const { ${f.map(o3).join(", ")} } = _Vue
`,-1),c())),t.components.length&&(_x(t.components,"component",n),(t.directives.length||t.temps>0)&&c()),t.directives.length&&(_x(t.directives,"directive",n),t.temps>0&&c()),t.filters&&t.filters.length&&(c(),_x(t.filters,"filter",n),c()),t.temps>0){i("let ");for(let E=0;E<t.temps;E++)i(`${E>0?", ":""}_temp${E}`)}return(t.components.length||t.directives.length||t.temps)&&(i(`
`,0),c()),d||i("return "),t.codegenNode?pi(t.codegenNode,n):i("null"),m&&(a(),i("}")),a(),i("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function jQ(t,e){const{ssr:n,prefixIdentifiers:s,push:i,newline:r,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:c}=e,u=a,d=Array.from(t.helpers);if(d.length>0&&(i(`const _Vue = ${u}
`,-1),t.hoists.length)){const f=[zy,jy,sf,Wy,mw].filter(h=>d.includes(h)).map(o3).join(", ");i(`const { ${f} } = _Vue
`,-1)}WQ(t.hoists,e),r(),i("return ")}function _x(t,e,{helper:n,push:s,newline:i,isTS:r}){const o=n(e==="filter"?Yy:e==="component"?Gy:Ky);for(let a=0;a<t.length;a++){let c=t[a];const u=c.endsWith("__self");u&&(c=c.slice(0,-6)),s(`const ${Bd(c,e)} = ${o}(${JSON.stringify(c)}${u?", true":""})${r?"!":""}`),a<t.length-1&&i()}}function WQ(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:s}=e;s();for(let i=0;i<t.length;i++){const r=t[i];r&&(n(`const _hoisted_${i+1} = `),pi(r,e),s())}e.pure=!1}function kw(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),Vp(t,e,n),n&&e.deindent(),e.push("]")}function Vp(t,e,n=!1,s=!0){const{push:i,newline:r}=e;for(let o=0;o<t.length;o++){const a=t[o];St(a)?i(a,-3):Ge(a)?kw(a,e):pi(a,e),o<t.length-1&&(n?(s&&i(","),r()):s&&i(", "))}}function pi(t,e){if(St(t)){e.push(t,-3);return}if(Oi(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:pi(t.codegenNode,e);break;case 2:GQ(t,e);break;case 4:l3(t,e);break;case 5:qQ(t,e);break;case 12:pi(t.codegenNode,e);break;case 8:c3(t,e);break;case 3:YQ(t,e);break;case 13:XQ(t,e);break;case 14:QQ(t,e);break;case 15:ZQ(t,e);break;case 17:eZ(t,e);break;case 18:tZ(t,e);break;case 19:nZ(t,e);break;case 20:sZ(t,e);break;case 21:Vp(t.body,e,!0,!1);break}}function GQ(t,e){e.push(JSON.stringify(t.content),-3,t)}function l3(t,e){const{content:n,isStatic:s}=t;e.push(s?JSON.stringify(n):n,-3,t)}function qQ(t,e){const{push:n,helper:s,pure:i}=e;i&&n(i1),n(`${s(Pp)}(`),pi(t.content,e),n(")")}function c3(t,e){for(let n=0;n<t.children.length;n++){const s=t.children[n];St(s)?e.push(s,-3):pi(s,e)}}function KQ(t,e){const{push:n}=e;if(t.type===8)n("["),c3(t,e),n("]");else if(t.isStatic){const s=$p(t.content)?t.content:JSON.stringify(t.content);n(s,-2,t)}else n(`[${t.content}]`,-3,t)}function YQ(t,e){const{push:n,helper:s,pure:i}=e;i&&n(i1),n(`${s(sf)}(${JSON.stringify(t.content)})`,-3,t)}function XQ(t,e){const{push:n,helper:s,pure:i}=e,{tag:r,props:o,children:a,patchFlag:c,dynamicProps:u,directives:d,isBlock:f,disableTracking:h,isComponent:m}=t;let g;c&&(g=String(c)),d&&n(s(Xy)+"("),f&&n(`(${s(Fl)}(${h?"true":""}), `),i&&n(i1);const y=f?cu(e.inSSR,m):lu(e.inSSR,m);n(s(y)+"(",-2,t),Vp(JQ([r,o,a,g,u]),e),n(")"),f&&n(")"),d&&(n(", "),pi(d,e),n(")"))}function JQ(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function QQ(t,e){const{push:n,helper:s,pure:i}=e,r=St(t.callee)?t.callee:s(t.callee);i&&n(i1),n(r+"(",-2,t),Vp(t.arguments,e),n(")")}function ZQ(t,e){const{push:n,indent:s,deindent:i,newline:r}=e,{properties:o}=t;if(!o.length){n("{}",-2,t);return}const a=o.length>1||!1;n(a?"{":"{ "),a&&s();for(let c=0;c<o.length;c++){const{key:u,value:d}=o[c];KQ(u,e),n(": "),pi(d,e),c<o.length-1&&(n(","),r())}a&&i(),n(a?"}":" }")}function eZ(t,e){kw(t.elements,e)}function tZ(t,e){const{push:n,indent:s,deindent:i}=e,{params:r,returns:o,body:a,newline:c,isSlot:u}=t;u&&n(`_${ou[t1]}(`),n("(",-2,t),Ge(r)?Vp(r,e):r&&pi(r,e),n(") => "),(c||a)&&(n("{"),s()),o?(c&&n("return "),Ge(o)?kw(o,e):pi(o,e)):a&&pi(a,e),(c||a)&&(i(),n("}")),u&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function nZ(t,e){const{test:n,consequent:s,alternate:i,newline:r}=t,{push:o,indent:a,deindent:c,newline:u}=e;if(n.type===4){const f=!$p(n.content);f&&o("("),l3(n,e),f&&o(")")}else o("("),pi(n,e),o(")");r&&a(),e.indentLevel++,r||o(" "),o("? "),pi(s,e),e.indentLevel--,r&&u(),r||o(" "),o(": ");const d=i.type===19;d||e.indentLevel++,pi(i,e),d||e.indentLevel--,r&&c(!0)}function sZ(t,e){const{push:n,helper:s,indent:i,deindent:r,newline:o}=e,{needPauseTracking:a,needArraySpread:c}=t;c&&n("[...("),n(`_cache[${t.index}] || (`),a&&(i(),n(`${s(Xh)}(-1`),t.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${t.index}] = `),pi(t.value,e),a&&(n(`).cacheIndex = ${t.index},`),o(),n(`${s(Xh)}(1),`),o(),n(`_cache[${t.index}]`),r()),n(")"),c&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const iZ=(t,e)=>{if(t.type===5)t.content=Zg(t.content,e);else if(t.type===1){const n=Ai(t,"memo");for(let s=0;s<t.props.length;s++){const i=t.props[s];if(i.type===7&&i.name!=="for"){const r=i.exp,o=i.arg;r&&r.type===4&&!(i.name==="on"&&o)&&!(n&&o&&o.type===4&&o.content==="key")&&(i.exp=Zg(r,e,i.name==="slot")),o&&o.type===4&&!o.isStatic&&(i.arg=Zg(o,e))}}}};function Zg(t,e,n=!1,s=!1,i=Object.create(e.identifiers)){return t}function u3(t){return St(t)?t:t.type===4?t.content:t.children.map(u3).join("")}const rZ=Aw(/^(?:if|else|else-if)$/,(t,e,n)=>d3(t,e,n,(s,i,r)=>{const o=n.parent.children;let a=o.indexOf(s),c=0;for(;a-->=0;){const u=o[a];u&&u.type===9&&(c+=u.branches.length)}return()=>{if(r)s.codegenNode=LD(i,c,n);else{const u=oZ(s.codegenNode);u.alternate=LD(i,c+s.branches.length-1,n)}}}));function d3(t,e,n,s){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(Nn(28,e.loc)),e.exp=Ot("true",!1,i)}if(e.name==="if"){const i=$D(t,e),r={type:9,loc:$Q(t.loc),branches:[i]};if(n.replaceNode(r),s)return s(r,i,!0)}else{const i=n.parent.children;let r=i.indexOf(t);for(;r-->=-1;){const o=i[r];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){(e.name==="else-if"||e.name==="else")&&o.branches[o.branches.length-1].condition===void 0&&n.onError(Nn(30,t.loc)),n.removeNode();const a=$D(t,e);o.branches.push(a);const c=s&&s(o,a,!1);Fp(a,n),c&&c(),n.currentNode=null}else n.onError(Nn(30,t.loc));break}}}function $D(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Ai(t,"for")?t.children:[t],userKey:Lp(t,"key"),isTemplateIf:n}}function LD(t,e,n){return t.condition?Bv(t.condition,FD(t,e,n),vs(n.helper(sf),['""',"true"])):FD(t,e,n)}function FD(t,e,n){const{helper:s}=n,i=hs("key",Ot(`${e}`,!1,As,2)),{children:r}=t,o=r[0];if(r.length!==1||o.type!==1)if(r.length===1&&o.type===11){const c=o.codegenNode;return Qh(c,i,n),c}else return Ld(n,s(Pd),ur([i]),r,64,void 0,void 0,!0,!1,!1,t.loc);else{const c=o.codegenNode,u=KL(c);return u.type===13&&s1(u,n),Qh(u,i,n),c}}function oZ(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const aZ=Aw("for",(t,e,n)=>{const{helper:s,removeHelper:i}=n;return f3(t,e,n,r=>{const o=vs(s(Jy),[r.source]),a=Vd(t),c=Ai(t,"memo"),u=Lp(t,"key",!1,!0);u&&u.type;let d=u&&(u.type===6?u.value?Ot(u.value.content,!0):void 0:u.exp);const f=u&&d?hs("key",d):null,h=r.source.type===4&&r.source.constType>0,m=h?64:u?128:256;return r.codegenNode=Ld(n,s(Pd),void 0,o,m,void 0,void 0,!0,!h,!1,t.loc),()=>{let g;const{children:y}=r,b=y.length!==1||y[0].type!==1,x=Jh(t)?t:a&&t.children.length===1&&Jh(t.children[0])?t.children[0]:null;if(x?(g=x.codegenNode,a&&f&&Qh(g,f,n)):b?g=Ld(n,s(Pd),f?ur([f]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(g=y[0].codegenNode,a&&f&&Qh(g,f,n),g.isBlock!==!h&&(g.isBlock?(i(Fl),i(cu(n.inSSR,g.isComponent))):i(lu(n.inSSR,g.isComponent))),g.isBlock=!h,g.isBlock?(s(Fl),s(cu(n.inSSR,g.isComponent))):s(lu(n.inSSR,g.isComponent))),c){const E=au(Hv(r.parseResult,[Ot("_cached")]));E.body=PL([Fr(["const _memo = (",c.exp,")"]),Fr(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString(bw)}(_cached, _memo)) return _cached`]),Fr(["const _item = ",g]),Ot("_item.memo = _memo"),Ot("return _item")]),o.arguments.push(E,Ot("_cache"),Ot(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(au(Hv(r.parseResult),g,!0))}})});function f3(t,e,n,s){if(!e.exp){n.onError(Nn(31,e.loc));return}const i=e.forParseResult;if(!i){n.onError(Nn(32,e.loc));return}Tw(i);const{addIdentifiers:r,removeIdentifiers:o,scopes:a}=n,{source:c,value:u,key:d,index:f}=i,h={type:11,loc:e.loc,source:c,valueAlias:u,keyAlias:d,objectIndexAlias:f,parseResult:i,children:Vd(t)?t.children:[t]};n.replaceNode(h),a.vFor++;const m=s&&s(h);return()=>{a.vFor--,m&&m()}}function Tw(t,e){t.finalized||(t.finalized=!0)}function Hv({value:t,key:e,index:n},s=[]){return lZ([t,e,n,...s])}function lZ(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,s)=>n||Ot("_".repeat(s+1),!1))}const VD=Ot("undefined",!1),h3=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Ai(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},cZ=(t,e)=>{let n;if(Vd(t)&&t.props.some(Ew)&&(n=Ai(t,"for"))){const s=n.forParseResult;if(s){Tw(s);const{value:i,key:r,index:o}=s,{addIdentifiers:a,removeIdentifiers:c}=e;return i&&a(i),r&&a(r),o&&a(o),()=>{i&&c(i),r&&c(r),o&&c(o)}}}},uZ=(t,e,n,s)=>au(t,n,!1,!0,n.length?n[0].loc:s);function p3(t,e,n=uZ){e.helper(t1);const{children:s,loc:i}=t,r=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const c=Ai(t,"slot",!0);if(c){const{arg:b,exp:x}=c;b&&!ki(b)&&(a=!0),r.push(hs(b||Ot("default",!0),n(x,void 0,s,i)))}let u=!1,d=!1;const f=[],h=new Set;let m=0;for(let b=0;b<s.length;b++){const x=s[b];let E;if(!Vd(x)||!(E=Ai(x,"slot",!0))){x.type!==3&&f.push(x);continue}if(c){e.onError(Nn(37,E.loc));break}u=!0;const{children:C,loc:_}=x,{arg:T=Ot("default",!0),exp:k,loc:$}=E;let M;ki(T)?M=T?T.content:"default":a=!0;const P=Ai(x,"for"),V=n(k,P,C,_);let I,w;if(I=Ai(x,"if"))a=!0,o.push(Bv(I.exp,eg(T,V,m++),VD));else if(w=Ai(x,/^else(?:-if)?$/,!0)){let D=b,A;for(;D--&&(A=s[D],!(A.type!==3&&bS(A))););if(A&&Vd(A)&&Ai(A,/^(?:else-)?if$/)){let B=o[o.length-1];for(;B.alternate.type===19;)B=B.alternate;B.alternate=w.exp?Bv(w.exp,eg(T,V,m++),VD):eg(T,V,m++)}else e.onError(Nn(30,w.loc))}else if(P){a=!0;const D=P.forParseResult;D?(Tw(D),o.push(vs(e.helper(Jy),[D.source,au(Hv(D),eg(T,V),!0)]))):e.onError(Nn(32,P.loc))}else{if(M){if(h.has(M)){e.onError(Nn(38,$));continue}h.add(M),M==="default"&&(d=!0)}r.push(hs(T,V))}}if(!c){const b=(x,E)=>{const C=n(x,void 0,E,i);return e.compatConfig&&(C.isNonScopedSlot=!0),hs("default",C)};u?f.length&&f.some(x=>bS(x))&&(d?e.onError(Nn(39,f[0].loc)):r.push(b(void 0,f))):r.push(b(void 0,s))}const g=a?2:ev(t.children)?3:1;let y=ur(r.concat(hs("_",Ot(g+"",!1))),i);return o.length&&(y=vs(e.helper(vw),[y,Dl(o)])),{slots:y,hasDynamicSlots:a}}function eg(t,e,n){const s=[hs("name",t),hs("fn",e)];return n!=null&&s.push(hs("key",Ot(String(n),!0))),ur(s)}function ev(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||ev(n.children))return!0;break;case 9:if(ev(n.branches))return!0;break;case 10:case 11:if(ev(n.children))return!0;break}}return!1}function bS(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():bS(t.content)}const m3=new WeakMap,g3=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:s,props:i}=t,r=t.tagType===1;let o=r?v3(t,e):`"${s}"`;const a=un(o)&&o.callee===qy;let c,u,d=0,f,h,m,g=a||o===bd||o===Hy||!r&&(s==="svg"||s==="foreignObject"||s==="math");if(i.length>0){const y=Dw(t,e,void 0,r,a);c=y.props,d=y.patchFlag,h=y.dynamicPropNames;const b=y.directives;m=b&&b.length?Dl(b.map(x=>b3(x,e))):void 0,y.shouldUseBlock&&(g=!0)}if(t.children.length>0)if(o===Kh&&(g=!0,d|=1024),r&&o!==bd&&o!==Kh){const{slots:b,hasDynamicSlots:x}=p3(t,e);u=b,x&&(d|=1024)}else if(t.children.length===1&&o!==bd){const b=t.children[0],x=b.type,E=x===5||x===8;E&&Gi(b,e)===0&&(d|=1),E||x===2?u=b:u=t.children}else u=t.children;h&&h.length&&(f=fZ(h)),t.codegenNode=Ld(e,o,c,u,d===0?void 0:d,f,m,!!g,!1,r,t.loc)};function v3(t,e,n=!1){let{tag:s}=t;const i=yS(s),r=Lp(t,"is",!1,!0);if(r)if(i||jc("COMPILER_IS_ON_ELEMENT",e)){let a;if(r.type===6?a=r.value&&Ot(r.value.content,!0):(a=r.exp,a||(a=Ot("is",!1,r.arg.loc))),a)return vs(e.helper(qy),[a])}else r.type===6&&r.value.content.startsWith("vue:")&&(s=r.value.content.slice(4));const o=xw(s)||e.isBuiltInComponent(s);return o?(n||e.helper(o),o):(e.helper(Gy),e.components.add(s),Bd(s,"component"))}function Dw(t,e,n=t.props,s,i,r=!1){const{tag:o,loc:a,children:c}=t;let u=[];const d=[],f=[],h=c.length>0;let m=!1,g=0,y=!1,b=!1,x=!1,E=!1,C=!1,_=!1;const T=[],k=V=>{u.length&&(d.push(ur(BD(u),a)),u=[]),V&&d.push(V)},$=()=>{e.scopes.vFor>0&&u.push(hs(Ot("ref_for",!0),Ot("true")))},M=({key:V,value:I})=>{if(ki(V)){const w=V.content,D=Gl(w);if(D&&(!s||i)&&w.toLowerCase()!=="onclick"&&w!=="onUpdate:modelValue"&&!ba(w)&&(E=!0),D&&ba(w)&&(_=!0),D&&I.type===14&&(I=I.arguments[0]),I.type===20||(I.type===4||I.type===8)&&Gi(I,e)>0)return;w==="ref"?y=!0:w==="class"?b=!0:w==="style"?x=!0:w!=="key"&&!T.includes(w)&&T.push(w),s&&(w==="class"||w==="style")&&!T.includes(w)&&T.push(w)}else C=!0};for(let V=0;V<n.length;V++){const I=n[V];if(I.type===6){const{loc:w,name:D,nameLoc:A,value:B}=I;let N=!0;if(D==="ref"&&(y=!0,$()),D==="is"&&(yS(o)||B&&B.content.startsWith("vue:")||jc("COMPILER_IS_ON_ELEMENT",e)))continue;u.push(hs(Ot(D,!0,A),Ot(B?B.content:"",N,B?B.loc:w)))}else{const{name:w,arg:D,exp:A,loc:B,modifiers:N}=I,q=w==="bind",W=w==="on";if(w==="slot"){s||e.onError(Nn(40,B));continue}if(w==="once"||w==="memo"||w==="is"||q&&ml(D,"is")&&(yS(o)||jc("COMPILER_IS_ON_ELEMENT",e))||W&&r)continue;if((q&&ml(D,"key")||W&&h&&ml(D,"vue:before-update"))&&(m=!0),q&&ml(D,"ref")&&$(),!D&&(q||W)){if(C=!0,A)if(q){if(k(),jc("COMPILER_V_BIND_OBJECT_ORDER",e)){d.unshift(A);continue}$(),k(),d.push(A)}else k({type:14,loc:B,callee:e.helper(e1),arguments:s?[A]:[A,"true"]});else e.onError(Nn(q?34:35,B));continue}q&&N.some(Le=>Le.content==="prop")&&(g|=32);const Z=e.directiveTransforms[w];if(Z){const{props:Le,needRuntime:ge}=Z(I,t,e);!r&&Le.forEach(M),W&&D&&!ki(D)?k(ur(Le,a)):u.push(...Le),ge&&(f.push(I),Oi(ge)&&m3.set(I,ge))}else LN(w)||(f.push(I),h&&(m=!0))}}let P;if(d.length?(k(),d.length>1?P=vs(e.helper(Yh),d,a):P=d[0]):u.length&&(P=ur(BD(u),a)),C?g|=16:(b&&!s&&(g|=2),x&&!s&&(g|=4),T.length&&(g|=8),E&&(g|=32)),!m&&(g===0||g===32)&&(y||_||f.length>0)&&(g|=512),!e.inSSR&&P)switch(P.type){case 15:let V=-1,I=-1,w=!1;for(let B=0;B<P.properties.length;B++){const N=P.properties[B].key;ki(N)?N.content==="class"?V=B:N.content==="style"&&(I=B):N.isHandlerKey||(w=!0)}const D=P.properties[V],A=P.properties[I];w?P=vs(e.helper($d),[P]):(D&&!ki(D.value)&&(D.value=vs(e.helper(Qy),[D.value])),A&&(x||A.value.type===4&&A.value.content.trim()[0]==="["||A.value.type===17)&&(A.value=vs(e.helper(Zy),[A.value])));break;case 14:break;default:P=vs(e.helper($d),[vs(e.helper(rf),[P])]);break}return{props:P,directives:f,patchFlag:g,dynamicPropNames:T,shouldUseBlock:m}}function BD(t){const e=new Map,n=[];for(let s=0;s<t.length;s++){const i=t[s];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const r=i.key.content,o=e.get(r);o?(r==="style"||r==="class"||Gl(r))&&dZ(o,i):(e.set(r,i),n.push(i))}return n}function dZ(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Dl([t.value,e.value],t.loc)}function b3(t,e){const n=[],s=m3.get(t);s?n.push(e.helperString(s)):(e.helper(Ky),e.directives.add(t.name),n.push(Bd(t.name,"directive")));const{loc:i}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const r=Ot("true",!1,i);n.push(ur(t.modifiers.map(o=>hs(o,r)),i))}return Dl(n,t.loc)}function fZ(t){let e="[";for(let n=0,s=t.length;n<s;n++)e+=JSON.stringify(t[n]),n<s-1&&(e+=", ");return e+"]"}function yS(t){return t==="component"||t==="Component"}const hZ=(t,e)=>{if(Jh(t)){const{children:n,loc:s}=t,{slotName:i,slotProps:r}=y3(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;r&&(o[2]=r,a=3),n.length&&(o[3]=au([],n,!1,!1,s),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=vs(e.helper(gw),o,s)}};function y3(t,e){let n='"default"',s;const i=[];for(let r=0;r<t.props.length;r++){const o=t.props[r];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=On(o.name),i.push(o)));else if(o.name==="bind"&&ml(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=On(o.arg.content);n=o.exp=Ot(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&ki(o.arg)&&(o.arg.content=On(o.arg.content)),i.push(o)}if(i.length>0){const{props:r,directives:o}=Dw(t,e,i,!1,!1);s=r,o.length&&e.onError(Nn(36,o[0].loc))}return{slotName:n,slotProps:s}}const Ow=(t,e,n,s)=>{const{loc:i,modifiers:r,arg:o}=t;!t.exp&&!r.length&&n.onError(Nn(35,i));let a;if(o.type===4)if(o.isStatic){let f=o.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const h=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?Fc(On(f)):`on:${f}`;a=Ot(h,!0,o.loc)}else a=Fr([`${n.helperString(Vv)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(Vv)}(`),a.children.push(")");let c=t.exp;c&&!c.content.trim()&&(c=void 0);let u=n.cacheHandlers&&!c&&!n.inVOnce;if(c){const f=Sw(c),h=!(f||jL(c)),m=c.content.includes(";");(h||u&&f)&&(c=Fr([`${h?"$event":"(...args)"} => ${m?"{":"("}`,c,m?"}":")"]))}let d={props:[hs(a,c||Ot("() => {}",!1,i))]};return s&&(d=s(d)),u&&(d.props[0].value=n.cache(d.props[0].value)),d.props.forEach(f=>f.key.isHandlerKey=!0),d},x3=(t,e,n)=>{const{modifiers:s,loc:i}=t,r=t.arg;let{exp:o}=t;return o&&o.type===4&&!o.content.trim()&&(o=void 0),r.type!==4?(r.children.unshift("("),r.children.push(') || ""')):r.isStatic||(r.content=r.content?`${r.content} || ""`:'""'),s.some(a=>a.content==="camel")&&(r.type===4?r.isStatic?r.content=On(r.content):r.content=`${n.helperString(Fv)}(${r.content})`:(r.children.unshift(`${n.helperString(Fv)}(`),r.children.push(")"))),n.inSSR||(s.some(a=>a.content==="prop")&&UD(r,"."),s.some(a=>a.content==="attr")&&UD(r,"^")),{props:[hs(r,o)]}},UD=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},pZ=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let s,i=!1;for(let r=0;r<n.length;r++){const o=n[r];if(Yg(o)){i=!0;for(let a=r+1;a<n.length;a++){const c=n[a];if(Yg(c))s||(s=n[r]=Fr([o],o.loc)),s.children.push(" + ",c),n.splice(a,1),a--;else{s=void 0;break}}}}if(!(!i||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(r=>r.type===7&&!e.directiveTransforms[r.name])&&t.tag!=="template")))for(let r=0;r<n.length;r++){const o=n[r];if(Yg(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Gi(o,e)===0&&a.push("1"),n[r]={type:12,content:o,loc:o.loc,codegenNode:vs(e.helper(Wy),a)}}}}},HD=new WeakSet,mZ=(t,e)=>{if(t.type===1&&Ai(t,"once",!0))return HD.has(t)||e.inVOnce||e.inSSR?void 0:(HD.add(t),e.inVOnce=!0,e.helper(Xh),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0,!0))})},Rw=(t,e,n)=>{const{exp:s,arg:i}=t;if(!s)return n.onError(Nn(41,t.loc)),tg();const r=s.loc.source.trim(),o=s.type===4?s.content:r,a=n.bindingMetadata[r];if(a==="props"||a==="props-aliased")return n.onError(Nn(44,s.loc)),tg();if(!o.trim()||!Sw(s))return n.onError(Nn(42,s.loc)),tg();const c=i||Ot("modelValue",!0),u=i?ki(i)?`onUpdate:${On(i.content)}`:Fr(['"onUpdate:" + ',i]):"onUpdate:modelValue";let d;const f=n.isTS?"($event: any)":"$event";d=Fr([`${f} => ((`,s,") = $event)"]);const h=[hs(c,t.exp),hs(u,d)];if(t.modifiers.length&&e.tagType===1){const m=t.modifiers.map(y=>y.content).map(y=>($p(y)?y:JSON.stringify(y))+": true").join(", "),g=i?ki(i)?`${i.content}Modifiers`:Fr([i,' + "Modifiers"']):"modelModifiers";h.push(hs(g,Ot(`{ ${m} }`,!1,t.loc,2)))}return tg(h)};function tg(t=[]){return{props:t}}const gZ=/[\w).+\-_$\]]/,vZ=(t,e)=>{jc("COMPILER_FILTERS",e)&&(t.type===5?zv(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&zv(n.exp,e)}))};function zv(t,e){if(t.type===4)zD(t,e);else for(let n=0;n<t.children.length;n++){const s=t.children[n];typeof s=="object"&&(s.type===4?zD(s,e):s.type===8?zv(t,e):s.type===5&&zv(s.content,e))}}function zD(t,e){const n=t.content;let s=!1,i=!1,r=!1,o=!1,a=0,c=0,u=0,d=0,f,h,m,g,y=[];for(m=0;m<n.length;m++)if(h=f,f=n.charCodeAt(m),s)f===39&&h!==92&&(s=!1);else if(i)f===34&&h!==92&&(i=!1);else if(r)f===96&&h!==92&&(r=!1);else if(o)f===47&&h!==92&&(o=!1);else if(f===124&&n.charCodeAt(m+1)!==124&&n.charCodeAt(m-1)!==124&&!a&&!c&&!u)g===void 0?(d=m+1,g=n.slice(0,m).trim()):b();else{switch(f){case 34:i=!0;break;case 39:s=!0;break;case 96:r=!0;break;case 40:u++;break;case 41:u--;break;case 91:c++;break;case 93:c--;break;case 123:a++;break;case 125:a--;break}if(f===47){let x=m-1,E;for(;x>=0&&(E=n.charAt(x),E===" ");x--);(!E||!gZ.test(E))&&(o=!0)}}g===void 0?g=n.slice(0,m).trim():d!==0&&b();function b(){y.push(n.slice(d,m).trim()),d=m+1}if(y.length){for(m=0;m<y.length;m++)g=bZ(g,y[m],e);t.content=g,t.ast=void 0}}function bZ(t,e,n){n.helper(Yy);const s=e.indexOf("(");if(s<0)return n.filters.add(e),`${Bd(e,"filter")}(${t})`;{const i=e.slice(0,s),r=e.slice(s+1);return n.filters.add(i),`${Bd(i,"filter")}(${t}${r!==")"?","+r:r}`}}const jD=new WeakSet,yZ=(t,e)=>{if(t.type===1){const n=Ai(t,"memo");return!n||jD.has(t)||e.inSSR?void 0:(jD.add(t),()=>{const s=t.codegenNode||e.currentNode.codegenNode;s&&s.type===13&&(t.tagType!==1&&s1(s,e),t.codegenNode=vs(e.helper(n1),[n.exp,au(void 0,s),"_cache",String(e.cached.length)]),e.cached.push(null))})}},_3=(t,e)=>{if(t.type===1){for(const n of t.props)if(n.type===7&&n.name==="bind"&&!n.exp){const s=n.arg;if(s.type!==4||!s.isStatic)e.onError(Nn(52,s.loc)),n.exp=Ot("",!0,s.loc);else{const i=On(s.content);(_w.test(i[0])||i[0]==="-")&&(n.exp=Ot(i,!1,s.loc))}}}};function S3(t){return[[_3,mZ,rZ,yZ,aZ,vZ,hZ,g3,h3,pZ],{on:Ow,bind:x3,model:Rw}]}function E3(t,e={}){const n=e.onError||yw,s=e.mode==="module";e.prefixIdentifiers===!0?n(Nn(47)):s&&n(Nn(48));const i=!1;e.cacheHandlers&&n(Nn(49)),e.scopeId&&!s&&n(Nn(50));const r=Wt({},e,{prefixIdentifiers:i}),o=St(t)?Cw(t,r):t,[a,c]=S3();return r3(o,Wt({},r,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:Wt({},c,e.directiveTransforms||{})})),a3(o,r)}const xZ={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},w3=()=>({props:[]});/**
* @vue/compiler-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Mw=Symbol(""),Iw=Symbol(""),Nw=Symbol(""),Pw=Symbol(""),jv=Symbol(""),$w=Symbol(""),Lw=Symbol(""),Fw=Symbol(""),Vw=Symbol(""),Bw=Symbol("");ML({[Mw]:"vModelRadio",[Iw]:"vModelCheckbox",[Nw]:"vModelText",[Pw]:"vModelSelect",[jv]:"vModelDynamic",[$w]:"withModifiers",[Lw]:"withKeys",[Fw]:"vShow",[Vw]:"Transition",[Bw]:"TransitionGroup"});let Wu;function _Z(t,e=!1){return Wu||(Wu=document.createElement("div")),e?(Wu.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Wu.children[0].getAttribute("foo")):(Wu.innerHTML=t,Wu.textContent)}const Uw={parseMode:"html",isVoidTag:HN,isNativeTag:t=>VN(t)||BN(t)||UN(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:_Z,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return Vw;if(t==="TransitionGroup"||t==="transition-group")return Bw},getNamespace(t,e,n){let s=e?e.ns:n;if(e&&s===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(s=0);else e&&s===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(s=0);if(s===0){if(t==="svg")return 1;if(t==="math")return 2}return s}},C3=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Ot("style",!0,e.loc),exp:SZ(e.value.content,e.loc),modifiers:[],loc:e.loc})})},SZ=(t,e)=>{const n=PE(t);return Ot(JSON.stringify(n),!1,e,3)};function xa(t,e){return Nn(t,e)}const EZ={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},wZ={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},CZ=(t,e,n)=>{const{exp:s,loc:i}=t;return s||n.onError(xa(53,i)),e.children.length&&(n.onError(xa(54,i)),e.children.length=0),{props:[hs(Ot("innerHTML",!0,i),s||Ot("",!0))]}},AZ=(t,e,n)=>{const{exp:s,loc:i}=t;return s||n.onError(xa(55,i)),e.children.length&&(n.onError(xa(56,i)),e.children.length=0),{props:[hs(Ot("textContent",!0),s?Gi(s,n)>0?s:vs(n.helperString(Pp),[s],i):Ot("",!0))]}},kZ=(t,e,n)=>{const s=Rw(t,e,n);if(!s.props.length||e.tagType===1)return s;t.arg&&n.onError(xa(58,t.arg.loc));const{tag:i}=e,r=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||r){let o=Nw,a=!1;if(i==="input"||r){const c=Lp(e,"type");if(c){if(c.type===7)o=jv;else if(c.value)switch(c.value.content){case"radio":o=Mw;break;case"checkbox":o=Iw;break;case"file":a=!0,n.onError(xa(59,t.loc));break}}else GL(e)&&(o=jv)}else i==="select"&&(o=Pw);a||(s.needRuntime=n.helper(o))}else n.onError(xa(57,t.loc));return s.props=s.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),s},TZ=Ns("passive,once,capture"),DZ=Ns("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),OZ=Ns("left,right"),A3=Ns("onkeyup,onkeydown,onkeypress"),RZ=(t,e,n,s)=>{const i=[],r=[],o=[];for(let a=0;a<e.length;a++){const c=e[a].content;c==="native"&&Fd("COMPILER_V_ON_NATIVE",n)||TZ(c)?o.push(c):OZ(c)?ki(t)?A3(t.content.toLowerCase())?i.push(c):r.push(c):(i.push(c),r.push(c)):DZ(c)?r.push(c):i.push(c)}return{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:o}},WD=(t,e)=>ki(t)&&t.content.toLowerCase()==="onclick"?Ot(e,!0):t.type!==4?Fr(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,MZ=(t,e,n)=>Ow(t,e,n,s=>{const{modifiers:i}=t;if(!i.length)return s;let{key:r,value:o}=s.props[0];const{keyModifiers:a,nonKeyModifiers:c,eventOptionModifiers:u}=RZ(r,i,n,t.loc);if(c.includes("right")&&(r=WD(r,"onContextmenu")),c.includes("middle")&&(r=WD(r,"onMouseup")),c.length&&(o=vs(n.helper($w),[o,JSON.stringify(c)])),a.length&&(!ki(r)||A3(r.content.toLowerCase()))&&(o=vs(n.helper(Lw),[o,JSON.stringify(a)])),u.length){const d=u.map(Kl).join("");r=ki(r)?Ot(`${r.content}${d}`,!0):Fr(["(",r,`) + "${d}"`])}return{props:[hs(r,o)]}}),IZ=(t,e,n)=>{const{exp:s,loc:i}=t;return s||n.onError(xa(61,i)),{props:[],needRuntime:n.helper(Fw)}},NZ=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},k3=[C3],T3={cloak:w3,html:CZ,text:AZ,model:kZ,on:MZ,show:IZ};function PZ(t,e={}){return E3(t,Wt({},Uw,e,{nodeTransforms:[NZ,...k3,...e.nodeTransforms||[]],directiveTransforms:Wt({},T3,e.directiveTransforms||{}),transformHoist:null}))}function $Z(t,e={}){return Cw(t,Wt({},Uw,e))}const LZ=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:fw,BindingTypes:xZ,CAMELIZE:Fv,CAPITALIZE:kL,CREATE_BLOCK:hw,CREATE_COMMENT:sf,CREATE_ELEMENT_BLOCK:pw,CREATE_ELEMENT_VNODE:jy,CREATE_SLOTS:vw,CREATE_STATIC:mw,CREATE_TEXT:Wy,CREATE_VNODE:zy,CompilerDeprecationTypes:sQ,ConstantTypes:YJ,DOMDirectiveTransforms:T3,DOMErrorCodes:EZ,DOMErrorMessages:wZ,DOMNodeTransforms:k3,ElementTypes:KJ,ErrorCodes:oQ,FRAGMENT:Pd,GUARD_REACTIVE_PROPS:rf,IS_MEMO_SAME:bw,IS_REF:RL,KEEP_ALIVE:Kh,MERGE_PROPS:Yh,NORMALIZE_CLASS:Qy,NORMALIZE_PROPS:$d,NORMALIZE_STYLE:Zy,Namespaces:GJ,NodeTypes:qJ,OPEN_BLOCK:Fl,POP_SCOPE_ID:DL,PUSH_SCOPE_ID:TL,RENDER_LIST:Jy,RENDER_SLOT:gw,RESOLVE_COMPONENT:Gy,RESOLVE_DIRECTIVE:Ky,RESOLVE_DYNAMIC_COMPONENT:qy,RESOLVE_FILTER:Yy,SET_BLOCK_TRACKING:Xh,SUSPENSE:Hy,TELEPORT:bd,TO_DISPLAY_STRING:Pp,TO_HANDLERS:e1,TO_HANDLER_KEY:Vv,TRANSITION:Vw,TRANSITION_GROUP:Bw,TS_NODE_TYPES:VL,UNREF:OL,V_MODEL_CHECKBOX:Iw,V_MODEL_DYNAMIC:jv,V_MODEL_RADIO:Mw,V_MODEL_SELECT:Pw,V_MODEL_TEXT:Nw,V_ON_WITH_KEYS:Lw,V_ON_WITH_MODIFIERS:$w,V_SHOW:Fw,WITH_CTX:t1,WITH_DIRECTIVES:Xy,WITH_MEMO:n1,advancePositionWithClone:wQ,advancePositionWithMutation:WL,assert:CQ,baseCompile:E3,baseParse:Cw,buildDirectiveArgs:b3,buildProps:Dw,buildSlots:p3,checkCompatEnabled:Fd,compile:PZ,convertToBlock:s1,createArrayExpression:Dl,createAssignmentExpression:ZJ,createBlockStatement:PL,createCacheExpression:NL,createCallExpression:vs,createCompilerError:Nn,createCompoundExpression:Fr,createConditionalExpression:Bv,createDOMCompilerError:xa,createForLoopParams:Hv,createFunctionExpression:au,createIfStatement:QJ,createInterpolation:XJ,createObjectExpression:ur,createObjectProperty:hs,createReturnStatement:tQ,createRoot:IL,createSequenceExpression:eQ,createSimpleExpression:Ot,createStructuralDirectiveTransform:Aw,createTemplateLiteral:JJ,createTransformContext:i3,createVNodeCall:Ld,errorMessages:aQ,extractIdentifiers:So,findDir:Ai,findProp:Lp,forAliasRE:YL,generate:a3,generateCodeFrame:FN,getBaseTransformPreset:S3,getConstantType:Gi,getMemoedVNodeCall:KL,getVNodeBlockHelper:cu,getVNodeHelper:lu,hasDynamicKeyVBind:GL,hasScopeRef:Yr,helperNameMap:ou,injectProp:Qh,isCoreComponent:xw,isFnExpression:jL,isFnExpressionBrowser:zL,isFnExpressionNode:EQ,isFunctionType:gQ,isInDestructureAssignment:uQ,isInNewExpression:dQ,isMemberExpression:Sw,isMemberExpressionBrowser:HL,isMemberExpressionNode:_Q,isReferencedIdentifier:cQ,isSimpleIdentifier:$p,isSlotOutlet:Jh,isStaticArgOf:ml,isStaticExp:ki,isStaticProperty:FL,isStaticPropertyKey:vQ,isTemplateNode:Vd,isText:Yg,isVPre:mS,isVSlot:Ew,locStub:As,noopDirectiveTransform:w3,parse:$Z,parserOptions:Uw,processExpression:Zg,processFor:f3,processIf:d3,processSlotOutlet:y3,registerRuntimeHelpers:ML,resolveComponentType:v3,stringifyExpression:u3,toValidAssetId:Bd,trackSlotScopes:h3,trackVForSlotScopes:cZ,transform:r3,transformBind:x3,transformElement:g3,transformExpression:iZ,transformModel:Rw,transformOn:Ow,transformStyle:C3,transformVBindShorthand:_3,traverseNode:Fp,unwrapTSNode:BL,validFirstIdentCharRE:_w,walkBlockDeclarations:LL,walkFunctionParams:fQ,walkIdentifiers:lQ,warnDeprecation:rQ},Symbol.toStringTag,{value:"Module"})),FZ=Uy(LZ),VZ=Uy(eY),BZ=Uy(WW);/**
* vue v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var GD;function UZ(){return GD||(GD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=FZ,n=VZ,s=BZ;function i(c){var u=Object.create(null);if(c)for(var d in c)u[d]=c[d];return u.default=c,Object.freeze(u)}var r=i(n);const o=Object.create(null);function a(c,u){if(!s.isString(c))if(c.nodeType)c=c.innerHTML;else return s.NOOP;const d=s.genCacheKey(c,u),f=o[d];if(f)return f;if(c[0]==="#"){const y=document.querySelector(c);c=y?y.innerHTML:""}const h=s.extend({hoistStatic:!0,onError:void 0,onWarn:s.NOOP},u);!h.isCustomElement&&typeof customElements<"u"&&(h.isCustomElement=y=>!!customElements.get(y));const{code:m}=e.compile(c,h),g=new Function("Vue",m)(r);return g._rc=!0,o[d]=g}n.registerRuntimeCompiler(a),t.compile=a,Object.keys(n).forEach(function(c){c!=="default"&&!Object.prototype.hasOwnProperty.call(t,c)&&(t[c]=n[c])})})(xx)),xx}var qD;function D3(){return qD||(qD=1,yx.exports=UZ()),yx.exports}var HZ=Kg.exports,KD;function zZ(){return KD||(KD=1,(function(t,e){(function(s,i){t.exports=i(D3())})(HZ,n=>(()=>{var s={113:((M,P)=>{Object.defineProperty(P,"__esModule",{value:!0}),P.default=(V,I)=>{const w=V.__vccOpts||V;for(const[D,A]of I)w[D]=A;return w}}),594:(M=>{M.exports=n})},i={};function r(M){var P=i[M];if(P!==void 0)return P.exports;var V=i[M]={exports:{}};return s[M](V,V.exports,r),V.exports}r.d=(M,P)=>{for(var V in P)r.o(P,V)&&!r.o(M,V)&&Object.defineProperty(M,V,{enumerable:!0,get:P[V]})},r.o=(M,P)=>Object.prototype.hasOwnProperty.call(M,P),r.r=M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})};var o={};r.r(o),r.d(o,{ToastComponent:()=>_,ToastPlugin:()=>k,ToastPositions:()=>m,default:()=>$,useToast:()=>T});var a=r(594);const c=["innerHTML"];function u(M,P,V,I,w,D){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{"enter-active-class":M.transition.enter,"leave-active-class":M.transition.leave},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"root",role:"alert",class:(0,a.normalizeClass)(["v-toast__item",[`v-toast__item--${M.type}`,`v-toast__item--${M.position}`]]),onMouseover:P[0]||(P[0]=A=>M.toggleTimer(!0)),onMouseleave:P[1]||(P[1]=A=>M.toggleTimer(!1)),onClick:P[2]||(P[2]=function(){return M.whenClicked&&M.whenClicked(...arguments)})},[P[3]||(P[3]=(0,a.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,a.createElementVNode)("p",{class:"v-toast__text",innerHTML:M.message},null,8,c)],34),[[a.vShow,M.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function d(M){typeof M.remove<"u"?M.remove():M.parentNode?.removeChild(M)}function f(M,P,V){let I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const w=(0,a.h)(M,P,I),D=document.createElement("div");return D.classList.add("v-toast--pending"),V.appendChild(D),(0,a.render)(w,D),w.component}class h{constructor(P,V){this.startedAt=Date.now(),this.callback=P,this.delay=V,this.timer=setTimeout(P,V)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const m=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function g(M){return{all:M=M||new Map,on:function(P,V){var I=M.get(P);I?I.push(V):M.set(P,[V])},off:function(P,V){var I=M.get(P);I&&(V?I.splice(I.indexOf(V)>>>0,1):M.set(P,[]))},emit:function(P,V){var I=M.get(P);I&&I.slice().map(function(w){w(V)}),(I=M.get("*"))&&I.slice().map(function(w){w(P,V)})}}}const b=g(),x=(0,a.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:m.BOTTOM_RIGHT,validator(M){return Object.values(m).includes(M)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),b.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const M=document.body;M.appendChild(this.parentTop),M.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const M=this.$refs.root;(0,a.render)(null,M),d(M)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const M=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),d(M),this.isActive=!0,this.duration&&(this.timer=new h(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(M){!this.pauseOnHover||!this.timer||(M?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case m.TOP:case m.TOP_RIGHT:case m.TOP_LEFT:return this.parentTop;case m.BOTTOM:case m.BOTTOM_RIGHT:case m.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case m.TOP:case m.TOP_RIGHT:case m.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case m.BOTTOM:case m.BOTTOM_RIGHT:case m.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){b.off("toast-clear",this.dismiss)}});var E=r(113);const _=(0,E.default)(x,[["render",u]]),T=function(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(P){let V=null;typeof P=="string"&&(V=P);const w=Object.assign({},{message:V},M,P);return{dismiss:f(_,w,document.body).ctx.dismiss}},clear(){b.emit("toast-clear")},success(P){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:P,type:"success"},V))},error(P){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:P,type:"error"},V))},info(P){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:P,type:"info"},V))},warning(P){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:P,type:"warning"},V))},default(P){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:P,type:"default"},V))}}},k={install:function(M){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=T(P);M.config.globalProperties.$toast=V,M.provide("$toast",V)}},$=k;return o})())})(Kg)),Kg.exports}var Ji=zZ();const O3=6048e5,jZ=864e5,R3=6e4,M3=36e5,ng=43200,YD=1440,XD=Symbol.for("constructDateFrom");function gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&XD in t?t[XD](e):t instanceof Date?new t.constructor(e):new Date(e)}function En(t,e){return gr(e||t,t)}function I3(t,e,n){const s=En(t,n?.in);return isNaN(e)?gr(t,NaN):(s.setDate(s.getDate()+e),s)}function WZ(t,e,n){const s=En(t,n?.in);if(isNaN(e))return gr(t,NaN);const i=s.getDate(),r=gr(t,s.getTime());r.setMonth(s.getMonth()+e+1,0);const o=r.getDate();return i>=o?r:(s.setFullYear(r.getFullYear(),r.getMonth(),i),s)}let GZ={};function Bp(){return GZ}function ep(t,e){const n=Bp(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=En(t,e?.in),r=i.getDay(),o=(r<s?7:0)+r-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Wv(t,e){return ep(t,{...e,weekStartsOn:1})}function N3(t,e){const n=En(t,e?.in),s=n.getFullYear(),i=gr(n,0);i.setFullYear(s+1,0,4),i.setHours(0,0,0,0);const r=Wv(i),o=gr(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const a=Wv(o);return n.getTime()>=r.getTime()?s+1:n.getTime()>=a.getTime()?s:s-1}function Gv(t){const e=En(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Up(t,...e){const n=gr.bind(null,t||e.find(s=>typeof s=="object"));return e.map(n)}function Ud(t,e){const n=En(t,e?.in);return n.setHours(0,0,0,0),n}function qZ(t,e,n){const[s,i]=Up(n?.in,t,e),r=Ud(s),o=Ud(i),a=+r-Gv(r),c=+o-Gv(o);return Math.round((a-c)/jZ)}function KZ(t,e){const n=N3(t,e),s=gr(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Wv(s)}function tv(t,e){const n=+En(t)-+En(e);return n<0?-1:n>0?1:n}function YZ(t){return gr(t,Date.now())}function XZ(t,e,n){const[s,i]=Up(n?.in,t,e);return+Ud(s)==+Ud(i)}function JZ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function QZ(t){return!(!JZ(t)&&typeof t!="number"||isNaN(+En(t)))}function ZZ(t,e,n){const[s,i]=Up(n?.in,t,e),r=s.getFullYear()-i.getFullYear(),o=s.getMonth()-i.getMonth();return r*12+o}function eee(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function tee(t,e){return+En(t)-+En(e)}function xS(t,e){const n=En(t,e?.in);return n.setHours(23,59,59,999),n}function Wc(t,e){const n=En(t,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function nee(t,e){const n=En(t,e?.in);return+xS(n,e)==+Wc(n,e)}function see(t,e,n){const[s,i,r]=Up(n?.in,t,t,e),o=tv(i,r),a=Math.abs(ZZ(i,r));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*a);let c=tv(i,r)===-o;nee(s)&&a===1&&tv(s,r)===1&&(c=!1);const u=o*(a-+c);return u===0?0:u}function iee(t,e,n){const s=tee(t,e)/1e3;return eee(n?.roundingMethod)(s)}function yd(t,e){const n=En(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ree(t,e){const n=En(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const oee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aee=(t,e,n)=>{let s;const i=oee[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function xd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dee={date:xd({formats:lee,defaultWidth:"full"}),time:xd({formats:cee,defaultWidth:"full"}),dateTime:xd({formats:uee,defaultWidth:"full"})},fee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hee=(t,e,n,s)=>fee[t];function Eo(t){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let i;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const r=t.argumentCallback?t.argumentCallback(e):e;return i[r]}}const pee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xee=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_ee={ordinalNumber:xee,era:Eo({values:pee,defaultWidth:"wide"}),quarter:Eo({values:mee,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Eo({values:gee,defaultWidth:"wide"}),day:Eo({values:vee,defaultWidth:"wide"}),dayPeriod:Eo({values:bee,defaultWidth:"wide",formattingValues:yee,defaultFormattingWidth:"wide"})};function wo(t){return(e,n={})=>{const s=n.width,i=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],r=e.match(i);if(!r)return null;const o=r[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?Eee(a,f=>f.test(o)):See(a,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function See(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Eee(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function P3(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const i=s[0],r=e.match(t.parsePattern);if(!r)return null;let o=t.valueCallback?t.valueCallback(r[0]):r[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const wee=/^(\d+)(th|st|nd|rd)?/i,Cee=/\d+/i,Aee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kee={any:[/^b/i,/^(a|c)/i]},Tee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dee={any:[/1/i,/2/i,/3/i,/4/i]},Oee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ree={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Iee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$ee={ordinalNumber:P3({matchPattern:wee,parsePattern:Cee,valueCallback:t=>parseInt(t,10)}),era:wo({matchPatterns:Aee,defaultMatchWidth:"wide",parsePatterns:kee,defaultParseWidth:"any"}),quarter:wo({matchPatterns:Tee,defaultMatchWidth:"wide",parsePatterns:Dee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wo({matchPatterns:Oee,defaultMatchWidth:"wide",parsePatterns:Ree,defaultParseWidth:"any"}),day:wo({matchPatterns:Mee,defaultMatchWidth:"wide",parsePatterns:Iee,defaultParseWidth:"any"}),dayPeriod:wo({matchPatterns:Nee,defaultMatchWidth:"any",parsePatterns:Pee,defaultParseWidth:"any"})},$3={code:"en-US",formatDistance:aee,formatLong:dee,formatRelative:hee,localize:_ee,match:$ee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lee(t,e){const n=En(t,e?.in);return qZ(n,ree(n))+1}function Fee(t,e){const n=En(t,e?.in),s=+Wv(n)-+KZ(n);return Math.round(s/O3)+1}function L3(t,e){const n=En(t,e?.in),s=n.getFullYear(),i=Bp(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=gr(e?.in||t,0);o.setFullYear(s+1,0,r),o.setHours(0,0,0,0);const a=ep(o,e),c=gr(e?.in||t,0);c.setFullYear(s,0,r),c.setHours(0,0,0,0);const u=ep(c,e);return+n>=+a?s+1:+n>=+u?s:s-1}function Vee(t,e){const n=Bp(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=L3(t,e),r=gr(e?.in||t,0);return r.setFullYear(i,0,s),r.setHours(0,0,0,0),ep(r,e)}function Bee(t,e){const n=En(t,e?.in),s=+ep(n,e)-+Vee(n,e);return Math.round(s/O3)+1}function bn(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Qa={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return bn(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bn(n+1,2)},d(t,e){return bn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bn(t.getHours()%12||12,e.length)},H(t,e){return bn(t.getHours(),e.length)},m(t,e){return bn(t.getMinutes(),e.length)},s(t,e){return bn(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return bn(i,e.length)}},Gu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JD={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Qa.y(t,e)},Y:function(t,e,n,s){const i=L3(t,s),r=i>0?i:1-i;if(e==="YY"){const o=r%100;return bn(o,2)}return e==="Yo"?n.ordinalNumber(r,{unit:"year"}):bn(r,e.length)},R:function(t,e){const n=N3(t);return bn(n,e.length)},u:function(t,e){const n=t.getFullYear();return bn(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return bn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return bn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Qa.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return bn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const i=Bee(t,s);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):bn(i,e.length)},I:function(t,e,n){const s=Fee(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):bn(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qa.d(t,e)},D:function(t,e,n){const s=Lee(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):bn(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const i=t.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return bn(r,2);case"eo":return n.ordinalNumber(r,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const i=t.getDay(),r=(i-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return bn(r,e.length);case"co":return n.ordinalNumber(r,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),i=s===0?7:s;switch(e){case"i":return String(i);case"ii":return bn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let i;switch(s===12?i=Gu.noon:s===0?i=Gu.midnight:i=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let i;switch(s>=17?i=Gu.evening:s>=12?i=Gu.afternoon:s>=4?i=Gu.morning:i=Gu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Qa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qa.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):bn(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):bn(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qa.s(t,e)},S:function(t,e){return Qa.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return ZD(s);case"XXXX":case"XX":return xc(s);case"XXXXX":case"XXX":default:return xc(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return ZD(s);case"xxxx":case"xx":return xc(s);case"xxxxx":case"xxx":default:return xc(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+QD(s,":");case"OOOO":default:return"GMT"+xc(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+QD(s,":");case"zzzz":default:return"GMT"+xc(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return bn(s,e.length)},T:function(t,e,n){return bn(+t,e.length)}};function QD(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=Math.trunc(s/60),r=s%60;return r===0?n+String(i):n+String(i)+e+bn(r,2)}function ZD(t,e){return t%60===0?(t>0?"-":"+")+bn(Math.abs(t)/60,2):xc(t,e)}function xc(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),i=bn(Math.trunc(s/60),2),r=bn(s%60,2);return n+i+e+r}const eO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},F3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Uee=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return eO(t,e);let r;switch(s){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",eO(s,e)).replace("{{time}}",F3(i,e))},Hee={p:F3,P:Uee},zee=/^D+$/,jee=/^Y+$/,Wee=["D","DD","YY","YYYY"];function Gee(t){return zee.test(t)}function qee(t){return jee.test(t)}function Kee(t,e,n){const s=Yee(t,e,n);if(console.warn(s),Wee.includes(t))throw new RangeError(s)}function Yee(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Xee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qee=/^'([^]*?)'?$/,Zee=/''/g,ete=/[a-zA-Z]/;function Et(t,e,n){const s=Bp(),i=n?.locale??s.locale??$3,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,a=En(t,n?.in);if(!QZ(a))throw new RangeError("Invalid time value");let c=e.match(Jee).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=Hee[f];return h(d,i.formatLong)}return d}).join("").match(Xee).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:tte(d)};if(JD[f])return{isToken:!0,value:d};if(f.match(ete))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const u={firstWeekContainsDate:r,weekStartsOn:o,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&qee(f)||!n?.useAdditionalDayOfYearTokens&&Gee(f))&&Kee(f,e,String(t));const h=JD[f[0]];return h(a,f,i.localize,u)}).join("")}function tte(t){const e=t.match(Qee);return e?e[1].replace(Zee,"'"):t}function nte(t,e,n){const s=Bp(),i=n?.locale??s.locale??$3,r=2520,o=tv(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:o}),[c,u]=Up(n?.in,...o>0?[e,t]:[t,e]),d=iee(u,c),f=(Gv(u)-Gv(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return n?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,a):d<10?i.formatDistance("lessThanXSeconds",10,a):d<20?i.formatDistance("lessThanXSeconds",20,a):d<40?i.formatDistance("halfAMinute",0,a):d<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):h===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",h,a);if(h<45)return i.formatDistance("xMinutes",h,a);if(h<90)return i.formatDistance("aboutXHours",1,a);if(h<YD){const g=Math.round(h/60);return i.formatDistance("aboutXHours",g,a)}else{if(h<r)return i.formatDistance("xDays",1,a);if(h<ng){const g=Math.round(h/YD);return i.formatDistance("xDays",g,a)}else if(h<ng*2)return m=Math.round(h/ng),i.formatDistance("aboutXMonths",m,a)}if(m=see(u,c),m<12){const g=Math.round(h/ng);return i.formatDistance("xMonths",g,a)}else{const g=m%12,y=Math.trunc(m/12);return g<3?i.formatDistance("aboutXYears",y,a):g<9?i.formatDistance("overXYears",y,a):i.formatDistance("almostXYears",y+1,a)}}function ste(t,e){return nte(t,YZ(t),e)}function ite(t,e){return+En(t)>+En(e)}function rte(t,e){return+En(t)<+En(e)}function Bn(t,e){const n=()=>gr(e?.in,NaN),i=cte(t);let r;if(i.date){const u=ute(i.date,2);r=dte(u.restDateString,u.year)}if(!r||isNaN(+r))return n();const o=+r;let a=0,c;if(i.time&&(a=fte(i.time),isNaN(a)))return n();if(i.timezone){if(c=hte(i.timezone),isNaN(c))return n()}else{const u=new Date(o+a),d=En(0,e?.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return En(o+a+c,e?.in)}const sg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ote=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ate=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,lte=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cte(t){const e={},n=t.split(sg.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],sg.timeZoneDelimiter.test(e.date)&&(e.date=t.split(sg.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const i=sg.timezone.exec(s);i?(e.time=s.replace(i[1],""),e.timezone=i[1]):e.time=s}return e}function ute(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:t.slice((s[1]||s[2]).length)}}function dte(t,e){if(e===null)return new Date(NaN);const n=t.match(ote);if(!n)return new Date(NaN);const s=!!n[4],i=Of(n[1]),r=Of(n[2])-1,o=Of(n[3]),a=Of(n[4]),c=Of(n[5])-1;if(s)return bte(e,a,c)?pte(e,a,c):new Date(NaN);{const u=new Date(0);return!gte(e,r,o)||!vte(e,i)?new Date(NaN):(u.setUTCFullYear(e,r,Math.max(i,o)),u)}}function Of(t){return t?parseInt(t):1}function fte(t){const e=t.match(ate);if(!e)return NaN;const n=Sx(e[1]),s=Sx(e[2]),i=Sx(e[3]);return yte(n,s,i)?n*M3+s*R3+i*1e3:NaN}function Sx(t){return t&&parseFloat(t.replace(",","."))||0}function hte(t){if(t==="Z")return 0;const e=t.match(lte);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return xte(s,i)?n*(s*M3+i*R3):NaN}function pte(t,e,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const i=s.getUTCDay()||7,r=(e-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const mte=[31,null,31,30,31,30,31,31,30,31,30,31];function V3(t){return t%400===0||t%4===0&&t%100!==0}function gte(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(mte[e]||(V3(t)?29:28))}function vte(t,e){return e>=1&&e<=(V3(t)?366:365)}function bte(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function yte(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function xte(t,e){return e>=0&&e<=59}function _te(t,e,n){return WZ(t,-1,n)}const Ste={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Ete=(t,e,n)=>{let s;const i=Ste[t];return typeof i=="string"?s=i:e===1?s=i.one:s=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+s:"h "+s:s},wte={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Cte={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ate={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kte={date:xd({formats:wte,defaultWidth:"full"}),time:xd({formats:Cte,defaultWidth:"full"}),dateTime:xd({formats:Ate,defaultWidth:"full"})},Tte={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Dte=(t,e,n,s)=>{const i=Tte[t];return typeof i=="function"?i(e):i},Ote={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Rte={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Mte={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ite={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Nte={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Pte={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},$te=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},Lte={ordinalNumber:$te,era:Eo({values:Ote,defaultWidth:"wide"}),quarter:Eo({values:Rte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Eo({values:Mte,defaultWidth:"wide"}),day:Eo({values:Ite,defaultWidth:"wide"}),dayPeriod:Eo({values:Nte,defaultWidth:"wide",formattingValues:Pte,defaultFormattingWidth:"wide"})},Fte=/^(\d+)[o]?/i,Vte=/\d+/i,Bte={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Ute={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Hte={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},zte={any:[/1/i,/2/i,/3/i,/4/i]},jte={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Wte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Gte={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},qte={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Kte={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Yte={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Xte={ordinalNumber:P3({matchPattern:Fte,parsePattern:Vte,valueCallback:t=>parseInt(t,10)}),era:wo({matchPatterns:Bte,defaultMatchWidth:"wide",parsePatterns:Ute,defaultParseWidth:"any"}),quarter:wo({matchPatterns:Hte,defaultMatchWidth:"wide",parsePatterns:zte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wo({matchPatterns:jte,defaultMatchWidth:"wide",parsePatterns:Wte,defaultParseWidth:"any"}),day:wo({matchPatterns:Gte,defaultMatchWidth:"wide",parsePatterns:qte,defaultParseWidth:"any"}),dayPeriod:wo({matchPatterns:Kte,defaultMatchWidth:"any",parsePatterns:Yte,defaultParseWidth:"any"})},ys={code:"pt-BR",formatDistance:Ete,formatLong:kte,formatRelative:Dte,localize:Lte,match:Xte,options:{weekStartsOn:0,firstWeekContainsDate:1}},Jte={key:0,class:"notification-badge"},Qte={key:1,class:"notification-dropdown"},Zte={key:0,class:"dropdown-item"},ene={key:1,class:"dropdown-item"},tne={key:2},nne=["onClick"],sne=We({__name:"NotificationBell",setup(t){const e=H(!1),n=H([]),s=H(0),i=H(!1),r=an();async function o(){i.value=!0;try{const d=await ce.get("/v1/core/usuarios/minhas-notificacoes/");n.value=d.data,s.value=d.data.filter(f=>!f.lida).length}catch(d){console.error("Erro ao carregar notificaes:",d)}finally{i.value=!1}}async function a(d){try{await ce.post("/v1/core/usuarios/marcar-notificacoes-lidas/",{ids:[d]}),o()}catch(f){console.error("Erro ao marcar notificao como lida:",f)}}function c(d){a(d.id),d.link&&r.push(d.link),e.value=!1}function u(){e.value=!e.value,e.value&&o()}return it(()=>{o(),setInterval(o,6e4)}),(d,f)=>(O(),R("div",{class:"notification-bell",onClick:u},[f[0]||(f[0]=l("i",{class:"fas fa-bell"},null,-1)),s.value>0?(O(),R("span",Jte,F(s.value),1)):J("",!0),e.value?(O(),R("div",Qte,[i.value?(O(),R("div",Zte,"A carregar...")):n.value.length===0?(O(),R("div",ene,"Nenhuma notificao nova.")):(O(),R("div",tne,[(O(!0),R(Me,null,je(n.value,h=>(O(),R("div",{key:h.id,class:"dropdown-item",onClick:m=>c(h)},[l("p",null,F(h.mensagem),1),l("small",null,F(Ve(ste)(new Date(h.data_criacao),{addSuffix:!0,locale:Ve(ys)})),1)],8,nne))),128))]))])):J("",!0)]))}}),tt=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},ine=tt(sne,[["__scopeId","data-v-6004667d"]]),rne={key:0,class:"financeiro-banner"},one={class:"banner-content"},ane={class:"text-content"},lne={class:"subtitle"},cne=We({__name:"FinanceiroBanner",setup(t){const e=$o(),n=we(()=>e.isFinancialPending),s=we(()=>e.vencimentoAtual);return(i,r)=>n.value?(O(),R("div",rne,[l("div",one,[r[3]||(r[3]=l("div",{class:"alert-icon"},[l("i",{class:"fas fa-exclamation-triangle"})],-1)),l("div",ane,[r[2]||(r[2]=l("span",{class:"title"},"Ateno: Mensalidade Pendente",-1)),l("span",lne,[r[0]||(r[0]=z(" Sua fatura venceu em ",-1)),l("strong",null,F(s.value),1),r[1]||(r[1]=z(". Regularize para evitar o bloqueio do sistema. ",-1))])]),r[4]||(r[4]=l("a",{href:"https://wa.me/5500000000000",target:"_blank",class:"btn-regularizar"},[z(" Regularizar Agora "),l("i",{class:"fas fa-arrow-right"})],-1))])])):J("",!0)}}),une=tt(cne,[["__scopeId","data-v-1a7311ce"]]),dne={class:"sidebar-header"},fne={class:"brand-wrapper"},hne={key:0,class:"brand-logo-container"},pne=["src"],mne={key:1,class:"brand-icon-circle"},gne={class:"sidebar-content"},vne={class:"nav-list"},bne={class:"nav-item"},yne={class:"divider"},xne={key:0},_ne={class:"nav-item"},Sne={class:"nav-item"},Ene={class:"nav-item"},wne={class:"divider"},Cne={class:"nav-item"},Ane={class:"divider"},kne={class:"main-wrapper"},Tne={class:"top-header"},Dne={class:"header-left"},One={class:"system-identity"},Rne={class:"tenant-name"},Mne={class:"header-right"},Ine={class:"user-dropdown-container"},Nne={class:"avatar-circle"},Pne=["src"],$ne={key:1},Lne={class:"user-name-label"},Fne={key:0,class:"account-menu"},Vne={class:"account-menu-header"},Bne={class:"user-name-full"},Une={class:"user-role-label"},Hne={class:"page-content"},Ex=1024,zne=We({__name:"DashboardLayout",setup(t){const e=an(),n=ms(),s=$o(),i=H(null),r=we(()=>{const D=i.value||s.user;return D?D.is_superuser||D.is_admin||D.cargo==="ADMIN":!1}),o=we(()=>i.value&&i.value.imobiliaria_nome?i.value.imobiliaria_nome:s.user&&s.user.imobiliaria_nome?s.user.imobiliaria_nome:"Painel Imobilirio"),a=we(()=>i.value&&i.value.imobiliaria_foto?i.value.imobiliaria_foto:s.user&&s.user.imobiliaria_foto?s.user.imobiliaria_foto:null),c=we(()=>{const D=i.value||s.user;return D?D.first_name?`${D.first_name} ${D.last_name||""}`.trim():D.username||"Usurio":"Carregando..."}),u=we(()=>c.value.split(" ")[0]),d=we(()=>{const D=c.value;return!D||D==="Carregando..."?"-":D.substring(0,1).toUpperCase()}),f=we(()=>(i.value||s.user)?.foto||null),h=we(()=>{const D=i.value||s.user;return D?.is_superuser||D?.is_admin?"Administrador":D?.is_corretor?"Corretor":"Colaborador"}),m=H(!1),g=H(!1),y=H(!1),b=H(!1),x=H(null),E=H(!1);function C(D){window.innerWidth>Ex&&(g.value=D)}function _(){window.innerWidth<=Ex?m.value=!1:E.value||(m.value=!0)}function T(){y.value=!0}function k(){y.value=!1}function $(D){x.value===D?x.value=null:x.value=D}function M(D){return m.value&&!g.value?!1:x.value===D}function P(){b.value=!b.value}function V(){s.logout(),e.push("/login")}function I(D){D.target.closest(".user-dropdown-container")||(b.value=!1)}Rn(()=>n.fullPath,()=>{window.innerWidth<=Ex?k():g.value=!1,b.value=!1});async function w(){try{const A=(await ce.get("/v1/core/usuarios/me/")).data;i.value=A,s.setUser&&s.setUser(A,null,A.imobiliaria_nome)}catch(D){console.error("Erro ao carregar dados do usurio no Dashboard:",D)}}return it(()=>{w(),_(),window.addEventListener("resize",_),window.addEventListener("click",I)}),Yl(()=>{window.removeEventListener("resize",_),window.removeEventListener("click",I)}),(D,A)=>{const B=on("router-link"),N=on("router-view");return O(),R("div",{class:te(["dashboard-layout",{"sidebar-collapsed":m.value,"mobile-open":y.value}])},[l("aside",{class:te(["sidebar",{"sidebar-hover-expanded":g.value&&m.value}]),onMouseenter:A[5]||(A[5]=q=>C(!0)),onMouseleave:A[6]||(A[6]=q=>C(!1))},[l("div",dne,[l("div",fne,[a.value?(O(),R("div",hne,[l("img",{src:a.value,alt:"Logo",class:"brand-logo-img"},null,8,pne)])):(O(),R("div",mne,[...A[7]||(A[7]=[l("i",{class:"fas fa-laptop-house"},null,-1)])])),A[8]||(A[8]=l("span",{class:"brand-text"},"ImobHome",-1))]),l("button",{class:"mobile-close-btn",onClick:k},[...A[9]||(A[9]=[l("i",{class:"fas fa-times"},null,-1)])])]),l("div",gne,[l("ul",vne,[l("li",bne,[be(B,{to:{name:"dashboard"},class:"nav-link","active-class":"active"},{default:Pe(()=>[...A[10]||(A[10]=[l("i",{class:"fas fa-th-large nav-icon"},null,-1),l("span",{class:"nav-label"},"Viso Geral",-1)])]),_:1})]),A[40]||(A[40]=l("li",{class:"nav-section"},"NEGCIOS",-1)),Y(l("li",yne,null,512),[[Hs,m.value&&!g.value]]),l("li",{class:te(["nav-item-group",{expanded:M("comercial")}])},[l("div",{class:"nav-link has-submenu",onClick:A[0]||(A[0]=q=>$("comercial"))},[...A[11]||(A[11]=[l("i",{class:"fas fa-handshake nav-icon"},null,-1),l("span",{class:"nav-label"},"Comercial",-1),l("i",{class:"fas fa-chevron-down arrow-icon"},null,-1)])]),l("ul",{class:"submenu-list",style:Ws({maxHeight:M("comercial")?"200px":"0"})},[l("li",null,[be(B,{to:{name:"clientes"},"active-class":"active"},{default:Pe(()=>[...A[12]||(A[12]=[z("Clientes",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"funil-vendas"},"active-class":"active"},{default:Pe(()=>[...A[13]||(A[13]=[z("Funil de Vendas",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"visitas"},"active-class":"active"},{default:Pe(()=>[...A[14]||(A[14]=[z("Visitas",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"contatos"},"active-class":"active"},{default:Pe(()=>[...A[15]||(A[15]=[z("Leads (Site)",-1)])]),_:1})])],4)],2),l("li",{class:te(["nav-item-group",{expanded:M("imoveis")}])},[l("div",{class:"nav-link has-submenu",onClick:A[1]||(A[1]=q=>$("imoveis"))},[...A[16]||(A[16]=[l("i",{class:"fas fa-building nav-icon"},null,-1),l("span",{class:"nav-label"},"Imveis",-1),l("i",{class:"fas fa-chevron-down arrow-icon"},null,-1)])]),l("ul",{class:"submenu-list",style:Ws({maxHeight:M("imoveis")?"150px":"0"})},[l("li",null,[be(B,{to:{name:"imoveis"},"active-class":"active"},{default:Pe(()=>[...A[17]||(A[17]=[z("Listar Imveis",-1)])]),_:1})]),r.value?(O(),R("li",xne,[be(B,{to:{name:"relatorio-autorizacoes"},"active-class":"active"},{default:Pe(()=>[...A[18]||(A[18]=[z("Autorizaes",-1)])]),_:1})])):J("",!0)],4)],2),l("li",{class:te(["nav-item-group",{expanded:M("contratos")}])},[l("div",{class:"nav-link has-submenu",onClick:A[2]||(A[2]=q=>$("contratos"))},[...A[19]||(A[19]=[l("i",{class:"fas fa-file-signature nav-icon"},null,-1),l("span",{class:"nav-label"},"Contratos",-1),l("i",{class:"fas fa-chevron-down arrow-icon"},null,-1)])]),l("ul",{class:"submenu-list",style:Ws({maxHeight:M("contratos")?"150px":"0"})},[l("li",null,[be(B,{to:{name:"contratos"},"active-class":"active"},{default:Pe(()=>[...A[20]||(A[20]=[z("Gerenciar",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"vistorias"},"active-class":"active"},{default:Pe(()=>[...A[21]||(A[21]=[z("Vistorias",-1)])]),_:1})])],4)],2),l("li",_ne,[be(B,{to:{name:"publicacoes"},class:"nav-link","active-class":"active"},{default:Pe(()=>[...A[22]||(A[22]=[l("i",{class:"fas fa-share-alt nav-icon"},null,-1),l("span",{class:"nav-label"},"Publicaes",-1)])]),_:1})]),l("li",Sne,[be(B,{to:{name:"calendario"},class:"nav-link","active-class":"active"},{default:Pe(()=>[...A[23]||(A[23]=[l("i",{class:"fas fa-calendar-check nav-icon"},null,-1),l("span",{class:"nav-label"},"Minha Agenda",-1)])]),_:1})]),l("li",Ene,[be(B,{to:{name:"tarefas-board"},class:"nav-link","active-class":"active"},{default:Pe(()=>[...A[24]||(A[24]=[l("i",{class:"fas fa-columns nav-icon"},null,-1),l("span",{class:"nav-label"},"Quadro de Tarefas",-1)])]),_:1})]),r.value?(O(),R(Me,{key:0},[A[38]||(A[38]=l("li",{class:"nav-section"},"GESTO",-1)),Y(l("li",wne,null,512),[[Hs,m.value&&!g.value]]),l("li",{class:te(["nav-item-group",{expanded:M("financeiro")}])},[l("div",{class:"nav-link has-submenu",onClick:A[3]||(A[3]=q=>$("financeiro"))},[...A[25]||(A[25]=[l("i",{class:"fas fa-wallet nav-icon"},null,-1),l("span",{class:"nav-label"},"Financeiro",-1),l("i",{class:"fas fa-chevron-down arrow-icon"},null,-1)])]),l("ul",{class:"submenu-list",style:Ws({maxHeight:M("financeiro")?"300px":"0"})},[l("li",null,[be(B,{to:{name:"financeiro-dashboard"},"active-class":"active"},{default:Pe(()=>[...A[26]||(A[26]=[z("Dashboard Fin.",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"contas-a-receber"},"active-class":"active"},{default:Pe(()=>[...A[27]||(A[27]=[z("A Receber",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"contas-a-pagar"},"active-class":"active"},{default:Pe(()=>[...A[28]||(A[28]=[z("A Pagar",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"lista-transacoes"},"active-class":"active"},{default:Pe(()=>[...A[29]||(A[29]=[z("Transaes",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"dre"},"active-class":"active"},{default:Pe(()=>[...A[30]||(A[30]=[z("Relatrio DRE",-1)])]),_:1})])],4)],2),l("li",Cne,[be(B,{to:{name:"relatorios"},class:"nav-link","active-class":"active"},{default:Pe(()=>[...A[31]||(A[31]=[l("i",{class:"fas fa-chart-pie nav-icon"},null,-1),l("span",{class:"nav-label"},"Relatrios",-1)])]),_:1})]),A[39]||(A[39]=l("li",{class:"nav-section"},"SISTEMA",-1)),Y(l("li",Ane,null,512),[[Hs,m.value&&!g.value]]),l("li",{class:te(["nav-item-group",{expanded:M("config")}])},[l("div",{class:"nav-link has-submenu",onClick:A[4]||(A[4]=q=>$("config"))},[...A[32]||(A[32]=[l("i",{class:"fas fa-cogs nav-icon"},null,-1),l("span",{class:"nav-label"},"Configuraes",-1),l("i",{class:"fas fa-chevron-down arrow-icon"},null,-1)])]),l("ul",{class:"submenu-list",style:Ws({maxHeight:M("config")?"250px":"0"})},[l("li",null,[be(B,{to:{name:"corretores"},"active-class":"active"},{default:Pe(()=>[...A[33]||(A[33]=[z("Equipe",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"integracoes"},"active-class":"active"},{default:Pe(()=>[...A[34]||(A[34]=[z("Integraes",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"configuracao-sistema"},"active-class":"active"},{default:Pe(()=>[...A[35]||(A[35]=[z("Sistema",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"lista-contas"},"active-class":"active"},{default:Pe(()=>[...A[36]||(A[36]=[z("Contas Bancrias",-1)])]),_:1})]),l("li",null,[be(B,{to:{name:"lista-categorias"},"active-class":"active"},{default:Pe(()=>[...A[37]||(A[37]=[z("Categorias",-1)])]),_:1})])],4)],2)],64)):J("",!0)])])],34),l("div",{class:"sidebar-overlay",onClick:k}),l("div",kne,[l("header",Tne,[l("div",Dne,[l("button",{class:"menu-toggle-btn",onClick:T},[...A[41]||(A[41]=[l("i",{class:"fas fa-bars"},null,-1)])]),l("div",One,[A[42]||(A[42]=l("span",{class:"sys-name"},"IMOBHOME",-1)),A[43]||(A[43]=l("span",{class:"sys-divider"},"/",-1)),l("span",Rne,F(o.value),1)])]),l("div",Mne,[be(ine),l("div",Ine,[l("div",{class:"user-profile",onClick:wt(P,["stop"])},[l("div",Nne,[f.value?(O(),R("img",{key:0,src:f.value,alt:"Avatar",class:"w-full h-full object-cover rounded-full"},null,8,Pne)):(O(),R("span",$ne,F(d.value),1))]),l("span",Lne,F(u.value),1),l("i",{class:te(["fas fa-chevron-down profile-arrow",{rotated:b.value}])},null,2)]),be($l,{name:"fade-in-up"},{default:Pe(()=>[b.value?(O(),R("div",Fne,[l("div",Vne,[l("span",Bne,F(c.value),1),l("span",Une,F(h.value),1)]),l("div",{class:"account-menu-body"},[A[45]||(A[45]=l("div",{class:"menu-divider"},null,-1)),l("button",{class:"menu-item logout",onClick:V},[...A[44]||(A[44]=[l("i",{class:"fas fa-sign-out-alt"},null,-1),l("span",null,"Sair",-1)])])])])):J("",!0)]),_:1})])])]),r.value?(O(),is(une,{key:0})):J("",!0),l("main",Hne,[be(N,null,{default:Pe(({Component:q})=>[be($l,{name:"fade",mode:"out-in"},{default:Pe(()=>[(O(),is(gd(q)))]),_:2},1024)]),_:1})])])],2)}}}),jne=tt(zne,[["__scopeId","data-v-43f041eb"]]),tp=rs.create({baseURL:"http://localhost:8001",headers:{"Content-Type":"application/json"}}),Wne={class:"public-layout"},Gne={class:"container header-container"},qne={href:"/site",class:"header-brand"},Kne={class:"brand-name"},Yne={class:"header-actions"},Xne={class:"desktop-nav"},Jne={class:"main-content"},Qne={class:"public-footer"},Zne={class:"container footer-container"},ese={class:"footer-info"},tse={class:"footer-brand"},nse={class:"footer-copy"},sse=We({__name:"PublicLayout",setup(t){const e=ms(),n=H(""),s=H(!1),i=H(!1);function r(){i.value=!i.value}function o(){i.value=!1}function a(){i.value&&o()}Rn(()=>e.fullPath,()=>{o()});function c(){s.value=window.scrollY>10}async function u(d){try{const f=await tp.get(`/public/imobiliaria/${d}/`);n.value=f.data.nome;const h=f.data.cor_primaria||"#007bff";document.documentElement.style.setProperty("--primary-color",h)}catch{n.value=d==="localhost"?"Imobiliria Demo":d,document.documentElement.style.setProperty("--primary-color","#111827")}}return it(()=>{const f=window.location.hostname.split(".");let h=f.length>1&&f[0]!=="www"?f[0]:"estilomusical";(f.length===1||f[0]==="localhost")&&(h="estilomusical"),u(h),window.addEventListener("scroll",c)}),Yl(()=>{window.removeEventListener("scroll",c)}),(d,f)=>{const h=on("router-link"),m=on("router-view");return O(),R("div",Wne,[l("header",{class:te(["public-header",{scrolled:s.value}])},[l("div",Gne,[l("a",qne,[f[1]||(f[1]=l("i",{class:"fas fa-home brand-icon"},null,-1)),l("h1",Kne,F(n.value||"Portal Imobilirio"),1)]),l("div",Yne,[l("nav",Xne,[be(h,{to:"/site",class:"nav-link","active-class":"active"},{default:Pe(()=>[...f[2]||(f[2]=[z("Incio",-1)])]),_:1}),f[3]||(f[3]=l("a",{href:"#",class:"nav-link"},"Imveis",-1)),f[4]||(f[4]=l("a",{href:"#",class:"nav-link"},"Sobre",-1)),f[5]||(f[5]=l("a",{href:"#",class:"nav-link"},"Contato",-1))]),f[9]||(f[9]=l("div",{class:"separator desktop-only"},null,-1)),f[10]||(f[10]=l("a",{href:"/login",class:"btn-login desktop-only"},[l("i",{class:"fas fa-user-circle"}),l("span",null,"rea do Cliente")],-1)),i.value?(O(),R("div",{key:0,class:"menu-backdrop",onClick:o})):J("",!0),l("div",{class:"mobile-interaction-wrapper",onMouseleave:a},[l("button",{class:te(["mobile-toggle",{active:i.value}]),onClick:wt(r,["stop"])},[l("i",{class:te(i.value?"fas fa-times":"fas fa-bars")},null,2)],2),be($l,{name:"dropdown-slide"},{default:Pe(()=>[i.value?(O(),R("div",{key:0,class:"mobile-dropdown-menu",onClick:f[0]||(f[0]=wt(()=>{},["stop"]))},[be(h,{to:"/site",class:"mobile-item",onClick:o},{default:Pe(()=>[...f[6]||(f[6]=[z(" Incio ",-1)])]),_:1}),l("a",{href:"#",class:"mobile-item",onClick:o},"Imveis"),l("a",{href:"#",class:"mobile-item",onClick:o},"Sobre"),l("a",{href:"#",class:"mobile-item",onClick:o},"Contato"),f[8]||(f[8]=l("div",{class:"divider"},null,-1)),l("a",{href:"/login",class:"mobile-item highlight",onClick:o},[...f[7]||(f[7]=[l("i",{class:"fas fa-user-circle"},null,-1),z(" rea do Cliente ",-1)])])])):J("",!0)]),_:1})],32)])])],2),l("main",Jne,[be(m,null,{default:Pe(({Component:g})=>[be($l,{name:"fade",mode:"out-in"},{default:Pe(()=>[(O(),is(gd(g)))]),_:2},1024)]),_:1})]),l("footer",Qne,[l("div",Zne,[l("div",ese,[l("h3",tse,F(n.value),1),f[11]||(f[11]=l("p",{class:"footer-desc"},"Encontre o imvel dos seus sonhos com confiana.",-1))]),l("div",nse,[l("p",null," "+F(new Date().getFullYear())+" "+F(n.value)+". Todos os direitos reservados.",1)])])])])}}}),ise=tt(sse,[["__scopeId","data-v-e11cd379"]]),rse={class:"dashboard-alugueis-container"},ose={key:0,class:"loading-message"},ase={key:1,class:"error-message"},lse={key:2,class:"content-wrapper"},cse={class:"stats-grid"},use={class:"stat-card"},dse={class:"stat-info"},fse={class:"stat-value"},hse={class:"stat-card"},pse={class:"stat-info"},mse={class:"stat-value"},gse={class:"stat-card"},vse={class:"stat-info"},bse={class:"stat-value"},yse={class:"stat-card"},xse={class:"stat-info"},_se={class:"stat-value"},Sse={class:"section-card"},Ese={key:0,class:"tabela-wrapper"},wse={class:"tabela-list"},Cse={key:1,class:"no-data"},Ase=We({__name:"AlugueisDashboardView",setup(t){const e=H({contratos_ativos:0,alugueis_a_vencer:0,alugueis_atrasados:0,valor_recebido_mes:0,proximos_alugueis:[]}),n=H(!0),s=H(null);function i(o){return o==null?"R$ 0,00":o.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function r(o){if(!o)return"N/A";try{return Et(new Date(o+"T00:00:00"),"dd/MM/yyyy",{locale:ys})}catch{return"Invlida"}}return it(async()=>{n.value=!0,s.value=null;try{const o=await ce.get("/v1/alugueis/dashboard-stats/");e.value=o.data}catch(o){console.error("Erro ao carregar dashboard de aluguis:",o),s.value="No foi possvel carregar as informaes do dashboard."}finally{n.value=!1}}),(o,a)=>(O(),R("div",rse,[n.value?(O(),R("div",ose," A carregar dados... ")):J("",!0),s.value?(O(),R("div",ase,F(s.value),1)):(O(),R("div",lse,[l("div",cse,[l("div",use,[a[1]||(a[1]=l("i",{class:"fas fa-file-contract stat-icon"},null,-1)),l("div",dse,[a[0]||(a[0]=l("span",{class:"stat-label"},"Contratos de Aluguel Ativos",-1)),l("span",fse,F(e.value.contratos_ativos),1)])]),l("div",hse,[a[3]||(a[3]=l("i",{class:"fas fa-money-check-alt stat-icon"},null,-1)),l("div",pse,[a[2]||(a[2]=l("span",{class:"stat-label"},"Aluguis a Vencer (Prximos 7 dias)",-1)),l("span",mse,F(e.value.alugueis_a_vencer),1)])]),l("div",gse,[a[5]||(a[5]=l("i",{class:"fas fa-exclamation-triangle stat-icon"},null,-1)),l("div",vse,[a[4]||(a[4]=l("span",{class:"stat-label"},"Aluguis Atrasados",-1)),l("span",bse,F(e.value.alugueis_atrasados),1)])]),l("div",yse,[a[7]||(a[7]=l("i",{class:"fas fa-hand-holding-usd stat-icon"},null,-1)),l("div",xse,[a[6]||(a[6]=l("span",{class:"stat-label"},"Valor Recebido (ms atual)",-1)),l("span",_se,F(i(e.value.valor_recebido_mes)),1)])])]),l("div",Sse,[a[10]||(a[10]=l("h3",{class:"section-title"},"Aluguis Prximos de Vencer",-1)),e.value.proximos_alugueis&&e.value.proximos_alugueis.length>0?(O(),R("div",Ese,[l("table",wse,[a[9]||(a[9]=l("thead",null,[l("tr",null,[l("th",null,"Imvel"),l("th",null,"Inquilino"),l("th",null,"Vencimento"),l("th",null,"Valor")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(e.value.proximos_alugueis,c=>(O(),R("tr",{key:c.id},[l("td",null,F(c.imovel_titulo),1),l("td",null,F(c.inquilino_nome),1),l("td",null,F(r(c.data_vencimento)),1),a[8]||(a[8]=z()),l("td",null,F(i(c.valor)),1)]))),128))])])])):(O(),R("div",Cse,"Nenhum aluguel a vencer nos prximos 7 dias."))])]))]))}}),kse=tt(Ase,[["__scopeId","data-v-e7140feb"]]),Tse={class:"page-container"},Dse={class:"page-header"},Ose={class:"header-main"},Rse={class:"actions-area"},Mse=["disabled"],Ise={class:"kpi-grid"},Nse={class:"kpi-content"},Pse={class:"kpi-value"},$se={class:"kpi-content"},Lse={class:"kpi-value"},Fse={class:"kpi-content"},Vse={class:"kpi-value"},Bse={class:"kpi-content"},Use={class:"kpi-value"},Hse={class:"toolbar-row"},zse={class:"filter-group search-group"},jse={class:"input-with-icon"},Wse={class:"filter-group date-range-group"},Gse={class:"date-group-row"},qse={class:"filter-group"},Kse={class:"filter-group"},Yse={class:"report-main-wrapper"},Xse={key:0,class:"loading-state"},Jse={key:1,class:"empty-state"},Qse={key:2,class:"report-scroll-viewport"},Zse={class:"report-table"},eie={class:"badge-type bg-gray"},tie={class:"cell-content"},nie=["title"],sie={class:"sub-text"},iie={class:"text-muted"},rie={class:"text-center"},oie={class:"text-center"},aie={class:"text-right"},lie={class:"actions-flex"},cie=["onClick"],uie=["onClick","disabled"],die=We({__name:"AutorizacoesReportView",setup(t){const e=an(),n=H([]),s=H([]),i=H(!0),r=H(!1),o=H({search:"",status:"",tipoNegocio:"",vencimentoInicio:"",vencimentoFim:""}),a=we(()=>{const C=n.value.length;let _=0,T=0,k=0;return n.value.forEach($=>{$.dias_restantes===9999||$.dias_restantes>=0?(_++,$.dias_restantes>=0&&$.dias_restantes<=30&&k++):T++}),{total:C,vigentes:_,vencidas:T,aVencer:k}}),c=async()=>{i.value=!0;try{const C=await ce.get("/v1/imoveis/relatorio/autorizacoes/");n.value=C.data.map(_=>({id:_.id||_.pk||_.imovel_id||0,codigo:_.codigo_referencia||_.codigo||"?",endereco:_.titulo_anuncio||_.endereco_completo||_.endereco_resumido||"Endereo no informado",proprietario:_.proprietario_nome||_.proprietario||"N/A",raw_status:_.raw_status||(_.finalidade==="Venda"?"A_VENDA":"PARA_ALUGAR"),data_inicio:_.data_captacao||_.data_inicio,data_fim:_.data_fim_autorizacao||_.data_fim,dias_restantes:_.dias_restantes!==void 0&&_.dias_restantes!==null?_.dias_restantes:9999})),f()}catch(C){console.error("Erro ao buscar dados:",C)}finally{i.value=!1}},u=C=>{o.value.status=o.value.status===C?"":C,f()},d=()=>{o.value={search:"",status:"",tipoNegocio:"",vencimentoInicio:"",vencimentoFim:""},f()},f=()=>{let C=n.value;const _=o.value.search.toLowerCase();if(o.value.search&&(C=C.filter(T=>T.codigo.toString().toLowerCase().includes(_)||T.endereco.toLowerCase().includes(_)||T.proprietario.toLowerCase().includes(_))),o.value.tipoNegocio&&(C=C.filter(T=>T.raw_status===o.value.tipoNegocio)),o.value.status&&(C=C.filter(T=>o.value.status==="VENCIDA"?T.dias_restantes<0&&T.dias_restantes!==9999:o.value.status==="A_VENCER"?T.dias_restantes>=0&&T.dias_restantes<=30:o.value.status==="VIGENTE"?T.dias_restantes>=0||T.dias_restantes===9999:!0)),o.value.vencimentoInicio){const T=Bn(o.value.vencimentoInicio);C=C.filter(k=>k.data_fim&&(ite(Bn(k.data_fim),Ud(T))||Bn(k.data_fim).getTime()===Ud(T).getTime()))}if(o.value.vencimentoFim){const T=Bn(o.value.vencimentoFim);C=C.filter(k=>k.data_fim&&(rte(Bn(k.data_fim),xS(T))||Bn(k.data_fim).getTime()===xS(T).getTime()))}s.value=C},h=C=>{if(!C)return"-";try{return Et(Bn(C),"dd/MM/yy",{locale:ys})}catch{return"-"}},m=C=>C.dias_restantes===9999?"Vigente":C.dias_restantes<0?"Vencida":C.dias_restantes<=30?"A Vencer":"Vigente",g=C=>C.dias_restantes<0&&C.dias_restantes!==9999?"status-red":C.dias_restantes>=0&&C.dias_restantes<=30?"status-orange":"status-green",y=C=>C===9999?"text-muted font-bold":C<0?"text-red font-bold":C<=30?"text-orange font-bold":"text-green font-bold",b=C=>{C&&e.push({name:"imovel-editar",params:{id:C}})},x=async C=>{if(!(!C||C===0))try{const _=await ce.get(`/v1/imoveis/${C}/gerar-autorizacao-pdf/`,{responseType:"blob"});window.open(window.URL.createObjectURL(new Blob([_.data],{type:"application/pdf"})),"_blank")}catch{alert("Erro ao gerar PDF.")}},E=async()=>{r.value=!0;try{const C={search:o.value.search,status_vigencia:o.value.status,tipo_negocio:o.value.tipoNegocio,vencimento_de:o.value.vencimentoInicio,vencimento_ate:o.value.vencimentoFim},_=await ce.get("/v1/imoveis/relatorio-geral-autorizacoes/",{params:C,responseType:"blob"});window.open(window.URL.createObjectURL(new Blob([_.data],{type:"application/pdf"})),"_blank")}catch{alert("No foi possvel gerar o relatrio PDF.")}finally{r.value=!1}};return it(c),(C,_)=>(O(),R("div",Tse,[l("header",Dse,[l("div",Ose,[_[9]||(_[9]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Relatrios"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Autorizaes")]),l("h1",null,"Relatrio de Autorizaes")],-1)),l("div",Rse,[l("button",{class:"btn-icon-thin",onClick:c,title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":i.value}])},null,2)]),l("button",{class:"btn-primary-thin",onClick:E,disabled:r.value},[l("i",{class:te(["fas fa-print",{"fa-spin":r.value}])},null,2),z(" "+F(r.value?"Gerando...":"Imprimir Relatrio"),1)],8,Mse)])])]),l("div",Ise,[l("div",{class:te(["kpi-card blue",{active:o.value.status===""}]),onClick:_[0]||(_[0]=T=>u(""))},[l("div",Nse,[l("span",Pse,F(a.value.total),1),_[10]||(_[10]=l("span",{class:"kpi-label"},"Total Autorizaes",-1))]),_[11]||(_[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-file-contract"})],-1))],2),l("div",{class:te(["kpi-card green",{active:o.value.status==="VIGENTE"}]),onClick:_[1]||(_[1]=T=>u("VIGENTE"))},[l("div",$se,[l("span",Lse,F(a.value.vigentes),1),_[12]||(_[12]=l("span",{class:"kpi-label"},"Vigentes",-1))]),_[13]||(_[13]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-check-circle"})],-1))],2),l("div",{class:te(["kpi-card orange",{active:o.value.status==="A_VENCER"}]),onClick:_[2]||(_[2]=T=>u("A_VENCER"))},[l("div",Fse,[l("span",Vse,F(a.value.aVencer),1),_[14]||(_[14]=l("span",{class:"kpi-label"},"A Vencer (30 dias)",-1))]),_[15]||(_[15]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-exclamation-circle"})],-1))],2),l("div",{class:te(["kpi-card red",{active:o.value.status==="VENCIDA"}]),onClick:_[3]||(_[3]=T=>u("VENCIDA"))},[l("div",Bse,[l("span",Use,F(a.value.vencidas),1),_[16]||(_[16]=l("span",{class:"kpi-label"},"Vencidas",-1))]),_[17]||(_[17]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-times-circle"})],-1))],2)]),l("div",Hse,[l("div",zse,[_[19]||(_[19]=l("label",null,"Buscar",-1)),l("div",jse,[_[18]||(_[18]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":_[4]||(_[4]=T=>o.value.search=T),placeholder:"Ref, imvel ou proprietrio...",class:"form-control",onInput:f},null,544),[[de,o.value.search]])])]),l("div",Wse,[_[21]||(_[21]=l("label",null,"Vencimento (De - At)",-1)),l("div",Gse,[Y(l("input",{type:"date","onUpdate:modelValue":_[5]||(_[5]=T=>o.value.vencimentoInicio=T),onChange:f,class:"form-control"},null,544),[[de,o.value.vencimentoInicio]]),_[20]||(_[20]=l("span",{class:"date-sep"},"-",-1)),Y(l("input",{type:"date","onUpdate:modelValue":_[6]||(_[6]=T=>o.value.vencimentoFim=T),onChange:f,class:"form-control"},null,544),[[de,o.value.vencimentoFim]])])]),l("div",qse,[_[23]||(_[23]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":_[7]||(_[7]=T=>o.value.status=T),onChange:f,class:"form-control"},[..._[22]||(_[22]=[l("option",{value:""},"Todos",-1),l("option",{value:"VIGENTE"},"Vigentes",-1),l("option",{value:"A_VENCER"},"A Vencer",-1),l("option",{value:"VENCIDA"},"Vencidas",-1)])],544),[[xt,o.value.status]])]),l("div",Kse,[_[25]||(_[25]=l("label",null,"Tipo",-1)),Y(l("select",{"onUpdate:modelValue":_[8]||(_[8]=T=>o.value.tipoNegocio=T),onChange:f,class:"form-control"},[..._[24]||(_[24]=[l("option",{value:""},"Todos",-1),l("option",{value:"A_VENDA"},"Venda",-1),l("option",{value:"PARA_ALUGAR"},"Aluguel",-1)])],544),[[xt,o.value.tipoNegocio]])]),l("div",{class:"filter-group small-btn"},[_[27]||(_[27]=l("label",null,"",-1)),l("button",{onClick:d,class:"btn-clear",title:"Limpar Filtros"},[..._[26]||(_[26]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",Yse,[i.value?(O(),R("div",Xse,[..._[28]||(_[28]=[l("div",{class:"spinner"},null,-1),l("p",null,"Atualizando base de dados...",-1)])])):s.value.length===0?(O(),R("div",Jse,[..._[29]||(_[29]=[l("i",{class:"fas fa-filter"},null,-1),l("p",null,"Nenhuma autorizao encontrada para os filtros.",-1)])])):(O(),R("div",Qse,[l("table",Zse,[_[32]||(_[32]=l("thead",null,[l("tr",null,[l("th",{width:"8%"},"Ref."),l("th",{width:"25%"},"Imvel / Endereo"),l("th",{width:"20%"},"Proprietrio"),l("th",{width:"10%"},"Tipo"),l("th",{width:"10%"},"Incio"),l("th",{width:"10%"},"Vencimento"),l("th",{width:"7%",class:"text-center"},"Dias"),l("th",{width:"10%",class:"text-center"},"Status"),l("th",{width:"10%",class:"text-right"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(s.value,T=>(O(),R("tr",{key:T.id},[l("td",null,[l("span",eie,"#"+F(T.codigo),1)]),l("td",null,[l("div",tie,[l("span",{class:"main-text",title:T.endereco},F(T.endereco),9,nie)])]),l("td",null,[l("span",sie,F(T.proprietario),1)]),l("td",null,[l("span",{class:te(["badge-type",T.raw_status==="A_VENDA"?"bg-blue":"bg-green"])},F(T.raw_status==="A_VENDA"?"Venda":"Aluguel"),3)]),l("td",iie,F(h(T.data_inicio)),1),l("td",null,[l("strong",null,F(h(T.data_fim)),1)]),l("td",rie,[l("span",{class:te(y(T.dias_restantes))},F(T.dias_restantes===9999?"":T.dias_restantes),3)]),l("td",oie,[l("span",{class:te(["status-pill",g(T)])},F(m(T)),3)]),l("td",aie,[l("div",lie,[l("button",{class:"btn-action edit",onClick:k=>b(T.id),title:"Editar Imvel"},[..._[30]||(_[30]=[l("i",{class:"fas fa-pen"},null,-1)])],8,cie),l("button",{class:"btn-action pdf",onClick:k=>x(T.id),title:"Baixar PDF Individual",disabled:!T.id},[..._[31]||(_[31]=[l("i",{class:"fas fa-file-pdf"},null,-1)])],8,uie)])])]))),128))])])]))])]))}}),fie=tt(die,[["__scopeId","data-v-14293793"]]),hie={class:"autorizacoes-container"},pie={key:0,class:"loading-message"},mie={key:1,class:"error-message"},gie={key:2,class:"content-area"},vie={class:"summary-cards"},bie={class:"card-value"},yie={class:"card-value"},xie={class:"card-value"},_ie={class:"card-value"},Sie={class:"imoveis-table-container"},Eie={class:"actions-cell"},wie={key:0,class:"no-results"},Cie=We({__name:"AutorizacoesView",setup(t){const e=an(),n=H(null),s=H(!0),i=H(null),r=H(null),o=we(()=>{if(!n.value||!n.value.imoveis)return[];if(!r.value)return n.value.imoveis;switch(r.value){case"expirando_em_30_dias":return n.value.imoveis.filter(h=>h.status_autorizacao==="Expirando");case"expiradas_recentemente":{const h=new Date;h.setHours(0,0,0,0);const m=new Date;return m.setDate(h.getDate()-30),m.setHours(0,0,0,0),n.value.imoveis.filter(g=>{if(g.status_autorizacao!=="Expirado"||!g.data_fim_autorizacao)return!1;try{const y=new Date(g.data_fim_autorizacao+"T00:00:00");return y>=m&&y<h}catch{return!1}})}case"ativas":return n.value.imoveis.filter(h=>h.status_autorizacao==="Ativo");case"sem_data":return n.value.imoveis.filter(h=>h.status_autorizacao==="Incompleto");default:return n.value.imoveis}});function a(){e.push({name:"autorizacao-nova"})}function c(h){r.value===h?r.value=null:r.value=h}async function u(){s.value=!0,i.value=null;try{const h=await ce.get("/v1/autorizacao-status/");n.value=h.data}catch(h){console.error("Erro ao buscar dados de autorizaes:",h),h.response&&h.response.status===404?i.value="Erro 404: O endpoint '/v1/autorizacao-status/' no foi encontrado no servidor.":i.value=h.response?.data?.detail||"No foi possvel carregar os dados das autorizaes."}finally{s.value=!1}}function d(h){if(!h)return"N/A";try{return Et(new Date(h+"T00:00:00"),"dd/MM/yyyy",{locale:ys})}catch{return"Invlida"}}function f(h){switch(h){case"Ativo":return"status-ativo";case"Expirando":return"status-expirando";case"Expirado":return"status-expirado";case"Incompleto":return"status-incompleto";default:return""}}return it(()=>{u()}),(h,m)=>{const g=on("router-link");return O(),R("div",hie,[s.value?(O(),R("div",pie,"A carregar dados...")):J("",!0),i.value?(O(),R("div",mie,F(i.value),1)):J("",!0),n.value?(O(),R("div",gie,[l("div",vie,[l("div",{class:te(["card",{active:r.value==="expirando_em_30_dias"}]),onClick:m[0]||(m[0]=y=>c("expirando_em_30_dias"))},[l("p",bie,F(n.value.sumario.expirando_em_30_dias),1),m[4]||(m[4]=l("p",{class:"card-label"},"Expirando em 30 Dias",-1))],2),l("div",{class:te(["card",{active:r.value==="expiradas_recentemente"}]),onClick:m[1]||(m[1]=y=>c("expiradas_recentemente"))},[l("p",yie,F(n.value.sumario.expiradas_recentemente),1),m[5]||(m[5]=l("p",{class:"card-label"},"Expiradas (ltimos 30d)",-1))],2),l("div",{class:te(["card",{active:r.value==="ativas"}]),onClick:m[2]||(m[2]=y=>c("ativas"))},[l("p",xie,F(n.value.sumario.ativas),1),m[6]||(m[6]=l("p",{class:"card-label"},"Autorizaes Ativas",-1))],2),l("div",{class:te(["card",{active:r.value==="sem_data"}]),onClick:m[3]||(m[3]=y=>c("sem_data"))},[l("p",_ie,F(n.value.sumario.sem_data),1),m[7]||(m[7]=l("p",{class:"card-label"},"Registos Incompletos",-1))],2)]),l("div",Sie,[l("div",{class:"table-header-actions"},[m[9]||(m[9]=l("h2",{class:"table-title"},"Imveis com Autorizao",-1)),l("button",{onClick:a,class:"btn-add"},[...m[8]||(m[8]=[l("i",{class:"fas fa-plus"},null,-1),z(" Adicionar Autorizao ",-1)])])]),l("table",null,[m[11]||(m[11]=l("thead",null,[l("tr",null,[l("th",null,"Ref."),l("th",null,"Imvel"),l("th",null,"Proprietrio"),l("th",null,"Fim da Autorizao"),l("th",null,"Status"),l("th",null,"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(o.value,y=>(O(),R("tr",{key:y.id},[l("td",null,F(y.codigo_referencia),1),l("td",null,F(y.titulo_anuncio),1),l("td",null,F(y.proprietario__nome_completo||"N/A"),1),l("td",null,F(d(y.data_fim_autorizacao)),1),l("td",null,[l("span",{class:te(["status-badge",f(y.status_autorizacao)])},F(y.status_autorizacao),3)]),l("td",Eie,[be(g,{to:`/imoveis/editar/${y.id}?tab=autorizacao`,class:"btn-sm btn-edit"},{default:Pe(()=>[...m[10]||(m[10]=[z(" Ver/Editar ",-1)])]),_:1},8,["to"])])]))),128))])]),!s.value&&o.value.length===0?(O(),R("p",wie," Nenhum imvel encontrado para o filtro selecionado. ")):J("",!0)])])):J("",!0)])}}}),Aie=tt(Cie,[["__scopeId","data-v-4cc6ee30"]]);var r1,ut,B3,U3,Hd,Ac,tO,H3,z3,qv={},j3=[],kie=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function gl(t,e){for(var n in e)t[n]=e[n];return t}function W3(t){var e=t.parentNode;e&&e.removeChild(t)}function ee(t,e,n){var s,i,r,o={};for(r in e)r=="key"?s=e[r]:r=="ref"?i=e[r]:o[r]=e[r];if(arguments.length>2&&(o.children=arguments.length>3?r1.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)o[r]===void 0&&(o[r]=t.defaultProps[r]);return nv(t,o,s,i,null)}function nv(t,e,n,s,i){var r={type:t,props:e,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++B3};return i==null&&ut.vnode!=null&&ut.vnode(r),r}function Di(){return{current:null}}function Tn(t){return t.children}function Tie(t,e,n,s,i){var r;for(r in n)r==="children"||r==="key"||r in e||Kv(t,r,null,n[r],s);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||Kv(t,r,e[r],n[r],s)}function nO(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||kie.test(e)?n:n+"px"}function Kv(t,e,n,s,i){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof s=="string"&&(t.style.cssText=s=""),s)for(e in s)n&&e in n||nO(t.style,e,"");if(n)for(e in n)s&&n[e]===s[e]||nO(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?s||t.addEventListener(e,r?iO:sO,r):t.removeEventListener(e,r?iO:sO,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function sO(t){Hd=!0;try{return this.l[t.type+!1](ut.event?ut.event(t):t)}finally{Hd=!1}}function iO(t){Hd=!0;try{return this.l[t.type+!0](ut.event?ut.event(t):t)}finally{Hd=!1}}function hr(t,e){this.props=t,this.context=e}function np(t,e){if(e==null)return t.__?np(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?np(t):null}function G3(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return G3(t)}}function Die(t){Hd?setTimeout(t):H3(t)}function _S(t){(!t.__d&&(t.__d=!0)&&Ac.push(t)&&!Yv.__r++||tO!==ut.debounceRendering)&&((tO=ut.debounceRendering)||Die)(Yv)}function Yv(){var t,e,n,s,i,r,o,a;for(Ac.sort(function(c,u){return c.__v.__b-u.__v.__b});t=Ac.shift();)t.__d&&(e=Ac.length,s=void 0,i=void 0,o=(r=(n=t).__v).__e,(a=n.__P)&&(s=[],(i=gl({},r)).__v=r.__v+1,Hw(a,r,i,n.__n,a.ownerSVGElement!==void 0,r.__h!=null?[o]:null,s,o??np(r),r.__h),J3(s,r),r.__e!=o&&G3(r)),Ac.length>e&&Ac.sort(function(c,u){return c.__v.__b-u.__v.__b}));Yv.__r=0}function q3(t,e,n,s,i,r,o,a,c,u){var d,f,h,m,g,y,b,x=s&&s.__k||j3,E=x.length;for(n.__k=[],d=0;d<e.length;d++)if((m=n.__k[d]=(m=e[d])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?nv(null,m,null,null,m):Array.isArray(m)?nv(Tn,{children:m},null,null,null):m.__b>0?nv(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=n,m.__b=n.__b+1,(h=x[d])===null||h&&m.key==h.key&&m.type===h.type)x[d]=void 0;else for(f=0;f<E;f++){if((h=x[f])&&m.key==h.key&&m.type===h.type){x[f]=void 0;break}h=null}Hw(t,m,h=h||qv,i,r,o,a,c,u),g=m.__e,(f=m.ref)&&h.ref!=f&&(b||(b=[]),h.ref&&b.push(h.ref,null,m),b.push(f,m.__c||g,m)),g!=null?(y==null&&(y=g),typeof m.type=="function"&&m.__k===h.__k?m.__d=c=K3(m,c,t):c=Y3(t,m,h,x,g,c),typeof n.type=="function"&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=t&&(c=np(h))}for(n.__e=y,d=E;d--;)x[d]!=null&&(typeof n.type=="function"&&x[d].__e!=null&&x[d].__e==n.__d&&(n.__d=X3(s).nextSibling),Z3(x[d],x[d]));if(b)for(d=0;d<b.length;d++)Q3(b[d],b[++d],b[++d])}function K3(t,e,n){for(var s,i=t.__k,r=0;i&&r<i.length;r++)(s=i[r])&&(s.__=t,e=typeof s.type=="function"?K3(s,e,n):Y3(n,s,s,i,s.__e,e));return e}function Xv(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Xv(n,e)}):e.push(t)),e}function Y3(t,e,n,s,i,r){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=r||i.parentNode==null)e:if(r==null||r.parentNode!==t)t.appendChild(i),o=null;else{for(a=r,c=0;(a=a.nextSibling)&&c<s.length;c+=1)if(a==i)break e;t.insertBefore(i,r),o=r}return o!==void 0?o:i.nextSibling}function X3(t){var e,n,s;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(s=X3(n)))return s}return null}function Hw(t,e,n,s,i,r,o,a,c){var u,d,f,h,m,g,y,b,x,E,C,_,T,k,$,M=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,r=[a]),(u=ut.__b)&&u(e);try{e:if(typeof M=="function"){if(b=e.props,x=(u=M.contextType)&&s[u.__c],E=u?x?x.props.value:u.__:s,n.__c?y=(d=e.__c=n.__c).__=d.__E:("prototype"in M&&M.prototype.render?e.__c=d=new M(b,E):(e.__c=d=new hr(b,E),d.constructor=M,d.render=Rie),x&&x.sub(d),d.props=b,d.state||(d.state={}),d.context=E,d.__n=s,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),M.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=gl({},d.__s)),gl(d.__s,M.getDerivedStateFromProps(b,d.__s))),h=d.props,m=d.state,d.__v=e,f)M.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(M.getDerivedStateFromProps==null&&b!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,E),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,E)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(d.props=b,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,E),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,m,g)})}if(d.context=E,d.props=b,d.__P=t,_=ut.__r,T=0,"prototype"in M&&M.prototype.render){for(d.state=d.__s,d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do d.__d=!1,_&&_(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++T<25);d.state=d.__s,d.getChildContext!=null&&(s=gl(gl({},s),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(g=d.getSnapshotBeforeUpdate(h,m)),$=u!=null&&u.type===Tn&&u.key==null?u.props.children:u,q3(t,Array.isArray($)?$:[$],e,n,s,i,r,o,a,c),d.base=e.__e,e.__h=null,d.__h.length&&o.push(d),y&&(d.__E=d.__=null),d.__e=!1}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Oie(n.__e,e,n,s,i,r,o,c);(u=ut.diffed)&&u(e)}catch(P){e.__v=null,(c||r!=null)&&(e.__e=a,e.__h=!!c,r[r.indexOf(a)]=null),ut.__e(P,e,n)}}function J3(t,e){ut.__c&&ut.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(s){s.call(n)})}catch(s){ut.__e(s,n.__v)}})}function Oie(t,e,n,s,i,r,o,a){var c,u,d,f=n.props,h=e.props,m=e.type,g=0;if(m==="svg"&&(i=!0),r!=null){for(;g<r.length;g++)if((c=r[g])&&"setAttribute"in c==!!m&&(m?c.localName===m:c.nodeType===3)){t=c,r[g]=null;break}}if(t==null){if(m===null)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),r=null,a=!1}if(m===null)f===h||a&&t.data===h||(t.data=h);else{if(r=r&&r1.call(t.childNodes),u=(f=n.props||qv).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!a){if(r!=null)for(f={},g=0;g<t.attributes.length;g++)f[t.attributes[g].name]=t.attributes[g].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(Tie(t,h,f,i,a),d)e.__k=[];else if(g=e.props.children,q3(t,Array.isArray(g)?g:[g],e,n,s,i&&m!=="foreignObject",r,o,r?r[0]:n.__k&&np(n,0),a),r!=null)for(g=r.length;g--;)r[g]!=null&&W3(r[g]);a||("value"in h&&(g=h.value)!==void 0&&(g!==t.value||m==="progress"&&!g||m==="option"&&g!==f.value)&&Kv(t,"value",g,f.value,!1),"checked"in h&&(g=h.checked)!==void 0&&g!==t.checked&&Kv(t,"checked",g,f.checked,!1))}return t}function Q3(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(s){ut.__e(s,n)}}function Z3(t,e,n){var s,i;if(ut.unmount&&ut.unmount(t),(s=t.ref)&&(s.current&&s.current!==t.__e||Q3(s,null,e)),(s=t.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(r){ut.__e(r,e)}s.base=s.__P=null,t.__c=void 0}if(s=t.__k)for(i=0;i<s.length;i++)s[i]&&Z3(s[i],e,n||typeof t.type!="function");n||t.__e==null||W3(t.__e),t.__=t.__e=t.__d=void 0}function Rie(t,e,n){return this.constructor(t,n)}function sp(t,e,n){var s,i,r;ut.__&&ut.__(t,e),i=(s=!1)?null:e.__k,r=[],Hw(e,t=e.__k=ee(Tn,null,[t]),i||qv,qv,e.ownerSVGElement!==void 0,i?null:e.firstChild?r1.call(e.childNodes):null,r,i?i.__e:e.firstChild,s),J3(r,t)}function Mie(t,e){var n={__c:e="__cC"+z3++,__:t,Consumer:function(s,i){return s.children(i)},Provider:function(s){var i,r;return this.getChildContext||(i=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,_S(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),s.children}};return n.Provider.__=n.Consumer.contextType=n}r1=j3.slice,ut={__e:function(t,e,n,s){for(var i,r,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,s||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},B3=0,U3=function(t){return t!=null&&t.constructor===void 0},Hd=!1,hr.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=gl({},this.state),typeof t=="function"&&(t=t(gl({},n),this.props)),t&&gl(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),_S(this))},hr.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_S(this))},hr.prototype.render=Tn,Ac=[],H3=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Yv.__r=0,z3=0;var _o,wx,rO,e4=[],Cx=[],oO=ut.__b,aO=ut.__r,lO=ut.diffed,cO=ut.__c,uO=ut.unmount;function Iie(){for(var t;t=e4.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(sv),t.__H.__h.forEach(SS),t.__H.__h=[]}catch(e){t.__H.__h=[],ut.__e(e,t.__v)}}ut.__b=function(t){_o=null,oO&&oO(t)},ut.__r=function(t){aO&&aO(t);var e=(_o=t.__c).__H;e&&(wx===_o?(e.__h=[],_o.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Cx,n.__N=n.i=void 0})):(e.__h.forEach(sv),e.__h.forEach(SS),e.__h=[])),wx=_o},ut.diffed=function(t){lO&&lO(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(e4.push(e)!==1&&rO===ut.requestAnimationFrame||((rO=ut.requestAnimationFrame)||Nie)(Iie)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Cx&&(n.__=n.__V),n.i=void 0,n.__V=Cx})),wx=_o=null},ut.__c=function(t,e){e.some(function(n){try{n.__h.forEach(sv),n.__h=n.__h.filter(function(s){return!s.__||SS(s)})}catch(s){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ut.__e(s,n.__v)}}),cO&&cO(t,e)},ut.unmount=function(t){uO&&uO(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(s){try{sv(s)}catch(i){e=i}}),n.__H=void 0,e&&ut.__e(e,n.__v))};var dO=typeof requestAnimationFrame=="function";function Nie(t){var e,n=function(){clearTimeout(s),dO&&cancelAnimationFrame(e),setTimeout(t)},s=setTimeout(n,100);dO&&(e=requestAnimationFrame(n))}function sv(t){var e=_o,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),_o=e}function SS(t){var e=_o;t.__c=t.__(),_o=e}function Pie(t,e){for(var n in e)t[n]=e[n];return t}function fO(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var s in e)if(s!=="__source"&&t[s]!==e[s])return!0;return!1}function hO(t){this.props=t}(hO.prototype=new hr).isPureReactComponent=!0,hO.prototype.shouldComponentUpdate=function(t,e){return fO(this.props,t)||fO(this.state,e)};var pO=ut.__b;ut.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),pO&&pO(t)};var $ie=ut.__e;ut.__e=function(t,e,n,s){if(t.then){for(var i,r=e;r=r.__;)if((i=r.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}$ie(t,e,n,s)};var mO=ut.unmount;function t4(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(s){typeof s.__c=="function"&&s.__c()}),t.__c.__H=null),(t=Pie({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(s){return t4(s,e,n)})),t}function n4(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(s){return n4(s,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Ax(){this.__u=0,this.t=null,this.__b=null}function s4(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ig(){this.u=null,this.o=null}ut.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),mO&&mO(t)},(Ax.prototype=new hr).__c=function(t,e){var n=e.__c,s=this;s.t==null&&(s.t=[]),s.t.push(n);var i=s4(s.__v),r=!1,o=function(){r||(r=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--s.__u){if(s.state.__a){var u=s.state.__a;s.__v.__k[0]=n4(u,u.__c.__P,u.__c.__O)}var d;for(s.setState({__a:s.__b=null});d=s.t.pop();)d.forceUpdate()}},c=e.__h===!0;s.__u++||c||s.setState({__a:s.__b=s.__v.__k[0]}),t.then(o,o)},Ax.prototype.componentWillUnmount=function(){this.t=[]},Ax.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),s=this.__v.__k[0].__c;this.__v.__k[0]=t4(this.__b,n,s.__O=s.__P)}this.__b=null}var i=e.__a&&ee(Tn,null,t.fallback);return i&&(i.__h=null),[ee(Tn,null,e.__a?null:t.children),i]};var gO=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Lie(t){return this.getChildContext=function(){return t.context},t.children}function Fie(t){var e=this,n=t.i;e.componentWillUnmount=function(){sp(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(s){this.childNodes.push(s),e.i.appendChild(s)},insertBefore:function(s,i){this.childNodes.push(s),e.i.appendChild(s)},removeChild:function(s){this.childNodes.splice(this.childNodes.indexOf(s)>>>1,1),e.i.removeChild(s)}}),sp(ee(Lie,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Vie(t,e){var n=ee(Fie,{__v:t,i:e});return n.containerInfo=e,n}(ig.prototype=new hr).__a=function(t){var e=this,n=s4(e.__v),s=e.o.get(t);return s[0]++,function(i){var r=function(){e.props.revealOrder?(s.push(i),gO(e,t,s)):i()};n?n(r):r()}},ig.prototype.render=function(t){this.u=null,this.o=new Map;var e=Xv(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ig.prototype.componentDidUpdate=ig.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){gO(t,n,e)})};var Bie=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Uie=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Hie=typeof document<"u",zie=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};hr.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(hr.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var vO=ut.event;function jie(){}function Wie(){return this.cancelBubble}function Gie(){return this.defaultPrevented}ut.event=function(t){return vO&&(t=vO(t)),t.persist=jie,t.isPropagationStopped=Wie,t.isDefaultPrevented=Gie,t.nativeEvent=t};var bO={configurable:!0,get:function(){return this.class}},yO=ut.vnode;ut.vnode=function(t){var e=t.type,n=t.props,s=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var r in s={},n){var o=n[r];Hie&&r==="children"&&e==="noscript"||r==="value"&&"defaultValue"in n&&o==null||(r==="defaultValue"&&"value"in n&&n.value==null?r="value":r==="download"&&o===!0?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!zie(n.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():i&&Uie.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),s[r]&&(r="oninputCapture")),s[r]=o)}e=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=Xv(n.children).forEach(function(a){a.props.selected=s.value.indexOf(a.props.value)!=-1})),e=="select"&&s.defaultValue!=null&&(s.value=Xv(n.children).forEach(function(a){a.props.selected=s.multiple?s.defaultValue.indexOf(a.props.value)!=-1:s.defaultValue==a.props.value})),t.props=s,n.class!=n.className&&(bO.enumerable="className"in n,n.className!=null&&(s.class=n.className),Object.defineProperty(s,"className",bO))}t.$$typeof=Bie,yO&&yO(t)};var xO=ut.__r;ut.__r=function(t){xO&&xO(t),t.__c};const i4=[],ES=new Map;function zw(t){i4.push(t),ES.forEach(e=>{o4(e,t)})}function qie(t){t.isConnected&&t.getRootNode&&r4(t.getRootNode())}function r4(t){let e=ES.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const n=Yie();n&&(e.nonce=n);const s=t===document?document.head:t,i=t===document?s.querySelector("script,link[rel=stylesheet],link[as=style],style"):s.firstChild;s.insertBefore(e,i)}ES.set(t,e),Kie(e)}}function Kie(t){for(const e of i4)o4(t,e)}function o4(t,e){const{sheet:n}=t,s=n.cssRules.length;e.split("}").forEach((i,r)=>{i=i.trim(),i&&n.insertRule(i+"}",s+r)})}let kx;function Yie(){return kx===void 0&&(kx=Xie()),kx}function Xie(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&r4(document);var Jie=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';zw(Jie);class jw{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:s}=this;e in s&&(n?delete s[e]:(s[e]-=1,s[e]<=0&&delete s[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Ww(t){t.parentNode&&t.parentNode.removeChild(t)}function li(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Qie(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Qie(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Zie(t,e){let n=t instanceof HTMLElement?[t]:t,s=[];for(let i=0;i<n.length;i+=1){let r=n[i].querySelectorAll(e);for(let o=0;o<r.length;o+=1)s.push(r[o])}return s}const ere=/(top|left|right|bottom|width|height)$/i;function hh(t,e){for(let n in e)a4(t,n,e[n])}function a4(t,e,n){n==null?t.style[e]="":typeof n=="number"&&ere.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function l4(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}let _O=0;function o1(){return _O+=1,"fc-dom-"+_O}function a1(t){t.preventDefault()}function tre(t,e){return n=>{let s=li(n.target,t);s&&e.call(s,n,s)}}function c4(t,e,n,s){let i=tre(n,s);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function nre(t,e,n,s){let i;return c4(t,"mouseover",e,(r,o)=>{if(o!==i){i=o,n(r,o);let a=c=>{i=null,s(c,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}const SO=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function sre(t,e){let n=s=>{e(s),SO.forEach(i=>{t.removeEventListener(i,n)})};SO.forEach(s=>{t.addEventListener(s,n)})}function u4(t){return Object.assign({onClick:t},d4(t))}function d4(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let EO=0;function Su(){return EO+=1,String(EO)}function Gw(){document.body.classList.add("fc-not-allowed")}function qw(){document.body.classList.remove("fc-not-allowed")}function ire(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",a1)}function rre(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",a1)}function ore(t){t.addEventListener("contextmenu",a1)}function are(t){t.removeEventListener("contextmenu",a1)}function lre(t){let e=[],n=[],s,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),s=0;s<n.length;s+=1)i=n[s],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function cre(t,e,n){let s,i;for(s=0;s<n.length;s+=1)if(i=ure(t,e,n[s]),i)return i;return 0}function ure(t,e,n){return n.func?n.func(t,e):dre(t[n.field],e[n.field])*(n.order||1)}function dre(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function _d(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function ph(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((s,i,r)=>s.replace("$"+r,i||""),t):n}function fre(t,e){return t-e}function iv(t){return t%1===0}function hre(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}const wO=["years","months","days","milliseconds"],pre=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function rn(t,e){return typeof t=="string"?mre(t):typeof t=="object"&&t?CO(t):typeof t=="number"?CO({[e||"milliseconds"]:t}):null}function mre(t){let e=pre.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function CO(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function gre(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function wS(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function vre(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function bre(t,e){return{years:t.years*e,months:t.months*e,days:t.days*e,milliseconds:t.milliseconds*e}}function yre(t){return Sd(t)/365}function xre(t){return Sd(t)/30}function Sd(t){return Zr(t)/864e5}function Zr(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Kw(t,e){let n=null;for(let s=0;s<wO.length;s+=1){let i=wO[s];if(e[i]){let r=t[i]/e[i];if(!iv(r)||n!==null&&n!==r)return null;n=r}else if(t[i])return null}return n}function CS(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Vl(t,e,n){if(t===e)return!0;let s=t.length,i;if(s!==e.length)return!1;for(i=0;i<s;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}const _re=["sun","mon","tue","wed","thu","fri","sat"];function AO(t,e){let n=vl(t);return n[2]+=e*7,qi(n)}function Rs(t,e){let n=vl(t);return n[2]+=e,qi(n)}function Bl(t,e){let n=vl(t);return n[6]+=e,qi(n)}function Sre(t,e){return Eu(t,e)/7}function Eu(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function Ere(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function wre(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function Cre(t,e){return(e.valueOf()-t.valueOf())/1e3}function Are(t,e){let n=Dn(t),s=Dn(e);return{years:0,months:0,days:Math.round(Eu(n,s)),milliseconds:e.valueOf()-s.valueOf()-(t.valueOf()-n.valueOf())}}function kre(t,e){let n=Jv(t,e);return n!==null&&n%7===0?n/7:null}function Jv(t,e){return bl(t)===bl(e)?Math.round(Eu(t,e)):null}function Dn(t){return qi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function Tre(t){return qi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Dre(t){return qi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function Ore(t){return qi([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function Rre(t,e,n){let s=t.getUTCFullYear(),i=Tx(t,s,e,n);if(i<1)return Tx(t,s-1,e,n);let r=Tx(t,s+1,e,n);return r>=1?Math.min(i,r):i}function Tx(t,e,n,s){let i=qi([e,0,1+Mre(e,n,s)]),r=Dn(t),o=Math.round(Eu(i,r));return Math.floor(o/7)+1}function Mre(t,e,n){let s=7+e-n;return-((7+qi([t,0,s]).getUTCDay()-e)%7)+s-1}function kO(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function TO(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function vl(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function qi(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function f4(t){return!isNaN(t.valueOf())}function bl(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function h4(t,e,n=!1){let s=t.toISOString();return s=s.replace(".000",""),n&&(s=s.replace("T00:00:00Z","")),s.length>10&&(e==null?s=s.replace("Z",""):e!==0&&(s=s.replace("Z",Xw(e,!0)))),s}function Yw(t){return t.toISOString().replace(/T.*$/,"")}function Ire(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Nre(t){return _d(t.getUTCHours(),2)+":"+_d(t.getUTCMinutes(),2)+":"+_d(t.getUTCSeconds(),2)}function Xw(t,e=!1){let n=t<0?"-":"+",s=Math.abs(t),i=Math.floor(s/60),r=Math.round(s%60);return e?`${n+_d(i,2)}:${_d(r,2)}`:`GMT${n}${i}${r?`:${_d(r,2)}`:""}`}function ht(t,e,n){let s,i;return function(...r){if(!s)i=t.apply(this,r);else if(!Vl(s,r)){let o=t.apply(this,r);(!e||!e(o,i))&&(i=o)}return s=r,i}}function rv(t,e,n){let s,i;return r=>(s?oo(s,r)||(i=t.call(this,r)):i=t.call(this,r),s=r,i)}const Dx={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Qv={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},rg=/\s*([ap])\.?m\.?/i,Pre=/,/g,$re=/\s+/g,Lre=/\u200e/g,Fre=/UTC|GMT/;class Vre{constructor(e){let n={},s={},i=9;for(let r in e)r in Dx?(s[r]=e[r],Dx[r]<9&&(i=Math.min(Dx[r],i))):(n[r]=e[r],r in Qv&&(i=Math.min(Qv[r],i)));this.standardDateProps=n,this.extendedSettings=s,this.smallestUnitNum=i,this.buildFormattingFunc=ht(DO)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,s,i){let{standardDateProps:r,extendedSettings:o}=this,a=Wre(e.marker,n.marker,s.calendarSystem);if(!a)return this.format(e,s);let c=a;c>1&&(r.year==="numeric"||r.year==="2-digit")&&(r.month==="numeric"||r.month==="2-digit")&&(r.day==="numeric"||r.day==="2-digit")&&(c=1);let u=this.format(e,s),d=this.format(n,s);if(u===d)return u;let f=Gre(r,c),h=DO(f,o,s),m=h(e),g=h(n),y=qre(u,m,d,g),b=o.separator||i||s.defaultSeparator||"";return y?y.before+m+b+g+y.after:u+b+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function DO(t,e,n){let s=Object.keys(t).length;return s===1&&t.timeZoneName==="short"?i=>Xw(i.timeZoneOffset):s===0&&e.week?i=>jre(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):Bre(t,e,n)}function Bre(t,e,n){t=Object.assign({},t),e=Object.assign({},e),Ure(t,e),t.timeZone="UTC";let s=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let r=Object.assign({},t);delete r.minute,i=new Intl.DateTimeFormat(n.locale.codes,r)}return r=>{let{marker:o}=r,a;i&&!o.getUTCMinutes()?a=i:a=s;let c=a.format(o);return Hre(c,r,t,e,n)}}function Ure(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function Hre(t,e,n,s,i){return t=t.replace(Lre,""),n.timeZoneName==="short"&&(t=zre(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Xw(e.timeZoneOffset))),s.omitCommas&&(t=t.replace(Pre,"").trim()),s.omitZeroMinute&&(t=t.replace(":00","")),s.meridiem===!1?t=t.replace(rg,"").trim():s.meridiem==="narrow"?t=t.replace(rg,(r,o)=>o.toLocaleLowerCase()):s.meridiem==="short"?t=t.replace(rg,(r,o)=>`${o.toLocaleLowerCase()}m`):s.meridiem==="lowercase"&&(t=t.replace(rg,r=>r.toLocaleLowerCase())),t=t.replace($re," "),t=t.trim(),t}function zre(t,e){let n=!1;return t=t.replace(Fre,()=>(n=!0,e)),n||(t+=` ${e}`),t}function jre(t,e,n,s,i){let r=[];return i==="long"?r.push(n):(i==="short"||i==="narrow")&&r.push(e),(i==="long"||i==="short")&&r.push(" "),r.push(s.simpleNumberFormat.format(t)),s.options.direction==="rtl"&&r.reverse(),r.join("")}function Wre(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:bl(t)!==bl(e)?1:0}function Gre(t,e){let n={};for(let s in t)(!(s in Qv)||Qv[s]<=e)&&(n[s]=t[s]);return n}function qre(t,e,n,s){let i=0;for(;i<t.length;){let r=t.indexOf(e,i);if(r===-1)break;let o=t.substr(0,r);i=r+e.length;let a=t.substr(i),c=0;for(;c<n.length;){let u=n.indexOf(s,c);if(u===-1)break;let d=n.substr(0,u);c=u+s.length;let f=n.substr(c);if(o===d&&a===f)return{before:o,after:a}}}return null}function OO(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Zv(t,e,n,s){let i=OO(t,n.calendarSystem),r=e?OO(e,n.calendarSystem):null;return{date:i,start:i,end:r,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:s||n.defaultSeparator}}class Kre{constructor(e){this.cmdStr=e}format(e,n,s){return n.cmdFormatter(this.cmdStr,Zv(e,null,n,s))}formatRange(e,n,s,i){return s.cmdFormatter(this.cmdStr,Zv(e,n,s,i))}}class Yre{constructor(e){this.func=e}format(e,n,s){return this.func(Zv(e,null,n,s))}formatRange(e,n,s,i){return this.func(Zv(e,n,s,i))}}function qn(t){return typeof t=="object"&&t?new Vre(t):typeof t=="string"?new Kre(t):typeof t=="function"?new Yre(t):null}const RO={navLinkDayClick:he,navLinkWeekClick:he,duration:rn,bootstrapFontAwesome:he,buttonIcons:he,customButtons:he,defaultAllDayEventDuration:rn,defaultTimedEventDuration:rn,nextDayThreshold:rn,scrollTime:rn,scrollTimeReset:Boolean,slotMinTime:rn,slotMaxTime:rn,dayPopoverFormat:qn,slotDuration:rn,snapDuration:rn,headerToolbar:he,footerToolbar:he,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:qn,dayHeaderClassNames:he,dayHeaderContent:he,dayHeaderDidMount:he,dayHeaderWillUnmount:he,dayCellClassNames:he,dayCellContent:he,dayCellDidMount:he,dayCellWillUnmount:he,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:he,weekNumbers:Boolean,weekNumberClassNames:he,weekNumberContent:he,weekNumberDidMount:he,weekNumberWillUnmount:he,editable:Boolean,viewClassNames:he,viewDidMount:he,viewWillUnmount:he,nowIndicator:Boolean,nowIndicatorSnap:he,nowIndicatorClassNames:he,nowIndicatorContent:he,nowIndicatorDidMount:he,nowIndicatorWillUnmount:he,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:he,locale:he,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:he,eventOrder:lre,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:he,contentHeight:he,direction:String,weekNumberFormat:qn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:he,initialDate:he,now:he,eventDataTransform:he,stickyHeaderDates:he,stickyFooterScrollbar:he,viewHeight:he,defaultAllDay:Boolean,eventSourceFailure:he,eventSourceSuccess:he,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:he,eventConstraint:he,eventAllow:he,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:he,eventContent:he,eventDidMount:he,eventWillUnmount:he,selectConstraint:he,selectOverlap:he,selectAllow:he,droppable:Boolean,unselectCancel:String,slotLabelFormat:he,slotLaneClassNames:he,slotLaneContent:he,slotLaneDidMount:he,slotLaneWillUnmount:he,slotLabelClassNames:he,slotLabelContent:he,slotLabelDidMount:he,slotLabelWillUnmount:he,dayMaxEvents:he,dayMaxEventRows:he,dayMinWidth:Number,slotLabelInterval:rn,allDayText:String,allDayClassNames:he,allDayContent:he,allDayDidMount:he,allDayWillUnmount:he,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:qn,rerenderDelay:Number,moreLinkText:he,moreLinkHint:he,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:he,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:rn,hiddenDays:he,fixedWeekCount:Boolean,validRange:he,visibleRange:he,titleFormat:he,eventInteractive:Boolean,noEventsText:String,viewHint:he,navLinkHint:he,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:he,moreLinkClassNames:he,moreLinkContent:he,moreLinkDidMount:he,moreLinkWillUnmount:he,monthStartFormat:qn,handleCustomRendering:he,customRenderingMetaMap:he,customRenderingReplaces:Boolean},mh={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},MO={datesSet:he,eventsSet:he,eventAdd:he,eventChange:he,eventRemove:he,windowResize:he,eventClick:he,eventMouseEnter:he,eventMouseLeave:he,select:he,unselect:he,loading:he,_unmount:he,_beforeprint:he,_afterprint:he,_noEventDrop:he,_noEventResize:he,_resize:he,_scrollRequest:he},IO={buttonText:he,buttonHints:he,views:he,plugins:he,initialEvents:he,events:he,eventSources:he},_c={headerToolbar:Sc,footerToolbar:Sc,buttonText:Sc,buttonHints:Sc,buttonIcons:Sc,dateIncrement:Sc,plugins:og,events:og,eventSources:og,resources:og};function Sc(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?oo(t,e):t===e}function og(t,e){return Array.isArray(t)&&Array.isArray(e)?Vl(t,e):t===e}const Xre={type:String,component:he,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:he,usesMinMaxTime:Boolean,classNames:he,content:he,didMount:he,willUnmount:he};function Ox(t){return Qw(t,_c)}function Jw(t,e){let n={},s={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(s[i]=t[i]);return{refined:n,extra:s}}function he(t){return t}const{hasOwnProperty:eb}=Object.prototype;function Qw(t,e){let n={};if(e){for(let s in e)if(e[s]===Sc){let i=[];for(let r=t.length-1;r>=0;r-=1){let o=t[r][s];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[s]=o;break}}i.length&&(n[s]=Qw(i))}}for(let s=t.length-1;s>=0;s-=1){let i=t[s];for(let r in i)r in n||(n[r]=i[r])}return n}function uu(t,e){let n={};for(let s in t)e(t[s],s)&&(n[s]=t[s]);return n}function Ra(t,e){let n={};for(let s in t)n[s]=e(t[s],s);return n}function p4(t){let e={};for(let n of t)e[n]=!0;return e}function Zw(t){let e=[];for(let n in t)e.push(t[n]);return e}function oo(t,e){if(t===e)return!0;for(let n in t)if(eb.call(t,n)&&!(n in e))return!1;for(let n in e)if(eb.call(e,n)&&t[n]!==e[n])return!1;return!0}const Jre=/^on[A-Z]/;function Qre(t,e){const n=Zre(t,e);for(let s of n)if(!Jre.test(s))return!1;return!0}function Zre(t,e){let n=[];for(let s in t)eb.call(t,s)&&(s in e||n.push(s));for(let s in e)eb.call(e,s)&&t[s]!==e[s]&&n.push(s);return n}function Rx(t,e,n={}){if(t===e)return!0;for(let s in e)if(!(s in t&&eoe(t[s],e[s],n[s])))return!1;for(let s in t)if(!(s in e))return!1;return!0}function eoe(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function toe(t,e=0,n,s=1){let i=[];n==null&&(n=Object.keys(t).length);for(let r=e;r<n;r+=s){let o=t[r];o!==void 0&&i.push(o)}return i}let m4={};function noe(t,e){m4[t]=e}function soe(t){return new m4[t]}class ioe{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return qi(e)}markerToArray(e){return vl(e)}}noe("gregory",ioe);const roe=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function ooe(t){let e=roe.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(f4(n)){let s=null;return e[13]&&(s=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:s}}}return null}class aoe{constructor(e){let n=this.timeZone=e.timeZone,s=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&s&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!s||this.namedTimeZoneImpl),this.calendarSystem=soe(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):qi(kO(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=qi(e)),n===null||!f4(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=ooe(e);if(n===null)return null;let{marker:s}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?s=this.timestampToMarker(s.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:s,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let s=this.calendarSystem.markerToArray(e);return s[0]+=n.years,s[1]+=n.months,s[2]+=n.days,s[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(s)}subtract(e,n){let s=this.calendarSystem.markerToArray(e);return s[0]-=n.years,s[1]-=n.months,s[2]-=n.days,s[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(s)}addYears(e,n){let s=this.calendarSystem.markerToArray(e);return s[0]+=n,this.calendarSystem.arrayToMarker(s)}addMonths(e,n){let s=this.calendarSystem.markerToArray(e);return s[1]+=n,this.calendarSystem.arrayToMarker(s)}diffWholeYears(e,n){let{calendarSystem:s}=this;return bl(e)===bl(n)&&s.getMarkerDay(e)===s.getMarkerDay(n)&&s.getMarkerMonth(e)===s.getMarkerMonth(n)?s.getMarkerYear(n)-s.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:s}=this;return bl(e)===bl(n)&&s.getMarkerDay(e)===s.getMarkerDay(n)?s.getMarkerMonth(n)-s.getMarkerMonth(e)+(s.getMarkerYear(n)-s.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let s=this.diffWholeYears(e,n);return s!==null?{unit:"year",value:s}:(s=this.diffWholeMonths(e,n),s!==null?{unit:"month",value:s}:(s=kre(e,n),s!==null?{unit:"week",value:s}:(s=Jv(e,n),s!==null?{unit:"day",value:s}:(s=Ere(e,n),iv(s)?{unit:"hour",value:s}:(s=wre(e,n),iv(s)?{unit:"minute",value:s}:(s=Cre(e,n),iv(s)?{unit:"second",value:s}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,s){let i;return s.years&&(i=this.diffWholeYears(e,n),i!==null)?i/yre(s):s.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/xre(s):s.days&&(i=Jv(e,n),i!==null)?i/Sd(s):(n.valueOf()-e.valueOf())/Zr(s)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Dn(e):n==="hour"?Tre(e):n==="minute"?Dre(e):n==="second"?Ore(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Rre(e,this.weekDow,this.weekDoy)}format(e,n,s={}){return n.format({marker:e,timeZoneOffset:s.forcedTzo!=null?s.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,s,i={}){return i.isEndExclusive&&(n=Bl(n,-1)),s.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let s=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?s=n.forcedTzo:s=this.offsetForMarker(e)),h4(e,s,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?qi(kO(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):qi(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-TO(vl(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(vl(e)):null}toDate(e,n){return this.timeZone==="local"?TO(vl(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(vl(e))*1e3*60):new Date(e.valueOf()-(n||0))}}class Hp{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,s;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(s in e)n[s]=this.applyIconOverridePrefix(e[s]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let s;return n&&this.rtlIconClasses?s=this.rtlIconClasses[e]||this.iconClasses[e]:s=this.iconClasses[e],s?`${this.baseIconClass} ${s}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}}Hp.prototype.classes={};Hp.prototype.iconClasses={};Hp.prototype.baseIconClass="";Hp.prototype.iconOverridePrefix="";function tb(t){t();let e=ut.debounceRendering,n=[];function s(i){n.push(i)}for(ut.debounceRendering=s,sp(ee(loe,{}),document.createElement("div"));n.length;)n.shift()();ut.debounceRendering=e}class loe extends hr{render(){return ee("div",{})}componentDidMount(){this.setState({})}}function g4(t){let e=Mie(t),n=e.Provider;return e.Provider=function(){let s=!this.getChildContext,i=n.apply(this,arguments);if(s){let r=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&r.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{r.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{r.splice(r.indexOf(o),1),a&&a.call(o)}}}return i},e}class coe{constructor(e,n,s,i){this.execFunc=e,this.emitter=n,this.scrollTime=s,this.scrollTimeReset=i,this.handleScrollRequest=r=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},r),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Na=g4({});function uoe(t,e,n,s,i,r,o,a,c,u,d,f,h,m){return{dateEnv:i,nowManager:r,options:n,pluginHooks:a,emitter:d,dispatch:c,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:s,theme:o,isRtl:n.direction==="rtl",addResizeHandler(g){d.on("_resize",g)},removeResizeHandler(g){d.off("_resize",g)},createScrollResponder(g){return new coe(g,d,rn(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:m}}class wu extends hr{shouldComponentUpdate(e,n){return!Rx(this.props,e,this.propEquality)||!Rx(this.state,n,this.stateEquality)}safeSetState(e){Rx(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}wu.addPropsEquality=doe;wu.addStateEquality=foe;wu.contextType=Na;wu.prototype.propEquality={};wu.prototype.stateEquality={};class mn extends wu{}mn.contextType=Na;function doe(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function foe(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Oo(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class eC extends mn{constructor(){super(...arguments),this.id=Su(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:n}=this.context,{generatorName:s}=this.props;(!n.customRenderingReplaces||!AS(s,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Oo(this.props.elRef,e)}}render(){const{props:e,context:n}=this,{options:s}=n,{customGenerator:i,defaultGenerator:r,renderProps:o}=e,a=v4(e,[],this.handleEl);let c=!1,u,d=[],f;if(i!=null){const h=typeof i=="function"?i(o,ee):i;if(h===!0)c=!0;else{const m=h&&typeof h=="object";m&&"html"in h?a.dangerouslySetInnerHTML={__html:h.html}:m&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(m?U3(h):typeof h!="function")?u=h:f=h}}else c=!AS(e.generatorName,s);return c&&r&&(u=r(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,ee(e.elTag,a,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;const{props:s,context:i}=this,{handleCustomRendering:r,customRenderingMetaMap:o}=i.options;if(r){const a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[s.generatorName];a&&r(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},s),{elClasses:(s.elClasses||[]).filter(hoe)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:n}=this,s=this.base;if(!Vl(e,n)){n.forEach(Ww);for(let i of e)s.appendChild(i);this.currentDomNodes=e}}}eC.addPropsEquality({elClasses:Vl,elStyle:oo,elAttrs:Qre,renderProps:oo});function AS(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function v4(t,e,n){const s=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(s.className=(t.elClasses||[]).concat(e||[]).concat(s.className||[]).filter(Boolean).join(" ")),t.elStyle&&(s.style=t.elStyle),s}function hoe(t){return!!t}const b4=g4(0);class vr extends hr{constructor(){super(...arguments),this.InnerContent=poe.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Oo(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,n=moe(e.classNameGenerator,e.renderProps);if(e.children){const s=v4(e,n,this.handleEl),i=e.children(this.InnerContent,e.renderProps,s);return e.elTag?ee(e.elTag,s,i):i}else return ee(eC,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(n),renderId:this.context}))}componentDidMount(){var e,n;this.el?(n=(e=this.props).didMount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,n;(n=(e=this.props).willUnmount)===null||n===void 0||n.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}vr.contextType=b4;function poe(t,e){const n=t.props;return ee(eC,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function moe(t,e){const n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}class nb extends mn{render(){let{props:e,context:n}=this,{options:s}=n,i={view:n.viewApi};return ee(vr,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...y4(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:s.viewClassNames,generatorName:void 0,didMount:s.viewDidMount,willUnmount:s.viewWillUnmount},()=>e.children)}}function y4(t){return[`fc-${t.type}-view`,"fc-view"]}function goe(t,e){let n=null,s=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(s=e.createMarker(t.end)),!n&&!s||n&&s&&s<n?null:{start:n,end:s}}function NO(t,e){let n=[],{start:s}=e,i,r;for(t.sort(voe),i=0;i<t.length;i+=1)r=t[i],r.start>s&&n.push({start:s,end:r.start}),r.end>s&&(s=r.end);return s<e.end&&n.push({start:s,end:e.end}),n}function voe(t,e){return t.start.valueOf()-e.start.valueOf()}function du(t,e){let{start:n,end:s}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(s===null?s=e.end:s=new Date(Math.min(s.valueOf(),e.end.valueOf()))),(n===null||s===null||n<s)&&(i={start:n,end:s}),i}function boe(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function tC(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function l1(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function _a(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function yoe(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function x4(t){let e=Math.floor(Eu(t.start,t.end))||1,n=Dn(t.start),s=Rs(n,e);return{start:n,end:s}}function _4(t,e=rn(0)){let n=null,s=null;if(t.end){s=Dn(t.end);let i=t.end.valueOf()-s.valueOf();i&&i>=Zr(e)&&(s=Rs(s,1))}return t.start&&(n=Dn(t.start),s&&s<=n&&(s=Rs(n,1))),{start:n,end:s}}function dd(t,e,n,s){return s==="year"?rn(n.diffWholeYears(t,e),"year"):s==="month"?rn(n.diffWholeMonths(t,e),"month"):Are(t,e)}class S4{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,n,s){let{dateEnv:i}=this.props,r=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,-1,s)}buildNext(e,n,s){let{dateEnv:i}=this.props,r=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(r,1,s)}build(e,n,s=!0){let{props:i}=this,r,o,a,c,u,d;return r=this.buildValidRange(),r=this.trimHiddenDays(r),s&&(e=yoe(e,r)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),c=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),c=this.trimHiddenDays(c),u=c,i.showNonCurrentDates||(u=du(u,o.range)),u=this.adjustActiveRange(u),u=du(u,r),d=tC(o.range,r),_a(c,e)||(e=c.start),{currentDate:e,validRange:r,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:u,renderRange:c,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:s}=this,i=null,r=null,o=null,a;return s.duration?(i=s.duration,r=s.durationUnit,o=this.buildRangeFromDuration(e,n,i,r)):(a=this.props.dayCount)?(r="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?r=s.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),r=CS(i).unit,o=this.buildRangeFromDuration(e,n,i,r)),{duration:i,unit:r,range:o}}getFallbackDuration(){return rn({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:s,slotMinTime:i,slotMaxTime:r}=this.props,{start:o,end:a}=e;return s&&(Sd(i)<0&&(o=Dn(o),o=n.add(o,i)),Sd(r)>1&&(a=Dn(a),a=Rs(a,-1),a=n.add(a,r))),{start:o,end:a}}buildRangeFromDuration(e,n,s,i){let{dateEnv:r,dateAlignment:o}=this.props,a,c,u;if(!o){let{dateIncrement:f}=this.props;f&&Zr(f)<Zr(s)?o=CS(f).unit:o=i}Sd(s)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=Dn(a));function d(){a=r.startOf(e,o),c=r.add(a,s),u={start:a,end:c}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),d()),u}buildRangeFromDayCount(e,n,s){let{dateEnv:i,dateAlignment:r}=this.props,o=0,a=e,c;r&&(a=i.startOf(a,r)),a=Dn(a),a=this.skipHiddenDays(a,n),c=a;do c=Rs(c,1),this.isHiddenDay(c)||(o+=1);while(o<s);return{start:a,end:c}}buildCustomVisibleRange(e){let{props:n}=this,s=n.visibleRangeInput,i=typeof s=="function"?s.call(n.calendarApi,n.dateEnv.toDate(e)):s,r=this.refineRange(i);return r&&(r.start==null||r.end==null)?null:r}buildRenderRange(e,n,s){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,s;return n||((s=this.props.dateAlignment)?rn(1,s):e||rn({days:1}))}refineRange(e){if(e){let n=goe(e,this.props.dateEnv);return n&&(n=_4(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],s=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(s+=1);if(!s)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:s}=e;return n&&(n=this.skipHiddenDays(n)),s&&(s=this.skipHiddenDays(s,-1,!0)),n==null||s==null||n<s?{start:n,end:s}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,s=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(s?n:0)+7)%7];)e=Rs(e,n);return e}}function nC(t,e,n,s){return{instanceId:Su(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:s??null}}function xoe(t,e,n,s){for(let i=0;i<s.length;i+=1){let r=s[i].parse(t,n);if(r){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=r.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:r.duration,typeData:r.typeData,typeId:i}}}return null}function fu(t,e,n){let{dateEnv:s,pluginHooks:i,options:r}=n,{defs:o,instances:a}=t;a=uu(a,c=>!o[c.defId].recurringDef);for(let c in o){let u=o[c];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let f=_oe(u,d,e,s,i.recurringTypes);for(let h of f){let m=nC(c,{start:h,end:s.add(h,d)});a[m.instanceId]=m}}}return{defs:o,instances:a}}function _oe(t,e,n,s,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:s.subtract(n.start,e),end:n.end},s);return t.allDay&&(o=o.map(Dn)),o}const ov={id:String,groupId:String,title:String,url:String,interactive:Boolean},E4={start:he,end:he,date:he,allDay:Boolean},Soe=Object.assign(Object.assign(Object.assign({},ov),E4),{extendedProps:he});function w4(t,e,n,s,i=sC(n),r,o){let{refined:a,extra:c}=C4(t,n,i),u=woe(e,n),d=xoe(a,u,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let h=kS(a,c,e?e.sourceId:"",d.allDay,!!d.duration,n,r);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=Eoe(a,u,n,s);if(f){let h=kS(a,c,e?e.sourceId:"",f.allDay,f.hasEnd,n,r),m=nC(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return o&&h.publicId&&o[h.publicId]&&(m.instanceId=o[h.publicId]),{def:h,instance:m}}return null}function C4(t,e,n=sC(e)){return Jw(t,n)}function sC(t){return Object.assign(Object.assign(Object.assign({},sb),Soe),t.pluginHooks.eventRefiners)}function kS(t,e,n,s,i,r,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Su(),sourceId:n,allDay:s,hasEnd:i,interactive:t.interactive,ui:ib(t,r),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let c of r.pluginHooks.eventDefMemberAdders)Object.assign(a,c(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Eoe(t,e,n,s){let{allDay:i}=t,r,o=null,a=!1,c,u=null,d=t.start!=null?t.start:t.date;if(r=n.dateEnv.createMarkerMeta(d),r)o=r.marker;else if(!s)return null;return t.end!=null&&(c=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!r||r.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),i&&o&&(o=Dn(o)),c&&(u=c.marker,i&&(u=Dn(u)),o&&u<=o&&(u=null)),u?a=!0:s||(a=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:u},forcedStartTzo:r?r.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function woe(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function ip(t,e,n,s,i,r){let o=pr(),a=sC(n);for(let c of t){let u=w4(c,e,n,s,a,i,r);u&&TS(u,o)}return o}function TS(t,e=pr()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function iC(t,e){let n=t.instances[e];if(n){let s=t.defs[n.defId],i=c1(t,r=>Coe(s,r));return i.defs[s.defId]=s,i.instances[n.instanceId]=n,i}return pr()}function Coe(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function pr(){return{defs:{},instances:{}}}function rC(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function c1(t,e){let n=uu(t.defs,e),s=uu(t.instances,i=>n[i.defId]);return{defs:n,instances:s}}function Aoe(t,e){let{defs:n,instances:s}=t,i={},r={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in s)!e.instances[o]&&i[s[o].defId]&&(r[o]=s[o]);return{defs:i,instances:r}}function koe(t,e){return Array.isArray(t)?ip(t,null,e,!0):typeof t=="object"&&t?ip([t],null,e,!0):t!=null?String(t):null}function PO(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const sb={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:he,overlap:he,allow:he,className:PO,classNames:PO,color:String,backgroundColor:String,borderColor:String,textColor:String},Toe={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function ib(t,e){let n=koe(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function A4(t){return t.reduce(Doe,Toe)}function Doe(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Ooe={id:String,defaultAllDay:Boolean,url:String,format:String,events:he,eventDataTransform:he,success:he,failure:he};function k4(t,e,n=T4(e)){let s;if(typeof t=="string"?s={url:t}:typeof t=="function"||Array.isArray(t)?s={events:t}:typeof t=="object"&&t&&(s=t),s){let{refined:i,extra:r}=Jw(s,n),o=Roe(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Su(),sourceDefId:o.sourceDefId,meta:o.meta,ui:ib(i,e),extendedProps:r}}return null}function T4(t){return Object.assign(Object.assign(Object.assign({},sb),Ooe),t.pluginHooks.eventSourceRefiners)}function Roe(t,e){let n=e.pluginHooks.eventSourceDefs;for(let s=n.length-1;s>=0;s-=1){let r=n[s].parseMeta(t);if(r)return{sourceDefId:s,meta:r}}return null}function Moe(t,e,n,s,i){switch(e.type){case"RECEIVE_EVENTS":return Ioe(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return Noe(t,n[e.sourceId],e.rawEvents,s.activeRange,i);case"ADD_EVENTS":return Poe(t,e.eventStore,s?s.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return rC(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return s?fu(t,s.activeRange,i):t;case"REMOVE_EVENTS":return Aoe(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return O4(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return c1(t,r=>!r.sourceId);case"REMOVE_ALL_EVENTS":return pr();default:return t}}function Ioe(t,e,n,s,i,r){if(e&&n===e.latestFetchId){let o=ip(D4(i,e,r),e,r);return s&&(o=fu(o,s,r)),rC(O4(t,e.sourceId),o)}return t}function Noe(t,e,n,s,i){const{defIdMap:r,instanceIdMap:o}=Loe(t);let a=ip(D4(n,e,i),e,i,!1,r,o);return fu(a,s,i)}function D4(t,e,n){let s=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=$O(t,i)),s&&(t=$O(t,s)),t}function $O(t,e){let n;if(!e)n=t;else{n=[];for(let s of t){let i=e(s);i?n.push(i):i==null&&n.push(s)}}return n}function Poe(t,e,n,s){return n&&(e=fu(e,n,s)),rC(t,e)}function LO(t,e,n){let{defs:s}=t,i=Ra(t.instances,r=>s[r.defId].allDay?r:Object.assign(Object.assign({},r),{range:{start:n.createMarker(e.toDate(r.range.start,r.forcedStartTzo)),end:n.createMarker(e.toDate(r.range.end,r.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:r.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:r.forcedEndTzo}));return{defs:s,instances:i}}function O4(t,e){return c1(t,n=>n.sourceId!==e)}function $oe(t,e){return{defs:t.defs,instances:uu(t.instances,n=>!e[n.instanceId])}}function Loe(t){const{defs:e,instances:n}=t,s={},i={};for(let r in e){const o=e[r],{publicId:a}=o;a&&(s[a]=r)}for(let r in n){const o=n[r],a=e[o.defId],{publicId:c}=a;c&&(i[c]=r)}return{defIdMap:s,instanceIdMap:i}}class u1{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){Foe(this.handlers,e,n)}off(e,n){Voe(this.handlers,e,n)}trigger(e,...n){let s=this.handlers[e]||[],i=this.options&&this.options[e],r=[].concat(i||[],s);for(let o of r)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function Foe(t,e,n){(t[e]||(t[e]=[])).push(n)}function Voe(t,e,n){n?t[e]&&(t[e]=t[e].filter(s=>s!==n)):delete t[e]}const Boe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Uoe(t,e){return ip(Hoe(t),null,e)}function Hoe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},Boe),n)),e}function R4(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},oC(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function zoe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function oC(t,e){let n={};for(let s of e.pluginHooks.dateSpanTransforms)Object.assign(n,s(t,e));return Object.assign(n,sae(t,e.dateEnv)),n}function FO(t,e,n){let{dateEnv:s,options:i}=n,r=e;return t?(r=Dn(r),r=s.add(r,i.defaultAllDayEventDuration)):r=s.add(r,i.defaultTimedEventDuration),r}function aC(t,e,n,s){let i=rb(t.defs,e),r=pr();for(let o in t.defs){let a=t.defs[o];r.defs[o]=joe(a,i[o],n,s)}for(let o in t.instances){let a=t.instances[o],c=r.defs[a.defId];r.instances[o]=Woe(a,c,i[a.defId],n,s)}return r}function joe(t,e,n,s){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),n.extendedProps));for(let o of s.pluginHooks.eventDefMutationAppliers)o(r,n,s);return!r.hasEnd&&s.options.forceEventDuration&&(r.hasEnd=!0),r}function Woe(t,e,n,s,i){let{dateEnv:r}=i,o=s.standardProps&&s.standardProps.allDay===!0,a=s.standardProps&&s.standardProps.hasEnd===!1,c=Object.assign({},t);return o&&(c.range=x4(c.range)),s.datesDelta&&n.startEditable&&(c.range={start:r.add(c.range.start,s.datesDelta),end:r.add(c.range.end,s.datesDelta)}),s.startDelta&&n.durationEditable&&(c.range={start:r.add(c.range.start,s.startDelta),end:c.range.end}),s.endDelta&&n.durationEditable&&(c.range={start:c.range.start,end:r.add(c.range.end,s.endDelta)}),a&&(c.range={start:c.range.start,end:FO(e.allDay,c.range.start,i)}),e.allDay&&(c.range={start:Dn(c.range.start),end:Dn(c.range.end)}),c.range.end<c.range.start&&(c.range.end=FO(e.allDay,c.range.start,i)),c}class id{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Hn{constructor(e,n,s){this._context=e,this._def=n,this._instance=s||null}setProp(e,n){if(e in E4)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=ov[e](n),this.mutate({standardProps:{publicId:n}});else if(e in ov)n=ov[e](n),this.mutate({standardProps:{[e]:n}});else if(e in sb){let s=sb[e](n);e==="color"?s={backgroundColor:n,borderColor:n}:e==="editable"?s={startEditable:n,durationEditable:n}:s={[e]:n},this.mutate({standardProps:{ui:s}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:s}=this._context,i=s.createMarker(e);if(i&&this._instance){let r=this._instance.range,o=dd(r.start,i,s,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:s}=this._context,i;if(!(e!=null&&(i=s.createMarker(e),!i))&&this._instance)if(i){let r=dd(this._instance.range.end,i,s,n.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,s={}){let{dateEnv:i}=this._context,r={allDay:s.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let c=this._instance.range;s.allDay===!0&&(c=x4(c));let u=dd(c.start,o,i,s.granularity);if(a){let d=dd(c.end,a,i,s.granularity);gre(u,d)?this.mutate({datesDelta:u,standardProps:r}):this.mutate({startDelta:u,endDelta:d,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:u,standardProps:r})}}moveStart(e){let n=rn(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=rn(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=rn(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let s={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(s.hasEnd=i),this.mutate({standardProps:s})}formatRange(e){let{dateEnv:n}=this._context,s=this._instance,i=qn(e);return this._def.hasEnd?n.formatRange(s.range.start,s.range.end,i,{forcedStartTzo:s.forcedStartTzo,forcedEndTzo:s.forcedEndTzo}):n.format(s.range.start,i,{forcedTzo:s.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let s=this._def,i=this._context,{eventStore:r}=i.getCurrentData(),o=iC(r,n.instanceId);o=aC(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let c=new Hn(i,s,n);this._def=o.defs[s.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:Gc(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:r})}})}}remove(){let e=this._context,n=M4(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new id(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:s}=n,{startStr:i,endStr:r}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),r&&(o.end=r),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),s.display&&s.display!=="auto"&&(o.display=s.display),e.collapseColor&&s.backgroundColor&&s.backgroundColor===s.borderColor?o.color=s.backgroundColor:(s.backgroundColor&&(o.backgroundColor=s.backgroundColor),s.borderColor&&(o.borderColor=s.borderColor)),s.textColor&&(o.textColor=s.textColor),s.classNames.length&&(o.classNames=s.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}}function M4(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function Gc(t,e,n){let{defs:s,instances:i}=t,r=[],o=n?n.instanceId:"";for(let a in i){let c=i[a],u=s[c.defId];c.instanceId!==o&&r.push(new Hn(e,u,c))}return r}function VO(t,e,n,s){let i={},r={},o={},a=[],c=[],u=rb(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(i[f.groupId]=[],o[f.groupId]||(o[f.groupId]=f)):r[d]=[])}for(let d in t.instances){let f=t.instances[d],h=t.defs[f.defId],m=u[h.defId],g=f.range,y=!h.allDay&&s?_4(g,s):g,b=du(y,n);b&&(m.display==="inverse-background"?h.groupId?i[h.groupId].push(b):r[f.defId].push(b):m.display!=="none"&&(m.display==="background"?a:c).push({def:h,ui:m,instance:f,range:b,isStart:y.start&&y.start.valueOf()===b.start.valueOf(),isEnd:y.end&&y.end.valueOf()===b.end.valueOf()}))}for(let d in i){let f=i[d],h=NO(f,n);for(let m of h){let g=o[d],y=u[g.defId];a.push({def:g,ui:y,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let d in r){let f=r[d],h=NO(f,n);for(let m of h)a.push({def:t.defs[d],ui:u[d],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:a,fg:c}}function Goe(t){return t.ui.display==="background"||t.ui.display==="inverse-background"}function BO(t,e){t.fcSeg=e}function zd(t){return t.fcSeg||t.parentNode.fcSeg||null}function rb(t,e){return Ra(t,n=>I4(n,e))}function I4(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),A4(n)}function N4(t,e){let n=t.map(qoe);return n.sort((s,i)=>cre(s,i,e)),n.map(s=>s._seg)}function qoe(t){let{eventRange:e}=t,n=e.def,s=e.instance?e.instance.range:e.range,i=s.start?s.start.valueOf():0,r=s.end?s.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:r,duration:r-i,allDay:Number(n.allDay),_seg:t})}function Koe(t,e){let{pluginHooks:n}=e,s=n.isDraggableTransformers,{def:i,ui:r}=t.eventRange,o=r.startEditable;for(let a of s)o=a(o,i,r,e);return o}function Yoe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Xoe(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function P4(t,e,n,s,i,r,o){let{dateEnv:a,options:c}=n,{displayEventTime:u,displayEventEnd:d}=c,f=t.eventRange.def,h=t.eventRange.instance;u==null&&(u=s!==!1),d==null&&(d=i!==!1);let m=h.range.start,g=h.range.end,y=t.start||t.eventRange.range.start,b=t.end||t.eventRange.range.end,x=Dn(m).valueOf()===Dn(y).valueOf(),E=Dn(Bl(g,-1)).valueOf()===Dn(Bl(b,-1)).valueOf();return u&&!f.allDay&&(x||E)?(y=x?m:y,b=E?g:b,d&&f.hasEnd?a.formatRange(y,b,e,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):a.format(y,e,{forcedTzo:h.forcedStartTzo})):""}function Ol(t,e,n){let s=t.eventRange.range;return{isPast:s.end<=(n||e.start),isFuture:s.start>=(n||e.end),isToday:e&&_a(e,s.start)}}function Joe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function $4(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function L4(t,e){let{def:n,instance:s}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:r,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!r.hasHandlers("eventClick"))),a?d4(c=>{r.trigger("eventClick",{el:c.target,event:new Hn(e,n,s),jsEvent:c,view:e.viewApi})}):{}}const Qoe={start:he,end:he,allDay:Boolean};function Zoe(t,e,n){let s=eae(t,e),{range:i}=s;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return s}function eae(t,e){let{refined:n,extra:s}=Jw(t,Qoe),i=n.start?e.createMarkerMeta(n.start):null,r=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!r||r.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:r?r.marker:null},allDay:o},s)}function tae(t,e){return boe(t.range,e.range)&&t.allDay===e.allDay&&nae(t,e)}function nae(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function sae(t,e){return Object.assign(Object.assign({},V4(t.range,e,t.allDay)),{allDay:t.allDay})}function F4(t,e,n){return Object.assign(Object.assign({},V4(t,e,n)),{timeZone:e.timeZone})}function V4(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function iae(t,e,n){let s=C4({editable:!1},n),i=kS(s.refined,s.extra,"",t.allDay,!0,n);return{def:i,ui:I4(i,e),instance:nC(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function rae(t,e,n){let s=!1,i=function(a){s||(s=!0,e(a))},r=function(a){s||(s=!0,n(a))},o=t(i,r);o&&typeof o.then=="function"&&o.then(i,r)}class UO extends Error{constructor(e,n){super(e),this.response=n}}function oae(t,e,n){t=t.toUpperCase();const s={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(s.body=new URLSearchParams(n),s.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,s).then(i=>{if(i.ok)return i.json().then(r=>[r,i],()=>{throw new UO("Failure parsing JSON",i)});throw new UO("Request failed",i)})}let Mx;function B4(){return Mx==null&&(Mx=aae()),Mx}function aae(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}class lae extends mn{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{tb(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{tb(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:s}=this.state,i=s||n.height==="auto"||n.contentHeight==="auto",r=!i&&n.height!=null?n.height:"",o=["fc",s?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return B4()||o.push("fc-liquid-hack"),e.children(o,r,i,s)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}let of=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function cae(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function lC(t){return{[t.component.uid]:t}}const DS={};class af extends hr{constructor(e,n){super(e,n),this.handleRefresh=()=>{let s=this.computeTiming();s.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(s.state),this.clearTimeout(),this.setTimeout(s.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:n}=this;return e.children(n.nowDate,n.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:n}=this,s=n.nowManager.getDateMarker(),{nowIndicatorSnap:i}=n.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let r,o;return i?(r=n.dateEnv.startOf(s,e.unit),o=n.dateEnv.add(r,rn(1,e.unit)).valueOf()-s.valueOf()):(r=s,o=1e3*60),o=Math.min(1e3*60*60*24,o),{state:{nowDate:r,todayRange:uae(r)},waitMs:o}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const n=this.computeTiming();this.setState(n.state,()=>{this.setTimeout(n.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}af.contextType=Na;function uae(t){let e=Dn(t),n=Rs(e,1);return{start:e,end:n}}class dae{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:s}=this;s.currentCalendarOptionsRefiners[e]?s.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:s}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:s.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let s=this.getCurrentData(),i;n=n||"day",i=s.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:s}=this.getCurrentData(),i=[].concat(s.header?s.header.viewsWithButtons:[],s.footer?s.footer.viewsWithButtons:[]),r,o;for(let a in n)i.push(a);for(r=0;r<i.length;r+=1)if(o=n[i[r]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),s=rn(e);s&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,s)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:s}=this.getCurrentData();return s.format(s.createMarker(e),qn(n))}formatRange(e,n,s){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),qn(s),s)}formatIso(e,n){let{dateEnv:s}=this.getCurrentData();return s.formatIso(s.createMarker(e),{omitTime:n})}select(e,n){let s;n==null?e.start!=null?s=e:s={start:e,end:null}:s={start:e,end:n};let i=this.getCurrentData(),r=Zoe(s,i.dateEnv,rn({days:1}));r&&(this.dispatch({type:"SELECT_DATES",selection:r}),R4(r,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),zoe(e,n))}addEvent(e,n){if(e instanceof Hn){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:TS({def:o,instance:a})}),this.triggerEventAdd(e)),e}let s=this.getCurrentData(),i;if(n instanceof id)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=Zw(s.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let r=w4(e,i,s,!1);if(r){let o=new Hn(s,r.def,r.def.recurringDef?null:r.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:TS(r)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:M4(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:s,instances:i}=n.eventStore;e=String(e);for(let r in s){let o=s[r];if(o.publicId===e){if(o.recurringDef)return new Hn(n,o,null);for(let a in i){let c=i[a];if(c.defId===o.defId)return new Hn(n,o,c)}}}return null}getEvents(){let e=this.getCurrentData();return Gc(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,s=[];for(let i in n)s.push(new id(e,n[i]));return s}getEventSourceById(e){let n=this.getCurrentData(),s=n.eventSources;e=String(e);for(let i in s)if(s[i].publicId===e)return new id(n,s[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof id)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let s=k4(e,n);return s?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[s]}),new id(n,s)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=rn(e);n&&this.trigger("_scrollRequest",{time:n})}}function fae(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function U4(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function hae(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function pae(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function mae(t,e){return{left:t.left-e.left,top:t.top-e.top}}const Ix=pr();class gae{constructor(){this.getKeysForEventDefs=ht(this._getKeysForEventDefs),this.splitDateSelection=ht(this._splitDateSpan),this.splitEventStore=ht(this._splitEventStore),this.splitIndividualUi=ht(this._splitIndividualUi),this.splitEventDrag=ht(this._splitInteraction),this.splitEventResize=ht(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let n=this.getKeyInfo(e),s=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),r=this.splitIndividualUi(e.eventUiBases,s),o=this.splitEventStore(e.eventStore,s),a=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),u={};this.eventUiBuilders=Ra(n,(d,f)=>this.eventUiBuilders[f]||ht(vae));for(let d in n){let f=n[d],h=o[d]||Ix,m=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||e.businessHours,dateSelection:i[d]||null,eventStore:h,eventUiBases:m(e.eventUiBases[""],f.ui,r[d]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:a[d]||null,eventResize:c[d]||null}}return u}_splitDateSpan(e){let n={};if(e){let s=this.getKeysForDateSpan(e);for(let i of s)n[i]=e}return n}_getKeysForEventDefs(e){return Ra(e.defs,n=>this.getKeysForEventDef(n))}_splitEventStore(e,n){let{defs:s,instances:i}=e,r={};for(let o in s)for(let a of n[o])r[a]||(r[a]=pr()),r[a].defs[o]=s[o];for(let o in i){let a=i[o];for(let c of n[a.defId])r[c]&&(r[c].instances[o]=a)}return r}_splitIndividualUi(e,n){let s={};for(let i in e)if(i)for(let r of n[i])s[r]||(s[r]={}),s[r][i]=e[i];return s}_splitInteraction(e){let n={};if(e){let s=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),r=this._splitEventStore(e.mutatedEvents,i),o=a=>{n[a]||(n[a]={affectedEvents:s[a]||Ix,mutatedEvents:r[a]||Ix,isEvent:e.isEvent})};for(let a in s)o(a);for(let a in r)o(a)}return n}}function vae(t,e,n){let s=[];t&&s.push(t),e&&s.push(e);let i={"":A4(s)};return n&&Object.assign(i,n),i}function H4(t,e,n,s){return{dow:t.getUTCDay(),isDisabled:!!(s&&(!s.activeRange||!_a(s.activeRange,t))),isOther:!!(s&&!_a(s.currentRange,t)),isToday:!!(e&&_a(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function cC(t,e){let n=["fc-day",`fc-day-${_re[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}const bae=qn({year:"numeric",month:"long",day:"numeric"}),yae=qn({week:"long"});function ob(t,e,n="day",s=!0){const{dateEnv:i,options:r,calendarApi:o}=t;let a=i.format(e,n==="week"?yae:bae);if(r.navLinks){let c=i.toDate(e);const u=d=>{let f=n==="day"?r.navLinkDayClick:n==="week"?r.navLinkWeekClick:null;typeof f=="function"?f.call(o,i.toDate(e),d):(typeof f=="string"&&(n=f),o.zoomTo(e,n))};return Object.assign({title:ph(r.navLinkHint,[a,c],a),"data-navlink":""},s?u4(u):{onClick:u})}return{"aria-label":a}}let Nx=null;function xae(){return Nx===null&&(Nx=_ae()),Nx}function _ae(){let t=document.createElement("div");hh(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return Ww(t),n}let Px;function Sae(){return Px||(Px=Eae()),Px}function Eae(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=z4(t);return document.body.removeChild(t),e}function z4(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function wae(t,e=!1){let n=window.getComputedStyle(t),s=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,r=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=z4(t),c=a.y-s-i,u=a.x-r-o,d={borderLeft:s,borderRight:i,borderTop:r,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return xae()&&n.direction==="rtl"?d.scrollbarLeft=c:d.scrollbarRight=c,e&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function Cae(t,e=!1,n){let s=uC(t),i=wae(t,e),r={left:s.left+i.borderLeft+i.scrollbarLeft,right:s.right-i.borderRight-i.scrollbarRight,top:s.top+i.borderTop,bottom:s.bottom-i.borderBottom-i.scrollbarBottom};return e&&(r.left+=i.paddingLeft,r.right-=i.paddingRight,r.top+=i.paddingTop,r.bottom-=i.paddingBottom),r}function uC(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Aae(t){let e=j4(t),n=t.getBoundingClientRect();for(let s of e){let i=U4(n,s.getBoundingClientRect());if(i)n=i;else return null}return n}function j4(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}class jd{constructor(e,n,s,i){this.els=n;let r=this.originClientRect=e.getBoundingClientRect();s&&this.buildElHorizontals(r.left),i&&this.buildElVerticals(r.top)}buildElHorizontals(e){let n=[],s=[];for(let i of this.els){let r=i.getBoundingClientRect();n.push(r.left-e),s.push(r.right-e)}this.lefts=n,this.rights=s}buildElVerticals(e){let n=[],s=[];for(let i of this.els){let r=i.getBoundingClientRect();n.push(r.top-e),s.push(r.bottom-e)}this.tops=n,this.bottoms=s}leftToIndex(e){let{lefts:n,rights:s}=this,i=n.length,r;for(r=0;r<i;r+=1)if(e>=n[r]&&e<s[r])return r}topToIndex(e){let{tops:n,bottoms:s}=this,i=n.length,r;for(r=0;r<i;r+=1)if(e>=n[r]&&e<s[r])return r}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return ag(this.tops||[],e.tops||[])&&ag(this.bottoms||[],e.bottoms||[])&&ag(this.lefts||[],e.lefts||[])&&ag(this.rights||[],e.rights||[])}}function ag(t,e){const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(Math.round(t[s])!==Math.round(e[s]))return!1;return!0}class dC{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class kae extends dC{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Tae extends dC{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Lo extends mn{constructor(){super(...arguments),this.uid=Su()}prepareHits(){}queryHit(e,n,s,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!li(e,".fc-event-mirror")}isValidDateDownEl(e){return!li(e,".fc-event:not(.fc-bg-event)")&&!li(e,".fc-more-link")&&!li(e,"a[data-navlink]")&&!li(e,".fc-popover")}}class W4{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let s of e)this.insertEntry(s,n);return n}insertEntry(e,n){let s=this.findInsertion(e);this.isInsertionValid(s,e)?this.insertEntryAt(e,s):this.handleInvalidInsertion(s,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,s){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},n),{span:fC(n.span,e.touchingEntry.span)});s.push(i),this.splitEntry(n,e.touchingEntry,s)}else s.push(n)}splitEntry(e,n,s){let i=e.span,r=n.span;i.start<r.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:r.start}},s),i.end>r.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.end,end:i.end}},s)}insertEntryAt(e,n){let{entriesByLevel:s,levelCoords:i}=this;n.lateral===-1?($x(i,n.level,n.levelCoord),$x(s,n.level,[e])):$x(s[n.level],n.lateral,e),this.stackCnts[qc(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:s,strictOrder:i,stackCnts:r}=this,o=n.length,a=0,c=-1,u=-1,d=null,f=0;for(let g=0;g<o;g+=1){const y=n[g];if(!i&&y>=a+this.getEntryThickness(e))break;let b=s[g],x,E=RS(b,e.span.start,OS),C=E[0]+E[1];for(;(x=b[C])&&x.span.start<e.span.end;){let _=y+this.getEntryThickness(x);_>a&&(a=_,d=x,c=g,u=C),_===a&&(f=Math.max(f,r[qc(x)]+1)),C+=1}}let h=0;if(d)for(h=c+1;h<o&&n[h]<a;)h+=1;let m=-1;return h<o&&n[h]===a&&(m=RS(s[h],e.span.end,OS)[0]),{touchingLevel:c,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:a,level:h,lateral:m}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,s=e.length,i=[];for(let r=0;r<s;r+=1){let o=e[r],a=n[r];for(let c of o)i.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:a}))}return i}}function OS(t){return t.span.end}function qc(t){return t.index+":"+t.span.start}function Dae(t){let e=[];for(let n of t){let s=[],i={span:n.span,entries:[n]};for(let r of e)fC(r.span,i.span)?i={entries:r.entries.concat(i.entries),span:Oae(r.span,i.span)}:s.push(r);s.push(i),e=s}return e}function Oae(t,e){return{start:Math.min(t.start,e.start),end:Math.max(t.end,e.end)}}function fC(t,e){let n=Math.max(t.start,e.start),s=Math.min(t.end,e.end);return n<s?{start:n,end:s}:null}function $x(t,e,n){t.splice(e,0,n)}function RS(t,e,n){let s=0,i=t.length;if(!i||e<n(t[s]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;s<i;){let r=Math.floor(s+(i-s)/2),o=n(t[r]);if(e<o)i=r;else if(e>o)s=r+1;else return[r,1]}return[s,0]}class Rae{constructor(e,n){this.emitter=new u1}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const hC={};function Mae(t,e){return!t||e>10?qn({weekday:"short"}):e>1?qn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):qn({weekday:"long"})}const G4="fc-col-header-cell";function q4(t){return t.text}class Iae extends mn{render(){let{dateEnv:e,options:n,theme:s,viewApi:i}=this.context,{props:r}=this,{date:o,dateProfile:a}=r,c=H4(o,r.todayRange,null,a),u=[G4].concat(cC(c,s)),d=e.format(o,r.dayHeaderFormat),f=!c.isDisabled&&r.colCnt>1?ob(this.context,o):{},h=e.toDate(o);e.namedTimeZoneImpl&&(h=Bl(h,36e5));let m=Object.assign(Object.assign(Object.assign({date:h,view:i},r.extraRenderProps),{text:d}),c);return ee(vr,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:r.colSpan,"data-date":c.isDisabled?void 0:Yw(o)},r.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:q4,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},g=>ee("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&ee(g,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",r.isSticky&&"fc-sticky"]})))}}const Nae=qn({weekday:"long"});class Pae extends mn{render(){let{props:e}=this,{dateEnv:n,theme:s,viewApi:i,options:r}=this.context,o=Rs(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=n.format(o,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:c});return ee(vr,{elTag:"th",elClasses:[G4,...cC(a,s),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:q4,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},d=>ee("div",{className:"fc-scrollgrid-sync-inner"},ee(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,Nae)}})))}}class K4 extends mn{constructor(){super(...arguments),this.createDayHeaderFormatter=ht($ae)}render(){let{context:e}=this,{dates:n,dateProfile:s,datesRepDistinctDays:i,renderIntro:r}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return ee(af,{unit:"day"},(a,c)=>ee("tr",{role:"row"},r&&r("day"),n.map(u=>i?ee(Iae,{key:u.toISOString(),date:u,dateProfile:s,todayRange:c,colCnt:n.length,dayHeaderFormat:o}):ee(Pae,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}}function $ae(t,e,n){return t||Mae(e,n)}class Y4{constructor(e,n){let s=e.start,{end:i}=e,r=[],o=[],a=-1;for(;s<i;)n.isHiddenDay(s)?r.push(a+.5):(a+=1,r.push(a),o.push(s)),s=Rs(s,1);this.dates=o,this.indices=r,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),s=this.getDateDayIndex(Rs(e.end,-1)),i=Math.max(0,n),r=Math.min(this.cnt-1,s);return i=Math.ceil(i),r=Math.floor(r),i<=r?{firstIndex:i,lastIndex:r,isStart:n===i,isEnd:s===r}:null}getDateDayIndex(e){let{indices:n}=this,s=Math.floor(Eu(this.dates[0],e));return s<0?n[0]-1:s>=n.length?n[n.length-1]+1:n[s]}}class X4{constructor(e,n){let{dates:s}=e,i,r,o;if(n){for(r=s[0].getUTCDay(),i=1;i<s.length&&s[i].getUTCDay()!==r;i+=1);o=Math.ceil(s.length/i)}else o=1,i=s.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let s=[];for(let i=0;i<this.colCnt;i+=1)s.push(this.buildCell(n,i));e.push(s)}return e}buildCell(e,n){let s=this.daySeries.dates[e*this.colCnt+n];return{key:s.toISOString(),date:s}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,s=this.daySeries.sliceRange(e),i=[];if(s){let{firstIndex:r,lastIndex:o}=s,a=r;for(;a<=o;){let c=Math.floor(a/n),u=Math.min((c+1)*n,o+1);i.push({row:c,firstCol:a%n,lastCol:(u-1)%n,isStart:s.isStart&&a===r,isEnd:s.isEnd&&u-1===o}),a=u}}return i}}class J4{constructor(){this.sliceBusinessHours=ht(this._sliceBusinessHours),this.sliceDateSelection=ht(this._sliceDateSpan),this.sliceEventStore=ht(this._sliceEventStore),this.sliceEventDrag=ht(this._sliceInteraction),this.sliceEventResize=ht(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,s,i,...r){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,s,...r);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,s,o,i,...r),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,s,i,...r),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,s,...r),eventResize:this.sliceEventResize(e.eventResize,o,n,s,...r),eventSelection:e.eventSelection}}sliceNowDate(e,n,s,i,...r){return this._sliceDateSpan({range:{start:e,end:Bl(e,1)},allDay:!1},n,s,{},i,...r)}_sliceBusinessHours(e,n,s,i,...r){return e?this._sliceEventStore(fu(e,lg(n,!!s),i),{},n,s,...r).bg:[]}_sliceEventStore(e,n,s,i,...r){if(e){let o=VO(e,n,lg(s,!!i),i);return{bg:this.sliceEventRanges(o.bg,r),fg:this.sliceEventRanges(o.fg,r)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,s,i,...r){if(!e)return null;let o=VO(e.mutatedEvents,n,lg(s,!!i),i);return{segs:this.sliceEventRanges(o.fg,r),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,s,i,r,...o){if(!e)return[];let a=lg(n,!!s),c=du(e.range,a);if(c){e=Object.assign(Object.assign({},e),{range:c});let u=iae(e,i,r),d=this.sliceRange(e.range,...o);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,n){let s=[];for(let i of e)s.push(...this.sliceEventRange(i,n));return s}sliceEventRange(e,n){let s=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(s={start:s.start,end:Rs(s.start,1)});let i=this.sliceRange(s,...n);for(let r of i)r.eventRange=e,r.isStart=e.isStart&&r.isStart,r.isEnd=e.isEnd&&r.isEnd;return i}}function lg(t,e){let n=t.activeRange;return e?n:{start:Bl(n.start,t.slotMinTime.milliseconds),end:Bl(n.end,t.slotMaxTime.milliseconds-864e5)}}function Q4(t,e,n){let{instances:s}=t.mutatedEvents;for(let i in s)if(!l1(e.validRange,s[i].range))return!1;return Z4({eventDrag:t},n)}function Lae(t,e,n){return l1(e.validRange,t.range)?Z4({dateSelection:t},n):!1}function Z4(t,e){let n=e.getCurrentData(),s=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Fae)(s,e)}function Fae(t,e,n={},s){return!(t.eventDrag&&!Vae(t,e,n,s)||t.dateSelection&&!Bae(t,e,n,s))}function Vae(t,e,n,s){let i=e.getCurrentData(),r=t.eventDrag,o=r.mutatedEvents,a=o.defs,c=o.instances,u=rb(a,r.isEvent?t.eventUiBases:{"":i.selectionConfig});s&&(u=Ra(u,s));let d=$oe(t.eventStore,r.affectedEvents.instances),f=d.defs,h=d.instances,m=rb(f,t.eventUiBases);for(let g in c){let y=c[g],b=y.range,x=u[y.defId],E=a[y.defId];if(!e5(x.constraints,b,d,t.businessHours,e))return!1;let{eventOverlap:C}=e.options,_=typeof C=="function"?C:null;for(let k in h){let $=h[k];if(tC(b,$.range)&&(m[$.defId].overlap===!1&&r.isEvent||x.overlap===!1||_&&!_(new Hn(e,f[$.defId],$),new Hn(e,E,y))))return!1}let T=i.eventStore;for(let k of x.allows){let $=Object.assign(Object.assign({},n),{range:y.range,allDay:E.allDay}),M=T.defs[E.defId],P=T.instances[g],V;if(M?V=new Hn(e,M,P):V=new Hn(e,E),!k(oC($,e),V))return!1}}return!0}function Bae(t,e,n,s){let i=t.eventStore,r=i.defs,o=i.instances,a=t.dateSelection,c=a.range,{selectionConfig:u}=e.getCurrentData();if(s&&(u=s(u)),!e5(u.constraints,c,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let h in o){let m=o[h];if(tC(c,m.range)&&(u.overlap===!1||f&&!f(new Hn(e,r[m.defId],m),null)))return!1}for(let h of u.allows){let m=Object.assign(Object.assign({},n),a);if(!h(oC(m,e),null))return!1}return!0}function e5(t,e,n,s,i){for(let r of t)if(!Hae(Uae(r,e,n,s,i),e))return!1;return!0}function Uae(t,e,n,s,i){return t==="businessHours"?Lx(fu(s,e,i)):typeof t=="string"?Lx(c1(n,r=>r.groupId===t)):typeof t=="object"&&t?Lx(fu(t,e,i)):[]}function Lx(t){let{instances:e}=t,n=[];for(let s in e)n.push(e[s].range);return n}function Hae(t,e){for(let n of t)if(l1(n,e))return!0;return!1}const cg=/^(visible|hidden)$/;class zae extends mn{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Oo(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:s}=e,i=n&&s,r=["fc-scroller"];return n&&(s?r.push("fc-scroller-liquid-absolute"):r.push("fc-scroller-liquid")),ee("div",{ref:this.handleEl,className:r.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(cg.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:s}=e;for(let i=0;i<s.length;i+=1)if(s[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(cg.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:s}=e;for(let i=0;i<s.length;i+=1)if(s[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return cg.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return cg.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class ha{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,s)=>{let{depths:i,currentMap:r}=this,o=!1,a=!1;n!==null?(o=s in r,r[s]=n,i[s]=(i[s]||0)+1,a=!0):(i[s]-=1,i[s]||(delete r[s],delete this.callbackMap[s],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(s)),a&&this.masterCallback(n,String(s)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=s=>{this.handleValue(s,String(e))}),n}collect(e,n,s){return toe(this.currentMap,e,n,s)}getAll(){return Zw(this.currentMap)}}function jae(t){let e=Zie(t,".fc-scrollgrid-shrink"),n=0;for(let s of e)n=Math.max(n,hre(s));return Math.ceil(n)}function t5(t,e){return t.liquid&&e.liquid}function Wae(t,e){return e.maxHeight!=null||t5(t,e)}function Gae(t,e,n,s){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):ee("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,ee(s?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function qae(t,e){return Vl(t,e,oo)}function Kae(t,e){let n=[];for(let s of t){let i=s.span||1;for(let r=0;r<i;r+=1)n.push(ee("col",{style:{width:s.width==="shrink"?Yae(e):s.width||"",minWidth:s.minWidth||""}}))}return ee("colgroup",{},...n)}function Yae(t){return t??4}function Xae(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function Jae(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function Qae(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function MS(t){return ee("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function ab(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function n5(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class pC extends mn{constructor(){super(...arguments),this.processCols=ht(e=>e,qae),this.renderMicroColGroup=ht(Kae),this.scrollerRefs=new ha,this.scrollerElRefs=new ha(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:s}=this,i=e.sections||[],r=this.processCols(e.cols),o=this.renderMicroColGroup(r,n.shrinkWidth),a=Jae(e.liquid,s);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let c=i.length,u=0,d,f=[],h=[],m=[];for(;u<c&&(d=i[u]).type==="header";)f.push(this.renderSection(d,o,!0)),u+=1;for(;u<c&&(d=i[u]).type==="body";)h.push(this.renderSection(d,o,!1)),u+=1;for(;u<c&&(d=i[u]).type==="footer";)m.push(this.renderSection(d,o,!0)),u+=1;let g=!B4();const y={role:"rowgroup"};return ee("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!g&&f.length)&&ee("thead",y,...f),!!(!g&&h.length)&&ee("tbody",y,...h),!!(!g&&m.length)&&ee("tfoot",y,...m),g&&ee("tbody",y,...f,...h,...m))}renderSection(e,n,s){return"outerContent"in e?ee(Tn,{key:e.key},e.outerContent):ee("tr",{key:e.key,role:"presentation",className:Qae(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,s))}renderChunkTd(e,n,s,i){if("outerContent"in s)return s.outerContent;let{props:r}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:c}=this.state,u=Wae(r,e),d=t5(r,e),f=r.liquid?o?"scroll":u?"auto":"hidden":"visible",h=e.key,m=Gae(e,s,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!r.collapsibleWidth&&a[h]!==void 0?a[h]:null,clientHeight:c[h]!==void 0?c[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return ee(i?"th":"td",{ref:s.elRef,role:"presentation"},ee("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},ee(zae,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:r.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},m)))}_handleScrollerEl(e,n){let s=Zae(this.props.sections,n);s&&Oo(s.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Xae(this.props.cols)?jae(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Sae(),{scrollerRefs:n,scrollerElRefs:s}=this,i=!1,r={},o={};for(let a in n.currentMap){let c=n.currentMap[a];if(c&&c.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let c=a.key,u=s.currentMap[c];if(u){let d=u.parentNode;r[c]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),o[c]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:r,scrollerClientHeights:o}}}pC.addStateEquality({scrollerClientWidths:oo,scrollerClientHeights:oo});function Zae(t,e){for(let n of t)if(n.key===e)return n;return null}class mC extends mn{constructor(){super(...arguments),this.buildPublicEvent=ht((e,n,s)=>new Hn(e,n,s)),this.handleEl=e=>{this.el=e,Oo(this.props.elRef,e),e&&BO(e,this.props.seg)}}render(){const{props:e,context:n}=this,{options:s}=n,{seg:i}=e,{eventRange:r}=i,{ui:o}=r,a={event:this.buildPublicEvent(n,r.def,r.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&Koe(i,n),isStartResizable:!e.disableResizing&&Yoe(i,n),isEndResizable:!e.disableResizing&&Xoe(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return ee(vr,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...Joe(a),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:a,generatorName:"eventContent",customGenerator:s.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.eventClassNames,didMount:s.eventDidMount,willUnmount:s.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&BO(this.el,this.props.seg)}}class gC extends mn{render(){let{props:e,context:n}=this,{options:s}=n,{seg:i}=e,{ui:r}=i.eventRange,o=s.eventTimeFormat||e.defaultTimeFormat,a=P4(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return ee(mC,Object.assign({},e,{elTag:"a",elStyle:{borderColor:r.borderColor,backgroundColor:r.backgroundColor},elAttrs:L4(i,n),defaultGenerator:ele,timeText:a}),(c,u)=>ee(Tn,null,ee(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&ee("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}gC.addPropsEquality({seg:oo});function ele(t){return ee("div",{className:"fc-event-main-frame"},t.timeText&&ee("div",{className:"fc-event-time"},t.timeText),ee("div",{className:"fc-event-title-container"},ee("div",{className:"fc-event-title fc-sticky"},t.event.title||ee(Tn,null,""))))}const vC=t=>ee(Na.Consumer,null,e=>{let{options:n}=e,s={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return ee(vr,{elRef:t.elRef,elTag:t.elTag||"div",elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:s,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount},t.children)}),tle=qn({day:"numeric"});class bC extends mn{constructor(){super(...arguments),this.refineRenderProps=rv(nle)}render(){let{props:e,context:n}=this,{options:s}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:s.monthStartFormat});return ee(vr,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":Yw(e.date)}),elClasses:[...cC(i,n.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:s.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:s.dayCellClassNames,didMount:s.dayCellDidMount,willUnmount:s.dayCellWillUnmount},e.children)}}function yC(t){return!!(t.dayCellContent||AS("dayCellContent",t))}function nle(t){let{date:e,dateEnv:n,dateProfile:s,isMonthStart:i}=t,r=H4(e,t.todayRange,null,s),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:tle):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},r),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}class s5 extends mn{render(){let{props:e}=this,{seg:n}=e;return ee(mC,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:sle,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function sle(t){let{title:e}=t.event;return e&&ee("div",{className:"fc-event-title"},t.event.title)}function i5(t){return ee("div",{className:`fc-${t}`})}const r5=t=>ee(Na.Consumer,null,e=>{let{dateEnv:n,options:s}=e,{date:i}=t,r=s.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,r),c={num:o,text:a,date:i};return ee(vr,{elRef:t.elRef,elTag:t.elTag,elAttrs:t.elAttrs,elClasses:t.elClasses,elStyle:t.elStyle,renderProps:c,generatorName:"weekNumberContent",customGenerator:s.weekNumberContent,defaultGenerator:ile,classNameGenerator:s.weekNumberClassNames,didMount:s.weekNumberDidMount,willUnmount:s.weekNumberWillUnmount},t.children)});function ile(t){return t.text}const Fx=10;class rle extends mn{constructor(){super(...arguments),this.state={titleId:o1()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Oo(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const n=l4(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:s,state:i}=this,r=["fc-popover",e.getClass("popover")].concat(s.extraClassNames||[]);return Vie(ee("div",Object.assign({},s.extraAttrs,{id:s.id,className:r.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),ee("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},ee("span",{className:"fc-popover-title",id:i.titleId},s.title),ee("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),ee("div",{className:"fc-popover-body "+e.getClass("popoverContent")},s.children)),s.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:s}=this.props,{rootEl:i}=this,r=Aae(n);if(r){let o=i.getBoundingClientRect(),a=s?li(n,".fc-scrollgrid").getBoundingClientRect().top:r.top,c=e?r.right-o.width:r.left;a=Math.max(a,Fx),c=Math.min(c,document.documentElement.clientWidth-Fx-o.width),c=Math.max(c,Fx);let u=i.offsetParent.getBoundingClientRect();hh(i,{top:a-u.top,left:c-u.left})}}}class ole extends Lo{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:s}=this,{startDate:i,todayRange:r,dateProfile:o}=s,a=n.format(i,e.dayPopoverFormat);return ee(bC,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:r},(c,u,d)=>ee(rle,{elRef:d.ref,id:s.id,title:a,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:s.parentEl,alignmentEl:s.alignmentEl,alignGridTop:s.alignGridTop,onClose:s.onClose},yC(e)&&ee(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),s.children))}queryHit(e,n,s,i){let{rootEl:r,props:o}=this;return e>=0&&e<s&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:r,rect:{left:0,top:0,right:s,bottom:i},layer:1}:null}}class o5 extends mn{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:o1()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Oo(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:s}=this,{moreLinkClick:i}=s.options,r=HO(n).start;function o(a){let{def:c,instance:u,range:d}=a.eventRange;return{event:new Hn(s,c,u),start:s.dateEnv.toDate(d.start),end:s.dateEnv.toDate(d.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:r,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:s.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&s.calendarApi.zoomTo(r,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return ee(Na.Consumer,null,s=>{let{viewApi:i,options:r,calendarApi:o}=s,{moreLinkText:a}=r,{moreCnt:c}=e,u=HO(e),d=typeof a=="function"?a.call(o,c):`+${c} ${a}`,f=ph(r.moreLinkHint,[c],d),h={num:c,shortText:`+${c}`,text:d,view:i};return ee(Tn,null,!!e.moreCnt&&ee(vr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),u4(this.handleClick)),{title:f,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:r.moreLinkContent,defaultGenerator:e.defaultGenerator||ale,classNameGenerator:r.moreLinkClassNames,didMount:r.moreLinkDidMount,willUnmount:r.moreLinkWillUnmount},e.children),n.isPopoverOpen&&ee(ole,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=li(this.linkEl,".fc-view-harness"))}}function ale(t){return t.text}function HO(t){if(t.allDayDate)return{start:t.allDayDate,end:Rs(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:a5(e),end:cle(e)}}function a5(t){return t.reduce(lle).eventRange.range.start}function lle(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function cle(t){return t.reduce(ule).eventRange.range.end}function ule(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class dle{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class fle extends dle{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:n}=this;let s=!1;e.isActive?(n.set(e.id,e),s=!0):n.has(e.id)&&(n.delete(e.id),s=!0),s&&this.set(n)}}const hle=[],l5={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},c5=Object.assign(Object.assign({},l5),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function ple(t){let e=t.length>0?t[0].code:"en",n=hle.concat(t),s={en:c5};for(let i of n)s[i.code]=i;return{map:s,defaultCode:e}}function u5(t,e){return typeof t=="object"&&!Array.isArray(t)?d5(t.code,[t.code],t):mle(t,e)}function mle(t,e){let n=[].concat(t||[]),s=gle(n,e)||c5;return d5(t,n,s)}function gle(t,e){for(let n=0;n<t.length;n+=1){let s=t[n].toLocaleLowerCase().split("-");for(let i=s.length;i>0;i-=1){let r=s.slice(0,i).join("-");if(e[r])return e[r]}}return null}function d5(t,e,n){let s=Qw([l5,n],["buttonText"]);delete s.code;let{week:i}=s;return delete s.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:s}}function Pa(t){return{id:Su(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function vle(t,e){let n={},s={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(r){for(let o of r){const a=o.name,c=n[a];c===void 0?(n[a]=o.id,i(o.deps),s=yle(s,o)):c!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),s}function ble(){let t=[],e=[],n;return(s,i)=>((!n||!Vl(s,t)||!Vl(i,e))&&(n=vle(s,i)),t=s,e=i,n)}function yle(t,e){return{premiumReleaseDate:xle(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function xle(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Xl extends Hp{}Xl.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Xl.prototype.baseIconClass="fc-icon";Xl.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Xl.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Xl.prototype.iconOverrideOption="buttonIcons";Xl.prototype.iconOverrideCustomButtonOption="icon";Xl.prototype.iconOverridePrefix="fc-icon-";function _le(t,e){let n={},s;for(s in t)IS(s,n,t,e);for(s in e)IS(s,n,t,e);return n}function IS(t,e,n,s){if(e[t])return e[t];let i=Sle(t,e,n,s);return i&&(e[t]=i),i}function Sle(t,e,n,s){let i=n[t],r=s[t],o=d=>i&&i[d]!==null?i[d]:r&&r[d]!==null?r[d]:null,a=o("component"),c=o("superType"),u=null;if(c){if(c===t)throw new Error("Can't have a custom view type that references itself");u=IS(c,e,n,s)}return!a&&u&&(a=u.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),r?r.rawOptions:{})}:null}function zO(t){return Ra(t,Ele)}function Ele(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=jO(e):n&&!(n.prototype instanceof mn)&&(n=jO(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function jO(t){return e=>ee(Na.Consumer,null,n=>ee(vr,{elTag:"div",elClasses:y4(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function wle(t,e,n,s){let i=zO(t),r=zO(e.views),o=_le(i,r);return Ra(o,a=>Cle(a,r,e,n,s))}function Cle(t,e,n,s,i){let r=t.overrides.duration||t.defaults.duration||s.duration||n.duration,o=null,a="",c="",u={};if(r&&(o=Ale(r),o)){let h=CS(o);a=h.unit,h.value===1&&(c=a,u=e[a]?e[a].rawOptions:{})}let d=h=>{let m=h.buttonText||{},g=t.defaults.buttonTextKey;return g!=null&&m[g]!=null?m[g]:m[t.type]!=null?m[t.type]:m[c]!=null?m[c]:null},f=h=>{let m=h.buttonHints||{},g=t.defaults.buttonTextKey;return g!=null&&m[g]!=null?m[g]:m[t.type]!=null?m[t.type]:m[c]!=null?m[c]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:c,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(s)||d(n)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(mh)||t.type,buttonTitleOverride:f(s)||f(n)||t.overrides.buttonHint,buttonTitleDefault:f(i)||t.defaults.buttonHint||f(mh)}}let WO={};function Ale(t){let e=JSON.stringify(t),n=WO[e];return n===void 0&&(n=rn(t),WO[e]=n),n}function kle(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function Tle(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Dle(t,e,n){let s=t.initialDate;return s!=null?e.createMarker(s):n.getDateMarker()}function Ole(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function Rle(t,e,n,s){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return s.build(e.dateMarker||n);case"CHANGE_DATE":return s.build(e.dateMarker);case"PREV":if(i=s.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=s.buildNext(t,n),i.isValid)return i;break}return t}function Mle(t,e,n){let s=e?e.activeRange:null;return h5({},Vle(t,n),s,n)}function Ile(t,e,n,s){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return h5(t,e.sources,i,s);case"REMOVE_EVENT_SOURCE":return Ple(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?p5(t,i,s):t;case"FETCH_EVENT_SOURCES":return xC(t,e.sourceIds?p4(e.sourceIds):m5(t,s),i,e.isRefetch||!1,s);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Fle(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function Nle(t,e,n){let s=e?e.activeRange:null;return xC(t,m5(t,n),s,!0,n)}function f5(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function h5(t,e,n,s){let i={};for(let r of e)i[r.sourceId]=r;return n&&(i=p5(i,n,s)),Object.assign(Object.assign({},t),i)}function Ple(t,e){return uu(t,n=>n.sourceId!==e)}function p5(t,e,n){return xC(t,uu(t,s=>$le(s,e,n)),e,!1,n)}function $le(t,e,n){return g5(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function xC(t,e,n,s,i){let r={};for(let o in t){let a=t[o];e[o]?r[o]=Lle(a,n,s,i):r[o]=a}return r}function Lle(t,e,n,s){let{options:i,calendarApi:r}=s,o=s.pluginHooks.eventSourceDefs[t.sourceDefId],a=Su();return o.fetch({eventSource:t,range:e,isRefetch:n,context:s},c=>{let{rawEvents:u}=c;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(r,u,c.response)||u),t.success&&(u=t.success.call(r,u,c.response)||u),s.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:u})},c=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(r,c),u=!0),t.failure&&(t.failure(c),u=!0),u||console.warn(c.message,c),s.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:c})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function Fle(t,e,n,s){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:s})}):t}function m5(t,e){return uu(t,n=>g5(n,e))}function Vle(t,e){let n=T4(e),s=[].concat(t.eventSources||[]),i=[];t.initialEvents&&s.unshift(t.initialEvents),t.events&&s.unshift(t.events);for(let r of s){let o=k4(r,e,n);o&&i.push(o)}return i}function g5(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function Ble(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function Ule(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function Hle(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function zle(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function jle(t,e,n,s,i){let r=t.headerToolbar?GO(t.headerToolbar,t,e,n,s,i):null,o=t.footerToolbar?GO(t.footerToolbar,t,e,n,s,i):null;return{header:r,footer:o}}function GO(t,e,n,s,i,r){let o={},a=[],c=!1;for(let u in t){let d=t[u],f=Wle(d,e,n,s,i,r);o[u]=f.widgets,a.push(...f.viewsWithButtons),c=c||f.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:c}}function Wle(t,e,n,s,i,r){let o=e.direction==="rtl",a=e.customButtons||{},c=n.buttonText||{},u=e.buttonText||{},d=n.buttonHints||{},f=e.buttonHints||{},h=t?t.split(" "):[],m=[],g=!1;return{widgets:h.map(b=>b.split(",").map(x=>{if(x==="title")return g=!0,{buttonName:x};let E,C,_,T,k,$;if(E=a[x])_=M=>{E.click&&E.click.call(M.target,M,M.target)},(T=s.getCustomButtonIconClass(E))||(T=s.getIconClass(x,o))||(k=E.text),$=E.hint||E.text;else if(C=i[x]){m.push(x),_=()=>{r.changeView(x)},(k=C.buttonTextOverride)||(T=s.getIconClass(x,o))||(k=C.buttonTextDefault);let M=C.buttonTextOverride||C.buttonTextDefault;$=ph(C.buttonTitleOverride||C.buttonTitleDefault||e.viewHint,[M,x],M)}else if(r[x])if(_=()=>{r[x]()},(k=c[x])||(T=s.getIconClass(x,o))||(k=u[x]),x==="prevYear"||x==="nextYear"){let M=x==="prevYear"?"prev":"next";$=ph(d[M]||f[M],[u.year||"year","year"],u[x])}else $=M=>ph(d[x]||f[x],[u[M]||M,M],u[x]);return{buttonName:x,buttonClick:_,buttonIcon:T,buttonText:k,buttonHint:$}})),viewsWithButtons:m,hasTitle:g}}class Gle{constructor(e,n,s){this.type=e,this.getCurrentData=n,this.dateEnv=s}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let qle={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const Kle=Pa({name:"array-event-source",eventSourceDefs:[qle]});let Yle={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){const{dateEnv:s}=t.context,i=t.eventSource.meta;rae(i.bind(null,F4(t.range,s)),r=>e({rawEvents:r}),n)}};const Xle=Pa({name:"func-event-source",eventSourceDefs:[Yle]}),Jle={method:String,extraParams:he,startParam:String,endParam:String,timeZoneParam:String};let Qle={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){const{meta:s}=t.eventSource,i=ece(s,t.range,t.context);oae(s.method,s.url,i).then(([r,o])=>{e({rawEvents:r,response:o})},n)}};const Zle=Pa({name:"json-event-source",eventSourceRefiners:Jle,eventSourceDefs:[Qle]});function ece(t,e,n){let{dateEnv:s,options:i}=n,r,o,a,c,u={};return r=t.startParam,r==null&&(r=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?c=t.extraParams():c=t.extraParams||{},Object.assign(u,c),u[r]=s.formatIso(e.start),u[o]=s.formatIso(e.end),s.timeZone!=="local"&&(u[a]=s.timeZone),u}const tce={daysOfWeek:he,startTime:rn,endTime:rn,duration:rn,startRecur:he,endRecur:he};let nce={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},s;return t.duration&&(s=t.duration),!s&&t.startTime&&t.endTime&&(s=vre(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:s,typeData:n}}return null},expand(t,e,n){let s=du(e,{start:t.startRecur,end:t.endRecur});return s?ice(t.daysOfWeek,t.startTime,t.dateEnv,n,s):[]}};const sce=Pa({name:"simple-recurring-event",recurringTypes:[nce],eventRefiners:tce});function ice(t,e,n,s,i){let r=t?p4(t):null,o=Dn(i.start),a=i.end,c=[];for(e&&(e.milliseconds<0?a=Rs(a,1):e.milliseconds>=1e3*60*60*24&&(o=Rs(o,-1)));o<a;){let u;(!r||r[o.getUTCDay()])&&(e?u=s.add(o,e):u=o,c.push(s.createMarker(n.toDate(u)))),o=Rs(o,1)}return c}const rce=Pa({name:"change-handler",optionChangeHandlers:{events(t,e){qO([t],e)},eventSources:qO}});function qO(t,e){let n=Zw(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let s=[];for(let i of t){let r=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),r=!0;break}r||s.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of s)e.calendarApi.addEventSource(i)}function oce(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},F4(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function ace(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",Gc(t,e))}const lce=[Kle,Xle,Zle,sce,rce,Pa({name:"misc",isLoadingFuncs:[t=>f5(t.eventSources)],propSetHandlers:{dateProfile:oce,eventStore:ace}})];class cce{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new jw(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],s;for(;s=e.shift();)this.runTask(s),n.push(s);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function uce(t,e,n){let s;return/^(year|month)$/.test(t.currentRangeUnit)?s=t.currentRange:s=t.activeRange,n.formatRange(s.start,s.end,qn(e.titleFormat||dce(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function dce(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=Jv(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class KO{constructor(){this.resetListeners=new Set}handleInput(e,n){const s=this.dateEnv;if(e!==s&&(typeof n=="function"?this.nowFn=n:s||(this.nowAnchorDate=e.toDate(n?e.createMarker(n):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,s))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class fce{constructor(e){this.computeCurrentViewData=ht(this._computeCurrentViewData),this.organizeRawLocales=ht(ple),this.buildLocale=ht(u5),this.buildPluginHooks=ble(),this.buildDateEnv=ht(hce),this.buildTheme=ht(pce),this.parseToolbars=ht(jle),this.buildViewSpecs=ht(wle),this.buildDateProfileGenerator=rv(mce),this.buildViewApi=ht(gce),this.buildViewUiProps=rv(yce),this.buildEventUiBySource=ht(vce,oo),this.buildEventUiBases=ht(bce),this.parseContextBusinessHours=rv(xce),this.buildTitle=ht(uce),this.nowManager=new KO,this.emitter=new u1,this.actionRunner=new cce(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new KO;let n={},s=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=s.calendarOptions.initialView||s.pluginHooks.initialView,r=this.computeCurrentViewData(i,s,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(r.options);let o={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a=Dle(s.calendarOptions,s.dateEnv,this.nowManager),c=r.dateProfileGenerator.build(a);_a(c.activeRange,a)||(a=c.currentRange.start);for(let h of s.pluginHooks.contextInit)h(o);let u=Mle(s.calendarOptions,c,o),d={dynamicOptionOverrides:n,currentViewType:i,currentDate:a,dateProfile:c,businessHours:this.parseContextBusinessHours(o),eventSources:u,eventUiBases:{},eventStore:pr(),renderableEventStore:pr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(o).selectionConfig},f=Object.assign(Object.assign({},o),d);for(let h of s.pluginHooks.reducers)Object.assign(d,h(null,null,f));Vx(d,o)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:s}=this;n===void 0?s.optionOverrides=e:(s.optionOverrides=Object.assign(Object.assign({},s.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:s,emitter:i}=this,r=Ole(s.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,r,n.calendarApi),a=kle(s.currentViewType,e),c=this.computeCurrentViewData(a,o,n.optionOverrides,r);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(c.options);let u={nowManager:this.nowManager,dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=s;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(f=c.dateProfileGenerator.build(d)),d=Tle(d,e),f=Rle(f,e,d,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!_a(f.currentRange,d))&&(d=f.currentRange.start);let h=Ile(s.eventSources,e,f,u),m=Moe(s.eventStore,e,h,f,u),y=f5(h)&&!c.options.progressiveEventRendering&&s.renderableEventStore||m,{eventUiSingleBase:b,selectionConfig:x}=this.buildViewUiProps(u),E=this.buildEventUiBySource(h),C=this.buildEventUiBases(y.defs,b,E),_={dynamicOptionOverrides:r,currentViewType:a,currentDate:d,dateProfile:f,eventSources:h,eventStore:m,renderableEventStore:y,selectionConfig:x,eventUiBases:C,businessHours:this.parseContextBusinessHours(u),dateSelection:Ble(s.dateSelection,e),eventSelection:Ule(s.eventSelection,e),eventDrag:Hle(s.eventDrag,e),eventResize:zle(s.eventResize,e)},T=Object.assign(Object.assign({},u),_);for(let M of o.pluginHooks.reducers)Object.assign(_,M(s,e,T));let k=Vx(s,u),$=Vx(_,u);!k&&$?i.trigger("loading",!0):k&&!$&&i.trigger("loading",!1),this.state=_,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,s=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),r=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(n.dateProfile,r.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),r),n),a=i.pluginHooks.optionChangeHandlers,c=s&&s.calendarOptions,u=i.calendarOptions;if(c&&c!==u){c.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=Nle(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=LO(o.eventStore,s.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=LO(o.renderableEventStore,s.dateEnv,o.dateEnv));for(let d in a)(this.optionsForHandling.indexOf(d)!==-1||c[d]!==u[d])&&a[d](u[d],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,s){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:r,localeDefaults:o,availableLocaleData:a,extra:c}=this.processRawCalendarOptions(e,n);YO(c);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,r,a,i.defaultRangeSeparator),d=this.buildViewSpecs(r.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),f=this.buildTheme(i,r),h=this.parseToolbars(i,this.stableOptionOverrides,f,d,s);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:r,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:s,locale:i}=Ox([mh,e,n]),r=this.organizeRawLocales(s),o=r.map,a=this.buildLocale(i||r.defaultCode,o).options,c=this.buildPluginHooks(e.plugins||[],lce),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RO),MO),IO),c.listenerRefiners),c.optionRefiners),d={},f=Ox([mh,a,e,n]),h={},m=this.currentCalendarOptionsInput,g=this.currentCalendarOptionsRefined,y=!1;for(let b in f)this.optionsForRefining.indexOf(b)===-1&&(f[b]===m[b]||_c[b]&&b in m&&_c[b](m[b],f[b]))?h[b]=g[b]:u[b]?(h[b]=u[b](f[b]),y=!0):d[b]=m[b];return y&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:r,localeDefaults:a,extra:d}}_computeCurrentViewData(e,n,s,i){let r=n.viewSpecs[e];if(!r)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(r,n.pluginHooks,n.localeDefaults,s,i);YO(a),this.nowManager.handleInput(n.dateEnv,o.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:r.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:r.duration,durationUnit:r.durationUnit,usesMinMaxTime:r.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:r,options:o,dateProfileGenerator:c,viewApi:u}}processRawViewOptions(e,n,s,i,r){let o=Ox([mh,e.optionDefaults,s,i,e.optionOverrides,r]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RO),MO),IO),Xre),n.listenerRefiners),n.optionRefiners),c={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let m in o)o[m]===u[m]||_c[m]&&_c[m](o[m],u[m])?c[m]=d[m]:(o[m]===this.currentCalendarOptionsInput[m]||_c[m]&&_c[m](o[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(c[m]=this.currentCalendarOptionsRefined[m]):a[m]?c[m]=a[m](o[m]):h[m]=o[m],f=!0);return f&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function hce(t,e,n,s,i,r,o,a){let c=u5(e||o.defaultCode,o.map);return new aoe({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:c,weekNumberCalculation:n,firstDay:s,weekText:i,cmdFormatter:r.cmdFormatter,defaultSeparator:a})}function pce(t,e){let n=e.themeClasses[t.themeSystem]||Xl;return new n(t)}function mce(t){let e=t.dateProfileGeneratorClass||S4;return new e(t)}function gce(t,e,n){return new Gle(t,e,n)}function vce(t){return Ra(t,e=>e.ui)}function bce(t,e,n){let s={"":e};for(let i in t){let r=t[i];r.sourceId&&n[r.sourceId]&&(s[i]=n[r.sourceId])}return s}function yce(t){let{options:e}=t;return{eventUiSingleBase:ib({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:ib({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function Vx(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function xce(t){return Uoe(t.options.businessHours,t)}function YO(t,e){for(let n in t)console.warn(`Unknown option '${n}'`)}class _ce extends mn{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return ee("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:s}=this.context,i=[],r=!0;for(let o of e){let{buttonName:a,buttonClick:c,buttonText:u,buttonIcon:d,buttonHint:f}=o;if(a==="title")r=!1,i.push(ee("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let h=a===n.activeButton,m=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",g=[`fc-${a}-button`,s.getClass("button")];h&&g.push(s.getClass("buttonActive")),i.push(ee("button",{type:"button",title:typeof f=="function"?f(n.navUnit):f,disabled:m,"aria-pressed":h,className:g.join(" "),onClick:c},u||(d?ee("span",{className:d,role:"img"}):"")))}}if(i.length>1){let o=r&&s.getClass("buttonGroup")||"";return ee("div",{className:o},...i)}return i[0]}}class XO extends mn{render(){let{model:e,extraClassName:n}=this.props,s=!1,i,r,o=e.sectionWidgets,a=o.center;return o.left?(s=!0,i=o.left):i=o.start,o.right?(s=!0,r=o.right):r=o.end,ee("div",{className:[n||"","fc-toolbar",s?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",r||[]))}renderSection(e,n){let{props:s}=this;return ee(_ce,{key:e,widgetGroups:n,title:s.title,navUnit:s.navUnit,activeButton:s.activeButton,isTodayEnabled:s.isTodayEnabled,isPrevEnabled:s.isPrevEnabled,isNextEnabled:s.isNextEnabled,titleId:s.titleId})}}class Sce extends mn{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Oo(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:s}=e,i=["fc-view-harness",s||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],r="",o="";return s?n.availableWidth!==null?r=n.availableWidth/s:o=`${1/s*100}%`:r=e.height||"",ee("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:r,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Ece extends of{constructor(e){super(e),this.handleSegClick=(n,s)=>{let{component:i}=this,{context:r}=i,o=zd(s);if(o&&i.isValidSegDownEl(n.target)){let a=li(n.target,".fc-event-forced-url"),c=a?a.querySelector("a[href]").href:"";r.emitter.trigger("eventClick",{el:s,event:new Hn(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:r.viewApi}),c&&!n.defaultPrevented&&(window.location.href=c)}},this.destroy=c4(e.el,"click",".fc-event",this.handleSegClick)}}class wce extends of{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,s)=>{zd(s)&&(this.currentSegEl=s,this.triggerEvent("eventMouseEnter",n,s))},this.handleSegLeave=(n,s)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,s))},this.removeHoverListeners=nre(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,s){let{component:i}=this,{context:r}=i,o=zd(s);(!n||i.isValidSegDownEl(n.target))&&r.emitter.trigger(e,{el:s,event:new Hn(r,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:r.viewApi})}}class Cce extends wu{constructor(){super(...arguments),this.buildViewContext=ht(uoe),this.buildViewPropTransformers=ht(kce),this.buildToolbarProps=ht(Ace),this.headerRef=Di(),this.footerRef=Di(),this.interactionsStore={},this.state={viewLabelId:o1()},this.registerInteractiveComponent=(e,n)=>{let s=cae(e,n),o=[Ece,wce].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(s));this.interactionsStore[e.uid]=o,DS[e.uid]=s},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let s of n)s.destroy();delete this.interactionsStore[e.uid]}delete DS[e.uid]},this.resizeRunner=new jw(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:s}=e,i=!1,r="",o;e.isHeightAuto||e.forPrint?r="":s.height!=null?i=!0:s.contentHeight!=null?r=s.contentHeight:o=Math.max(s.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return ee(Na.Provider,{value:a},ee(af,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return ee(Tn,null,n.header&&ee(XO,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:c},d)),ee(Sce,{liquid:i,height:r,aspectRatio:o,labeledById:c},this.renderView(e),this.buildAppendContent()),n.footer&&ee(XO,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(s=>new s(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let s in n)n[s](e[s],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:s}=n.pluginHooks;for(let i in s)n[i]!==e[i]&&s[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(s=>s(e));return ee(Tn,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:s}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},r=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of r)Object.assign(i,a.transform(i,e));let o=s.component;return ee(o,Object.assign({},i))}}function Ace(t,e,n,s,i,r){let o=n.build(i,void 0,!1),a=n.buildPrev(e,s,!1),c=n.buildNext(e,s,!1);return{title:r,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!_a(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:c.isValid}}function kce(t){return t.map(e=>new e)}class Tce extends dae{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=s=>{switch(s.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=s=>{this.currentData=s,this.renderRunner.request(s.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:s}=this;tb(()=>{sp(ee(lae,{options:s.calendarOptions,theme:s.theme,emitter:s.emitter},(i,r,o,a)=>(this.setClassNames(i),this.setHeight(r),ee(b4.Provider,{value:this.customContentRenderId},ee(Cce,Object.assign({isHeightAuto:o,forPrint:a},s))))),this.el)})}else this.isRendered&&(this.isRendered=!1,sp(null,this.el),this.setClassNames([]),this.setHeight(""))},qie(e),this.el=e,this.renderRunner=new jw(this.handleRenderRequest),new fce({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){tb(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!Vl(e,this.currentClassNames)){let{classList:n}=this.el;for(let s of this.currentClassNames)n.remove(s);for(let s of e)n.add(s);this.currentClassNames=e}}setHeight(e){a4(this.el,"height",e)}}const Dce={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},v5=We({props:{options:Object},data(){return{renderId:0,customRenderingMap:new Map}},methods:{getApi(){return this.calendar},buildOptions(t){return{...t,customRenderingMetaMap:Mce(this.$slots),handleCustomRendering:this.handleCustomRendering}}},render(){const t=[];for(const e of this.customRenderingMap.values())t.push(so(Oce,{key:e.id,customRendering:e}));return so("div",{attrs:{"data-fc-render-id":this.renderId}},so(Me,t))},mounted(){const t=new fle;this.handleCustomRendering=t.handle.bind(t);const e=this.buildOptions(this.options),n=new Tce(this.$el,e);this.calendar=n,n.render(),t.subscribe(s=>{this.customRenderingMap=s,this.renderId++,this.needCustomRenderingResize=!0})},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:Rce()}),Oce=We({props:{customRendering:Object},render(){const t=this.customRendering,e=typeof t.generatorMeta=="function"?t.generatorMeta(t.renderProps):t.generatorMeta;return so(SP,{to:t.containerEl},e)}});function Rce(){let t={options:{deep:!0,handler(e){let n=this.getApi();n.pauseRendering();let s=this.buildOptions(e);n.resetOptions(s),this.renderId++}}};for(let e in Dce)t[`options.${e}`]={deep:!0,handler(n){if(n!==void 0){let s=this.getApi();s.pauseRendering(),s.resetOptions({[e]:n},[e]),this.renderId++}}};return t}function Mce(t){const e={};for(const n in t)e[Ice(n)]=t[n];return e}function Ice(t){return t.split("-").map((e,n)=>n?Nce(e):e).join("")}function Nce(t){return t.charAt(0).toUpperCase()+t.slice(1)}class Pce extends Lo{constructor(){super(...arguments),this.headerElRef=Di()}renderSimpleLayout(e,n){let{props:s,context:i}=this,r=[],o=ab(i.options);return e&&r.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),ee(nb,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},ee(pC,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[],sections:r}))}renderHScrollLayout(e,n,s,i){let r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,c=!o.forPrint&&ab(a.options),u=!o.forPrint&&n5(a.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:MS}]}),ee(nb,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},ee(r,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:s,minWidth:i}]}],sections:d}))}}function av(t,e){let n=[];for(let s=0;s<e;s+=1)n[s]=[];for(let s of t)n[s.row].push(s);return n}function ug(t,e){let n=[];for(let s=0;s<e;s+=1)n[s]=[];for(let s of t)n[s.firstCol].push(s);return n}function JO(t,e){let n=[];if(t){for(let s=0;s<e;s+=1)n[s]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let s of t.segs)n[s.row].segs.push(s)}else for(let s=0;s<e;s+=1)n[s]=null;return n}const b5=qn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function y5(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class x5 extends mn{render(){let{props:e}=this;return ee(gC,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:b5,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class _5 extends mn{render(){let{props:e,context:n}=this,{options:s}=n,{seg:i}=e,r=s.eventTimeFormat||b5,o=P4(i,r,n,!0,e.defaultDisplayEventEnd);return ee(mC,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:L4(e.seg,n),defaultGenerator:$ce,timeText:o,isResizing:!1,isDateSelecting:!1}))}}function $ce(t){return ee(Tn,null,ee("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&ee("div",{className:"fc-event-time"},t.timeText),ee("div",{className:"fc-event-title"},t.event.title||ee(Tn,null,"")))}class Lce extends mn{constructor(){super(...arguments),this.compileSegs=ht(Fce)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:s}=this.compileSegs(e.singlePlacements);return ee(o5,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:s,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return ee(Tn,null,n.map(r=>{let o=r.eventRange.instance.instanceId;return ee("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},y5(r)?ee(_5,Object.assign({seg:r,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ol(r,e.todayRange))):ee(x5,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},Ol(r,e.todayRange))))}))}})}}function Fce(t){let e=[],n=[];for(let s of t)e.push(s.seg),s.isVisible||n.push(s.seg);return{allSegs:e,invisibleSegs:n}}const Vce=qn({week:"narrow"});class Bce extends Lo{constructor(){super(...arguments),this.rootElRef=Di(),this.state={dayNumberId:o1()},this.handleRootEl=e=>{Oo(this.rootElRef,e),Oo(this.props.elRef,e)}}render(){let{context:e,props:n,state:s,rootElRef:i}=this,{options:r,dateEnv:o}=e,{date:a,dateProfile:c}=n;const u=n.showDayNumber&&Hce(a,c.currentRange,o);return ee(bC,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Uce,date:a,dateProfile:c,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(d,f)=>ee("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&ee(r5,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ob(e,a,"week"),date:a,defaultFormat:Vce}),!f.isDisabled&&(n.showDayNumber||yC(r)||n.forceDayTop)?ee("div",{className:"fc-daygrid-day-top"},ee(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ob(e,a)),{id:s.dayNumberId})})):n.showDayNumber?ee("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},ee("a",{className:"fc-daygrid-day-number"},"")):void 0,ee("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,ee("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},ee(Lce,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),ee("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}}function Uce(t){return t.dayNumberText||ee(Tn,null,"")}function Hce(t,e,n){const{start:s,end:i}=e,r=Bl(i,-1),o=n.getYear(s),a=n.getMonth(s),c=n.getYear(r),u=n.getMonth(r);return!(o===c&&a===u)&&(t.valueOf()===s.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function S5(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function E5(t){return S5(t)+":"+t.lastCol}function zce(t,e,n,s,i,r,o){let a=new Gce(x=>{let E=t[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[E]||1});a.allowReslicing=!0,a.strictOrder=s,e===!0||n===!0?(a.maxCoord=r,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let c=[],u=[];for(let x=0;x<t.length;x+=1){let E=t[x],C=E5(E);i[C]!=null?c.push({index:x,span:{start:E.firstCol,end:E.lastCol+1}}):u.push(E)}let d=a.addSegs(c),f=a.toRects(),{singleColPlacements:h,multiColPlacements:m,leftoverMargins:g}=jce(f,t,o),y=[],b=[];for(let x of u){m[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=x.firstCol;E<=x.lastCol;E+=1)h[E].push({seg:Ed(x,E,E+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)y.push(0);for(let x of d){let E=t[x.index],C=x.span;m[C.start].push({seg:Ed(E,C.start,C.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=C.start;_<C.end;_+=1)y[_]+=1,h[_].push({seg:Ed(E,_,_+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<o.length;x+=1)b.push(g[x]);return{singleColPlacements:h,multiColPlacements:m,moreCnts:y,moreMarginTops:b}}function jce(t,e,n){let s=Wce(t,n.length),i=[],r=[],o=[];for(let a=0;a<n.length;a+=1){let c=s[a],u=[],d=0,f=0;for(let m of c){let g=e[m.index];u.push({seg:Ed(g,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-d}),d=m.levelCoord+m.thickness}let h=[];d=0,f=0;for(let m of c){let g=e[m.index],y=m.span.end-m.span.start>1,b=m.span.start===a;f+=m.levelCoord-d,d=m.levelCoord+m.thickness,y?(f+=m.thickness,b&&h.push({seg:Ed(g,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):b&&(h.push({seg:Ed(g,m.span.start,m.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:f}),f=0)}i.push(u),r.push(h),o.push(f)}return{singleColPlacements:i,multiColPlacements:r,leftoverMargins:o}}function Wce(t,e){let n=[];for(let s=0;s<e;s+=1)n.push([]);for(let s of t)for(let i=s.span.start;i<s.span.end;i+=1)n[i].push(s);return n}function Ed(t,e,n,s){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,r=i.range,o=du(r,{start:s[e].date,end:Rs(s[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===r.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===r.end.valueOf()})}class Gce extends W4{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const n=super.addSegs(e),{entriesByLevel:s}=this,i=r=>!this.forceHidden[qc(r)];for(let r=0;r<s.length;r+=1)s[r]=s[r].filter(i);return n}handleInvalidInsertion(e,n,s){const{entriesByLevel:i,forceHidden:r}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:c}=e;if(this.hiddenConsumes&&o){const u=qc(o);if(!r[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},o),{span:fC(o.span,n.span)}),f=qc(d);r[f]=!0,i[a][c]=d,s.push(d),this.splitEntry(o,n,s)}else r[u]=!0,s.push(o)}super.handleInvalidInsertion(e,n,s)}}class w5 extends Lo{constructor(){super(...arguments),this.cellElRefs=new ha,this.frameElRefs=new ha,this.fgElRefs=new ha,this.segHarnessRefs=new ha,this.rootElRef=Di(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:s}=this,{options:i}=s,r=e.cells.length,o=ug(e.businessHourSegs,r),a=ug(e.bgEventSegs,r),c=ug(this.getHighlightSegs(),r),u=ug(this.getMirrorSegs(),r),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:m}=zce(N4(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),g=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return ee("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,b)=>{let x=this.renderFgSegs(b,e.forPrint?d[b]:f[b],e.todayRange,g),E=this.renderFgSegs(b,qce(u[b],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return ee(Bce,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:h[b],moreMarginTop:m[b],singlePlacements:d[b],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:ee(Tn,null,ee(Tn,null,x),ee(Tn,null,E)),bgContent:ee(Tn,null,this.renderFillSegs(c[b],"highlight"),this.renderFillSegs(o[b],"non-business"),this.renderFillSegs(a[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let s=this.props;this.updateSizing(!oo(e,s))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,s,i,r,o,a){let{context:c}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=r||o||a,m=[];if(d)for(let g of n){let{seg:y}=g,{instanceId:b}=y.eventRange.instance,x=g.isVisible&&!i[b],E=g.isAbsolute,C="",_="";E&&(c.isRtl?(_=0,C=d.lefts[y.lastCol]-d.lefts[y.firstCol]):(C=0,_=d.rights[y.firstCol]-d.rights[y.lastCol])),m.push(ee("div",{className:"fc-daygrid-event-harness"+(E?" fc-daygrid-event-harness-abs":""),key:S5(y),ref:h?null:this.segHarnessRefs.createRef(E5(y)),style:{visibility:x?"":"hidden",marginTop:E?"":g.marginTop,top:E?g.absoluteTop:"",left:C,right:_}},y5(y)?ee(_5,Object.assign({seg:y,isDragging:r,isSelected:b===u,defaultDisplayEventEnd:f},Ol(y,s))):ee(x5,Object.assign({seg:y,isDragging:r,isResizing:o,isDateSelecting:a,isSelected:b===u,defaultDisplayEventEnd:f},Ol(y,s)))))}return m}renderFillSegs(e,n){let{isRtl:s}=this.context,{todayRange:i}=this.props,{framePositions:r}=this.state,o=[];if(r)for(let a of e){let c=s?{right:0,left:r.lefts[a.lastCol]-r.lefts[a.firstCol]}:{left:0,right:r.rights[a.firstCol]-r.rights[a.lastCol]};o.push(ee("div",{key:$4(a.eventRange),className:"fc-daygrid-bg-harness",style:c},n==="bg-event"?ee(s5,Object.assign({seg:a},Ol(a,i))):i5(n)))}return ee(Tn,{},...o)}updateSizing(e){let{props:n,state:s,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let c=n.cells.map(u=>i.currentMap[u.key]);if(c.length){let u=this.rootElRef.current,d=new jd(u,c,!0,!1);(!s.framePositions||!s.framePositions.similarTo(d))&&this.setState({framePositions:new jd(u,c,!0,!1)})}}const r=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},r),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let s in e){let i=Math.round(e[s].getBoundingClientRect().height);n[s]=Math.max(n[s]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],s=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-s.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}}w5.addStateEquality({segHeights:oo});function qce(t,e){if(!t.length)return[];let n=Kce(e);return t.map(s=>({seg:s,isVisible:!0,isAbsolute:!0,absoluteTop:n[s.eventRange.instance.instanceId],marginTop:0}))}function Kce(t){let e={};for(let n of t)for(let s of n)e[s.seg.eventRange.instance.instanceId]=s.absoluteTop;return e}class Yce extends Lo{constructor(){super(...arguments),this.splitBusinessHourSegs=ht(av),this.splitBgEventSegs=ht(Xce),this.splitFgEventSegs=ht(av),this.splitDateSelectionSegs=ht(av),this.splitEventDrag=ht(JO),this.splitEventResize=ht(JO),this.rowRefs=new ha}render(){let{props:e,context:n}=this,s=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,s),r=this.splitBgEventSegs(e.bgEventSegs,s),o=this.splitFgEventSegs(e.fgEventSegs,s),a=this.splitDateSelectionSegs(e.dateSelectionSegs,s),c=this.splitEventDrag(e.eventDrag,s),u=this.splitEventResize(e.eventResize,s),d=s>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return ee(af,{unit:"day"},(f,h)=>ee(Tn,null,e.cells.map((m,g)=>ee(w5,{ref:this.rowRefs.createRef(g),key:m.length?m[0].date.toISOString():g,showDayNumbers:s>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:m,renderIntro:e.renderRowIntro,businessHourSegs:i[g],eventSelection:e.eventSelection,bgEventSegs:r[g],fgEventSegs:o[g],dateSelectionSegs:a[g],eventDrag:c[g],eventResize:u[g],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new jd(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new jd(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:s,rowPositions:i}=this,r=s.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&r!=null){let a=this.props.cells[o][r];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,r),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,r),rect:{left:s.lefts[r],right:s.rights[r],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let s=this.props.cells[e][n].date,i=Rs(s,1);return{start:s,end:i}}}function Xce(t,e){return av(t.filter(Jce),e)}function Jce(t){return t.eventRange.def.allDay}class Qce extends Lo{constructor(){super(...arguments),this.elRef=Di(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:s,expandRows:i}=e,r=s===!0||n===!0;r&&!i&&(r=!1,n=null,s=null);let o=["fc-daygrid-body",r?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return ee("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ee("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,ee("tbody",{role:"presentation"},ee(Yce,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:s,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=Zce(this.elRef.current,this.props.dateProfile);if(e){const n=e.closest(".fc-daygrid-body"),s=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;s.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function Zce(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Ire(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${Yw(e.currentDate)}"]`)),n}class eue extends J4{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}}class C5 extends Lo{constructor(){super(...arguments),this.slicer=new eue,this.tableRef=Di()}render(){let{props:e,context:n}=this;return ee(Qce,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class tue extends Pce{constructor(){super(...arguments),this.buildDayTableModel=ht(nue),this.headerRef=Di(),this.tableRef=Di()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:s}=this,i=this.buildDayTableModel(s.dateProfile,n),r=e.dayHeaders&&ee(K4,{ref:this.headerRef,dateProfile:s.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>ee(C5,{ref:this.tableRef,dateProfile:s.dateProfile,dayTableModel:i,businessHours:s.businessHours,dateSelection:s.dateSelection,eventStore:s.eventStore,eventUiBases:s.eventUiBases,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!s.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:s.forPrint});return e.dayMinWidth?this.renderHScrollLayout(r,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(r,o)}}function nue(t,e){let n=new Y4(t.renderRange,e);return new X4(n,/year|month|week/.test(t.currentRangeUnit))}class sue extends S4{buildRenderRange(e,n,s){let i=super.buildRenderRange(e,n,s),{props:r}=this;return iue({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:r.fixedWeekCount,dateEnv:r.dateEnv})}}function iue(t){let{dateEnv:e,currentRange:n}=t,{start:s,end:i}=n,r;if(t.snapToWeek&&(s=e.startOfWeek(s),r=e.startOfWeek(i),r.valueOf()!==i.valueOf()&&(i=AO(r,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(Rs(n.end,-1))),a=Math.ceil(Sre(o,i));i=AO(i,6-a)}return{start:s,end:i}}var rue=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';zw(rue);var A5=Pa({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:tue,dateProfileGeneratorClass:sue},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});hC.touchMouseIgnoreWait=500;let NS=0,lb=0,PS=!1;class k5{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&oue(n)&&this.tryStart(n)){let s=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let s=this.createEventFromMouse(n);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let s=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",s),this.initScrollWatch(s);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let s=this.createEventFromTouch(n);this.recordCoords(s),this.emitter.trigger("pointermove",s)},this.handleTouchEnd=n=>{if(this.isDragging){let s=n.target;s.removeEventListener("touchmove",this.handleTouchMove),s.removeEventListener("touchend",this.handleTouchEnd),s.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,aue()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let s=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:s-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new u1,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),lue()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),cue()}tryStart(e){let n=this.querySubjectEl(e),s=e.target;return n&&(!this.handleSelector||li(s,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){PS=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?li(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return NS||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(PS=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let s=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(s=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:s,deltaY:i}}createEventFromTouch(e,n){let s=e.touches,i,r,o=0,a=0;return s&&s.length?(i=s[0].pageX,r=s[0].pageY):(i=e.pageX,r=e.pageY),n?(this.origPageX=i,this.origPageY=r):(o=i-this.origPageX,a=r-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:r,deltaX:o,deltaY:a}}}function oue(t){return t.button===0&&!t.ctrlKey}function aue(){NS+=1,setTimeout(()=>{NS-=1},hC.touchMouseIgnoreWait)}function lue(){lb+=1,lb===1&&window.addEventListener("touchmove",T5,{passive:!1})}function cue(){lb-=1,lb||window.removeEventListener("touchmove",T5,{passive:!1})}function T5(t){PS&&t.preventDefault()}class uue{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,s){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=s-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let s=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(s,this.revertDuration):setTimeout(s,0)}doRevertAnimation(e,n){let s=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();s.style.transition="top "+n+"ms,left "+n+"ms",hh(s,{left:i.left,top:i.top}),sre(s,()=>{s.style.transition="",e()})}cleanup(){this.mirrorEl&&(Ww(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&hh(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),hh(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}}class D5 extends dC{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class O5 extends D5{constructor(e,n){super(new kae(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Cae(this.scrollController.el)}}class due extends D5{constructor(e){super(new Tae,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const QO=typeof performance=="function"?performance.now:Date.now;class fue{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=QO();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,s){this.isEnabled&&(this.scrollCaches=this.buildCaches(s),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let s=e-window.scrollX,i=n-window.scrollY,r=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:s-this.pointerScreenX;r<0?this.everMovedUp=!0:r>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=s,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(QO()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:s}=e,{edgeThreshold:i}=this,r=i-e.distance,o=r*r/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":s.setScrollLeft(s.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":s.setScrollTop(s.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:s}=this,i=null,r=this.scrollCaches||[];for(let o of r){let a=o.clientRect,c=e-a.left,u=a.right-e,d=n-a.top,f=a.bottom-n;c>=0&&u>=0&&d>=0&&f>=0&&(d<=s&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"top",distance:d}),f<=s&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>f)&&(i={scrollCache:o,name:"bottom",distance:f}),c<=s&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>c)&&(i={scrollCache:o,name:"left",distance:c}),u<=s&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new due(!1):new O5(n,!1))}queryScrollEls(e){let n=[];for(let s of this.scrollQuery)typeof s=="object"?n.push(s):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(s)));return n}}class zp extends Rae{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,ire(document.body),ore(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let r=this.minDistance,o,{deltaX:a,deltaY:c}=i;o=a*a+c*c,o>=r*r&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,rre(document.body),are(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let s=this.pointer=new k5(e);s.emitter.on("pointerdown",this.onPointerDown),s.emitter.on("pointermove",this.onPointerMove),s.emitter.on("pointerup",this.onPointerUp),n&&(s.selector=n),this.mirror=new uue,this.autoScroller=new fue}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class hue{constructor(e){this.el=e,this.origRect=uC(e),this.scrollCaches=j4(e).map(n=>new O5(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let s={left:e,top:n};for(let i of this.scrollCaches)if(!pue(i.getEventTarget())&&!fae(s,i.clientRect))return!1;return!0}}function pue(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class d1{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=s=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(s),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",s)):i.setIgnoreMove(!0)},this.handleDragStart=s=>{this.emitter.trigger("dragstart",s),this.handleMove(s,!0)},this.handleDragMove=s=>{this.emitter.trigger("dragmove",s),this.handleMove(s)},this.handlePointerUp=s=>{this.releaseHits(),this.emitter.trigger("pointerup",s)},this.handleDragEnd=s=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,s),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",s)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new u1}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},s=n,i=e.subjectEl,r;i instanceof HTMLElement&&(r=uC(i),s=hae(s,r));let o=this.initialHit=this.queryHitForOffset(s.left,s.top);if(o){if(this.useSubjectCenter&&r){let a=U4(r,o.rect);a&&(s=pae(a))}this.coordAdjust=mae(s,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let s=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!f1(this.movingHit,s))&&(this.movingHit=s,this.emitter.trigger("hitupdate",s,!1,e))}prepareHits(){this.offsetTrackers=Ra(this.droppableStore,e=>(e.component.prepareHits(),new hue(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:s,offsetTrackers:i}=this,r=null;for(let o in s){let a=s[o].component,c=i[o];if(c&&c.isWithinClipping(e,n)){let u=c.computeLeft(),d=c.computeTop(),f=e-u,h=n-d,{origRect:m}=c,g=m.right-m.left,y=m.bottom-m.top;if(f>=0&&f<g&&h>=0&&h<y){let b=a.queryHit(f,h,g,y);b&&l1(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!r||b.layer>r.layer)&&(b.componentId=o,b.context=a.context,b.rect.left+=u,b.rect.right+=u,b.rect.top+=d,b.rect.bottom+=d,r=b)}}}return r}}function f1(t,e){return!t&&!e?!0:!!t!=!!e?!1:tae(t.dateSpan,e.dateSpan)}function R5(t,e){let n={};for(let s of e.pluginHooks.datePointTransforms)Object.assign(n,s(t,e));return Object.assign(n,mue(t,e.dateEnv)),n}function mue(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class gue extends of{constructor(e){super(e),this.handlePointerDown=s=>{let{dragging:i}=this,r=s.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(r))},this.handleDragEnd=s=>{let{component:i}=this,{pointer:r}=this.dragging;if(!r.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&f1(o,a)){let{context:c}=i,u=Object.assign(Object.assign({},R5(o.dateSpan,c)),{dayEl:o.dayEl,jsEvent:s.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",u)}}},this.dragging=new zp(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new d1(this.dragging,lC(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class vue extends of{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:c}=this,{options:u}=a.context,d=u.selectable&&a.isValidDateDownEl(o.origEvent.target);c.setIgnoreMove(!d),c.delay=o.isTouch?bue(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:c}=this.component,u=null,d=!1;if(o){let f=this.hitDragging.initialHit;o.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,o)||(u=yue(f,o,c.pluginHooks.dateSelectionTransformers)),(!u||!Lae(u,o.dateProfile,c))&&(d=!0,u=null)}u?c.dispatch({type:"SELECT_DATES",selection:u}):a||c.dispatch({type:"UNSELECT_DATES"}),d?Gw():qw(),a||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(R4(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:s}=n.context,i=this.dragging=new zp(e.el);i.touchScrollAllowed=!1,i.minDistance=s.selectMinDistance||0,i.autoScroller.isEnabled=s.dragScroll;let r=this.hitDragging=new d1(this.dragging,lC(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function bue(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function yue(t,e,n){let s=t.dateSpan,i=e.dateSpan,r=[s.range.start,s.range.end,i.range.start,i.range.end];r.sort(fre);let o={};for(let a of n){let c=a(t,e);if(c===!1)return null;c&&Object.assign(o,c)}return o.range={start:r[0],end:r[3]},o.allDay=s.allDay,o}class jp extends of{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=o=>{let a=o.origEvent.target,{component:c,dragging:u}=this,{mirror:d}=u,{options:f}=c.context,h=c.context;this.subjectEl=o.subjectEl;let m=this.subjectSeg=zd(o.subjectEl),y=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=iC(h.getCurrentData().eventStore,y),u.minDistance=o.isTouch?0:f.eventDragMinDistance,u.delay=o.isTouch&&y!==c.props.eventSelection?_ue(c):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=li(a,".fc"),d.revertDuration=f.dragRevertDuration;let b=c.isValidSegDownEl(a)&&!li(a,".fc-event-resizer");u.setIgnoreMove(!b),this.isDragging=b&&o.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=o=>{let a=this.component.context,c=this.eventRange,u=c.instance.instanceId;o.isTouch?u!==this.component.props.eventSelection&&a.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):a.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(a.calendarApi.unselect(o),a.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Hn(a,c.def,c.instance),jsEvent:o.origEvent,view:a.viewApi}))},this.handleHitUpdate=(o,a)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,m=null,g=!1,y={affectedEvents:c,mutatedEvents:pr(),isEvent:!0};if(o){f=o.context;let b=f.options;d===f||b.editable&&b.droppable?(h=xue(u,o,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(m=aC(c,f.getCurrentData().eventUiBases,h,f),y.mutatedEvents=m,Q4(y,o.dateProfile,f)||(g=!0,h=null,m=null,y.mutatedEvents=pr()))):f=null}this.displayDrag(f,y),g?Gw():qw(),a||(d===f&&f1(u,o)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!o||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=o=>{if(this.isDragging){let a=this.component.context,c=a.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,m=new Hn(a,f,h),g=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),a.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:o.origEvent,view:c}),d){if(u===a){let x=new Hn(a,y.defs[f.defId],h?y.instances[h.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:y});let E={oldEvent:m,event:x,relatedEvents:Gc(y,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:g})}},C={};for(let _ of a.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(C,_(d,a));a.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},E),C),{el:o.subjectEl,delta:d.datesDelta,jsEvent:o.origEvent,view:c})),a.emitter.trigger("eventChange",E)}else if(u){let x={event:m,relatedEvents:Gc(g,a,h),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:g})}};a.emitter.trigger("eventLeave",Object.assign(Object.assign({},x),{draggedEl:o.subjectEl,view:c})),a.dispatch({type:"REMOVE_EVENTS",eventStore:g}),a.emitter.trigger("eventRemove",x);let E=y.defs[f.defId],C=y.instances[h.instanceId],_=new Hn(u,E,C);u.dispatch({type:"MERGE_EVENTS",eventStore:y});let T={event:_,relatedEvents:Gc(y,u,C),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};u.emitter.trigger("eventAdd",T),o.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},R5(b.dateSpan,u)),{draggedEl:o.subjectEl,jsEvent:o.origEvent,view:b.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:o.subjectEl,view:b.context.viewApi}))}}else a.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:n}=this,{options:s}=n.context,i=this.dragging=new zp(e.el);i.pointer.selector=jp.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=s.dragScroll;let r=this.hitDragging=new d1(this.dragging,DS);r.useSubjectCenter=e.useEventCenter,r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragstart",this.handleDragStart),r.emitter.on("hitupdate",this.handleHitUpdate),r.emitter.on("pointerup",this.handlePointerUp),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,n){let s=this.component.context,i=this.receivingContext;i&&i!==e&&(i===s?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:n.affectedEvents,mutatedEvents:pr(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:n})}clearDrag(){let e=this.component.context,{receivingContext:n}=this;n&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e!==n&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}jp.SELECTOR=".fc-event-draggable, .fc-event-resizable";function xue(t,e,n,s){let i=t.dateSpan,r=e.dateSpan,o=i.range.start,a=r.range.start,c={};i.allDay!==r.allDay&&(c.allDay=r.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,r.allDay?o=Dn(n):o=n);let u=dd(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(c.allDay=!1);let d={datesDelta:u,standardProps:c};for(let f of s)f(d,t,e);return d}function _ue(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}class Sue extends of{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=r=>{let{component:o}=this,a=this.querySegEl(r),c=zd(a),u=this.eventRange=c.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(r.origEvent.target)||r.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=r=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=iC(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(r);this.draggingSegEl=c,this.draggingSeg=zd(c),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:c,event:new Hn(o,a.def,a.instance),jsEvent:r.origEvent,view:o.viewApi})},this.handleHitUpdate=(r,o,a)=>{let{context:c}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,m=null,g=!1,y={affectedEvents:u,mutatedEvents:pr(),isEvent:!0};r&&(r.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,r)||(h=Eue(d,r,a.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(m=aC(u,c.getCurrentData().eventUiBases,h,c),y.mutatedEvents=m,Q4(y,r.dateProfile,c)||(g=!0,h=null,m=null,y.mutatedEvents=null)),m?c.dispatch({type:"SET_EVENT_RESIZE",state:y}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),g?Gw():qw(),o||(h&&f1(d,r)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=m)},this.handleDragEnd=r=>{let{context:o}=this.component,a=this.eventRange.def,c=this.eventRange.instance,u=new Hn(o,a,c),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:r.origEvent,view:o.viewApi}),this.validMutation){let h=new Hn(o,f.defs[a.defId],c?f.instances[c.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:f});let m={oldEvent:u,event:h,relatedEvents:Gc(f,o,c),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:d})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||rn(0),endDelta:this.validMutation.endDelta||rn(0),jsEvent:r.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",m)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,s=this.dragging=new zp(e.el);s.pointer.selector=".fc-event-resizer",s.touchScrollAllowed=!1,s.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new d1(this.dragging,lC(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return li(e.subjectEl,".fc-event")}}function Eue(t,e,n,s){let i=t.context.dateEnv,r=t.dateSpan.range.start,o=e.dateSpan.range.start,a=dd(r,o,i,t.largeUnit);if(n){if(i.add(s.start,a)<s.end)return{startDelta:a}}else if(i.add(s.end,a)>s.start)return{endDelta:a};return null}class wue{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=s=>{s.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=s=>{let i=this.context.options.unselectCancel,r=l4(s.origEvent);this.matchesCancel=!!li(r,i),this.matchesEvent=!!li(r,jp.SELECTOR)},this.onDocumentPointerUp=s=>{let{context:i}=this,{documentPointer:r}=this,o=i.getCurrentData();if(!r.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(s)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new k5(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Cue={fixedMirrorParent:he},Aue={dateClick:he,eventDragStart:he,eventDragStop:he,eventDrop:he,eventResizeStart:he,eventResizeStop:he,eventResize:he,drop:he,eventReceive:he,eventLeave:he};hC.dataAttrPrefix="";var M5=Pa({name:"@fullcalendar/interaction",componentInteractions:[gue,vue,jp,Sue],calendarInteractions:[wue],elementDraggingImpl:zp,optionRefiners:Cue,listenerRefiners:Aue});const kue={class:"calendario-container"},Tue={class:"card"},Due={class:"card-body"},Oue={class:"modal-container"},Rue={class:"modal-body"},Mue={class:"form-group"},Iue={class:"form-group"},Nue={class:"form-group"},Pue={class:"plataformas-edit"},$ue={key:0,class:"resultado-erro"},Lue={class:"modal-footer"},Fue=["disabled"],Vue=["disabled"],Bue=We({__name:"CalendarioPublicacoesView",setup(t){const e=H(null),n=H({}),s=H(null),i=H(!1),r=H(!1),o=H({plugins:[A5,M5],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"},locale:"pt-br",buttonText:{today:"Hoje",month:"Ms",week:"Semana"},events:async(f,h,m)=>{try{const y=(await ce.get("/v1/publicacoes/calendario/",{params:{start:f.startStr,end:f.endStr}})).data.map(b=>({...b,backgroundColor:a(b.status),borderColor:a(b.status)}));h(y)}catch(g){console.error("Erro ao carregar eventos do calendrio:",g),m(g)}},eventClick:f=>{e.value=f.event;const h=new Date(f.event.start.getTime()-f.event.start.getTimezoneOffset()*6e4).toISOString().slice(0,16);n.value={id:f.event.id,texto:f.event.extendedProps.texto,plataformas:[...f.event.extendedProps.plataformas],data_agendamento:h}}});function a(f){switch(f){case"PUBLICADO":return"#28a745";case"AGENDADO":return"#007bff";case"ERRO":return"#dc3545";default:return"#6c757d"}}async function c(){if(n.value.id){i.value=!0;try{await ce.put(`/v1/publicacoes/posts-agendados/${n.value.id}/`,{texto:n.value.texto,data_agendamento:new Date(n.value.data_agendamento).toISOString(),plataformas:n.value.plataformas}),d(),s.value&&s.value.getApi&&s.value.getApi().refetchEvents()}catch(f){console.error("Erro ao salvar o agendamento:",f),alert("No foi possvel salvar as alteraes.")}finally{i.value=!1}}}async function u(){if(n.value.id&&window.confirm("Tem a certeza de que deseja excluir este agendamento? Esta ao no pode ser desfeita.")){r.value=!0;try{await ce.delete(`/v1/publicacoes/posts-agendados/${n.value.id}/`),d(),s.value&&s.value.getApi&&s.value.getApi().refetchEvents()}catch(f){console.error("Erro ao excluir o agendamento:",f),alert("No foi possvel excluir o agendamento.")}finally{r.value=!1}}}function d(){e.value=null,n.value={}}return(f,h)=>(O(),R(Me,null,[l("div",kue,[l("div",Tue,[l("div",Due,[be(Ve(v5),{options:o.value,ref_key:"calendar",ref:s},null,8,["options"])])])]),e.value?(O(),R("div",{key:0,class:"modal-overlay",onClick:wt(d,["self"])},[l("div",Oue,[l("div",{class:"modal-header"},[h[4]||(h[4]=l("h3",null,"Editar Agendamento",-1)),l("button",{onClick:d,class:"close-button"},"")]),l("div",Rue,[l("h4",null,F(e.value.title),1),l("div",Mue,[h[5]||(h[5]=l("label",{for:"event-text"},"Texto da Publicao:",-1)),Y(l("textarea",{id:"event-text","onUpdate:modelValue":h[0]||(h[0]=m=>n.value.texto=m),rows:"8"},null,512),[[de,n.value.texto]])]),l("div",Iue,[h[6]||(h[6]=l("label",{for:"event-date"},"Data do Agendamento:",-1)),Y(l("input",{type:"datetime-local",id:"event-date","onUpdate:modelValue":h[1]||(h[1]=m=>n.value.data_agendamento=m)},null,512),[[de,n.value.data_agendamento]])]),l("div",Nue,[h[9]||(h[9]=l("label",null,"Plataformas:",-1)),l("div",Pue,[l("label",null,[Y(l("input",{type:"checkbox",value:"facebook","onUpdate:modelValue":h[2]||(h[2]=m=>n.value.plataformas=m)},null,512),[[Zt,n.value.plataformas]]),h[7]||(h[7]=z(" Facebook",-1))]),l("label",null,[Y(l("input",{type:"checkbox",value:"instagram","onUpdate:modelValue":h[3]||(h[3]=m=>n.value.plataformas=m)},null,512),[[Zt,n.value.plataformas]]),h[8]||(h[8]=z(" Instagram",-1))])])]),e.value.extendedProps.status==="ERRO"?(O(),R("div",$ue,[h[10]||(h[10]=l("strong",null,"Motivo do Erro:",-1)),l("pre",null,F(JSON.stringify(e.value.extendedProps.resultado_publicacao,null,2)),1)])):J("",!0)]),l("div",Lue,[l("button",{onClick:u,class:"btn-danger",disabled:i.value||r.value},F(r.value?"A Excluir...":"Excluir Agendamento"),9,Fue),l("button",{onClick:c,class:"btn-primary",disabled:i.value||r.value},F(i.value?"A Salvar...":"Salvar Alteraes"),9,Vue)])])])):J("",!0)],64))}}),Uue=tt(Bue,[["__scopeId","data-v-e53446e4"]]);class Hue extends gae{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?Goe(e)?["timed","allDay"]:["allDay"]:["timed"]}}const zue=qn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function I5(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return ee(Na.Consumer,null,n=>{if(!t.isLabeled)return ee("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:s,options:i,viewApi:r}=n,o=i.slotLabelFormat==null?zue:Array.isArray(i.slotLabelFormat)?qn(i.slotLabelFormat[0]):qn(i.slotLabelFormat),a={level:0,time:t.time,date:s.toDate(t.date),view:r,text:s.format(t.date,o)};return ee(vr,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:jue,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},c=>ee("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},ee(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function jue(t){return t.text}class Wue extends mn{render(){return this.props.slatMetas.map(e=>ee("tr",{key:e.key},ee(I5,Object.assign({},e))))}}const Gue=qn({week:"short"}),que=5;class Kue extends Lo{constructor(){super(...arguments),this.allDaySplitter=new Hue,this.headerElRef=Di(),this.rootElRef=Di(),this.scrollerElRef=Di(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=e)},this.renderHeadAxis=(e,n="")=>{let{options:s}=this.context,{dateProfile:i}=this.props,r=i.renderRange,a=Eu(r.start,r.end)===1?ob(this.context,r.start,"week"):{};return s.weekNumbers&&e==="day"?ee(r5,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:Gue},c=>ee("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},ee(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):ee("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},ee("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=e=>{let{options:n,viewApi:s}=this.context,i={text:n.allDayText,view:s};return ee(vr,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:Yue,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},r=>ee("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},ee(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,n,s){let{context:i,props:r}=this,o=[],a=ab(i.options);return e&&o.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n&&(o.push({type:"body",key:"all-day",chunk:{content:n}}),o.push({type:"body",key:"all-day-divider",outerContent:ee("tr",{role:"presentation",className:"fc-scrollgrid-section"},ee("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),o.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:s}}),ee(nb,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},ee(pC,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:o}))}renderHScrollLayout(e,n,s,i,r,o,a){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&ab(u.options),h=!d.forPrint&&n5(u.options),m=[];e&&m.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>ee("tr",{role:"presentation"},this.renderHeadAxis("day",y.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),n&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>ee("tr",{role:"presentation"},this.renderTableRowAxis(y.rowSyncHeights[0]))},{key:"cols",content:n}]}),m.push({key:"all-day-divider",type:"body",outerContent:ee("tr",{role:"presentation",className:"fc-scrollgrid-section"},ee("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let g=u.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:y=>ee("div",{className:"fc-timegrid-axis-chunk"},ee("table",{"aria-hidden":!0,style:{height:y.expandRows?y.clientHeight:""}},y.tableColGroupNode,ee("tbody",null,ee(Wue,{slatMetas:o}))),ee("div",{className:"fc-timegrid-now-indicator-container"},ee(af,{unit:g?"minute":"day"},b=>{let x=g&&a&&a.safeComputeTop(b);return typeof x=="number"?ee(vC,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:x},isAxis:!0,date:b}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:s}]}),h&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:MS},{key:"cols",content:MS}]}),ee(nb,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},ee(c,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:r}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:n}=this.context.options;return(e===!0||n===!0)&&(e=void 0,n=que),{dayMaxEvents:e,dayMaxEventRows:n}}}function Yue(t){return t.text}class Xue{constructor(e,n,s){this.positions=e,this.dateProfile=n,this.slotDuration=s}safeComputeTop(e){let{dateProfile:n}=this;if(_a(n.currentRange,e)){let s=Dn(e),i=e.valueOf()-s.valueOf();if(i>=Zr(n.slotMinTime)&&i<Zr(n.slotMaxTime))return this.computeTimeTop(rn(i))}return null}computeDateTop(e,n){return n||(n=Dn(e)),this.computeTimeTop(rn(e.valueOf()-n.valueOf()))}computeTimeTop(e){let{positions:n,dateProfile:s}=this,i=n.els.length,r=(e.milliseconds-Zr(s.slotMinTime))/Zr(this.slotDuration),o,a;return r=Math.max(0,r),r=Math.min(i,r),o=Math.floor(r),o=Math.min(o,i-1),a=r-o,n.tops[o]+n.getHeight(o)*a}}class Jue extends mn{render(){let{props:e,context:n}=this,{options:s}=n,{slatElRefs:i}=e;return ee("tbody",null,e.slatMetas.map((r,o)=>{let a={time:r.time,date:n.dateEnv.toDate(r.date),view:n.viewApi};return ee("tr",{key:r.key,ref:i.createRef(r.key)},e.axis&&ee(I5,Object.assign({},r)),ee(vr,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:s.slotLaneContent,classNameGenerator:s.slotLaneClassNames,didMount:s.slotLaneDidMount,willUnmount:s.slotLaneWillUnmount}))}))}}class Que extends mn{constructor(){super(...arguments),this.rootElRef=Di(),this.slatElRefs=new ha}render(){let{props:e,context:n}=this;return ee("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},ee("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,ee(Jue,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new Xue(new jd(this.rootElRef.current,Zue(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function Zue(t,e){return e.map(n=>t[n.key])}function Rf(t,e){let n=[],s;for(s=0;s<e;s+=1)n.push([]);if(t)for(s=0;s<t.length;s+=1)n[t[s].col].push(t[s]);return n}function ZO(t,e){let n=[];if(t){for(let s=0;s<e;s+=1)n[s]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let s of t.segs)n[s.col].segs.push(s)}else for(let s=0;s<e;s+=1)n[s]=null;return n}class ede extends mn{render(){let{props:e}=this;return ee(o5,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>P5(e.hiddenSegs,e),defaultGenerator:tde,forceTimed:!0},n=>ee(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function tde(t){return t.shortText}function nde(t,e,n){let s=new W4;e!=null&&(s.strictOrder=e),n!=null&&(s.maxStackCnt=n);let i=s.addSegs(t),r=Dae(i),o=sde(s);return o=ade(o,1),{segRects:lde(o),hiddenGroups:r}}function sde(t){const{entriesByLevel:e}=t,n=_C((s,i)=>s+":"+i,(s,i)=>{let r=ode(t,s,i),o=eR(r,n),a=e[s][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]});return eR(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,n)[0]}function eR(t,e){if(!t)return[[],0];let{level:n,lateralStart:s,lateralEnd:i}=t,r=s,o=[];for(;r<i;)o.push(e(n,r)),r+=1;return o.sort(ide),[o.map(rde),o[0][1]]}function ide(t,e){return e[1]-t[1]}function rde(t){return t[0]}function ode(t,e,n){let{levelCoords:s,entriesByLevel:i}=t,r=i[e][n],o=s[e]+r.thickness,a=s.length,c=e;for(;c<a&&s[c]<o;c+=1);for(;c<a;c+=1){let u=i[c],d,f=RS(u,r.span.start,OS),h=f[0]+f[1],m=h;for(;(d=u[m])&&d.span.start<r.span.end;)m+=1;if(h<m)return{level:c,lateralStart:h,lateralEnd:m}}return null}function ade(t,e){const n=_C((s,i,r)=>qc(s),(s,i,r)=>{let{nextLevelNodes:o,thickness:a}=s,c=a+r,u=a/c,d,f=[];if(!o.length)d=e;else for(let m of o)if(d===void 0){let g=n(m,i,c);d=g[0],f.push(g[1])}else{let g=n(m,d,0);f.push(g[1])}let h=(d-i)*u;return[d-h,Object.assign(Object.assign({},s),{thickness:h,nextLevelNodes:f})]});return t.map(s=>n(s,0,0)[1])}function lde(t){let e=[];const n=_C((i,r,o)=>qc(i),(i,r,o)=>{let a=Object.assign(Object.assign({},i),{levelCoord:r,stackDepth:o,stackForward:0});return e.push(a),a.stackForward=s(i.nextLevelNodes,r+i.thickness,o+1)+1});function s(i,r,o){let a=0;for(let c of i)a=Math.max(n(c,r,o),a);return a}return s(t,0,0),e}function _C(t,e){const n={};return(...s)=>{let i=t(...s);return i in n?n[i]:n[i]=e(...s)}}function tR(t,e,n=null,s=0){let i=[];if(n)for(let r=0;r<t.length;r+=1){let o=t[r],a=n.computeDateTop(o.start,e),c=Math.max(a+(s||0),n.computeDateTop(o.end,e));i.push({start:Math.round(a),end:Math.round(c)})}return i}function cde(t,e,n,s){let i=[],r=[];for(let u=0;u<t.length;u+=1){let d=e[u];d?i.push({index:u,thickness:1,span:d}):r.push(t[u])}let{segRects:o,hiddenGroups:a}=nde(i,n,s),c=[];for(let u of o)c.push({seg:t[u.index],rect:u});for(let u of r)c.push({seg:u,rect:null});return{segPlacements:c,hiddenGroups:a}}const ude=qn({hour:"numeric",minute:"2-digit",meridiem:!1});class N5 extends mn{render(){return ee(gC,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ude}))}}class dde extends mn{constructor(){super(...arguments),this.sortEventSegs=ht(N4)}render(){let{props:e,context:n}=this,{options:s}=n,i=s.selectMirror,r=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],o=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,s.eventOrder);return ee(bC,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>ee("div",{className:"fc-timegrid-col-frame"},ee("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),ee("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,o,!1,!1,!1)),ee("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),ee("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),yC(s)&&ee(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,n,s,i,r,o){let{props:a}=this;return a.forPrint?P5(e,a):this.renderPositionedFgSegs(e,n,s,i,r,o)}renderPositionedFgSegs(e,n,s,i,r,o){let{eventMaxStack:a,eventShortHeight:c,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:m,todayRange:g,nowDate:y}=this.props,b=s||i||r,x=tR(e,f,h,d),{segPlacements:E,hiddenGroups:C}=cde(e,x,u,a);return ee(Tn,null,this.renderHiddenGroups(C,e),E.map(_=>{let{seg:T,rect:k}=_,$=T.eventRange.instance.instanceId,M=b||!!(!n[$]&&k),P=Bx(k&&k.span),V=!b&&k?this.computeSegHStyle(k):{left:0,right:0},I=!!k&&k.stackForward>0,w=!!k&&k.span.end-k.span.start<c;return ee("div",{className:"fc-timegrid-event-harness"+(I?" fc-timegrid-event-harness-inset":""),key:o||$,style:Object.assign(Object.assign({visibility:M?"":"hidden"},P),V)},ee(N5,Object.assign({seg:T,isDragging:s,isResizing:i,isDateSelecting:r,isSelected:$===m,isShort:w},Ol(T,g,y))))}))}renderHiddenGroups(e,n){let{extraDateSpan:s,dateProfile:i,todayRange:r,nowDate:o,eventSelection:a,eventDrag:c,eventResize:u}=this.props;return ee(Tn,null,e.map(d=>{let f=Bx(d.span),h=fde(d.entries,n);return ee(ede,{key:h4(a5(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:s,dateProfile:i,todayRange:r,nowDate:o,eventSelection:a,eventDrag:c,eventResize:u})}))}renderFillSegs(e,n){let{props:s,context:i}=this,o=tR(e,s.date,s.slatCoords,i.options.eventMinHeight).map((a,c)=>{let u=e[c];return ee("div",{key:$4(u.eventRange),className:"fc-timegrid-bg-harness",style:Bx(a)},n==="bg-event"?ee(s5,Object.assign({seg:u},Ol(u,s.todayRange,s.nowDate))):i5(n))});return ee(Tn,null,o)}renderNowIndicator(e){let{slatCoords:n,date:s}=this.props;return n?e.map((i,r)=>ee(vC,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,s)},isAxis:!1,date:s})):null}computeSegHStyle(e){let{isRtl:n,options:s}=this.context,i=s.slotEventOverlap,r=e.levelCoord,o=e.levelCoord+e.thickness,a,c;i&&(o=Math.min(1,r+(o-r)*2)),n?(a=1-o,c=r):(a=r,c=1-o);let u={zIndex:e.stackDepth+1,left:a*100+"%",right:c*100+"%"};return i&&!e.stackForward&&(u[n?"marginLeft":"marginRight"]=20),u}}function P5(t,{todayRange:e,nowDate:n,eventSelection:s,eventDrag:i,eventResize:r}){let o=(i?i.affectedInstances:null)||(r?r.affectedInstances:null)||{};return ee(Tn,null,t.map(a=>{let c=a.eventRange.instance.instanceId;return ee("div",{key:c,style:{visibility:o[c]?"hidden":""}},ee(N5,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===s,isShort:!1},Ol(a,e,n))))}))}function Bx(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}function fde(t,e){return t.map(n=>e[n.index])}class hde extends mn{constructor(){super(...arguments),this.splitFgEventSegs=ht(Rf),this.splitBgEventSegs=ht(Rf),this.splitBusinessHourSegs=ht(Rf),this.splitNowIndicatorSegs=ht(Rf),this.splitDateSelectionSegs=ht(Rf),this.splitEventDrag=ht(ZO),this.splitEventResize=ht(ZO),this.rootElRef=Di(),this.cellElRefs=new ha}render(){let{props:e,context:n}=this,s=n.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,r=this.splitFgEventSegs(e.fgEventSegs,i),o=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitBusinessHourSegs(e.businessHourSegs,i),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),u=this.splitDateSelectionSegs(e.dateSelectionSegs,i),d=this.splitEventDrag(e.eventDrag,i),f=this.splitEventResize(e.eventResize,i);return ee("div",{className:"fc-timegrid-cols",ref:this.rootElRef},ee("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,ee("tbody",{role:"presentation"},ee("tr",{role:"row"},e.axis&&ee("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},ee("div",{className:"fc-timegrid-col-frame"},ee("div",{className:"fc-timegrid-now-indicator-container"},typeof s=="number"&&ee(vC,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:s},isAxis:!0,date:e.nowDate})))),e.cells.map((h,m)=>ee(dde,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:r[m],bgEventSegs:o[m],businessHourSegs:a[m],nowIndicatorSegs:c[m],dateSelectionSegs:u[m],eventDrag:d[m],eventResize:f[m],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new jd(this.rootElRef.current,pde(this.cellElRefs.currentMap,e.cells),!0,!1))}}function pde(t,e){return e.map(n=>t[n.key])}class mde extends Lo{constructor(){super(...arguments),this.processSlotOptions=ht(gde),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:n}=this.props,{slatCoords:s}=this.state;if(n&&s){if(e.time){let i=s.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:n}=this;return ee("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},ee(Que,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),ee(hde,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,n){let{dateEnv:s,options:i}=this.context,{colCoords:r}=this,{dateProfile:o}=this.props,{slatCoords:a}=this.state,{snapDuration:c,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),d=r.leftToIndex(e),f=a.positions.topToIndex(n);if(d!=null&&f!=null){let h=this.props.cells[d],m=a.positions.tops[f],g=a.positions.getHeight(f),y=(n-m)/g,b=Math.floor(y*u),x=f*u+b,E=this.props.cells[d].date,C=wS(o.slotMinTime,bre(c,x)),_=s.add(E,C),T=s.add(_,c);return{dateProfile:o,dateSpan:Object.assign({range:{start:_,end:T},allDay:!1},h.extraDateSpan),dayEl:r.els[d],rect:{left:r.lefts[d],right:r.rights[d],top:m,bottom:m+g},layer:0}}return null}}function gde(t,e){let n=e||t,s=Kw(t,n);return s===null&&(n=t,s=1),{snapDuration:n,snapsPerSlot:s}}class vde extends J4{sliceRange(e,n){let s=[];for(let i=0;i<n.length;i+=1){let r=du(e,n[i]);r&&s.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:i})}return s}}class bde extends Lo{constructor(){super(...arguments),this.buildDayRanges=ht(yde),this.slicer=new vde,this.timeColsRef=Di()}render(){let{props:e,context:n}=this,{dateProfile:s,dayTableModel:i}=e,{nowIndicator:r,nextDayThreshold:o}=n.options,a=this.buildDayRanges(i,s,n.dateEnv);return ee(af,{unit:r?"minute":"day"},(c,u)=>ee(mde,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,s,null,n,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:s,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:r&&this.slicer.sliceNowDate(c,s,o,n,a),todayRange:u,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function yde(t,e,n){let s=[];for(let i of t.headerDates)s.push({start:n.add(i,e.slotMinTime),end:n.add(i,e.slotMaxTime)});return s}const nR=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function xde(t,e,n,s,i){let r=new Date(0),o=t,a=rn(0),c=n||_de(s),u=[];for(;Zr(o)<Zr(e);){let d=i.add(r,o),f=Kw(a,c)!==null;u.push({date:d,time:o,key:d.toISOString(),isoTimeStr:Nre(d),isLabeled:f}),o=wS(o,s),a=wS(a,s)}return u}function _de(t){let e,n,s;for(e=nR.length-1;e>=0;e-=1)if(n=rn(nR[e]),s=Kw(n,t),s!==null&&s>1)return n;return t}class Sde extends Kue{constructor(){super(...arguments),this.buildTimeColsModel=ht(Ede),this.buildSlatMetas=ht(xde)}render(){let{options:e,dateEnv:n,dateProfileGenerator:s}=this.context,{props:i}=this,{dateProfile:r}=i,o=this.buildTimeColsModel(r,s),a=this.allDaySplitter.splitProps(i),c=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,e.slotLabelInterval,e.slotDuration,n),{dayMinWidth:u}=e,d=!u,f=u,h=e.dayHeaders&&ee(K4,{dates:o.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),m=e.allDaySlot!==!1&&(y=>ee(C5,Object.assign({},a.allDay,{dateProfile:r,dayTableModel:o,nextDayThreshold:e.nextDayThreshold,tableMinWidth:y.tableMinWidth,colGroupNode:y.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),g=y=>ee(bde,Object.assign({},a.timed,{dayTableModel:o,dateProfile:r,axis:d,slotDuration:e.slotDuration,slatMetas:c,forPrint:i.forPrint,tableColGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,clientWidth:y.clientWidth,clientHeight:y.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:y.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,m,g,o.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(h,m,g)}}function Ede(t,e){let n=new Y4(t.renderRange,e);return new X4(n,!1)}var wde='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';zw(wde);const Cde={allDaySlot:Boolean};var Ade=Pa({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Cde,views:{timeGrid:{component:Sde,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),kde={code:"pt-br",buttonText:{prev:"Anterior",next:"Prximo",prevYear:"Ano anterior",nextYear:"Prximo ano",year:"Ano",today:"Hoje",month:"Ms",week:"Semana",day:"Dia",list:"Lista"},buttonHints:{prev:"$0 Anterior",next:"Prximo $0",today(t){return t==="Dia"?"Hoje":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Visualizar "+(t==="Semana"?"a":"o")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"dia inteiro",moreLinkText(t){return"mais +"+t},moreLinkHint(t){return`Mostrar mais ${t} eventos`},noEventsText:"No h eventos para mostrar",navLinkHint:"Ir para $0",closeHint:"Fechar",timeHint:"A hora",eventHint:"Evento"};const Tde={class:"modal-container"},Dde={key:0,class:"modal-content"},Ode={key:0},Rde={key:1,class:"observacoes-finalizacao"},Mde={class:"modal-actions"},Ide=We({__name:"TarefaDetalhesModal",props:{tarefa:{}},emits:["close","edit","saved"],setup(t,{emit:e}){const n=t,s=e;function i(){s("close")}async function r(){const c=window.prompt("Deseja adicionar alguma observao ao finalizar a tarefa? (Opcional)");if(c!==null)try{const u={concluida:!0,observacoes_finalizacao:c};await ce.patch(`/v1/tarefas/${n.tarefa.id}/`,u),s("saved")}catch(u){console.error("Erro ao finalizar a tarefa:",u),alert("No foi possvel finalizar a tarefa.")}}function o(){s("edit",n.tarefa)}function a(c){return c?new Date(c).toLocaleString("pt-BR",{dateStyle:"long",timeStyle:"short"}):"N/A"}return(c,u)=>(O(),R("div",{class:"modal-overlay",onClick:wt(i,["self"])},[l("div",Tde,[l("div",{class:"modal-header"},[u[0]||(u[0]=l("h3",null,"Detalhes da Tarefa",-1)),l("button",{onClick:i,class:"close-btn"},"")]),t.tarefa?(O(),R("div",Dde,[l("p",null,[u[1]||(u[1]=l("strong",null,"Ttulo:",-1)),z(" "+F(t.tarefa.titulo),1)]),l("p",null,[u[2]||(u[2]=l("strong",null,"Prazo:",-1)),z(" "+F(a(t.tarefa.data_vencimento)),1)]),l("p",null,[u[3]||(u[3]=l("strong",null,"Status:",-1)),l("span",{class:te(["status-badge",t.tarefa.concluida?"status-concluido":"status-pendente"])},F(t.tarefa.concluida?"Concluda":"Pendente"),3)]),l("p",null,[u[4]||(u[4]=l("strong",null,"Responsvel:",-1)),z(" "+F(t.tarefa.responsavel_nome||"No atribudo"),1)]),t.tarefa.descricao?(O(),R("p",Ode,[u[5]||(u[5]=l("strong",null,"Descrio:",-1)),z(" "+F(t.tarefa.descricao),1)])):J("",!0),t.tarefa.concluida&&t.tarefa.observacoes_finalizacao?(O(),R("p",Rde,[u[6]||(u[6]=l("strong",null,"Observaes da Finalizao:",-1)),z(" "+F(t.tarefa.observacoes_finalizacao),1)])):J("",!0)])):J("",!0),l("div",Mde,[l("button",{onClick:i,class:"btn-secondary"},"Fechar"),t.tarefa.concluida?J("",!0):(O(),R("button",{key:0,onClick:o,class:"btn-edit"},"Alterar Tarefa")),t.tarefa.concluida?J("",!0):(O(),R("button",{key:1,onClick:r,class:"btn-success"},"Finalizar Tarefa"))])])]))}}),Nde=tt(Ide,[["__scopeId","data-v-80bb5d75"]]),Pde={class:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden transform transition-all animate-fade-in-up"},$de={class:"px-6 py-4 bg-gray-50 border-b border-gray-100 flex justify-between items-center"},Lde={class:"text-lg font-bold text-gray-800"},Fde={class:"grid grid-cols-2 gap-4"},Vde={key:0,class:"animate-fade-in"},Bde={class:"px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end gap-3"},Ude=["disabled"],Hde={key:0,class:"fas fa-save"},zde={key:1,class:"fas fa-circle-notch fa-spin"},$5=We({__name:"TarefaModal",props:{show:{type:Boolean,required:!0},tarefa:{type:Object,default:null}},emits:["close","saved"],setup(t,{emit:e}){const n=t,s=e,i=H(!1),r=No({id:null,titulo:"",descricao:"",data_vencimento:"",prioridade:"MEDIA",status:"pendente",observacoes_finalizacao:""}),o=we(()=>!!r.id);Rn(()=>n.tarefa,d=>{if(d){r.id=d.id,r.titulo=d.titulo,r.descricao=d.descricao||"",r.data_vencimento=d.data_vencimento?d.data_vencimento.split("T")[0]:"",r.prioridade=d.prioridade||"MEDIA";let f=d.status||"pendente";f==="em_andamento"&&(f="pendente"),r.status=f,r.observacoes_finalizacao=d.observacoes_finalizacao||""}else a()},{immediate:!0});const a=()=>{r.id=null,r.titulo="",r.descricao="",r.data_vencimento="",r.prioridade="MEDIA",r.status="pendente",r.observacoes_finalizacao=""},c=()=>{s("close")},u=async()=>{if(!r.titulo){alert("O ttulo  obrigatrio.");return}i.value=!0;try{const d={...r};d.data_vencimento||delete d.data_vencimento,d.concluida=d.status==="concluida",o.value?await ce.patch(`/v1/tarefas/${r.id}/`,d):await ce.post("/v1/tarefas/",d),s("saved"),c()}catch(d){console.error("Erro ao salvar tarefa:",d),alert("Erro ao salvar tarefa.")}finally{i.value=!1}};return(d,f)=>t.show?(O(),R("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:wt(c,["self"])},[l("div",Pde,[l("div",$de,[l("h2",Lde,F(o.value?"Editar Nota":"Nova Nota"),1),l("button",{class:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50",onClick:c},[...f[6]||(f[6]=[l("i",{class:"fas fa-times text-lg"},null,-1)])])]),l("form",{onSubmit:wt(u,["prevent"]),class:"p-6 space-y-5"},[l("div",null,[f[7]||(f[7]=l("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1.5"},[z(" Ttulo "),l("span",{class:"text-red-500"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":f[0]||(f[0]=h=>r.titulo=h),placeholder:"Ex: Ligar para cliente...",required:"",class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-gray-700 placeholder-gray-400 focus:bg-white focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm font-medium"},null,512),[[de,r.titulo]])]),l("div",null,[f[8]||(f[8]=l("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1.5"},"Descrio",-1)),Y(l("textarea",{"onUpdate:modelValue":f[1]||(f[1]=h=>r.descricao=h),rows:"3",placeholder:"Detalhes da tarefa...",class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-gray-700 placeholder-gray-400 focus:bg-white focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm resize-none"},null,512),[[de,r.descricao]])]),l("div",Fde,[l("div",null,[f[9]||(f[9]=l("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1.5"},"Vencimento",-1)),Y(l("input",{type:"date","onUpdate:modelValue":f[2]||(f[2]=h=>r.data_vencimento=h),class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-gray-700 focus:bg-white focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm"},null,512),[[de,r.data_vencimento]])]),l("div",null,[f[11]||(f[11]=l("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1.5"},"Prioridade",-1)),Y(l("select",{"onUpdate:modelValue":f[3]||(f[3]=h=>r.prioridade=h),class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl text-gray-700 focus:bg-white focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all text-sm appearance-none cursor-pointer"},[...f[10]||(f[10]=[l("option",{value:"BAIXA"}," Baixa",-1),l("option",{value:"MEDIA"}," Mdia",-1),l("option",{value:"ALTA"}," Alta",-1)])],512),[[xt,r.prioridade]])])]),l("div",null,[f[13]||(f[13]=l("label",{class:"block text-xs font-bold text-gray-500 uppercase tracking-wide mb-1.5"},"Status",-1)),Y(l("select",{"onUpdate:modelValue":f[4]||(f[4]=h=>r.status=h),class:te(["w-full px-4 py-2.5 border rounded-xl text-gray-700 focus:ring-2 outline-none transition-all text-sm font-medium cursor-pointer",r.status==="concluida"?"bg-green-50 border-green-200 text-green-700 focus:ring-green-500/20 focus:border-green-500":"bg-gray-50 border-gray-200 focus:bg-white focus:ring-blue-500/20 focus:border-blue-500"])},[...f[12]||(f[12]=[l("option",{value:"pendente"}," Pendente",-1),l("option",{value:"concluida"}," Concluda",-1)])],2),[[xt,r.status]])]),r.status==="concluida"||r.observacoes_finalizacao?(O(),R("div",Vde,[f[14]||(f[14]=l("label",{class:"block text-xs font-bold text-green-600 uppercase tracking-wide mb-1.5 flex items-center gap-1"},[l("i",{class:"fas fa-check-double"}),z(" Observao Final ")],-1)),Y(l("textarea",{"onUpdate:modelValue":f[5]||(f[5]=h=>r.observacoes_finalizacao=h),rows:"2",placeholder:"Resultado da tarefa...",class:"w-full px-4 py-2.5 bg-green-50 border border-green-200 rounded-xl text-green-800 placeholder-green-400/70 focus:bg-white focus:ring-2 focus:ring-green-500/20 focus:border-green-500 outline-none transition-all text-sm resize-none"},null,512),[[de,r.observacoes_finalizacao]])])):J("",!0)],32),l("div",Bde,[l("button",{type:"button",class:"px-5 py-2.5 rounded-xl text-sm font-medium text-gray-600 bg-white border border-gray-200 hover:bg-gray-100 hover:text-gray-800 transition-all active:scale-95",onClick:c}," Cancelar "),l("button",{type:"submit",class:"px-6 py-2.5 rounded-xl text-sm font-bold text-white bg-blue-600 shadow-md hover:bg-blue-700 hover:shadow-lg hover:-translate-y-0.5 transition-all active:scale-95 flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",onClick:u,disabled:i.value},[i.value?(O(),R("i",zde)):(O(),R("i",Hde)),z(" "+F(o.value?"Atualizar":"Salvar"),1)],8,Ude)])])])):J("",!0)}}),jde={class:"calendar-page-container"},Wde={class:"calendar-wrapper card"},Gde=We({__name:"CalendarioTarefas",setup(t){const e=H(null),n=H(!1),s=H(!1),i=H(null),r=H(null),o=async(g,y,b)=>{try{const E=(await ce.get("/v1/minhas-tarefas/",{params:{start:g.startStr,end:g.endStr}})).data.map(C=>({id:C.id,title:C.titulo,start:C.data_vencimento,allDay:!1,extendedProps:{...C},classNames:[C.concluida?"tarefa-concluida":"tarefa-pendente"]}));y(E)}catch(x){console.error("Erro ao buscar tarefas:",x),b(x)}},a=g=>{i.value=g.event.extendedProps,n.value=!0},c=()=>{n.value=!1,i.value=null},u=()=>{s.value=!1,r.value=null},d=g=>{c(),r.value=g,s.value=!0},f=()=>{c(),u(),e.value&&e.value.getApi().refetchEvents()},m=No({plugins:[A5,Ade,M5],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},editable:!0,selectable:!0,weekends:!0,locale:kde,events:o,eventClick:a,dateClick:g=>{const y=g.dateStr;r.value={data_vencimento:y},s.value=!0}});return(g,y)=>(O(),R("div",jde,[y[0]||(y[0]=l("header",{class:"view-header"},[l("h1",null,"Meu Calendrio de Tarefas")],-1)),l("div",Wde,[be(Ve(v5),{ref_key:"fullCalendar",ref:e,options:m},null,8,["options"])]),n.value?(O(),is(Nde,{key:0,tarefa:i.value,onClose:c,onEdit:d,onSaved:f},null,8,["tarefa"])):J("",!0),s.value?(O(),is($5,{key:1,tarefaParaEditar:r.value,onClose:u,onSaved:f},null,8,["tarefaParaEditar"])):J("",!0)]))}}),qde=tt(Gde,[["__scopeId","data-v-79986e0c"]]),Kde={class:"page-container"},Yde={class:"view-header"},Xde={key:0,class:"loading-state"},Jde={key:1,class:"error-message"},Qde={class:"form-group"},Zde={class:"form-group"},efe={class:"form-actions"},tfe=We({__name:"CategoriaFormView",setup(t){const e=ms(),n=an(),s=we(()=>!!e.params.id),i=H({nome:"",tipo:"RECEITA"}),r=H(!0),o=H(null);async function a(u){try{const d=await ce.get(`/v1/financeiro/categorias/${u}/`);i.value=d.data}catch(d){console.error("Erro ao buscar categoria:",d),o.value="Falha ao carregar a categoria."}}async function c(){try{s.value?await ce.put(`/v1/financeiro/categorias/${e.params.id}/`,i.value):await ce.post("/v1/financeiro/categorias/",i.value),n.push("/financeiro/categorias")}catch(u){console.error("Erro ao salvar categoria:",u),o.value="Falha ao salvar. Verifique os dados."}}return it(async()=>{s.value&&await a(e.params.id),r.value=!1}),(u,d)=>{const f=on("router-link");return O(),R("div",Kde,[l("header",Yde,[l("h1",null,F(s.value?"Editar Categoria":"Adicionar Nova Categoria"),1)]),r.value?(O(),R("div",Xde,"A carregar...")):J("",!0),o.value?(O(),R("div",Jde,F(o.value),1)):J("",!0),r.value?J("",!0):(O(),R("form",{key:2,onSubmit:wt(c,["prevent"]),class:"form-card"},[l("div",Qde,[d[2]||(d[2]=l("label",{for:"nome"},"Nome da Categoria",-1)),Y(l("input",{type:"text",id:"nome","onUpdate:modelValue":d[0]||(d[0]=h=>i.value.nome=h),required:""},null,512),[[de,i.value.nome]])]),l("div",Zde,[d[4]||(d[4]=l("label",{for:"tipo"},"Tipo",-1)),Y(l("select",{id:"tipo","onUpdate:modelValue":d[1]||(d[1]=h=>i.value.tipo=h),required:""},[...d[3]||(d[3]=[l("option",{value:"RECEITA"},"Receita",-1),l("option",{value:"DESPESA"},"Despesa",-1)])],512),[[xt,i.value.tipo]])]),l("div",efe,[d[6]||(d[6]=l("button",{type:"submit",class:"btn-primary"},"Salvar",-1)),be(f,{to:"/financeiro/categorias",class:"btn-secondary"},{default:Pe(()=>[...d[5]||(d[5]=[z("Cancelar",-1)])]),_:1})])],32))])}}}),sR=tt(tfe,[["__scopeId","data-v-a982c276"]]),nfe={class:"page-container"},sfe={class:"page-header"},ife={class:"header-main"},rfe={class:"title-area"},ofe={class:"breadcrumb"},afe={class:"active"},lfe={key:0,class:"loading-state"},cfe={class:"left-column"},ufe={class:"card form-card"},dfe={class:"form-section"},ffe={class:"tipo-pessoa-toggle"},hfe={class:"form-section compact-section"},pfe={class:"section-title"},mfe={class:"form-grid"},gfe={class:"form-group full-width"},vfe={class:"input-wrapper"},bfe={class:"form-group"},yfe={key:0,class:"text-danger"},xfe={class:"form-group"},_fe={class:"form-group"},Sfe={class:"form-group"},Efe={class:"input-wrapper"},wfe={class:"form-group"},Cfe={class:"form-group"},Afe={class:"input-wrapper"},kfe={class:"form-group"},Tfe={class:"form-group"},Dfe={key:0,class:"text-danger"},Ofe={class:"form-group"},Rfe={class:"form-group"},Mfe={class:"input-wrapper"},Ife={class:"form-group"},Nfe={class:"input-wrapper"},Pfe={class:"form-section"},$fe={class:"form-grid"},Lfe={class:"form-group"},Ffe={class:"input-wrapper"},Vfe={class:"form-group full-width"},Bfe={class:"form-group"},Ufe={class:"form-group"},Hfe={class:"form-group"},zfe={class:"form-group"},jfe={class:"form-group"},Wfe={class:"form-section compact-section"},Gfe={class:"form-group full-width"},qfe={class:"badges-selector"},Kfe=["checked"],Yfe=["checked"],Xfe=["checked"],Jfe=["checked"],Qfe={class:"form-grid"},Zfe={class:"form-group full-width"},ehe={class:"form-group full-width"},the={class:"form-actions-footer"},nhe=["disabled"],she={key:0,class:"fas fa-spinner fa-spin"},ihe={key:1},rhe={class:"right-column"},ohe={class:"card info-card"},ahe={class:"profile-upload-area"},lhe={class:"profile-preview"},che=["src"],uhe={key:1,class:"placeholder-icon"},dhe={class:"upload-controls"},fhe={class:"card info-card"},hhe={class:"status-toggle-wrapper"},phe={class:"switch-container"},mhe=We({__name:"ClienteFormView",setup(t){const e=ms(),n=an(),s=we(()=>e.params.id),i=we(()=>!!s.value),r=H(!1),o=H(!1),a=H(null),c=H(null),u=H(""),d=()=>({id:null,tipo_pessoa:"FISICA",nome:"",razao_social:null,inscricao_estadual:null,documento:"",rg:null,data_nascimento:null,estado_civil:null,profissao:null,email:null,telefone:"",foto_perfil:null,perfil_cliente:["INTERESSADO"],observacoes:null,preferencias_imovel:null,cep:null,logradouro:null,numero:null,complemento:null,bairro:null,cidade:null,estado:null,ativo:!0}),f=H(d()),h=V=>String(V||"").replace(/\D/g,"");function m(V){return f.value.perfil_cliente.includes(V)}function g(V,I){I?f.value.perfil_cliente.includes(V)||f.value.perfil_cliente.push(V):f.value.perfil_cliente=f.value.perfil_cliente.filter(w=>w!==V)}const y=(V,I)=>{const w=h(V).substring(0,14);return I?w.length<=11?w.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):w.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):w.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")},b=we({get(){const V=f.value.tipo_pessoa==="JURIDICA";return y(f.value.documento,V)},set(V){f.value.documento=h(V),u.value=""}}),x=V=>{const I=h(V).substring(0,11);return I.length<=10?I.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):I.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3")},E=we({get(){return x(f.value.telefone)},set(V){f.value.telefone=h(V)}}),C=we({get(){return h(f.value.cep).substring(0,8).replace(/(\d{5})(\d{3})/,"$1-$2")},set(V){f.value.cep=h(V)}});Rn(()=>f.value.tipo_pessoa,(V,I)=>{r.value||(V==="FISICA"?(f.value.razao_social=null,f.value.inscricao_estadual=null):(f.value.data_nascimento=null,f.value.rg=null,f.value.estado_civil=null,f.value.profissao=null),I&&V!==I&&(f.value.nome="",f.value.documento=""),u.value="")},{immediate:!0}),Rn(s,V=>{V?_(V):(f.value=d(),a.value=null,c.value=null)},{immediate:!0});async function _(V){if(V){r.value=!0;try{const{data:I}=await ce.get(`/v1/clientes/${V}/`);let w="FISICA";const D=I.tipo_pessoa||"FISICA";D==="JURIDICA"||D==="PJ"?w="JURIDICA":(D==="FISICA"||D==="PF")&&(w="FISICA"),I.data_nascimento&&(I.data_nascimento=I.data_nascimento.split("T")[0]);const A=Array.isArray(I.perfil_cliente)?I.perfil_cliente:["INTERESSADO"];f.value={...d(),...I,id:I.id,tipo_pessoa:w,perfil_cliente:A},c.value=f.value.foto_perfil||null}catch(I){console.error("Erro ao carregar dados:",I),n.push({name:"clientes"})}finally{setTimeout(()=>{r.value=!1},100)}}}async function T(){const V=h(f.value.cep);if(V&&V.length===8)try{const I=await fetch(`https://viacep.com.br/ws/${V}/json/`);if(!I.ok)throw new Error("Erro");const w=await I.json();if(w.erro)throw new Error("Invlido");f.value.logradouro=w.logradouro,f.value.bairro=w.bairro,f.value.cidade=w.localidade,f.value.estado=w.uf,f.value.cep=h(w.cep)}catch{console.warn("CEP no encontrado")}}function k(V){const I=V.target;if(I.files&&I.files[0]){a.value=I.files[0];const w=new FileReader;w.onload=D=>{c.value=D.target?.result},w.readAsDataURL(a.value)}}function $(){a.value=null,c.value=null,f.value.foto_perfil=null}async function M(){if(o.value=!0,u.value="",!f.value.nome||!f.value.documento||!f.value.telefone){o.value=!1,alert("Os campos Nome/Fantasia, CPF/CNPJ e Telefone so obrigatrios.");return}if(f.value.tipo_pessoa==="JURIDICA"&&!f.value.razao_social){o.value=!1,alert("A Razo Social  obrigatria para Pessoa Jurdica.");return}const V=f.value.documento.length;if(f.value.tipo_pessoa==="FISICA"&&V!==11){u.value="CPF deve conter 11 dgitos.",o.value=!1;return}if(f.value.tipo_pessoa==="JURIDICA"&&V!==14){u.value="CNPJ deve conter 14 dgitos.",o.value=!1;return}const I=new FormData;for(const w in f.value){if(w==="id"||w==="foto_perfil")continue;const D=f.value[w];if(w==="perfil_cliente"&&Array.isArray(D)){I.append(w,JSON.stringify(D));continue}D==null||D===""?I.append(w,""):typeof D=="boolean"?I.append(w,D?"true":"false"):I.append(w,String(D))}a.value?I.append("foto_perfil",a.value):f.value.foto_perfil===null&&i.value&&I.append("foto_perfil","");try{i.value&&s.value?await ce.patch(`/v1/clientes/${s.value}/`,I,{headers:{"Content-Type":"multipart/form-data"}}):await ce.post("/v1/clientes/",I,{headers:{"Content-Type":"multipart/form-data"}}),n.push({name:"clientes"})}catch(w){console.error("Erro ao guardar:",w.response?.data||w);let D="Erro ao salvar cliente.";if(w.response?.data){const A=w.response.data,B=Object.keys(A)[0];B&&Array.isArray(A[B])?D=`Erro em '${B}': ${A[B][0]}`:typeof A=="string"&&(D+=` ${A}`)}alert(D)}finally{o.value=!1}}function P(){n.push({name:"clientes"})}return it(()=>{_(s.value||"")}),(V,I)=>{const w=on("router-link");return O(),R("div",nfe,[l("header",sfe,[l("div",ife,[l("div",rfe,[l("nav",ofe,[be(w,{to:"/"},{default:Pe(()=>[...I[28]||(I[28]=[z("Incio",-1)])]),_:1}),I[30]||(I[30]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),be(w,{to:"/clientes"},{default:Pe(()=>[...I[29]||(I[29]=[z("Clientes",-1)])]),_:1}),I[31]||(I[31]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),l("span",afe,F(i.value?"Editar":"Novo"),1)]),l("h1",null,F(i.value?"Editar Cliente":"Novo Cliente"),1)])])]),r.value?(O(),R("div",lfe,[...I[32]||(I[32]=[l("div",{class:"spinner"},null,-1),l("p",null,"A carregar dados...",-1)])])):(O(),R("form",{key:1,onSubmit:wt(M,["prevent"]),class:"main-content-grid"},[l("div",cfe,[l("div",ufe,[l("div",dfe,[l("div",ffe,[l("label",{class:te(["radio-label",{active:f.value.tipo_pessoa==="FISICA"}])},[Y(l("input",{type:"radio",value:"FISICA","onUpdate:modelValue":I[0]||(I[0]=D=>f.value.tipo_pessoa=D)},null,512),[[Lr,f.value.tipo_pessoa]]),I[33]||(I[33]=l("i",{class:"fas fa-user"},null,-1)),I[34]||(I[34]=z(" Pessoa Fsica ",-1))],2),l("label",{class:te(["radio-label",{active:f.value.tipo_pessoa==="JURIDICA"}])},[Y(l("input",{type:"radio",value:"JURIDICA","onUpdate:modelValue":I[1]||(I[1]=D=>f.value.tipo_pessoa=D)},null,512),[[Lr,f.value.tipo_pessoa]]),I[35]||(I[35]=l("i",{class:"fas fa-building"},null,-1)),I[36]||(I[36]=z(" Pessoa Jurdica ",-1))],2)])]),l("div",hfe,[l("h3",pfe,[I[37]||(I[37]=l("i",{class:"far fa-id-card"},null,-1)),z(" "+F(f.value.tipo_pessoa==="FISICA"?"Dados Pessoais":"Dados Empresariais"),1)]),l("div",mfe,[f.value.tipo_pessoa==="FISICA"?(O(),R(Me,{key:0},[l("div",gfe,[I[39]||(I[39]=l("label",null,[z("Nome Completo "),l("span",{class:"required"},"*")],-1)),l("div",vfe,[I[38]||(I[38]=l("i",{class:"far fa-user input-icon"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[2]||(I[2]=D=>f.value.nome=D),required:"",class:"form-input has-icon",placeholder:"Nome do cliente"},null,512),[[de,f.value.nome]])])]),l("div",bfe,[I[40]||(I[40]=l("label",null,[z("CPF "),l("span",{class:"required"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[3]||(I[3]=D=>b.value=D),required:"",class:"form-input",placeholder:"000.000.000-00"},null,512),[[de,b.value]]),u.value?(O(),R("small",yfe,F(u.value),1)):J("",!0)]),l("div",xfe,[I[41]||(I[41]=l("label",null,"RG",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[4]||(I[4]=D=>f.value.rg=D),class:"form-input"},null,512),[[de,f.value.rg]])]),l("div",_fe,[I[42]||(I[42]=l("label",null,"Data de Nascimento",-1)),Y(l("input",{type:"date","onUpdate:modelValue":I[5]||(I[5]=D=>f.value.data_nascimento=D),class:"form-input"},null,512),[[de,f.value.data_nascimento]])]),l("div",Sfe,[I[44]||(I[44]=l("label",null,"Estado Civil",-1)),l("div",Efe,[Y(l("select",{"onUpdate:modelValue":I[6]||(I[6]=D=>f.value.estado_civil=D),class:"form-select"},[...I[43]||(I[43]=[l("option",{value:null},"Selecione...",-1),hi('<option value="SOLTEIRO" data-v-b6cdae19>Solteiro(a)</option><option value="CASADO" data-v-b6cdae19>Casado(a)</option><option value="DIVORCIADO" data-v-b6cdae19>Divorciado(a)</option><option value="VIUVO" data-v-b6cdae19>Vivo(a)</option><option value="UNIAO_ESTAVEL" data-v-b6cdae19>Unio Estvel</option>',5)])],512),[[xt,f.value.estado_civil]])])]),l("div",wfe,[I[45]||(I[45]=l("label",null,"Profisso",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[7]||(I[7]=D=>f.value.profissao=D),class:"form-input"},null,512),[[de,f.value.profissao]])])],64)):(O(),R(Me,{key:1},[l("div",Cfe,[I[47]||(I[47]=l("label",null,[z("Razo Social "),l("span",{class:"required"},"*")],-1)),l("div",Afe,[I[46]||(I[46]=l("i",{class:"far fa-building input-icon"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[8]||(I[8]=D=>f.value.razao_social=D),required:"",class:"form-input has-icon"},null,512),[[de,f.value.razao_social]])])]),l("div",kfe,[I[48]||(I[48]=l("label",null,[z("Nome Fantasia "),l("span",{class:"required"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[9]||(I[9]=D=>f.value.nome=D),required:"",class:"form-input"},null,512),[[de,f.value.nome]])]),l("div",Tfe,[I[49]||(I[49]=l("label",null,[z("CNPJ "),l("span",{class:"required"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[10]||(I[10]=D=>b.value=D),required:"",class:"form-input",placeholder:"00.000.000/0000-00"},null,512),[[de,b.value]]),u.value?(O(),R("small",Dfe,F(u.value),1)):J("",!0)]),l("div",Ofe,[I[50]||(I[50]=l("label",null,"Inscrio Estadual",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[11]||(I[11]=D=>f.value.inscricao_estadual=D),class:"form-input"},null,512),[[de,f.value.inscricao_estadual]])])],64)),l("div",Rfe,[I[52]||(I[52]=l("label",null,"Email",-1)),l("div",Mfe,[I[51]||(I[51]=l("i",{class:"far fa-envelope input-icon"},null,-1)),Y(l("input",{type:"email","onUpdate:modelValue":I[12]||(I[12]=D=>f.value.email=D),class:"form-input has-icon"},null,512),[[de,f.value.email]])])]),l("div",Ife,[I[54]||(I[54]=l("label",null,[z("Telefone Principal "),l("span",{class:"required"},"*")],-1)),l("div",Nfe,[I[53]||(I[53]=l("i",{class:"fas fa-phone-alt input-icon"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[13]||(I[13]=D=>E.value=D),required:"",class:"form-input has-icon",placeholder:"(99) 99999-9999"},null,512),[[de,E.value]])])])])]),l("div",Pfe,[I[63]||(I[63]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-map-marker-alt"}),z(" Endereo")],-1)),l("div",$fe,[l("div",Lfe,[I[56]||(I[56]=l("label",null,"CEP",-1)),l("div",Ffe,[I[55]||(I[55]=l("i",{class:"fas fa-search-location input-icon"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[14]||(I[14]=D=>C.value=D),onBlur:T,class:"form-input has-icon",placeholder:"00000-000"},null,544),[[de,C.value]])])]),l("div",Vfe,[I[57]||(I[57]=l("label",null,"Logradouro",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[15]||(I[15]=D=>f.value.logradouro=D),class:"form-input"},null,512),[[de,f.value.logradouro]])]),l("div",Bfe,[I[58]||(I[58]=l("label",null,"Nmero",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[16]||(I[16]=D=>f.value.numero=D),class:"form-input"},null,512),[[de,f.value.numero]])]),l("div",Ufe,[I[59]||(I[59]=l("label",null,"Complemento",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[17]||(I[17]=D=>f.value.complemento=D),class:"form-input"},null,512),[[de,f.value.complemento]])]),l("div",Hfe,[I[60]||(I[60]=l("label",null,"Bairro",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[18]||(I[18]=D=>f.value.bairro=D),class:"form-input"},null,512),[[de,f.value.bairro]])]),l("div",zfe,[I[61]||(I[61]=l("label",null,"Cidade",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[19]||(I[19]=D=>f.value.cidade=D),class:"form-input"},null,512),[[de,f.value.cidade]])]),l("div",jfe,[I[62]||(I[62]=l("label",null,"Estado (UF)",-1)),Y(l("input",{type:"text","onUpdate:modelValue":I[20]||(I[20]=D=>f.value.estado=D),maxlength:"2",class:"form-input"},null,512),[[de,f.value.estado]])])])]),l("div",Wfe,[I[71]||(I[71]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-info-circle"}),z(" Perfil e Detalhes")],-1)),l("div",Gfe,[I[68]||(I[68]=l("label",null,"Perfil do Cliente",-1)),l("div",qfe,[l("label",{class:te(["badge-checkbox",{active:m("INTERESSADO")}])},[l("input",{type:"checkbox",onChange:I[21]||(I[21]=D=>g("INTERESSADO",D.target.checked)),checked:m("INTERESSADO")},null,40,Kfe),I[64]||(I[64]=z(" Interessado ",-1))],2),l("label",{class:te(["badge-checkbox",{active:m("PROPRIETARIO")}])},[l("input",{type:"checkbox",onChange:I[22]||(I[22]=D=>g("PROPRIETARIO",D.target.checked)),checked:m("PROPRIETARIO")},null,40,Yfe),I[65]||(I[65]=z(" Proprietrio ",-1))],2),l("label",{class:te(["badge-checkbox",{active:m("COMPRADOR")}])},[l("input",{type:"checkbox",onChange:I[23]||(I[23]=D=>g("COMPRADOR",D.target.checked)),checked:m("COMPRADOR")},null,40,Xfe),I[66]||(I[66]=z(" Comprador ",-1))],2),l("label",{class:te(["badge-checkbox",{active:m("LOCADOR")}])},[l("input",{type:"checkbox",onChange:I[24]||(I[24]=D=>g("LOCADOR",D.target.checked)),checked:m("LOCADOR")},null,40,Jfe),I[67]||(I[67]=z(" Locador ",-1))],2)])]),l("div",Qfe,[l("div",Zfe,[I[69]||(I[69]=l("label",null,"Preferncias de Imvel",-1)),Y(l("textarea",{"onUpdate:modelValue":I[25]||(I[25]=D=>f.value.preferencias_imovel=D),rows:"3",class:"form-textarea",placeholder:"O que o cliente procura?"},null,512),[[de,f.value.preferencias_imovel]])]),l("div",ehe,[I[70]||(I[70]=l("label",null,"Observaes",-1)),Y(l("textarea",{"onUpdate:modelValue":I[26]||(I[26]=D=>f.value.observacoes=D),rows:"3",class:"form-textarea"},null,512),[[de,f.value.observacoes]])])])]),l("div",the,[l("button",{type:"button",onClick:P,class:"btn-secondary"},"Cancelar"),l("button",{type:"submit",class:"btn-primary",disabled:o.value},[o.value?(O(),R("i",she)):(O(),R("span",ihe,F(i.value?"Salvar Cliente":"Criar Cliente"),1))],8,nhe)])])]),l("div",rhe,[l("div",ohe,[I[75]||(I[75]=l("div",{class:"widget-header"},[l("h3",{class:"widget-title"},[l("i",{class:"fas fa-camera"}),z(" Foto de Perfil")])],-1)),l("div",ahe,[l("div",lhe,[c.value?(O(),R("img",{key:0,src:c.value,alt:"Foto"},null,8,che)):(O(),R("div",uhe,[...I[72]||(I[72]=[l("i",{class:"fas fa-user"},null,-1)])]))]),l("div",dhe,[I[74]||(I[74]=l("label",{for:"foto_upload",class:"btn-upload"},[l("i",{class:"fas fa-cloud-upload-alt"}),z(" Escolher ")],-1)),l("input",{type:"file",id:"foto_upload",onChange:k,accept:"image/*",hidden:""},null,32),c.value?(O(),R("button",{key:0,type:"button",onClick:$,class:"btn-remove",title:"Remover"},[...I[73]||(I[73]=[l("i",{class:"fas fa-trash"},null,-1)])])):J("",!0)])])]),l("div",fhe,[I[77]||(I[77]=l("div",{class:"widget-header"},[l("h3",{class:"widget-title"},[l("i",{class:"fas fa-toggle-on"}),z(" Situao")])],-1)),l("div",hhe,[l("label",phe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":I[27]||(I[27]=D=>f.value.ativo=D)},null,512),[[Zt,f.value.ativo]]),I[76]||(I[76]=l("span",{class:"slider round"},null,-1))]),l("span",{class:te(["status-label",{"text-success":f.value.ativo,"text-muted":!f.value.ativo}])},F(f.value.ativo?"Ativo":"Inativo"),3)]),I[78]||(I[78]=l("p",{class:"helper-text-widget"},"Clientes inativos no aparecem nas buscas rpidas do sistema.",-1))])])],32))])}}}),iR=tt(mhe,[["__scopeId","data-v-b6cdae19"]]),ghe={class:"page-container"},vhe={class:"page-header"},bhe={class:"header-main"},yhe={class:"actions-area"},xhe={class:"kpi-grid"},_he={class:"kpi-content"},She={class:"kpi-value"},Ehe={class:"kpi-content"},whe={class:"kpi-value"},Che={class:"kpi-content"},Ahe={class:"kpi-value"},khe={class:"kpi-content"},The={class:"kpi-value"},Dhe={class:"toolbar-row"},Ohe={class:"filter-group search-group"},Rhe={class:"input-with-icon"},Mhe={class:"filter-group"},Ihe={class:"filter-group"},Nhe={class:"report-main-wrapper"},Phe={key:0,class:"loading-state"},$he={key:1,class:"empty-state"},Lhe={key:2,class:"report-scroll-viewport"},Fhe={class:"report-table"},Vhe={class:"cell-imovel"},Bhe={class:"cliente-name"},Uhe={key:0,class:"cliente-doc"},Hhe={class:"contact-info"},zhe={key:0,class:"contact-row"},jhe={key:1,class:"contact-row"},Whe={class:"badges-container"},Ghe={class:"text-muted"},qhe={class:"text-right"},Khe={class:"actions-flex"},Yhe=["onClick"],Xhe=["onClick"],Jhe=We({__name:"ClientesView",setup(t){const e=an(),n=H([]),s=H([]),i=H(!0),r=H({search:"",perfil:"",status:""}),o=we(()=>{const b=n.value.length;let x=0,E=0,C=0;return n.value.forEach(_=>{if(_.ativo||C++,_.perfil_cliente){const T=_.perfil_cliente.join(" ").toUpperCase();T.includes("PROPRIETARIO")&&x++,(T.includes("INTERESSADO")||T.includes("LEAD"))&&E++}}),{total:b,proprietarios:x,interessados:E,inativos:C}}),a=async()=>{i.value=!0;try{const b=await ce.get("/v1/clientes/"),x=Array.isArray(b.data)?b.data:b.data.results||[];n.value=x.map(E=>({id:E.id,nome:E.nome,documento:E.documento||E.cpf_cnpj||"",email:E.email,telefone:E.telefone||E.celular||"",perfil_cliente:E.perfil_cliente||[],ativo:E.ativo,data_criacao:E.data_cadastro||E.data_criacao||E.created_at||E.date_joined||E.criado_em||null})),g()}catch(b){console.error("Erro ao buscar clientes:",b)}finally{i.value=!1}},c=()=>{e.push({name:"cliente-novo"})},u=b=>{b&&e.push({name:"cliente-editar",params:{id:b.toString()}})},d=async b=>{if(confirm(`Deseja inativar ${b.nome}?`))try{await ce.delete(`/v1/clientes/${b.id}/`),a()}catch{alert("Erro ao inativar.")}},f=b=>{if(!b||b.length===0)return[];const x=new Map;return b.forEach(E=>{const C=E.toUpperCase();let _="",T="bg-gray";C.includes("PROPRIETARIO")?(_="Proprietrio",T="bg-purple"):C.includes("INTERESSADO")?(_="Interessado",T="bg-orange"):C.includes("LEAD")?(_="Lead",T="bg-yellow"):C.includes("COMPRADOR")?(_="Comprador",T="bg-blue"):C.includes("INQUILINO")?(_="Inquilino",T="bg-teal"):_=E.charAt(0).toUpperCase()+E.slice(1).toLowerCase(),x.has(_)||x.set(_,{label:_,class:T})}),Array.from(x.values())},h=b=>{b==="INATIVO"?(r.value.status=r.value.status==="INATIVO"?"":"INATIVO",r.value.perfil=""):(r.value.perfil=r.value.perfil===b?"":b,r.value.status=""),g()},m=()=>{r.value={search:"",perfil:"",status:""},g()},g=()=>{let b=n.value;const x=r.value.search.toLowerCase();r.value.search&&(b=b.filter(E=>E.nome&&E.nome.toLowerCase().includes(x)||E.email&&E.email.toLowerCase().includes(x)||E.documento&&E.documento.includes(x))),r.value.perfil&&(b=b.filter(E=>E.perfil_cliente.some(C=>C.toUpperCase().includes(r.value.perfil)))),r.value.status&&(r.value.status==="ATIVO"&&(b=b.filter(E=>E.ativo)),r.value.status==="INATIVO"&&(b=b.filter(E=>!E.ativo))),s.value=b},y=b=>{if(!b)return"-";try{return Et(Bn(b),"dd/MM/yy",{locale:ys})}catch{return"-"}};return it(a),(b,x)=>(O(),R("div",ghe,[l("header",vhe,[l("div",bhe,[x[8]||(x[8]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Cadastros"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Clientes")]),l("h1",null,"Gerenciar Clientes")],-1)),l("div",yhe,[l("button",{class:"btn-icon-thin",onClick:a,title:"Atualizar Lista"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":i.value}])},null,2)]),l("button",{class:"btn-primary-thin",onClick:c},[...x[7]||(x[7]=[l("i",{class:"fas fa-plus"},null,-1),z(" Novo Cliente ",-1)])])])])]),l("div",xhe,[l("div",{class:te(["kpi-card blue",{active:r.value.perfil===""}]),onClick:x[0]||(x[0]=E=>h(""))},[l("div",_he,[l("span",She,F(o.value.total),1),x[9]||(x[9]=l("span",{class:"kpi-label"},"Total Clientes",-1))]),x[10]||(x[10]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-users"})],-1))],2),l("div",{class:te(["kpi-card green",{active:r.value.perfil==="PROPRIETARIO"}]),onClick:x[1]||(x[1]=E=>h("PROPRIETARIO"))},[l("div",Ehe,[l("span",whe,F(o.value.proprietarios),1),x[11]||(x[11]=l("span",{class:"kpi-label"},"Proprietrios",-1))]),x[12]||(x[12]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-key"})],-1))],2),l("div",{class:te(["kpi-card orange",{active:r.value.perfil==="INTERESSADO"}]),onClick:x[2]||(x[2]=E=>h("INTERESSADO"))},[l("div",Che,[l("span",Ahe,F(o.value.interessados),1),x[13]||(x[13]=l("span",{class:"kpi-label"},"Leads / Interessados",-1))]),x[14]||(x[14]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-bullhorn"})],-1))],2),l("div",{class:te(["kpi-card red",{active:r.value.status==="INATIVO"}]),onClick:x[3]||(x[3]=E=>h("INATIVO"))},[l("div",khe,[l("span",The,F(o.value.inativos),1),x[15]||(x[15]=l("span",{class:"kpi-label"},"Inativos",-1))]),x[16]||(x[16]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-user-slash"})],-1))],2)]),l("div",Dhe,[l("div",Ohe,[x[18]||(x[18]=l("label",null,"Buscar",-1)),l("div",Rhe,[x[17]||(x[17]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":x[4]||(x[4]=E=>r.value.search=E),placeholder:"Nome, doc, email...",class:"form-control",onInput:g},null,544),[[de,r.value.search]])])]),l("div",Mhe,[x[20]||(x[20]=l("label",null,"Perfil",-1)),Y(l("select",{"onUpdate:modelValue":x[5]||(x[5]=E=>r.value.perfil=E),onChange:g,class:"form-control"},[...x[19]||(x[19]=[hi('<option value="" data-v-3c872b2b>Todos</option><option value="PROPRIETARIO" data-v-3c872b2b>Proprietrio</option><option value="INTERESSADO" data-v-3c872b2b>Interessado</option><option value="LEAD" data-v-3c872b2b>Lead</option><option value="COMPRADOR" data-v-3c872b2b>Comprador</option><option value="INQUILINO" data-v-3c872b2b>Inquilino</option>',6)])],544),[[xt,r.value.perfil]])]),l("div",Ihe,[x[22]||(x[22]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":x[6]||(x[6]=E=>r.value.status=E),onChange:g,class:"form-control"},[...x[21]||(x[21]=[l("option",{value:""},"Todos",-1),l("option",{value:"ATIVO"},"Ativos",-1),l("option",{value:"INATIVO"},"Inativos",-1)])],544),[[xt,r.value.status]])]),l("div",{class:"filter-group small-btn"},[x[24]||(x[24]=l("label",null,"",-1)),l("button",{onClick:m,class:"btn-clear",title:"Limpar Filtros"},[...x[23]||(x[23]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",Nhe,[i.value?(O(),R("div",Phe,[...x[25]||(x[25]=[l("div",{class:"spinner"},null,-1),l("p",null,"Atualizando base de dados...",-1)])])):s.value.length===0?(O(),R("div",$he,[...x[26]||(x[26]=[l("i",{class:"fas fa-filter"},null,-1),l("p",null,"Nenhum registro encontrado.",-1)])])):(O(),R("div",Lhe,[l("table",Fhe,[x[32]||(x[32]=l("thead",null,[l("tr",null,[l("th",{width:"35%"},"Cliente"),l("th",{width:"25%"},"Contatos"),l("th",{width:"20%"},"Classificao"),l("th",{width:"10%"},"Cadastro"),l("th",{width:"10%",class:"text-right"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(s.value,E=>(O(),R("tr",{key:E.id},[l("td",null,[l("div",Vhe,[l("span",Bhe,F(E.nome),1),E.documento?(O(),R("span",Uhe,[x[27]||(x[27]=l("i",{class:"far fa-id-card"},null,-1)),z(" "+F(E.documento),1)])):J("",!0)])]),l("td",null,[l("div",Hhe,[E.email?(O(),R("div",zhe,[x[28]||(x[28]=l("i",{class:"far fa-envelope"},null,-1)),z(" "+F(E.email),1)])):J("",!0),E.telefone?(O(),R("div",jhe,[x[29]||(x[29]=l("i",{class:"fab fa-whatsapp"},null,-1)),z(" "+F(E.telefone),1)])):J("",!0)])]),l("td",null,[l("div",Whe,[(O(!0),R(Me,null,je(f(E.perfil_cliente),(C,_)=>(O(),R("span",{key:_,class:te(["badge-type",C.class])},F(C.label),3))),128))])]),l("td",Ghe,F(y(E.data_criacao)),1),l("td",qhe,[l("div",Khe,[l("button",{class:"btn-action edit",onClick:C=>u(E.id),title:"Editar Dados"},[...x[30]||(x[30]=[l("i",{class:"fas fa-pen"},null,-1)])],8,Yhe),l("button",{class:"btn-action delete",onClick:C=>d(E),title:"Inativar"},[...x[31]||(x[31]=[l("i",{class:"fas fa-trash"},null,-1)])],8,Xhe)])])]))),128))])])]))])]))}}),Qhe=tt(Jhe,[["__scopeId","data-v-3c872b2b"]]),Zhe={class:"page-container"},epe={class:"header-section"},tpe={class:"page-title"},npe={key:0,class:"loading-state"},spe={key:1,class:"form-card"},ipe={class:"form-group"},rpe={class:"form-group"},ope={class:"form-group"},ape={class:"form-group"},lpe={class:"form-group"},cpe={class:"form-group"},upe={class:"form-group"},dpe={key:0},fpe={class:"form-group"},hpe={key:0},ppe={key:0,class:"error-message"},mpe={class:"actions"},gpe=["disabled"],vpe=We({__name:"ConfiguracaoBancoView",setup(t){const e=ms(),n=an(),s=H({nome_banco:"Bradesco",client_id:"",client_secret:"",certificado_file:null,chave_privada_file:null,agencia:"",conta:"",convenio:""}),i=H(!1),r=H(!1),o=H(null),a=we(()=>!!e.params.id),c=we(()=>a.value?"Editar Configurao de Banco":"Adicionar Nova Configurao de Banco"),u=async m=>{i.value=!0,o.value=null;try{const g=await ce.get(`/v1/boletos/configuracoes-banco/${m}/`);s.value={...g.data,certificado_file:g.data.certificado_file,chave_privada_file:g.data.chave_privada_file}}catch(g){console.error("Erro ao buscar configurao:",g),o.value="Falha ao carregar os dados da configurao.",n.push({name:"integracoes"})}finally{i.value=!1}},d=(m,g)=>{const y=g.target;y.files&&y.files[0]&&(s.value[m]=y.files[0])},f=m=>m?m instanceof File?m.name:m?m.split("/").pop():"":"",h=async()=>{r.value=!0,o.value=null;const m=new FormData;m.append("nome_banco",s.value.nome_banco),m.append("agencia",s.value.agencia),m.append("conta",s.value.conta),m.append("convenio",s.value.convenio),m.append("client_id",s.value.client_id),m.append("client_secret",s.value.client_secret),s.value.certificado_file instanceof File&&m.append("certificado_file",s.value.certificado_file),s.value.chave_privada_file instanceof File&&m.append("chave_privada_file",s.value.chave_privada_file);try{a.value?await ce.patch(`/v1/boletos/configuracoes-banco/${s.value.id}/`,m,{headers:{"Content-Type":"multipart/form-data"}}):await ce.post("/v1/boletos/configuracoes-banco/",m,{headers:{"Content-Type":"multipart/form-data"}}),n.push({name:"integracoes"})}catch(g){console.error("Erro ao salvar configurao:",g),g.response&&g.response.data?o.value=JSON.stringify(g.response.data):o.value="Falha ao salvar a configurao. Verifique os dados e tente novamente."}finally{r.value=!1}};return it(()=>{a.value&&u(Number(e.params.id))}),(m,g)=>{const y=on("router-link");return O(),R("div",Zhe,[l("div",epe,[l("h1",tpe,F(c.value),1)]),i.value?(O(),R("div",npe,[...g[8]||(g[8]=[l("p",null,"A carregar...",-1)])])):(O(),R("div",spe,[l("form",{onSubmit:wt(h,["prevent"]),enctype:"multipart/form-data"},[l("div",ipe,[g[10]||(g[10]=l("label",{for:"nome_banco",class:"form-label"},"Banco:",-1)),Y(l("select",{id:"nome_banco","onUpdate:modelValue":g[0]||(g[0]=b=>s.value.nome_banco=b),class:"form-input",required:""},[...g[9]||(g[9]=[l("option",{value:"Bradesco"},"Bradesco",-1),l("option",{value:"Itau"},"Ita",-1),l("option",{value:"Santander"},"Santander",-1)])],512),[[xt,s.value.nome_banco]])]),g[19]||(g[19]=l("hr",null,null,-1)),g[20]||(g[20]=l("h4",null,"Dados para Remessa (CNAB)",-1)),l("div",rpe,[g[11]||(g[11]=l("label",{for:"agencia",class:"form-label"},"Agncia (sem dgito):",-1)),Y(l("input",{type:"text",id:"agencia","onUpdate:modelValue":g[1]||(g[1]=b=>s.value.agencia=b),class:"form-input",required:""},null,512),[[de,s.value.agencia]])]),l("div",ope,[g[12]||(g[12]=l("label",{for:"conta",class:"form-label"},"Conta Corrente (sem dgito):",-1)),Y(l("input",{type:"text",id:"conta","onUpdate:modelValue":g[2]||(g[2]=b=>s.value.conta=b),class:"form-input",required:""},null,512),[[de,s.value.conta]])]),l("div",ape,[g[13]||(g[13]=l("label",{for:"convenio",class:"form-label"},"Convnio / Cdigo do Cedente:",-1)),Y(l("input",{type:"text",id:"convenio","onUpdate:modelValue":g[3]||(g[3]=b=>s.value.convenio=b),class:"form-input",required:""},null,512),[[de,s.value.convenio]])]),g[21]||(g[21]=l("hr",null,null,-1)),g[22]||(g[22]=l("h4",null,"Credenciais da API (Opcional, para consulta direta)",-1)),l("div",lpe,[g[14]||(g[14]=l("label",{for:"client_id",class:"form-label"},"Client ID:",-1)),Y(l("input",{type:"text",id:"client_id","onUpdate:modelValue":g[4]||(g[4]=b=>s.value.client_id=b),class:"form-input"},null,512),[[de,s.value.client_id]])]),l("div",cpe,[g[15]||(g[15]=l("label",{for:"client_secret",class:"form-label"},"Client Secret:",-1)),Y(l("input",{type:"text",id:"client_secret","onUpdate:modelValue":g[5]||(g[5]=b=>s.value.client_secret=b),class:"form-input"},null,512),[[de,s.value.client_secret]])]),g[23]||(g[23]=l("hr",null,null,-1)),g[24]||(g[24]=l("h4",null,"Certificados (Opcional, para API Bradesco)",-1)),l("div",upe,[g[16]||(g[16]=l("label",{for:"certificado_file",class:"form-label"},"Certificado (CRT/PEM):",-1)),l("input",{type:"file",id:"certificado_file",onChange:g[6]||(g[6]=b=>d("certificado_file",b)),class:"form-input"},null,32),s.value.certificado_file?(O(),R("small",dpe,F(f(s.value.certificado_file)),1)):J("",!0)]),l("div",fpe,[g[17]||(g[17]=l("label",{for:"chave_privada_file",class:"form-label"},"Chave Privada (KEY):",-1)),l("input",{type:"file",id:"chave_privada_file",onChange:g[7]||(g[7]=b=>d("chave_privada_file",b)),class:"form-input"},null,32),s.value.chave_privada_file?(O(),R("small",hpe,F(f(s.value.chave_privada_file)),1)):J("",!0)]),o.value?(O(),R("div",ppe,F(o.value),1)):J("",!0),l("div",mpe,[l("button",{type:"submit",class:"submit-button",disabled:r.value},F(r.value?"A salvar...":"Salvar"),9,gpe),be(y,{to:{name:"integracoes"},class:"cancel-link"},{default:Pe(()=>[...g[18]||(g[18]=[z("Cancelar",-1)])]),_:1})])],32)]))])}}}),rR=tt(vpe,[["__scopeId","data-v-6959d7d3"]]),bpe={class:"config-ia-container"},ype={key:0,class:"loading-message"},xpe={key:1,class:"error-message"},_pe={key:2,class:"form-section"},Spe={class:"select-wrapper"},Epe=["value"],wpe={key:0,class:"descricao-voz"},Cpe=We({__name:"ConfiguracaoIA",setup(t){const e=H(!0),n=H(null),s=H([]),i=H(null),r=H(null),o=H(!1),a=we(()=>i.value?s.value.find(d=>d.id===i.value):null);async function c(){e.value=!0,n.value=null;try{const[d,f]=await Promise.all([ce.get("/v1/configuracao-ia/opcoes-voz/"),ce.get("/v1/configuracao-ia/configuracao/")]);s.value=d.data,i.value=f.data.voz_da_marca_preferida_id}catch(d){console.error("Erro ao carregar configuraes:",d),n.value="No foi possvel carregar as configuraes. Tente novamente mais tarde."}finally{e.value=!1}}async function u(){r.value="Salvando...",o.value=!1;try{await ce.put("/v1/configuracao-ia/configuracao/",{voz_da_marca_id:i.value}),r.value="Configurao salva com sucesso!",o.value=!0}catch(d){console.error("Erro ao salvar configurao:",d),r.value="Falha ao salvar. Tente novamente.",o.value=!1}finally{setTimeout(()=>{r.value=null},3e3)}}return it(async()=>{await c()}),(d,f)=>(O(),R("div",bpe,[f[5]||(f[5]=l("h2",null,"Configuraes da Inteligncia Artificial",-1)),e.value?(O(),R("div",ype,"Carregando...")):J("",!0),n.value?(O(),R("div",xpe,F(n.value),1)):J("",!0),!e.value&&!n.value?(O(),R("div",_pe,[f[3]||(f[3]=l("h3",null,"Tom de Voz da Marca",-1)),f[4]||(f[4]=l("p",null,"Selecione o estilo de comunicao que a IA deve usar ao gerar textos para as suas publicaes. Esta voz representar a sua marca.",-1)),l("div",Spe,[Y(l("select",{"onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h),onChange:u},[f[1]||(f[1]=l("option",{value:null},"-- Padro do Sistema --",-1)),(O(!0),R(Me,null,je(s.value,h=>(O(),R("option",{key:h.id,value:h.id},F(h.nome),9,Epe))),128))],544),[[xt,i.value]])]),a.value?(O(),R("div",wpe,[f[2]||(f[2]=l("strong",null,"Descrio:",-1)),z(" "+F(a.value.descricao),1)])):J("",!0),r.value?(O(),R("div",{key:1,class:te(["save-status",{success:o.value,fail:!o.value}])},F(r.value),3)):J("",!0)])):J("",!0)]))}}),Ape=tt(Cpe,[["__scopeId","data-v-a0243937"]]),kpe={class:"page-container"},Tpe={class:"header-section"},Dpe={class:"page-title"},Ope={key:0,class:"loading-state"},Rpe={key:1,class:"form-card"},Mpe={class:"form-group"},Ipe={class:"form-group"},Npe={class:"form-group"},Ppe={class:"form-group"},$pe={class:"form-group"},Lpe={key:0,class:"error-message"},Fpe={class:"actions"},Vpe=We({__name:"ContaFormView",setup(t){const e=ms(),n=an(),s=H({nome:"",banco:"",agencia:"",numero_conta:"",saldo_inicial:0}),i=H(!1),r=H(null),o=we(()=>!!e.params.id),a=we(()=>o.value?"Editar Conta Bancria":"Adicionar Nova Conta Bancria"),c=async d=>{i.value=!0,r.value=null;try{const f=await ce.get(`/v1/financeiro/contas/${d}/`);s.value=f.data}catch(f){console.error("Erro ao buscar conta:",f),r.value="Falha ao carregar os dados da conta."}finally{i.value=!1}},u=async()=>{try{o.value?await ce.put(`/v1/financeiro/contas/${s.value.id}/`,s.value):await ce.post("/v1/financeiro/contas/",s.value),n.push({name:"lista-contas"})}catch(d){console.error("Erro ao salvar conta:",d),d.response&&d.response.data?r.value=JSON.stringify(d.response.data):r.value="Falha ao salvar a conta. Verifique os dados e tente novamente."}};return it(()=>{o.value&&c(Number(e.params.id))}),(d,f)=>{const h=on("router-link");return O(),R("div",kpe,[l("div",Tpe,[l("h1",Dpe,F(a.value),1)]),i.value?(O(),R("div",Ope,[...f[5]||(f[5]=[l("p",null,"A carregar...",-1)])])):(O(),R("div",Rpe,[l("form",{onSubmit:wt(u,["prevent"])},[l("div",Mpe,[f[6]||(f[6]=l("label",{for:"nome",class:"form-label"},"Nome da Conta:",-1)),Y(l("input",{type:"text",id:"nome","onUpdate:modelValue":f[0]||(f[0]=m=>s.value.nome=m),class:"form-input",required:""},null,512),[[de,s.value.nome]])]),l("div",Ipe,[f[7]||(f[7]=l("label",{for:"banco",class:"form-label"},"Banco:",-1)),Y(l("input",{type:"text",id:"banco","onUpdate:modelValue":f[1]||(f[1]=m=>s.value.banco=m),class:"form-input",required:""},null,512),[[de,s.value.banco]])]),l("div",Npe,[f[8]||(f[8]=l("label",{for:"agencia",class:"form-label"},"Agncia:",-1)),Y(l("input",{type:"text",id:"agencia","onUpdate:modelValue":f[2]||(f[2]=m=>s.value.agencia=m),class:"form-input",required:""},null,512),[[de,s.value.agencia]])]),l("div",Ppe,[f[9]||(f[9]=l("label",{for:"numero_conta",class:"form-label"},"Nmero da Conta:",-1)),Y(l("input",{type:"text",id:"numero_conta","onUpdate:modelValue":f[3]||(f[3]=m=>s.value.numero_conta=m),class:"form-input",required:""},null,512),[[de,s.value.numero_conta]])]),l("div",$pe,[f[10]||(f[10]=l("label",{for:"saldo_inicial",class:"form-label"},"Saldo Inicial:",-1)),Y(l("input",{type:"number",id:"saldo_inicial","onUpdate:modelValue":f[4]||(f[4]=m=>s.value.saldo_inicial=m),step:"0.01",class:"form-input",required:""},null,512),[[de,s.value.saldo_inicial,void 0,{number:!0}]])]),r.value?(O(),R("div",Lpe,F(r.value),1)):J("",!0),l("div",Fpe,[f[12]||(f[12]=l("button",{type:"submit",class:"submit-button"},"Salvar",-1)),be(h,{to:{name:"lista-contas"},class:"cancel-link"},{default:Pe(()=>[...f[11]||(f[11]=[z("Cancelar",-1)])]),_:1})])],32)]))])}}}),oR=tt(Vpe,[["__scopeId","data-v-0856ffbd"]]);function Bs(t){this.content=t}Bs.prototype={constructor:Bs,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var s=n&&n!=t?this.remove(n):this,i=s.find(t),r=s.content.slice();return i==-1?r.push(n||t,e):(r[i+1]=e,n&&(r[i]=n)),new Bs(r)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Bs(n)},addToStart:function(t,e){return new Bs([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Bs(n)},addBefore:function(t,e,n){var s=this.remove(e),i=s.content.slice(),r=s.find(t);return i.splice(r==-1?i.length:r,0,e,n),new Bs(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Bs.from(t),t.size?new Bs(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Bs.from(t),t.size?new Bs(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Bs.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Bs.from=function(t){if(t instanceof Bs)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Bs(e)};function L5(t,e,n){for(let s=0;;s++){if(s==t.childCount||s==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(s),r=e.child(s);if(i==r){n+=i.nodeSize;continue}if(!i.sameMarkup(r))return n;if(i.isText&&i.text!=r.text){for(let o=0;i.text[o]==r.text[o];o++)n++;return n}if(i.content.size||r.content.size){let o=L5(i.content,r.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function F5(t,e,n,s){for(let i=t.childCount,r=e.childCount;;){if(i==0||r==0)return i==r?null:{a:n,b:s};let o=t.child(--i),a=e.child(--r),c=o.nodeSize;if(o==a){n-=c,s-=c;continue}if(!o.sameMarkup(a))return{a:n,b:s};if(o.isText&&o.text!=a.text){let u=0,d=Math.min(o.text.length,a.text.length);for(;u<d&&o.text[o.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,s--;return{a:n,b:s}}if(o.content.size||a.content.size){let u=F5(o.content,a.content,n-1,s-1);if(u)return u}n-=c,s-=c}}class Re{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,i=0,r){for(let o=0,a=0;a<n;o++){let c=this.content[o],u=a+c.nodeSize;if(u>e&&s(c,i+a,r||null,o)!==!1&&c.content.size){let d=a+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,n-d),s,i+d)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,i){let r="",o=!0;return this.nodesBetween(e,n,(a,c)=>{let u=a.isText?a.text.slice(Math.max(e,c)-c,n-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&s&&(o?o=!1:r+=s),r+=u},0),r}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,i=this.content.slice(),r=0;for(n.isText&&n.sameMarkup(s)&&(i[i.length-1]=n.withText(n.text+s.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new Re(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],i=0;if(n>e)for(let r=0,o=0;o<n;r++){let a=this.content[r],c=o+a.nodeSize;c>e&&((o<e||c>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),s.push(a),i+=a.nodeSize),o=c}return new Re(s,i)}cutByIndex(e,n){return e==n?Re.empty:e==0&&n==this.content.length?this:new Re(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let i=this.content.slice(),r=this.size+n.nodeSize-s.nodeSize;return i[e]=n,new Re(i,r)}addToStart(e){return new Re([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Re(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let i=this.content[n];e(i,s,n),s+=i.nodeSize}}findDiffStart(e,n=0){return L5(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return F5(this,e,n,s)}findIndex(e){if(e==0)return dg(0,e);if(e==this.size)return dg(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let i=this.child(n),r=s+i.nodeSize;if(r>=e)return r==e?dg(n+1,r):dg(n,s);s=r}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Re.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Re(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Re.empty;let n,s=0;for(let i=0;i<e.length;i++){let r=e[i];s+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(n||(n=e.slice(0,i)),n[n.length-1]=r.withText(n[n.length-1].text+r.text)):n&&n.push(r)}return new Re(n||e,s)}static from(e){if(!e)return Re.empty;if(e instanceof Re)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Re([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Re.empty=new Re([],0);const Ux={index:0,offset:0};function dg(t,e){return Ux.index=t,Ux.offset=e,Ux}function cb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!cb(t[s],e[s]))return!1}else{for(let s in t)if(!(s in e)||!cb(t[s],e[s]))return!1;for(let s in e)if(!(s in t))return!1}return!0}let Sn=class $S{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let i=0;i<e.length;i++){let r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))n||(n=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!s&&r.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),s=!0),n&&n.push(r)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&cb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=s.create(n.attrs);return s.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $S.none;if(e instanceof $S)return[e];let n=e.slice();return n.sort((s,i)=>s.type.rank-i.type.rank),n}};Sn.none=[];class ub extends Error{}class Ke{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=B5(this.content,e+this.openStart,n);return s&&new Ke(s,this.openStart,this.openEnd)}removeBetween(e,n){return new Ke(V5(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Ke.empty;let s=n.openStart||0,i=n.openEnd||0;if(typeof s!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ke(Re.fromJSON(e,n.content),s,i)}static maxOpen(e,n=!0){let s=0,i=0;for(let r=e.firstChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.firstChild)s++;for(let r=e.lastChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.lastChild)i++;return new Ke(e,s,i)}}Ke.empty=new Ke(Re.empty,0,0);function V5(t,e,n){let{index:s,offset:i}=t.findIndex(e),r=t.maybeChild(s),{index:o,offset:a}=t.findIndex(n);if(i==e||r.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(s!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(s,r.copy(V5(r.content,e-i-1,n-i-1)))}function B5(t,e,n,s){let{index:i,offset:r}=t.findIndex(e),o=t.maybeChild(i);if(r==e||o.isText)return s&&!s.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=B5(o.content,e-r-1,n,o);return a&&t.replaceChild(i,o.copy(a))}function Bpe(t,e,n){if(n.openStart>t.depth)throw new ub("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ub("Inconsistent open depths");return U5(t,e,n,0)}function U5(t,e,n,s){let i=t.index(s),r=t.node(s);if(i==e.index(s)&&s<t.depth-n.openStart){let o=U5(t,e,n,s+1);return r.copy(r.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==s&&e.depth==s){let o=t.parent,a=o.content;return Yc(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Upe(n,t);return Yc(r,z5(t,o,a,e,s))}else return Yc(r,db(t,e,s))}function H5(t,e){if(!e.type.compatibleContent(t.type))throw new ub("Cannot join "+e.type.name+" onto "+t.type.name)}function LS(t,e,n){let s=t.node(n);return H5(s,e.node(n)),s}function Kc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function gh(t,e,n,s){let i=(e||t).node(n),r=0,o=e?e.index(n):i.childCount;t&&(r=t.index(n),t.depth>n?r++:t.textOffset&&(Kc(t.nodeAfter,s),r++));for(let a=r;a<o;a++)Kc(i.child(a),s);e&&e.depth==n&&e.textOffset&&Kc(e.nodeBefore,s)}function Yc(t,e){return t.type.checkContent(e),t.copy(e)}function z5(t,e,n,s,i){let r=t.depth>i&&LS(t,e,i+1),o=s.depth>i&&LS(n,s,i+1),a=[];return gh(null,t,i,a),r&&o&&e.index(i)==n.index(i)?(H5(r,o),Kc(Yc(r,z5(t,e,n,s,i+1)),a)):(r&&Kc(Yc(r,db(t,e,i+1)),a),gh(e,n,i,a),o&&Kc(Yc(o,db(n,s,i+1)),a)),gh(s,null,i,a),new Re(a)}function db(t,e,n){let s=[];if(gh(null,t,n,s),t.depth>n){let i=LS(t,e,n+1);Kc(Yc(i,db(t,e,n+1)),s)}return gh(e,null,n,s),new Re(s)}function Upe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let r=n-1;r>=0;r--)i=e.node(r).copy(Re.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class rp{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],i=e.child(n);return s?e.child(n).cut(s):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let r=0;r<e;r++)i+=s.child(r).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Sn.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),i=e.maybeChild(n);if(!s){let a=s;s=i,i=a}let r=s.marks;for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,i=e.parent.maybeChild(e.index());for(var r=0;r<s.length;r++)s[r].type.spec.inclusive===!1&&(!i||!s[r].isInSet(i.marks))&&(s=s[r--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new fb(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],i=0,r=n;for(let o=e;;){let{index:a,offset:c}=o.content.findIndex(r),u=r-c;if(s.push(o,a,i+c),!u||(o=o.child(a),o.isText))break;r=u-1,i+=c+1}return new rp(n,s,r)}static resolveCached(e,n){let s=aR.get(e);if(s)for(let r=0;r<s.elts.length;r++){let o=s.elts[r];if(o.pos==n)return o}else aR.set(e,s=new Hpe);let i=s.elts[s.i]=rp.resolve(e,n);return s.i=(s.i+1)%zpe,i}}class Hpe{constructor(){this.elts=[],this.i=0}}const zpe=12,aR=new WeakMap;class fb{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jpe=Object.create(null);class io{constructor(e,n,s,i=Sn.none){this.type=e,this.attrs=n,this.marks=i,this.content=s||Re.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,i=0){this.content.nodesBetween(e,n,s,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,i){return this.content.textBetween(e,n,s,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&cb(this.attrs,n||e.defaultAttrs||jpe)&&Sn.sameSet(this.marks,s||Sn.none)}copy(e=null){return e==this.content?this:new io(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new io(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return Ke.empty;let i=this.resolve(e),r=this.resolve(n),o=s?0:i.sharedDepth(n),a=i.start(o),u=i.node(o).content.cut(i.pos-a,r.pos-a);return new Ke(u,i.depth-o,r.depth-o)}replace(e,n,s){return Bpe(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let i=this.content.child(n-1);return{node:i,index:n-1,offset:s-i.nodeSize}}resolve(e){return rp.resolveCached(this,e)}resolveNoCache(e){return rp.resolve(this,e)}rangeHasMark(e,n,s){let i=!1;return n>e&&this.nodesBetween(e,n,r=>(s.isInSet(r.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),j5(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=Re.empty,i=0,r=s.childCount){let o=this.contentMatchAt(e).matchFragment(s,i,r),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let c=i;c<r;c++)if(!this.type.allowsMarks(s.child(c).marks))return!1;return!0}canReplaceWith(e,n,s,i){if(i&&!this.type.allowsMarks(i))return!1;let r=this.contentMatchAt(e).matchType(s),o=r&&r.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Sn.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!Sn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let i=Re.fromJSON(e,n.content),r=e.nodeType(n.type).create(n.attrs,i,s);return r.type.checkAttrs(r.attrs),r}}io.prototype.text=void 0;class hb extends io{constructor(e,n,s,i){if(super(e,n,null,i),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):j5(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new hb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new hb(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function j5(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class hu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new Wpe(e,n);if(s.next==null)return hu.empty;let i=W5(s);s.next&&s.err("Unexpected trailing text");let r=Qpe(Jpe(i));return Zpe(r,s),r}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let i=this;for(let r=n;i&&r<s;r++)i=i.matchType(e.child(r).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let i=[this];function r(o,a){let c=o.matchFragment(e,s);if(c&&(!n||c.validEnd))return Re.from(a.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:d,next:f}=o.next[u];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let h=r(f,a.concat(d));if(h)return h}}return null}return r(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let i=s.shift(),r=i.match;if(r.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<r.next.length;o++){let{type:a,next:c}=r.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||c.validEnd)&&(s.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let i=0;i<s.next.length;i++)e.indexOf(s.next[i].next)==-1&&n(s.next[i].next)}return n(this),e.map((s,i)=>{let r=i+(s.validEnd?"*":" ")+" ";for(let o=0;o<s.next.length;o++)r+=(o?", ":"")+s.next[o].type.name+"->"+e.indexOf(s.next[o].next);return r}).join(`
`)}}hu.empty=new hu(!0);class Wpe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function W5(t){let e=[];do e.push(Gpe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Gpe(t){let e=[];do e.push(qpe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function qpe(t){let e=Xpe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Kpe(t,e);else break;return e}function lR(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Kpe(t,e){let n=lR(t),s=n;return t.eat(",")&&(t.next!="}"?s=lR(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function Ype(t,e){let n=t.nodeTypes,s=n[e];if(s)return[s];let i=[];for(let r in n){let o=n[r];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Xpe(t){if(t.eat("(")){let e=W5(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Ype(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Jpe(t){let e=[[]];return i(r(t,0),n()),e;function n(){return e.push([])-1}function s(o,a,c){let u={term:c,to:a};return e[o].push(u),u}function i(o,a){o.forEach(c=>c.to=a)}function r(o,a){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(r(u,a)),[]);if(o.type=="seq")for(let c=0;;c++){let u=r(o.exprs[c],a);if(c==o.exprs.length-1)return u;i(u,a=n())}else if(o.type=="star"){let c=n();return s(a,c),i(r(o.expr,c),c),[s(c)]}else if(o.type=="plus"){let c=n();return i(r(o.expr,a),c),i(r(o.expr,c),c),[s(c)]}else{if(o.type=="opt")return[s(a)].concat(r(o.expr,a));if(o.type=="range"){let c=a;for(let u=0;u<o.min;u++){let d=n();i(r(o.expr,c),d),c=d}if(o.max==-1)i(r(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let d=n();s(c,d),i(r(o.expr,c),d),c=d}return[s(c)]}else{if(o.type=="name")return[s(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function G5(t,e){return e-t}function cR(t,e){let n=[];return s(e),n.sort(G5);function s(i){let r=t[i];if(r.length==1&&!r[0].term)return s(r[0].to);n.push(i);for(let o=0;o<r.length;o++){let{term:a,to:c}=r[o];!a&&n.indexOf(c)==-1&&s(c)}}}function Qpe(t){let e=Object.create(null);return n(cR(t,0));function n(s){let i=[];s.forEach(o=>{t[o].forEach(({term:a,to:c})=>{if(!a)return;let u;for(let d=0;d<i.length;d++)i[d][0]==a&&(u=i[d][1]);cR(t,c).forEach(d=>{u||i.push([a,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let r=e[s.join(",")]=new hu(s.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(G5);r.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return r}}function Zpe(t,e){for(let n=0,s=[t];n<s.length;n++){let i=s[n],r=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:c,next:u}=i.next[a];o.push(c.name),r&&!(c.isText||c.hasRequiredAttrs())&&(r=!1),s.indexOf(u)==-1&&s.push(u)}r&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function q5(t){let e=Object.create(null);for(let n in t){let s=t[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function K5(t,e){let n=Object.create(null);for(let s in t){let i=e&&e[s];if(i===void 0){let r=t[s];if(r.hasDefault)i=r.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=i}return n}function Y5(t,e,n,s){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let r=t[i];r.validate&&r.validate(e[i])}}function X5(t,e){let n=Object.create(null);if(e)for(let s in e)n[s]=new tme(t,s,e[s]);return n}let uR=class J5{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=X5(e,s.attrs),this.defaultAttrs=q5(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==hu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:K5(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new io(this,this.computeAttrs(e),Re.from(n),Sn.setFrom(s))}createChecked(e=null,n,s){return n=Re.from(n),this.checkContent(n),new io(this,this.computeAttrs(e),n,Sn.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=Re.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),r=i&&i.fillBefore(Re.empty,!0);return r?new io(this,e,n.append(r),Sn.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Y5(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:Sn.none:e}static compile(e,n){let s=Object.create(null);e.forEach((r,o)=>s[r]=new J5(r,n,o));let i=n.spec.topNode||"doc";if(!s[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let r in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function eme(t,e,n){let s=n.split("|");return i=>{let r=i===null?"null":typeof i;if(s.indexOf(r)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${t}, got ${r}`)}}class tme{constructor(e,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?eme(e,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class h1{constructor(e,n,s,i){this.name=e,this.rank=n,this.schema=s,this.spec=i,this.attrs=X5(e,i.attrs),this.excluded=null;let r=q5(this.attrs);this.instance=r?new Sn(this,r):null}create(e=null){return!e&&this.instance?this.instance:new Sn(this,K5(this.attrs,e))}static compile(e,n){let s=Object.create(null),i=0;return e.forEach((r,o)=>s[r]=new h1(r,i++,n,o)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Y5(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Q5{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Bs.from(e.nodes),n.marks=Bs.from(e.marks||{}),this.nodes=uR.compile(this.spec.nodes,this),this.marks=h1.compile(this.spec.marks,this);let s=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let r=this.nodes[i],o=r.spec.content||"",a=r.spec.marks;if(r.contentMatch=s[o]||(s[o]=hu.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!r.isInline||!r.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=r}r.markSet=a=="_"?null:a?dR(this,a.split(" ")):a==""||!r.inlineContent?[]:null}for(let i in this.marks){let r=this.marks[i],o=r.spec.excludes;r.excluded=o==null?[r]:o==""?[]:dR(this,o.split(" "))}this.nodeFromJSON=i=>io.fromJSON(this,i),this.markFromJSON=i=>Sn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof uR){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,i)}text(e,n){let s=this.nodes.text;return new hb(s,s.defaultAttrs,e,Sn.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function dR(t,e){let n=[];for(let s=0;s<e.length;s++){let i=e[s],r=t.marks[i],o=r;if(r)n.push(r);else for(let a in t.marks){let c=t.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function nme(t){return t.tag!=null}function sme(t){return t.style!=null}class Rl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(i=>{if(nme(i))this.tags.push(i);else if(sme(i)){let r=/[^=]*/.exec(i.style)[0];s.indexOf(r)<0&&s.push(r),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let r=e.nodes[i.node];return r.contentMatch.matchType(r)})}parse(e,n={}){let s=new hR(this,n,!1);return s.addAll(e,Sn.none,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new hR(this,n,!0);return s.addAll(e,Sn.none,n.from,n.to),Ke.maxOpen(s.finish())}matchTag(e,n,s){for(let i=s?this.tags.indexOf(s)+1:0;i<this.tags.length;i++){let r=this.tags[i];if(ome(e,r.tag)&&(r.namespace===void 0||e.namespaceURI==r.namespace)&&(!r.context||n.matchesContext(r.context))){if(r.getAttrs){let o=r.getAttrs(e);if(o===!1)continue;r.attrs=o||void 0}return r}}}matchStyle(e,n,s,i){for(let r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){let o=this.styles[r],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!s.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let c=o.getAttrs(n);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let n=[];function s(i){let r=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<r)break}n.splice(o,0,i)}for(let i in e.marks){let r=e.marks[i].spec.parseDOM;r&&r.forEach(o=>{s(o=pR(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let r=e.nodes[i].spec.parseDOM;r&&r.forEach(o=>{s(o=pR(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Rl(e,Rl.schemaRules(e)))}}const Z5={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ime={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},eF={ol:!0,ul:!0},op=1,FS=2,vh=4;function fR(t,e,n){return e!=null?(e?op:0)|(e==="full"?FS:0):t&&t.whitespace=="pre"?op|FS:n&~vh}class fg{constructor(e,n,s,i,r,o){this.type=e,this.attrs=n,this.marks=s,this.solid=i,this.options=o,this.content=[],this.activeMarks=Sn.none,this.match=r||(o&vh?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Re.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,i;return(i=s.findWrapping(e.type))?(this.match=s,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&op)){let s=this.content[this.content.length-1],i;if(s&&s.isText&&(i=/[ \t\r\n\u000c]+$/.exec(s.text))){let r=s;s.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-i[0].length))}}let n=Re.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Re.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Z5.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class hR{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let i=n.topNode,r,o=fR(null,n.preserveWhitespace,0)|(s?vh:0);i?r=new fg(i.type,i.attrs,Sn.none,!0,n.topMatch||i.type.contentMatch,o):s?r=new fg(null,null,Sn.none,!0,null,o):r=new fg(e.schema.topNodeType,null,Sn.none,!0,null,o),this.nodes=[r],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let s=e.nodeValue,i=this.top,r=i.options&FS?"full":this.localPreserveWS||(i.options&op)>0,{schema:o}=this.parser;if(r==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(r)if(r==="full")s=s.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(o.linebreakReplacement.create())){let a=s.split(/\r?\n|\r/);for(let c=0;c<a.length;c++)c&&this.insertNode(o.linebreakReplacement.create(),n,!0),a[c]&&this.insertNode(o.text(a[c]),n,!/\S/.test(a[c]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],c=e.previousSibling;(!a||c&&c.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(s=s.slice(1))}s&&this.insertNode(o.text(s),n,!/\S/.test(s)),this.findInText(e)}else this.findInside(e)}addElement(e,n,s){let i=this.localPreserveWS,r=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;eF.hasOwnProperty(o)&&this.parser.normalizeLists&&rme(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,s));e:if(c?c.ignore:ime.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,d=this.needsBlock;if(Z5.hasOwnProperty(o))r.content.length&&r.content[0].isInline&&this.open&&(this.open--,r=this.top),u=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=c&&c.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),u&&this.sync(r),this.needsBlock=d}else{let u=this.readStyles(e,n);u&&this.addElementByRule(e,c,u,c.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let s=e.style;if(s&&s.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let r=this.parser.matchedStyles[i],o=s.getPropertyValue(r);if(o)for(let a=void 0;;){let c=this.parser.matchStyle(r,o,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?n=n.filter(u=>!c.clearMark(u)):n=n.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return n}addElementByRule(e,n,s,i){let r,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),s,e.nodeName=="BR")||this.leafFallback(e,s);else{let c=this.enter(o,n.attrs||null,s,n.preserveWhitespace);c&&(r=!0,s=c)}else{let c=this.parser.schema.marks[n.mark];s=s.concat(c.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,s,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,s,!1));else{let c=e;typeof n.contentElement=="string"?c=e.querySelector(n.contentElement):typeof n.contentElement=="function"?c=n.contentElement(e):n.contentElement&&(c=n.contentElement),this.findAround(e,c,!0),this.addAll(c,s),this.findAround(e,c,!1)}r&&this.sync(a)&&this.open--}addAll(e,n,s,i){let r=s||0;for(let o=s?e.childNodes[s]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o,n);this.findAtPoint(e,r)}findPlace(e,n,s){let i,r;for(let o=this.open,a=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(e);if(u&&(!i||i.length>u.length+a)&&(i=u,r=c,!u.length))break;if(c.solid){if(s)break;a+=2}}if(!i)return null;this.sync(r);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,s){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let i=this.findPlace(e,n,s);if(i){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let o=Sn.none;for(let a of i.concat(e.marks))(r.type?r.type.allowsMarkType(a.type):mR(a.type,e.type))&&(o=a.addToSet(o));return r.content.push(e.mark(o)),!0}return!1}enter(e,n,s,i){let r=this.findPlace(e.create(n),s,!1);return r&&(r=this.enterInner(e,n,s,!0,i)),r}enterInner(e,n,s,i=!1,r){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=fR(e,r,o.options);o.options&vh&&o.content.length==0&&(a|=vh);let c=Sn.none;return s=s.filter(u=>(o.type?o.type.allowsMarkType(u.type):mR(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new fg(e,n,c,i,null,a)),this.open++,s}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=op)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let i=s.length-1;i>=0;i--)e+=s[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(s?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,i=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),r=-(s?s.depth+1:0)+(i?0:1),o=(a,c)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;c>=r;c--)if(o(a-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:s&&c>=r?s.node(c-r).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;c--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function rme(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&eF.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function ome(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function pR(t){let e={};for(let n in t)e[n]=t[n];return e}function mR(t,e){let n=e.schema.nodes;for(let s in n){let i=n[s];if(!i.allowsMarkType(t))continue;let r=[],o=a=>{r.push(a);for(let c=0;c<a.edgeCount;c++){let{type:u,next:d}=a.edge(c);if(u==e||r.indexOf(d)<0&&o(d))return!0}};if(o(i.contentMatch))return!0}}class Cu{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=Hx(n).createDocumentFragment());let i=s,r=[];return e.forEach(o=>{if(r.length||o.marks.length){let a=0,c=0;for(;a<r.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(r[a][0])||u.type.spec.spanning===!1)break;a++,c++}for(;a<r.length;)i=r.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],d=this.serializeMark(u,o.isInline,n);d&&(r.push([u,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:i}=lv(Hx(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let r=this.serializeMark(e.marks[i],e.isInline,n);r&&((r.contentDOM||r.dom).appendChild(s),s=r.dom)}return s}serializeMark(e,n,s={}){let i=this.marks[e.type.name];return i&&lv(Hx(s),i(e,n),null,e.attrs)}static renderSpec(e,n,s=null,i){return lv(e,n,s,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Cu(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=gR(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return gR(e.marks)}}function gR(t){let e={};for(let n in t){let s=t[n].spec.toDOM;s&&(e[n]=s)}return e}function Hx(t){return t.document||window.document}const vR=new WeakMap;function ame(t){let e=vR.get(t);return e===void 0&&vR.set(t,e=lme(t)),e}function lme(t){let e=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let i=0;i<s.length;i++)n(s[i]);else for(let i in s)n(s[i])}return n(t),e}function lv(t,e,n,s){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],r;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(r=ame(s))&&r.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,c=n?t.createElementNS(n,i):t.createElement(i),u=e[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let h=f.indexOf(" ");h>0?c.setAttributeNS(f.slice(0,h),f.slice(h+1),u[f]):f=="style"&&c.style?c.style.cssText=u[f]:c.setAttribute(f,u[f])}}for(let f=d;f<e.length;f++){let h=e[f];if(h===0){if(f<e.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:m,contentDOM:g}=lv(t,h,n,s);if(c.appendChild(m),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:c,contentDOM:a}}const tF=65535,nF=Math.pow(2,16);function cme(t,e){return t+e*nF}function bR(t){return t&tF}function ume(t){return(t-(t&tF))/nF}const sF=1,iF=2,cv=4,rF=8;class VS{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&rF)>0}get deletedBefore(){return(this.delInfo&(sF|cv))>0}get deletedAfter(){return(this.delInfo&(iF|cv))>0}get deletedAcross(){return(this.delInfo&cv)>0}}class cr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&cr.empty)return cr.empty}recover(e){let n=0,s=bR(e);if(!this.inverted)for(let i=0;i<s;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[s*3]+n+ume(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let i=0,r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>e)break;let u=this.ranges[a+r],d=this.ranges[a+o],f=c+u;if(e<=f){let h=u?e==c?-1:e==f?1:n:n,m=c+i+(h<0?0:d);if(s)return m;let g=e==(n<0?c:f)?null:cme(a/3,e-c),y=e==c?iF:e==f?sF:cv;return(n<0?e!=c:e!=f)&&(y|=rF),new VS(m,y,g)}i+=d-u}return s?e+i:new VS(e+i,0,null)}touches(e,n){let s=0,i=bR(n),r=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?s:0);if(c>e)break;let u=this.ranges[a+r],d=c+u;if(e<=d&&a==i*3)return!0;s+=this.ranges[a+o]-u}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let i=0,r=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?r:0),c=o+(this.inverted?0:r),u=this.ranges[i+n],d=this.ranges[i+s];e(a,a+u,c,c+d),r+=d-u}}invert(){return new cr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cr.empty:new cr(e<0?[0,-e,0]:[0,0,e])}}cr.empty=new cr([]);class ap{constructor(e,n,s=0,i=e?e.length:0){this.mirror=n,this.from=s,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new ap(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,s=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?s+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?s-i-1:void 0)}}invert(){let e=new ap;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this._maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let i=0;for(let r=this.from;r<this.to;r++){let o=this._maps[r],a=o.mapResult(e,n);if(a.recover!=null){let c=this.getMirror(r);if(c!=null&&c>r&&c<this.to){r=c,e=this._maps[c].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return s?e:new VS(e,i,null)}}const zx=Object.create(null);class vi{getMap(){return cr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=zx[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in zx)throw new RangeError("Duplicate use of step JSON ID "+e);return zx[e]=n,n.prototype.jsonID=e,n}}class bs{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new bs(e,null)}static fail(e){return new bs(null,e)}static fromReplace(e,n,s,i){try{return bs.ok(e.replace(n,s,i))}catch(r){if(r instanceof ub)return bs.fail(r.message);throw r}}}function SC(t,e,n){let s=[];for(let i=0;i<t.childCount;i++){let r=t.child(i);r.content.size&&(r=r.copy(SC(r.content,e,r))),r.isInline&&(r=e(r,n,i)),s.push(r)}return Re.fromArray(s)}class yl extends vi{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),i=s.node(s.sharedDepth(this.to)),r=new Ke(SC(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return bs.fromReplace(e,this.from,this.to,r)}invert(){return new eo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new yl(n.pos,s.pos,this.mark)}merge(e){return e instanceof yl&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yl(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yl(n.from,n.to,e.markFromJSON(n.mark))}}vi.jsonID("addMark",yl);class eo extends vi{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new Ke(SC(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return bs.fromReplace(e,this.from,this.to,s)}invert(){return new yl(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new eo(n.pos,s.pos,this.mark)}merge(e){return e instanceof eo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new eo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new eo(n.from,n.to,e.markFromJSON(n.mark))}}vi.jsonID("removeMark",eo);class xl extends vi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return bs.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return bs.fromReplace(e,this.pos,this.pos+1,new Ke(Re.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(s))return new xl(this.pos,n.marks[i]);return new xl(this.pos,this.mark)}}return new pu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new xl(n.pos,e.markFromJSON(n.mark))}}vi.jsonID("addNodeMark",xl);class pu extends vi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return bs.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return bs.fromReplace(e,this.pos,this.pos+1,new Ke(Re.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new xl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new pu(n.pos,e.markFromJSON(n.mark))}}vi.jsonID("removeNodeMark",pu);class Ts extends vi{constructor(e,n,s,i=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=i}apply(e){return this.structure&&BS(e,this.from,this.to)?bs.fail("Structure replace would overwrite content"):bs.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ts(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new Ts(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ts)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Ke.empty:new Ke(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ts(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Ke.empty:new Ke(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ts(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ts(n.from,n.to,Ke.fromJSON(e,n.slice),!!n.structure)}}vi.jsonID("replace",Ts);class Ms extends vi{constructor(e,n,s,i,r,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=i,this.slice=r,this.insert=o,this.structure=a}apply(e){if(this.structure&&(BS(e,this.from,this.gapFrom)||BS(e,this.gapTo,this.to)))return bs.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return bs.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?bs.fromReplace(e,this.from,this.to,s):bs.fail("Content does not fit in gap")}getMap(){return new cr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ms(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),r=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||i<n.pos||r>s.pos?null:new Ms(n.pos,s.pos,i,r,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ms(n.from,n.to,n.gapFrom,n.gapTo,Ke.fromJSON(e,n.slice),n.insert,!!n.structure)}}vi.jsonID("replaceAround",Ms);function BS(t,e,n){let s=t.resolve(e),i=n-e,r=s.depth;for(;i>0&&r>0&&s.indexAfter(r)==s.node(r).childCount;)r--,i--;if(i>0){let o=s.node(r).maybeChild(s.indexAfter(r));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function dme(t,e,n,s){let i=[],r=[],o,a;t.doc.nodesBetween(e,n,(c,u,d)=>{if(!c.isInline)return;let f=c.marks;if(!s.isInSet(f)&&d.type.allowsMarkType(s.type)){let h=Math.max(u,e),m=Math.min(u+c.nodeSize,n),g=s.addToSet(f);for(let y=0;y<f.length;y++)f[y].isInSet(g)||(o&&o.to==h&&o.mark.eq(f[y])?o.to=m:i.push(o=new eo(h,m,f[y])));a&&a.to==h?a.to=m:r.push(a=new yl(h,m,s))}}),i.forEach(c=>t.step(c)),r.forEach(c=>t.step(c))}function fme(t,e,n,s){let i=[],r=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;r++;let c=null;if(s instanceof h1){let u=o.marks,d;for(;d=s.isInSet(u);)(c||(c=[])).push(d),u=d.removeFromSet(u)}else s?s.isInSet(o.marks)&&(c=[s]):c=o.marks;if(c&&c.length){let u=Math.min(a+o.nodeSize,n);for(let d=0;d<c.length;d++){let f=c[d],h;for(let m=0;m<i.length;m++){let g=i[m];g.step==r-1&&f.eq(i[m].style)&&(h=g)}h?(h.to=u,h.step=r):i.push({style:f,from:Math.max(a,e),to:u,step:r})}}}),i.forEach(o=>t.step(new eo(o.from,o.to,o.style)))}function EC(t,e,n,s=n.contentMatch,i=!0){let r=t.doc.nodeAt(e),o=[],a=e+1;for(let c=0;c<r.childCount;c++){let u=r.child(c),d=a+u.nodeSize,f=s.matchType(u.type);if(!f)o.push(new Ts(a,d,Ke.empty));else{s=f;for(let h=0;h<u.marks.length;h++)n.allowsMarkType(u.marks[h].type)||t.step(new eo(a,d,u.marks[h]));if(i&&u.isText&&n.whitespace!="pre"){let h,m=/\r?\n|\r/g,g;for(;h=m.exec(u.text);)g||(g=new Ke(Re.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),o.push(new Ts(a+h.index,a+h.index+h[0].length,g))}}a=d}if(!s.validEnd){let c=s.fillBefore(Re.empty,!0);t.replace(a,a,new Ke(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function hme(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function lf(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,i=0,r=0;;--s){let o=t.$from.node(s),a=t.$from.index(s)+i,c=t.$to.indexAfter(s)-r;if(s<t.depth&&o.canReplace(a,c,n))return s;if(s==0||o.type.spec.isolating||!hme(o,a,c))break;a&&(i=1),c<o.childCount&&(r=1)}return null}function pme(t,e,n){let{$from:s,$to:i,depth:r}=e,o=s.before(r+1),a=i.after(r+1),c=o,u=a,d=Re.empty,f=0;for(let g=r,y=!1;g>n;g--)y||s.index(g)>0?(y=!0,d=Re.from(s.node(g).copy(d)),f++):c--;let h=Re.empty,m=0;for(let g=r,y=!1;g>n;g--)y||i.after(g+1)<i.end(g)?(y=!0,h=Re.from(i.node(g).copy(h)),m++):u++;t.step(new Ms(c,u,o,a,new Ke(d.append(h),f,m),d.size-f,!0))}function wC(t,e,n=null,s=t){let i=mme(t,e),r=i&&gme(s,e);return r?i.map(yR).concat({type:e,attrs:n}).concat(r.map(yR)):null}function yR(t){return{type:t,attrs:null}}function mme(t,e){let{parent:n,startIndex:s,endIndex:i}=t,r=n.contentMatchAt(s).findWrapping(e);if(!r)return null;let o=r.length?r[0]:e;return n.canReplaceWith(s,i,o)?r:null}function gme(t,e){let{parent:n,startIndex:s,endIndex:i}=t,r=n.child(s),o=e.contentMatch.findWrapping(r.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let u=s;c&&u<i;u++)c=c.matchType(n.child(u).type);return!c||!c.validEnd?null:o}function vme(t,e,n){let s=Re.empty;for(let o=n.length-1;o>=0;o--){if(s.size){let a=n[o].type.contentMatch.matchFragment(s);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Re.from(n[o].type.create(n[o].attrs,s))}let i=e.start,r=e.end;t.step(new Ms(i,r,i,r,new Ke(s,0,0),n.length,!0))}function bme(t,e,n,s,i){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let c=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(s,c)&&yme(t.doc,t.mapping.slice(r).map(a),s)){let u=null;if(s.schema.linebreakReplacement){let m=s.whitespace=="pre",g=!!s.contentMatch.matchType(s.schema.linebreakReplacement);m&&!g?u=!1:!m&&g&&(u=!0)}u===!1&&aF(t,o,a,r),EC(t,t.mapping.slice(r).map(a,1),s,void 0,u===null);let d=t.mapping.slice(r),f=d.map(a,1),h=d.map(a+o.nodeSize,1);return t.step(new Ms(f,h,f+1,h-1,new Ke(Re.from(s.create(c,null,o.marks)),0,0),1,!0)),u===!0&&oF(t,o,a,r),!1}})}function oF(t,e,n,s){e.forEach((i,r)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let c=t.mapping.slice(s).map(n+1+r+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function aF(t,e,n,s){e.forEach((i,r)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(s).map(n+1+r);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function yme(t,e,n){let s=t.resolve(e),i=s.index();return s.parent.canReplaceWith(i,i+1,n)}function xme(t,e,n,s,i){let r=t.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");n||(n=r.type);let o=n.create(s,null,i||r.marks);if(r.isLeaf)return t.replaceWith(e,e+r.nodeSize,o);if(!n.validContent(r.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ms(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new Ke(Re.from(o),0,0),1,!0))}function Sa(t,e,n=1,s){let i=t.resolve(e),r=i.depth-n,o=s&&s[s.length-1]||i.parent;if(r<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,d=n-2;u>r;u--,d--){let f=i.node(u),h=i.index(u);if(f.type.spec.isolating)return!1;let m=f.content.cutByIndex(h,f.childCount),g=s&&s[d+1];g&&(m=m.replaceChild(0,g.type.create(g.attrs)));let y=s&&s[d]||f;if(!f.canReplace(h+1,f.childCount)||!y.type.validContent(m))return!1}let a=i.indexAfter(r),c=s&&s[0];return i.node(r).canReplaceWith(a,a,c?c.type:i.node(r+1).type)}function _me(t,e,n=1,s){let i=t.doc.resolve(e),r=Re.empty,o=Re.empty;for(let a=i.depth,c=i.depth-n,u=n-1;a>c;a--,u--){r=Re.from(i.node(a).copy(r));let d=s&&s[u];o=Re.from(d?d.type.create(d.attrs,o):i.node(a).copy(o))}t.step(new Ts(e,e,new Ke(r.append(o),n,n),!0))}function Jl(t,e){let n=t.resolve(e),s=n.index();return lF(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function Sme(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let i=0;i<e.childCount;i++){let r=e.child(i),o=r.type==s?t.type.schema.nodes.text:r.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(r.marks))return!1}return n.validEnd}function lF(t,e){return!!(t&&e&&!t.isLeaf&&Sme(t,e))}function p1(t,e,n=-1){let s=t.resolve(e);for(let i=s.depth;;i--){let r,o,a=s.index(i);if(i==s.depth?(r=s.nodeBefore,o=s.nodeAfter):n>0?(r=s.node(i+1),a++,o=s.node(i).maybeChild(a)):(r=s.node(i).maybeChild(a-1),o=s.node(i+1)),r&&!r.isTextblock&&lF(r,o)&&s.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?s.before(i):s.after(i)}}function Eme(t,e,n){let s=null,{linebreakReplacement:i}=t.doc.type.schema,r=t.doc.resolve(e-n),o=r.node().type;if(i&&o.inlineContent){let d=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);d&&!f?s=!1:!d&&f&&(s=!0)}let a=t.steps.length;if(s===!1){let d=t.doc.resolve(e+n);aF(t,d.node(),d.before(),a)}o.inlineContent&&EC(t,e+n-1,o,r.node().contentMatchAt(r.index()),s==null);let c=t.mapping.slice(a),u=c.map(e-n);if(t.step(new Ts(u,c.map(e+n,-1),Ke.empty,!0)),s===!0){let d=t.doc.resolve(u);oF(t,d.node(),d.before(),t.steps.length)}return t}function wme(t,e,n){let s=t.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let i=s.depth-1;i>=0;i--){let r=s.index(i);if(s.node(i).canReplaceWith(r,r,n))return s.before(i+1);if(r>0)return null}if(s.parentOffset==s.parent.content.size)for(let i=s.depth-1;i>=0;i--){let r=s.indexAfter(i);if(s.node(i).canReplaceWith(r,r,n))return s.after(i+1);if(r<s.node(i).childCount)return null}return null}function cF(t,e,n){let s=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let r=0;r<n.openStart;r++)i=i.firstChild.content;for(let r=1;r<=(n.openStart==0&&n.size?2:1);r++)for(let o=s.depth;o>=0;o--){let a=o==s.depth?0:s.pos<=(s.start(o+1)+s.end(o+1))/2?-1:1,c=s.index(o)+(a>0?1:0),u=s.node(o),d=!1;if(r==1)d=u.canReplace(c,c,i);else{let f=u.contentMatchAt(c).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(c,c,f[0])}if(d)return a==0?s.pos:a<0?s.before(o+1):s.after(o+1)}return null}function m1(t,e,n=e,s=Ke.empty){if(e==n&&!s.size)return null;let i=t.resolve(e),r=t.resolve(n);return uF(i,r,s)?new Ts(e,n,s):new Cme(i,r,s).fit()}function uF(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Cme{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=Re.empty;for(let i=0;i<=e.depth;i++){let r=e.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Re.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,i=this.close(e<0?this.$to:s.doc.resolve(e));if(!i)return null;let r=this.placed,o=s.depth,a=i.depth;for(;o&&a&&r.childCount==1;)r=r.firstChild.content,o--,a--;let c=new Ke(r,o,a);return e>-1?new Ms(s.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||s.pos!=this.$to.pos?new Ts(s.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,i=this.unplaced.openEnd;s<e;s++){let r=n.firstChild;if(n.childCount>1&&(i=0),r.type.spec.isolating&&i<=s){e=s;break}n=r.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let i,r=null;s?(r=jx(this.unplaced.content,s-1).firstChild,i=r.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:u}=this.frontier[a],d,f=null;if(n==1&&(o?u.matchType(o.type)||(f=u.fillBefore(Re.from(o),!1)):r&&c.compatibleContent(r.type)))return{sliceDepth:s,frontierDepth:a,parent:r,inject:f};if(n==2&&o&&(d=u.findWrapping(o.type)))return{sliceDepth:s,frontierDepth:a,parent:r,wrap:d};if(r&&u.matchType(r.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,i=jx(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ke(e,n+1,Math.max(s,i.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,i=jx(e,n);if(i.childCount<=1&&n>0){let r=e.size-n<=n+i.size;this.unplaced=new Ke(jf(e,n-1,1),n-1,r?n-1:s)}else this.unplaced=new Ke(jf(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:i,wrap:r}){for(;this.depth>n;)this.closeFrontierNode();if(r)for(let y=0;y<r.length;y++)this.openFrontierNode(r[y]);let o=this.unplaced,a=s?s.content:o.content,c=o.openStart-e,u=0,d=[],{match:f,type:h}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)d.push(i.child(y));f=f.matchFragment(i)}let m=a.size+e-(o.content.size-o.openEnd);for(;u<a.childCount;){let y=a.child(u),b=f.matchType(y.type);if(!b)break;u++,(u>1||c==0||y.content.size)&&(f=b,d.push(dF(y.mark(h.allowedMarks(y.marks)),u==1?c:0,u==a.childCount?m:-1)))}let g=u==a.childCount;g||(m=-1),this.placed=Wf(this.placed,n,Re.from(d)),this.frontier[n].match=f,g&&m<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,b=a;y<m;y++){let x=b.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),b=x.content}this.unplaced=g?e==0?Ke.empty:new Ke(jf(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new Ke(jf(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Wx(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,i=this.$to.after(s);for(;s>1&&i==this.$to.end(--s);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:i}=this.frontier[n],r=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Wx(e,n,i,s,r);if(o){for(let a=n-1;a>=0;a--){let{match:c,type:u}=this.frontier[a],d=Wx(e,a,u,c,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:r?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Wf(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let i=e.node(s),r=i.type.contentMatch.fillBefore(i.content,!0,e.index(s));this.openFrontierNode(i.type,i.attrs,r)}return e}openFrontierNode(e,n=null,s){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Wf(this.placed,this.depth,Re.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Re.empty,!0);n.childCount&&(this.placed=Wf(this.placed,this.frontier.length,n))}}function jf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(jf(t.firstChild.content,e-1,n)))}function Wf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Wf(t.lastChild.content,e-1,n)))}function jx(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function dF(t,e,n){if(e<=0)return t;let s=t.content;return e>1&&(s=s.replaceChild(0,dF(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=t.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(Re.empty,!0)))),t.copy(s)}function Wx(t,e,n,s,i){let r=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==r.childCount&&!n.compatibleContent(r.type))return null;let a=s.fillBefore(r.content,!0,o);return a&&!Ame(n,r.content,o)?a:null}function Ame(t,e,n){for(let s=n;s<e.childCount;s++)if(!t.allowsMarks(e.child(s).marks))return!0;return!1}function kme(t){return t.spec.defining||t.spec.definingForContent}function Tme(t,e,n,s){if(!s.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),r=t.doc.resolve(n);if(uF(i,r,s))return t.step(new Ts(e,n,s));let o=hF(i,r);o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,m=i.pos-1;h>0;h--,m--){let g=i.node(h).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==m&&o.splice(1,0,-h)}let c=o.indexOf(a),u=[],d=s.openStart;for(let h=s.content,m=0;;m++){let g=h.firstChild;if(u.push(g),m==s.openStart)break;h=g.content}for(let h=d-1;h>=0;h--){let m=u[h],g=kme(m.type);if(g&&!m.sameMarkup(i.node(Math.abs(a)-1)))d=h;else if(g||!m.type.isTextblock)break}for(let h=s.openStart;h>=0;h--){let m=(h+d+1)%(s.openStart+1),g=u[m];if(g)for(let y=0;y<o.length;y++){let b=o[(y+c)%o.length],x=!0;b<0&&(x=!1,b=-b);let E=i.node(b-1),C=i.index(b-1);if(E.canReplaceWith(C,C,g.type,g.marks))return t.replace(i.before(b),x?r.after(b):n,new Ke(fF(s.content,0,s.openStart,m),m,s.openEnd))}}let f=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,s),!(t.steps.length>f));h--){let m=o[h];m<0||(e=i.before(m),n=r.after(m))}}function fF(t,e,n,s,i){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(fF(r.content,e+1,n,s,r)))}if(e>s){let r=i.contentMatchAt(0),o=r.fillBefore(t).append(t);t=o.append(r.matchFragment(o).fillBefore(Re.empty,!0))}return t}function Dme(t,e,n,s){if(!s.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=wme(t.doc,e,s.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Ke(Re.from(s),0,0))}function Ome(t,e,n){let s=t.doc.resolve(e),i=t.doc.resolve(n),r=hF(s,i);for(let o=0;o<r.length;o++){let a=r[o],c=o==r.length-1;if(c&&a==0||s.node(a).type.contentMatch.validEnd)return t.delete(s.start(a),i.end(a));if(a>0&&(c||s.node(a-1).canReplace(s.index(a-1),i.indexAfter(a-1))))return t.delete(s.before(a),i.after(a))}for(let o=1;o<=s.depth&&o<=i.depth;o++)if(e-s.start(o)==s.depth-o&&n>s.end(o)&&i.end(o)-n!=i.depth-o&&s.start(o-1)==i.start(o-1)&&s.node(o-1).canReplace(s.index(o-1),i.index(o-1)))return t.delete(s.before(o),n);t.delete(e,n)}function hF(t,e){let n=[],s=Math.min(t.depth,e.depth);for(let i=s;i>=0;i--){let r=t.start(i);if(r<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(r==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==r-1)&&n.push(i)}return n}class wd extends vi{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return bs.fail("No node at attribute step's position");let s=Object.create(null);for(let r in n.attrs)s[r]=n.attrs[r];s[this.attr]=this.value;let i=n.type.create(s,null,n.marks);return bs.fromReplace(e,this.pos,this.pos+1,new Ke(Re.from(i),0,n.isLeaf?0:1))}getMap(){return cr.empty}invert(e){return new wd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wd(n.pos,n.attr,n.value)}}vi.jsonID("attr",wd);class lp extends vi{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return bs.ok(s)}getMap(){return cr.empty}invert(e){return new lp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new lp(n.attr,n.value)}}vi.jsonID("docAttr",lp);let Wd=class extends Error{};Wd=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Wd.prototype=Object.create(Error.prototype);Wd.prototype.constructor=Wd;Wd.prototype.name="TransformError";class pF{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ap}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Wd(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=Ke.empty){let i=m1(this.doc,e,n,s);return i&&this.step(i),this}replaceWith(e,n,s){return this.replace(e,n,new Ke(Re.from(s),0,0))}delete(e,n){return this.replace(e,n,Ke.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return Tme(this,e,n,s),this}replaceRangeWith(e,n,s){return Dme(this,e,n,s),this}deleteRange(e,n){return Ome(this,e,n),this}lift(e,n){return pme(this,e,n),this}join(e,n=1){return Eme(this,e,n),this}wrap(e,n){return vme(this,e,n),this}setBlockType(e,n=e,s,i=null){return bme(this,e,n,s,i),this}setNodeMarkup(e,n,s=null,i){return xme(this,e,n,s,i),this}setNodeAttribute(e,n,s){return this.step(new wd(e,n,s)),this}setDocAttribute(e,n){return this.step(new lp(e,n)),this}addNodeMark(e,n){return this.step(new xl(e,n)),this}removeNodeMark(e,n){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n instanceof Sn)n.isInSet(s.marks)&&this.step(new pu(e,n));else{let i=s.marks,r,o=[];for(;r=n.isInSet(i);)o.push(new pu(e,r)),i=r.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,s){return _me(this,e,n,s),this}addMark(e,n,s){return dme(this,e,n,s),this}removeMark(e,n,s){return fme(this,e,n,s),this}clearIncompatible(e,n,s){return EC(this,e,n,s),this}}const Gx=Object.create(null);class Ft{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new Rme(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Ke.empty){let s=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=s,s=s.lastChild;let r=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:c,$to:u}=o[a],d=e.mapping.slice(r);e.replaceRange(d.map(c.pos),d.map(u.pos),a?Ke.empty:n),a==0&&SR(e,r,(s?s.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,i=this.ranges;for(let r=0;r<i.length;r++){let{$from:o,$to:a}=i[r],c=e.mapping.slice(s),u=c.map(o.pos),d=c.map(a.pos);r?e.deleteRange(u,d):(e.replaceRangeWith(u,d,n),SR(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let i=e.parent.inlineContent?new At(e):rd(e.node(0),e.parent,e.pos,e.index(),n,s);if(i)return i;for(let r=e.depth-1;r>=0;r--){let o=n<0?rd(e.node(0),e.node(r),e.before(r+1),e.index(r),n,s):rd(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,n,s);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new mr(e.node(0))}static atStart(e){return rd(e,e,0,0,1)||new mr(e)}static atEnd(e){return rd(e,e,e.content.size,e.childCount,-1)||new mr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Gx[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in Gx)throw new RangeError("Duplicate use of selection JSON ID "+e);return Gx[e]=n,n.prototype.jsonID=e,n}getBookmark(){return At.between(this.$anchor,this.$head).getBookmark()}}Ft.prototype.visible=!0;class Rme{constructor(e,n){this.$from=e,this.$to=n}}let xR=!1;function _R(t){!xR&&!t.parent.inlineContent&&(xR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class At extends Ft{constructor(e,n=e){_R(e),_R(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return Ft.near(s);let i=e.resolve(n.map(this.anchor));return new At(i.parent.inlineContent?i:s,s)}replace(e,n=Ke.empty){if(super.replace(e,n),n==Ke.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof At&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new g1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new At(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let i=e.resolve(n);return new this(i,s==n?i:e.resolve(s))}static between(e,n,s){let i=e.pos-n.pos;if((!s||i)&&(s=i>=0?1:-1),!n.parent.inlineContent){let r=Ft.findFrom(n,s,!0)||Ft.findFrom(n,-s,!0);if(r)n=r.$head;else return Ft.near(n,s)}return e.parent.inlineContent||(i==0?e=n:(e=(Ft.findFrom(e,-s,!0)||Ft.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new At(e,n)}}Ft.jsonID("text",At);class g1{constructor(e,n){this.anchor=e,this.head=n}map(e){return new g1(e.map(this.anchor),e.map(this.head))}resolve(e){return At.between(e.resolve(this.anchor),e.resolve(this.head))}}class ot extends Ft{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:i}=n.mapResult(this.anchor),r=e.resolve(i);return s?Ft.near(r):new ot(r)}content(){return new Ke(Re.from(this.node),0,0)}eq(e){return e instanceof ot&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new CC(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ot(e.resolve(n.anchor))}static create(e,n){return new ot(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ot.prototype.visible=!1;Ft.jsonID("node",ot);class CC{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new g1(s,s):new CC(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&ot.isSelectable(s)?new ot(n):Ft.near(n)}}class mr extends Ft{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Ke.empty){if(n==Ke.empty){e.delete(0,e.doc.content.size);let s=Ft.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new mr(e)}map(e){return new mr(e)}eq(e){return e instanceof mr}getBookmark(){return Mme}}Ft.jsonID("all",mr);const Mme={map(){return this},resolve(t){return new mr(t)}};function rd(t,e,n,s,i,r=!1){if(e.inlineContent)return At.create(t,n);for(let o=s-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!r&&ot.isSelectable(a))return ot.create(t,n-(i<0?a.nodeSize:0))}else{let c=rd(t,a,n+i,i<0?a.childCount:0,i,r);if(c)return c}n+=a.nodeSize*i}return null}function SR(t,e,n){let s=t.steps.length-1;if(s<e)return;let i=t.steps[s];if(!(i instanceof Ts||i instanceof Ms))return;let r=t.mapping.maps[s],o;r.forEach((a,c,u,d)=>{o==null&&(o=d)}),t.setSelection(Ft.near(t.doc.resolve(o),n))}const ER=1,hg=2,wR=4;class Ime extends pF{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ER)&~hg,this.storedMarks=null,this}get selectionSet(){return(this.updated&ER)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hg,this}ensureMarks(e){return Sn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hg)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~hg,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Sn.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),!e)return this.deleteRange(n,s);let r=this.storedMarks;if(!r){let o=this.doc.resolve(n);r=s==n?o.marks():o.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,i.text(e,r)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Ft.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=wR,this}get scrolledIntoView(){return(this.updated&wR)>0}}function CR(t,e){return!e||!t?t:t.bind(e)}class Gf{constructor(e,n,s){this.name=e,this.init=CR(n.init,s),this.apply=CR(n.apply,s)}}const Nme=[new Gf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Gf("selection",{init(t,e){return t.selection||Ft.atStart(e.doc)},apply(t){return t.selection}}),new Gf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,s){return s.selection.$cursor?t.storedMarks:null}}),new Gf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class qx{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Nme.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new Gf(s.key,s.spec.state,s))})}}class fd{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let i=this.config.plugins[s];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),i=null;for(;;){let r=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let c=i?i[o].n:0,u=i?i[o].state:this,d=c<n.length&&a.spec.appendTransaction.call(a,c?n.slice(c):n,u,s);if(d&&s.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:s,n:n.length}:{state:this,n:0})}n.push(d),s=s.applyInner(d),r=!0}i&&(i[o]={state:s,n:n.length})}}if(!r)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new fd(this.config),s=this.config.fields;for(let i=0;i<s.length;i++){let r=s[i];n[r.name]=r.apply(e,this[r.name],this,n)}return n}get tr(){return new Ime(this)}static create(e){let n=new qx(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new fd(n);for(let i=0;i<n.fields.length;i++)s[n.fields[i].name]=n.fields[i].init(e,s);return s}reconfigure(e){let n=new qx(this.schema,e.plugins),s=n.fields,i=new fd(n);for(let r=0;r<s.length;r++){let o=s[r].name;i[o]=this.hasOwnProperty(o)?this[o]:s[r].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[s],r=i.spec.state;r&&r.toJSON&&(n[s]=r.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new qx(e.schema,e.plugins),r=new fd(i);return i.fields.forEach(o=>{if(o.name=="doc")r.doc=io.fromJSON(e.schema,n.doc);else if(o.name=="selection")r.selection=Ft.fromJSON(r.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(r.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let a in s){let c=s[a],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){r[o.name]=u.fromJSON.call(c,e,n[a],r);return}}r[o.name]=o.init(e,r)}}),r}}function mF(t,e,n){for(let s in t){let i=t[s];i instanceof Function?i=i.bind(e):s=="handleDOMEvents"&&(i=mF(i,e,{})),n[s]=i}return n}class ls{constructor(e){this.spec=e,this.props={},e.props&&mF(e.props,this,this.props),this.key=e.key?e.key.key:gF("plugin")}getState(e){return e[this.key]}}const Kx=Object.create(null);function gF(t){return t in Kx?t+"$"+ ++Kx[t]:(Kx[t]=0,t+"$")}class Ps{constructor(e="key"){this.key=gF(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const AC=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function vF(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const bF=(t,e,n)=>{let s=vF(t,n);if(!s)return!1;let i=kC(s);if(!i){let o=s.blockRange(),a=o&&lf(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let r=i.nodeBefore;if(kF(t,i,e,-1))return!0;if(s.parent.content.size==0&&(Gd(r,"end")||ot.isSelectable(r)))for(let o=s.depth;;o--){let a=m1(t.doc,s.before(o),s.after(o),Ke.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(Gd(r,"end")?Ft.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):ot.create(c.doc,i.pos-r.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||s.node(o-1).childCount>1)break}return r.isAtom&&i.depth==s.depth-1?(e&&e(t.tr.delete(i.pos-r.nodeSize,i.pos).scrollIntoView()),!0):!1},Pme=(t,e,n)=>{let s=vF(t,n);if(!s)return!1;let i=kC(s);return i?yF(t,i,e):!1},$me=(t,e,n)=>{let s=_F(t,n);if(!s)return!1;let i=TC(s);return i?yF(t,i,e):!1};function yF(t,e,n){let s=e.nodeBefore,i=s,r=e.pos-1;for(;!i.isTextblock;r--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let o=e.nodeAfter,a=o,c=e.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let u=m1(t.doc,r,c,Ke.empty);if(!u||u.from!=r||u instanceof Ts&&u.slice.size>=c-r)return!1;if(n){let d=t.tr.step(u);d.setSelection(At.create(d.doc,r)),n(d.scrollIntoView())}return!0}function Gd(t,e,n=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const xF=(t,e,n)=>{let{$head:s,empty:i}=t.selection,r=s;if(!i)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):s.parentOffset>0)return!1;r=kC(s)}let o=r&&r.nodeBefore;return!o||!ot.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ot.create(t.doc,r.pos-o.nodeSize)).scrollIntoView()),!0)};function kC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function _F(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const SF=(t,e,n)=>{let s=_F(t,n);if(!s)return!1;let i=TC(s);if(!i)return!1;let r=i.nodeAfter;if(kF(t,i,e,1))return!0;if(s.parent.content.size==0&&(Gd(r,"start")||ot.isSelectable(r))){let o=m1(t.doc,s.before(),s.after(),Ke.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Gd(r,"start")?Ft.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ot.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return r.isAtom&&i.depth==s.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+r.nodeSize).scrollIntoView()),!0):!1},EF=(t,e,n)=>{let{$head:s,empty:i}=t.selection,r=s;if(!i)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;r=TC(s)}let o=r&&r.nodeAfter;return!o||!ot.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ot.create(t.doc,r.pos)).scrollIntoView()),!0)};function TC(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Lme=(t,e)=>{let n=t.selection,s=n instanceof ot,i;if(s){if(n.node.isTextblock||!Jl(t.doc,n.from))return!1;i=n.from}else if(i=p1(t.doc,n.from,-1),i==null)return!1;if(e){let r=t.tr.join(i);s&&r.setSelection(ot.create(r.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(r.scrollIntoView())}return!0},Fme=(t,e)=>{let n=t.selection,s;if(n instanceof ot){if(n.node.isTextblock||!Jl(t.doc,n.to))return!1;s=n.to}else if(s=p1(t.doc,n.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},Vme=(t,e)=>{let{$from:n,$to:s}=t.selection,i=n.blockRange(s),r=i&&lf(i);return r==null?!1:(e&&e(t.tr.lift(i,r).scrollIntoView()),!0)},wF=(t,e)=>{let{$head:n,$anchor:s}=t.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function DC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Bme=(t,e)=>{let{$head:n,$anchor:s}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let i=n.node(-1),r=n.indexAfter(-1),o=DC(i.contentMatchAt(r));if(!o||!i.canReplaceWith(r,r,o))return!1;if(e){let a=n.after(),c=t.tr.replaceWith(a,a,o.createAndFill());c.setSelection(Ft.near(c.doc.resolve(a),1)),e(c.scrollIntoView())}return!0},CF=(t,e)=>{let n=t.selection,{$from:s,$to:i}=n;if(n instanceof mr||s.parent.inlineContent||i.parent.inlineContent)return!1;let r=DC(i.parent.contentMatchAt(i.indexAfter()));if(!r||!r.isTextblock)return!1;if(e){let o=(!s.parentOffset&&i.index()<i.parent.childCount?s:i).pos,a=t.tr.insert(o,r.createAndFill());a.setSelection(At.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},AF=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Sa(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}let s=n.blockRange(),i=s&&lf(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)};function Ume(t){return(e,n)=>{let{$from:s,$to:i}=e.selection;if(e.selection instanceof ot&&e.selection.node.isBlock)return!s.parentOffset||!Sa(e.doc,s.pos)?!1:(n&&n(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let r=[],o,a,c=!1,u=!1;for(let m=s.depth;;m--)if(s.node(m).isBlock){c=s.end(m)==s.pos+(s.depth-m),u=s.start(m)==s.pos-(s.depth-m),a=DC(s.node(m-1).contentMatchAt(s.indexAfter(m-1))),r.unshift(c&&a?{type:a}:null),o=m;break}else{if(m==1)return!1;r.unshift(null)}let d=e.tr;(e.selection instanceof At||e.selection instanceof mr)&&d.deleteSelection();let f=d.mapping.map(s.pos),h=Sa(d.doc,f,r.length,r);if(h||(r[0]=a?{type:a}:null,h=Sa(d.doc,f,r.length,r)),!h)return!1;if(d.split(f,r.length,r),!c&&u&&s.node(o).type!=a){let m=d.mapping.map(s.before(o)),g=d.doc.resolve(m);a&&s.node(o-1).canReplaceWith(g.index(),g.index()+1,a)&&d.setNodeMarkup(d.mapping.map(s.before(o)),a)}return n&&n(d.scrollIntoView()),!0}}const Hme=Ume(),zme=(t,e)=>{let{$from:n,to:s}=t.selection,i,r=n.sharedDepth(s);return r==0?!1:(i=n.before(r),e&&e(t.tr.setSelection(ot.create(t.doc,i))),!0)};function jme(t,e,n){let s=e.nodeBefore,i=e.nodeAfter,r=e.index();return!s||!i||!s.type.compatibleContent(i.type)?!1:!s.content.size&&e.parent.canReplace(r-1,r)?(n&&n(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(r,r+1)||!(i.isTextblock||Jl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function kF(t,e,n,s){let i=e.nodeBefore,r=e.nodeAfter,o,a,c=i.type.spec.isolating||r.type.spec.isolating;if(!c&&jme(t,e,n))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(r.type))&&a.matchType(o[0]||r.type).validEnd){if(n){let m=e.pos+r.nodeSize,g=Re.empty;for(let x=o.length-1;x>=0;x--)g=Re.from(o[x].create(null,g));g=Re.from(i.copy(g));let y=t.tr.step(new Ms(e.pos-1,m,e.pos,m,new Ke(g,1,0),o.length,!0)),b=y.doc.resolve(m+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&Jl(y.doc,b.pos)&&y.join(b.pos),n(y.scrollIntoView())}return!0}let d=r.type.spec.isolating||s>0&&c?null:Ft.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),h=f&&lf(f);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(f,h).scrollIntoView()),!0;if(u&&Gd(r,"start",!0)&&Gd(i,"end")){let m=i,g=[];for(;g.push(m),!m.isTextblock;)m=m.lastChild;let y=r,b=1;for(;!y.isTextblock;y=y.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){let x=Re.empty;for(let C=g.length-1;C>=0;C--)x=Re.from(g[C].copy(x));let E=t.tr.step(new Ms(e.pos-g.length,e.pos+r.nodeSize,e.pos+b,e.pos+r.nodeSize-b,new Ke(x,g.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function TF(t){return function(e,n){let s=e.selection,i=t<0?s.$from:s.$to,r=i.depth;for(;i.node(r).isInline;){if(!r)return!1;r--}return i.node(r).isTextblock?(n&&n(e.tr.setSelection(At.create(e.doc,t<0?i.start(r):i.end(r)))),!0):!1}}const Wme=TF(-1),Gme=TF(1);function qme(t,e=null){return function(n,s){let{$from:i,$to:r}=n.selection,o=i.blockRange(r),a=o&&wC(o,t,e);return a?(s&&s(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function AR(t,e=null){return function(n,s){let i=!1;for(let r=0;r<n.selection.ranges.length&&!i;r++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(o,a,(c,u)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)i=!0;else{let d=n.doc.resolve(u),f=d.index();i=d.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(s){let r=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];r.setBlockType(a,c,t,e)}s(r.scrollIntoView())}return!0}}function OC(...t){return function(e,n,s){for(let i=0;i<t.length;i++)if(t[i](e,n,s))return!0;return!1}}OC(AC,bF,xF);OC(AC,SF,EF);OC(wF,CF,AF,Hme);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Kme(t,e=null){return function(n,s){let{$from:i,$to:r}=n.selection,o=i.blockRange(r);if(!o)return!1;let a=s?n.tr:null;return Yme(a,o,t,e)?(s&&s(a.scrollIntoView()),!0):!1}}function Yme(t,e,n,s=null){let i=!1,r=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);r=new fb(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new fb(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=wC(r,n,s,e);return a?(t&&Xme(t,e,a,i,n),!0):!1}function Xme(t,e,n,s,i){let r=Re.empty;for(let d=n.length-1;d>=0;d--)r=Re.from(n[d].type.create(n[d].attrs,r));t.step(new Ms(e.start-(s?2:0),e.end,e.start,e.end,new Ke(r,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==i&&(o=d+1);let a=n.length-o,c=e.start+n.length-(s?2:0),u=e.parent;for(let d=e.startIndex,f=e.endIndex,h=!0;d<f;d++,h=!1)!h&&Sa(t.doc,c,a)&&(t.split(c,a),c+=2*a),c+=u.child(d).nodeSize;return t}function Jme(t){return function(e,n){let{$from:s,$to:i}=e.selection,r=s.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return r?n?s.node(r.depth-1).type==t?Qme(e,n,t,r):Zme(e,n,r):!0:!1}}function Qme(t,e,n,s){let i=t.tr,r=s.end,o=s.$to.end(s.depth);r<o&&(i.step(new Ms(r-1,o,r,o,new Ke(Re.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new fb(i.doc.resolve(s.$from.pos),i.doc.resolve(o),s.depth));const a=lf(s);if(a==null)return!1;i.lift(s,a);let c=i.doc.resolve(i.mapping.map(r,-1)-1);return Jl(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function Zme(t,e,n){let s=t.tr,i=n.parent;for(let m=n.end,g=n.endIndex-1,y=n.startIndex;g>y;g--)m-=i.child(g).nodeSize,s.delete(m-1,m+1);let r=s.doc.resolve(n.start),o=r.nodeAfter;if(s.mapping.map(n.end)!=n.start+r.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,c=n.endIndex==i.childCount,u=r.node(-1),d=r.index(-1);if(!u.canReplace(d+(a?0:1),d+1,o.content.append(c?Re.empty:Re.from(i))))return!1;let f=r.pos,h=f+o.nodeSize;return s.step(new Ms(f-(a?1:0),h+(c?1:0),f+1,h-1,new Ke((a?Re.empty:Re.from(i.copy(Re.empty))).append(c?Re.empty:Re.from(i.copy(Re.empty))),a?0:1,c?0:1),a?0:1)),e(s.scrollIntoView()),!0}function ege(t){return function(e,n){let{$from:s,$to:i}=e.selection,r=s.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!r)return!1;let o=r.startIndex;if(o==0)return!1;let a=r.parent,c=a.child(o-1);if(c.type!=t)return!1;if(n){let u=c.lastChild&&c.lastChild.type==a.type,d=Re.from(u?t.create():null),f=new Ke(Re.from(t.create(null,Re.from(a.type.create(null,d)))),u?3:1,0),h=r.start,m=r.end;n(e.tr.step(new Ms(h-(u?3:1),m,h,m,f,1,!0)).scrollIntoView())}return!0}}const zs=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},qd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let US=null;const ra=function(t,e,n){let s=US||(US=document.createRange());return s.setEnd(t,n??t.nodeValue.length),s.setStart(t,e||0),s},tge=function(){US=null},mu=function(t,e,n,s){return n&&(kR(t,e,n,s,-1)||kR(t,e,n,s,1))},nge=/^(img|br|input|textarea|hr)$/i;function kR(t,e,n,s,i){for(var r;;){if(t==n&&e==s)return!0;if(e==(i<0?0:Pr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Wp(t)||nge.test(t.nodeName)||t.contentEditable=="false")return!1;e=zs(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((r=o.pmViewDesc)===null||r===void 0)&&r.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?Pr(t):0}else return!1}}function Pr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sge(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Pr(t)}else if(t.parentNode&&!Wp(t))e=zs(t),t=t.parentNode;else return null}}function ige(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Wp(t))e=zs(t)+1,t=t.parentNode;else return null}}function rge(t,e,n){for(let s=e==0,i=e==Pr(t);s||i;){if(t==n)return!0;let r=zs(t);if(t=t.parentNode,!t)return!1;s=s&&r==0,i=i&&r==Pr(t)}}function Wp(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const v1=function(t){return t.focusNode&&mu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function kc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function oge(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function age(t,e,n){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:Math.min(Pr(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:Math.min(Pr(s.startContainer),s.startOffset)}}}const Ro=typeof navigator<"u"?navigator:null,TR=typeof document<"u"?document:null,Ql=Ro&&Ro.userAgent||"",HS=/Edge\/(\d+)/.exec(Ql),DF=/MSIE \d/.exec(Ql),zS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ql),Xi=!!(DF||zS||HS),Ml=DF?document.documentMode:zS?+zS[1]:HS?+HS[1]:0,Vr=!Xi&&/gecko\/(\d+)/i.test(Ql);Vr&&+(/Firefox\/(\d+)/.exec(Ql)||[0,0])[1];const jS=!Xi&&/Chrome\/(\d+)/.exec(Ql),di=!!jS,OF=jS?+jS[1]:0,Ri=!Xi&&!!Ro&&/Apple Computer/.test(Ro.vendor),Kd=Ri&&(/Mobile\/\w+/.test(Ql)||!!Ro&&Ro.maxTouchPoints>2),Nr=Kd||(Ro?/Mac/.test(Ro.platform):!1),lge=Ro?/Win/.test(Ro.platform):!1,pa=/Android \d/.test(Ql),Gp=!!TR&&"webkitFontSmoothing"in TR.documentElement.style,cge=Gp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function uge(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Xo(t,e){return typeof t=="number"?t:t[e]}function dge(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,s=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*s}}function DR(t,e,n){let s=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,r=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=qd(o);continue}let a=o,c=a==r.body,u=c?uge(r):dge(a),d=0,f=0;if(e.top<u.top+Xo(s,"top")?f=-(u.top-e.top+Xo(i,"top")):e.bottom>u.bottom-Xo(s,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Xo(i,"top")-u.top:e.bottom-u.bottom+Xo(i,"bottom")),e.left<u.left+Xo(s,"left")?d=-(u.left-e.left+Xo(i,"left")):e.right>u.right-Xo(s,"right")&&(d=e.right-u.right+Xo(i,"right")),d||f)if(c)r.defaultView.scrollBy(d,f);else{let m=a.scrollLeft,g=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let y=a.scrollLeft-m,b=a.scrollTop-g;e={left:e.left-y,top:e.top-b,right:e.right-y,bottom:e.bottom-b}}let h=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(h))break;o=h=="absolute"?o.offsetParent:qd(o)}}function fge(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,i;for(let r=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(r,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=n-20){s=a,i=c.top;break}}return{refDOM:s,refTop:i,stack:RF(t.dom)}}function RF(t){let e=[],n=t.ownerDocument;for(let s=t;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=n);s=qd(s));return e}function hge({refDOM:t,refTop:e,stack:n}){let s=t?t.getBoundingClientRect().top:0;MF(n,s==0?0:s-e)}function MF(t,e){for(let n=0;n<t.length;n++){let{dom:s,top:i,left:r}=t[n];s.scrollTop!=i+e&&(s.scrollTop=i+e),s.scrollLeft!=r&&(s.scrollLeft=r)}}let qu=null;function pge(t){if(t.setActive)return t.setActive();if(qu)return t.focus(qu);let e=RF(t);t.focus(qu==null?{get preventScroll(){return qu={preventScroll:!0},!0}}:void 0),qu||(qu=!1,MF(e,0))}function IF(t,e){let n,s=2e8,i,r=0,o=e.top,a=e.top,c,u;for(let d=t.firstChild,f=0;d;d=d.nextSibling,f++){let h;if(d.nodeType==1)h=d.getClientRects();else if(d.nodeType==3)h=ra(d).getClientRects();else continue;for(let m=0;m<h.length;m++){let g=h[m];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let y=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(y<s){n=d,s=y,i=y&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,d.nodeType==1&&y&&(r=f+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!c&&g.left<=e.left&&g.right>=e.left&&(c=d,u={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(r=f+1)}}return!n&&c&&(n=c,i=u,s=0),n&&n.nodeType==3?mge(n,i):!n||s&&n.nodeType==1?{node:t,offset:r}:IF(n,i)}function mge(t,e){let n=t.nodeValue.length,s=document.createRange();for(let i=0;i<n;i++){s.setEnd(t,i+1),s.setStart(t,i);let r=nl(s,1);if(r.top!=r.bottom&&RC(e,r))return{node:t,offset:i+(e.left>=(r.left+r.right)/2?1:0)}}return{node:t,offset:0}}function RC(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function gge(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function vge(t,e,n){let{node:s,offset:i}=IF(e,n),r=-1;if(s.nodeType==1&&!s.firstChild){let o=s.getBoundingClientRect();r=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(s,i,r)}function bge(t,e,n,s){let i=-1;for(let r=e,o=!1;r!=t.dom;){let a=t.docView.nearestDesc(r,!0),c;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((c=a.dom.getBoundingClientRect()).width||c.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!o&&c.left>s.left||c.top>s.top?i=a.posBefore:(!o&&c.right<s.left||c.bottom<s.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?s.top<(c.top+c.bottom)/2:s.left<(c.left+c.right)/2)?a.posBefore:a.posAfter;r=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function NF(t,e,n){let s=t.childNodes.length;if(s&&n.top<n.bottom)for(let i=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),r=i;;){let o=t.childNodes[r];if(o.nodeType==1){let a=o.getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(RC(e,u))return NF(o,e,u)}}if((r=(r+1)%s)==i)break}return t}function yge(t,e){let n=t.dom.ownerDocument,s,i=0,r=age(n,e.left,e.top);r&&({node:s,offset:i}=r);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!RC(e,u)||(o=NF(t.dom,e,u),!o))return null}if(Ri)for(let u=o;s&&u;u=qd(u))u.draggable&&(s=void 0);if(o=gge(o,e),s){if(Vr&&s.nodeType==1&&(i=Math.min(i,s.childNodes.length),i<s.childNodes.length)){let d=s.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Gp&&i&&s.nodeType==1&&(u=s.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,s==t.dom&&i==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||s.nodeType!=1||s.childNodes[i-1].nodeName!="BR")&&(a=bge(t,s,i,e))}a==null&&(a=vge(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function OR(t){return t.top<t.bottom||t.left<t.right}function nl(t,e){let n=t.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(OR(s))return s}return Array.prototype.find.call(n,OR)||t.getBoundingClientRect()}const xge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function PF(t,e,n){let{node:s,offset:i,atom:r}=t.docView.domFromPos(e,n<0?-1:1),o=Gp||Vr;if(s.nodeType==3)if(o&&(xge.test(s.nodeValue)||(n<0?!i:i==s.nodeValue.length))){let c=nl(ra(s,i,i),n);if(Vr&&i&&/\s/.test(s.nodeValue[i-1])&&i<s.nodeValue.length){let u=nl(ra(s,i-1,i-1),-1);if(u.top==c.top){let d=nl(ra(s,i,i+1),-1);if(d.top!=c.top)return Mf(d,d.left<u.left)}}return c}else{let c=i,u=i,d=n<0?1:-1;return n<0&&!i?(u++,d=-1):n>=0&&i==s.nodeValue.length?(c--,d=1):n<0?c--:u++,Mf(nl(ra(s,c,u),d),d<0)}if(!t.state.doc.resolve(e-(r||0)).parent.inlineContent){if(r==null&&i&&(n<0||i==Pr(s))){let c=s.childNodes[i-1];if(c.nodeType==1)return Yx(c.getBoundingClientRect(),!1)}if(r==null&&i<Pr(s)){let c=s.childNodes[i];if(c.nodeType==1)return Yx(c.getBoundingClientRect(),!0)}return Yx(s.getBoundingClientRect(),n>=0)}if(r==null&&i&&(n<0||i==Pr(s))){let c=s.childNodes[i-1],u=c.nodeType==3?ra(c,Pr(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Mf(nl(u,1),!1)}if(r==null&&i<Pr(s)){let c=s.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?ra(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return Mf(nl(u,-1),!0)}return Mf(nl(s.nodeType==3?ra(s):s,-n),n>=0)}function Mf(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Yx(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function $F(t,e,n){let s=t.state,i=t.root.activeElement;s!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{s!=e&&t.updateState(s),i!=t.dom&&i&&i.focus()}}function _ge(t,e,n){let s=e.selection,i=n=="up"?s.$from:s.$to;return $F(t,e,()=>{let{node:r}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(r,!0);if(!a)break;if(a.node.isBlock){r=a.contentDOM||a.dom;break}r=a.dom.parentNode}let o=PF(t,i.pos,1);for(let a=r.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=ra(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let d=c[u];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const Sge=/[\u0590-\u08ac]/;function Ege(t,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let i=s.parentOffset,r=!i,o=i==s.parent.content.size,a=t.domSelection();return a?!Sge.test(s.parent.textContent)||!a.modify?n=="left"||n=="backward"?r:o:$F(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:d,anchorOffset:f}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let m=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:g,focusOffset:y}=t.domSelectionRange(),b=g&&!m.contains(g.nodeType==1?g:g.parentNode)||c==g&&u==y;try{a.collapse(d,f),c&&(c!=d||u!=f)&&a.extend&&a.extend(c,u)}catch{}return h!=null&&(a.caretBidiLevel=h),b}):s.pos==s.start()||s.pos==s.end()}let RR=null,MR=null,IR=!1;function wge(t,e,n){return RR==e&&MR==n?IR:(RR=e,MR=n,IR=n=="up"||n=="down"?_ge(t,e,n):Ege(t,e,n))}const Br=0,NR=1,Mc=2,Mo=3;class qp{constructor(e,n,s,i){this.parent=e,this.children=n,this.dom=s,this.contentDOM=i,this.dirty=Br,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let i=this.children[n];if(i==e)return s;s+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let r,o;if(e==this.contentDOM)r=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}else{let r,o;if(e==this.contentDOM)r=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.nextSibling}for(;r&&!((o=r.pmViewDesc)&&o.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>zs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let r=e;;r=r.parentNode){if(r==this.dom){i=!1;break}if(r.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let r=e;;r=r.parentNode){if(r==this.dom){i=!0;break}if(r.nextSibling)break}}return i??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,i=e;i;i=i.parentNode){let r=this.getDesc(i),o;if(r&&(!n||r.node))if(s&&(o=r.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))s=!1;else return r}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let i=e;i;i=i.parentNode){let r=this.getDesc(i);if(r)return r.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let i=this.children[n],r=s+i.size;if(s==e&&r!=s){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<r)return i.descAt(e-s-i.border);s=r}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,i=0;for(let r=0;s<this.children.length;s++){let o=this.children[s],a=r+o.size;if(a>e||o instanceof FF){i=e-r;break}r=a}if(i)return this.children[s].domFromPos(i-this.children[s].border,n);for(let r;s&&!(r=this.children[s-1]).size&&r instanceof LF&&r.side>=0;s--);if(n<=0){let r,o=!0;for(;r=s?this.children[s-1]:null,!(!r||r.dom.parentNode==this.contentDOM);s--,o=!1);return r&&n&&o&&!r.border&&!r.domAtom?r.domFromPos(r.size,n):{node:this.contentDOM,offset:r?zs(r.dom)+1:0}}else{let r,o=!0;for(;r=s<this.children.length?this.children[s]:null,!(!r||r.dom.parentNode==this.contentDOM);s++,o=!1);return r&&o&&!r.border&&!r.domAtom?r.domFromPos(0,n):{node:this.contentDOM,offset:r?zs(r.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,r=-1;for(let o=s,a=0;;a++){let c=this.children[a],u=o+c.size;if(i==-1&&e<=u){let d=o+c.border;if(e>=d&&n<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,n,d);e=o;for(let f=a;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=zs(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=zs(f.dom);break}n+=f.size}r==-1&&(r=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,i=!1){let r=Math.min(e,n),o=Math.max(e,n);for(let m=0,g=0;m<this.children.length;m++){let y=this.children[m],b=g+y.size;if(r>g&&o<b)return y.setSelection(e-g-y.border,n-g-y.border,s,i);g=b}let a=this.domFromPos(e,e?-1:1),c=n==e?a:this.domFromPos(n,n?-1:1),u=s.root.getSelection(),d=s.domSelectionRange(),f=!1;if((Vr||Ri)&&e==n){let{node:m,offset:g}=a;if(m.nodeType==3){if(f=!!(g&&m.nodeValue[g-1]==`
`),f&&g==m.nodeValue.length)for(let y=m,b;y;y=y.parentNode){if(b=y.nextSibling){b.nodeName=="BR"&&(a=c={node:b.parentNode,offset:zs(b)+1});break}let x=y.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let y=m.childNodes[g-1];f=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Vr&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||f&&Ri)&&mu(a.node,a.offset,d.anchorNode,d.anchorOffset)&&mu(c.node,c.offset,d.focusNode,d.focusOffset))return;let h=!1;if((u.extend||e==n)&&!(f&&Vr)){u.collapse(a.node,a.offset);try{e!=n&&u.extend(c.node,c.offset),h=!0}catch{}}if(!h){if(e>n){let g=a;a=c,c=g}let m=document.createRange();m.setEnd(c.node,c.offset),m.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,i=0;i<this.children.length;i++){let r=this.children[i],o=s+r.size;if(s==o?e<=o&&n>=s:e<o&&n>s){let a=s+r.border,c=o-r.border;if(e>=a&&n<=c){this.dirty=e==s||n==o?Mc:NR,e==a&&n==c&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=Mo:r.markDirty(e-a,n-a);return}else r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM&&!r.children.length?Mc:Mo}s=o}this.dirty=Mc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Mc:NR;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class LF extends qp{constructor(e,n,s,i){let r,o=n.type.toDOM;if(typeof o=="function"&&(o=o(s,()=>{if(!r)return i;if(r.parent)return r.parent.posBeforeChild(r)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,r=this}matchesWidget(e){return this.dirty==Br&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Cge extends qp{constructor(e,n,s,i){super(e,[],n,null),this.textDOM=s,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class gu extends qp{constructor(e,n,s,i,r){super(e,[],s,i),this.mark=n,this.spec=r}static create(e,n,s,i){let r=i.nodeViews[n.type.name],o=r&&r(n,i,s);return(!o||!o.dom)&&(o=Cu.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new gu(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Mo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Mo&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Br){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Br}}slice(e,n,s){let i=gu.create(this.parent,this.mark,!0,s),r=this.children,o=this.size;n<o&&(r=GS(r,n,o,s)),e>0&&(r=GS(r,0,e,s));for(let a=0;a<r.length;a++)r[a].parent=i;return i.children=r,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Il extends qp{constructor(e,n,s,i,r,o,a,c,u){super(e,[],r,o),this.node=n,this.outerDeco=s,this.innerDeco=i,this.nodeDOM=a}static create(e,n,s,i,r,o){let a=r.nodeViews[n.type.name],c,u=a&&a(n,r,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},s,i),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=Cu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let h=d;return d=UF(d,s,n),u?c=new Age(e,n,s,i,d,f||null,h,u,r,o+1):n.isText?new b1(e,n,s,i,d,h,r):new Il(e,n,s,i,d,f||null,h,r,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Re.empty)}return e}matchesNode(e,n,s){return this.dirty==Br&&e.eq(this.node)&&pb(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,i=n,r=e.composing?this.localCompositionInfo(e,n):null,o=r&&r.pos>-1?r:null,a=r&&r.pos<0,c=new Tge(this,o&&o.node,e);Rge(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,s,e):u.type.side>=0&&!f&&c.syncToMarks(d==this.node.childCount?Sn.none:this.node.child(d).marks,s,e),c.placeWidget(u,e,i)},(u,d,f,h)=>{c.syncToMarks(u.marks,s,e);let m;c.findNodeMatch(u,d,f,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(m=c.findIndexWithChild(r.node))>-1&&c.updateNodeAt(u,d,f,m,e)||c.updateNextNode(u,d,f,e,h,i)||c.addNode(u,d,f,e,i),i+=u.nodeSize}),c.syncToMarks([],s,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Mc)&&(o&&this.protectLocalComposition(e,o),VF(this.contentDOM,this.children,e),Kd&&Mge(this.dom))}localCompositionInfo(e,n){let{from:s,to:i}=e.state.selection;if(!(e.state.selection instanceof At)||s<n||i>n+this.node.content.size)return null;let r=e.input.compositionNode;if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let o=r.nodeValue,a=Ige(this.node.content,o,s-n,i-n);return a<0?null:{node:r,pos:a,text:o}}else return{node:r,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:i}){if(this.getDesc(n))return;let r=n;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let o=new Cge(this,r,n,i);e.input.compositionNodes.push(o),this.children=GS(this.children,s,s+i.length,e,o)}update(e,n,s,i){return this.dirty==Mo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,i),!0)}updateInner(e,n,s,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Br}updateOuterDeco(e){if(pb(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=BF(this.dom,this.nodeDOM,WS(this.outerDeco,this.node,n),WS(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function PR(t,e,n,s,i){UF(s,e,t);let r=new Il(void 0,t,e,n,s,s,s,i,0);return r.contentDOM&&r.updateChildren(i,0),r}class b1 extends Il{constructor(e,n,s,i,r,o,a){super(e,n,s,i,r,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,i){return this.dirty==Mo||this.dirty!=Br&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Br||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Br,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let i=this.node.cut(e,n),r=document.createTextNode(i.text);return new b1(this.parent,i,this.outerDeco,this.innerDeco,r,r,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Mo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class FF extends qp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Br&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Age extends Il{constructor(e,n,s,i,r,o,a,c,u,d){super(e,n,s,i,r,o,a,u,d),this.spec=c}update(e,n,s,i){if(this.dirty==Mo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let r=this.spec.update(e,n,s);return r&&this.updateInner(e,n,s,i),r}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,i){this.spec.setSelection?this.spec.setSelection(e,n,s.root):super.setSelection(e,n,s,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function VF(t,e,n){let s=t.firstChild,i=!1;for(let r=0;r<e.length;r++){let o=e[r],a=o.dom;if(a.parentNode==t){for(;a!=s;)s=$R(s),i=!0;s=s.nextSibling}else i=!0,t.insertBefore(a,s);if(o instanceof gu){let c=s?s.previousSibling:t.lastChild;VF(o.contentDOM,o.children,n),s=c?c.nextSibling:t.firstChild}}for(;s;)s=$R(s),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const bh=function(t){t&&(this.nodeName=t)};bh.prototype=Object.create(null);const Ic=[new bh];function WS(t,e,n){if(t.length==0)return Ic;let s=n?Ic[0]:new bh,i=[s];for(let r=0;r<t.length;r++){let o=t[r].type.attrs;if(o){o.nodeName&&i.push(s=new bh(o.nodeName));for(let a in o){let c=o[a];c!=null&&(n&&i.length==1&&i.push(s=new bh(e.isInline?"span":"div")),a=="class"?s.class=(s.class?s.class+" ":"")+c:a=="style"?s.style=(s.style?s.style+";":"")+c:a!="nodeName"&&(s[a]=c))}}}return i}function BF(t,e,n,s){if(n==Ic&&s==Ic)return e;let i=e;for(let r=0;r<s.length;r++){let o=s[r],a=n[r];if(r){let c;a&&a.nodeName==o.nodeName&&i!=t&&(c=i.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=Ic[0]),i=c}kge(i,a||Ic[0],o)}return i}function kge(t,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&t.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&t.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let r=0;r<s.length;r++)i.indexOf(s[r])==-1&&t.classList.remove(s[r]);for(let r=0;r<i.length;r++)s.indexOf(i[r])==-1&&t.classList.add(i[r]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=s.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function UF(t,e,n){return BF(t,t,Ic,WS(e,n,t.nodeType!=1))}function pb(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function $R(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Tge{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Dge(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s){let i=0,r=this.stack.length>>1,o=Math.min(r,e.length);for(;i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=Br,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[r])&&!this.isLocked(u.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=gu.create(this.top,e[r],n,s);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}}findNodeMatch(e,n,s,i){let r=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,s))r=this.top.children.indexOf(o,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let u=this.top.children[a];if(u.matchesNode(e,n,s)&&!this.preMatch.matched.has(u)){r=a;break}}return r<0?!1:(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(e,n,s,i,r){let o=this.top.children[i];return o.dirty==Mo&&o.dom==o.contentDOM&&(o.dirty=Mc),o.update(e,n,s,r)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==s)return i}return-1}e=n}}updateNextNode(e,n,s,i,r,o){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof Il){let u=this.preMatch.matched.get(c);if(u!=null&&u!=r)return!1;let d=c.dom,f,h=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Mo&&pb(n,c.outerDeco));if(!h&&c.update(e,n,s,i))return this.destroyBetween(this.index,a),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(c,e,n,s,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Mc,f.updateChildren(i,o+1),f.dirty=Br),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,i,r,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!pb(s,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Il.create(this.top,n,s,i,r,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let c of a.children)c.parent=a}return e.destroy(),a}addNode(e,n,s,i,r){let o=Il.create(this.top,e,n,s,i,r);o.contentDOM&&o.updateChildren(i,r+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,s){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let r=new LF(this.top,e,n,s);this.top.children.splice(this.index++,0,r),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof gu;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof b1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ri||di)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let i=new FF(this.top,[],s,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Dge(t,e){let n=e,s=n.children.length,i=t.childCount,r=new Map,o=[];e:for(;i>0;){let a;for(;;)if(s){let u=n.children[s-1];if(u instanceof gu)n=u,s=u.children.length;else{a=u,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let c=a.node;if(c){if(c!=t.child(i-1))break;--i,r.set(a,i),o.push(a)}}return{index:i,matched:r,matches:o.reverse()}}function Oge(t,e){return t.type.side-e.type.side}function Rge(t,e,n,s){let i=e.locals(t),r=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let d=t.child(u);s(d,i,e.forChild(r,d),u),r+=d.nodeSize}return}let o=0,a=[],c=null;for(let u=0;;){let d,f;for(;o<i.length&&i[o].to==r;){let b=i[o++];b.widget&&(d?(f||(f=[d])).push(b):d=b)}if(d)if(f){f.sort(Oge);for(let b=0;b<f.length;b++)n(f[b],u,!!c)}else n(d,u,!!c);let h,m;if(c)m=-1,h=c,c=null;else if(u<t.childCount)m=u,h=t.child(u++);else break;for(let b=0;b<a.length;b++)a[b].to<=r&&a.splice(b--,1);for(;o<i.length&&i[o].from<=r&&i[o].to>r;)a.push(i[o++]);let g=r+h.nodeSize;if(h.isText){let b=g;o<i.length&&i[o].from<b&&(b=i[o].from);for(let x=0;x<a.length;x++)a[x].to<b&&(b=a[x].to);b<g&&(c=h.cut(b-r),h=h.cut(0,b-r),g=b,m=-1)}else for(;o<i.length&&i[o].to<g;)o++;let y=h.isInline&&!h.isLeaf?a.filter(b=>!b.inline):a.slice();s(h,y,e.forChild(r,h),m),r=g}}function Mge(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ige(t,e,n,s){for(let i=0,r=0;i<t.childCount&&r<=s;){let o=t.child(i++),a=r;if(r+=o.nodeSize,!o.isText)continue;let c=o.text;for(;i<t.childCount;){let u=t.child(i++);if(r+=u.nodeSize,!u.isText)break;c+=u.text}if(r>=n){if(r>=s&&c.slice(s-e.length-a,s-a)==e)return s-e.length;let u=a<s?c.lastIndexOf(e,s-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==s&&c.length>=s+e.length-a&&c.slice(s-a,s-a+e.length)==e)return s}}return-1}function GS(t,e,n,s,i){let r=[];for(let o=0,a=0;o<t.length;o++){let c=t[o],u=a,d=a+=c.size;u>=n||d<=e?r.push(c):(u<e&&r.push(c.slice(0,e-u,s)),i&&(r.push(i),i=void 0),d>n&&r.push(c.slice(n-u,c.size,s)))}return r}function MC(t,e=null){let n=t.domSelectionRange(),s=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),r=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=s.resolve(o),c,u;if(v1(n)){for(c=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&ot.isSelectable(f)&&i.parent&&!(f.isInline&&rge(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;u=new ot(o==h?a:s.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=o,h=o;for(let m=0;m<n.rangeCount;m++){let g=n.getRangeAt(m);f=Math.min(f,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(f<0)return null;[c,o]=h==t.state.selection.anchor?[h,f]:[f,h],a=s.resolve(o)}else c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=s.resolve(c);if(!u){let f=e=="pointer"||t.state.selection.head<a.pos&&!r?1:-1;u=IC(t,d,a,f)}return u}function HF(t){return t.editable?t.hasFocus():jF(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ea(t,e=!1){let n=t.state.selection;if(zF(t,n),!!HF(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&di){let s=t.domSelectionRange(),i=t.domObserver.currentSelection;if(s.anchorNode&&i.anchorNode&&mu(s.anchorNode,s.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Pge(t);else{let{anchor:s,head:i}=n,r,o;LR&&!(n instanceof At)&&(n.$from.parent.inlineContent||(r=FR(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=FR(t,n.to))),t.docView.setSelection(s,i,t,e),LR&&(r&&VR(r),o&&VR(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Nge(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const LR=Ri||di&&OF<63;function FR(t,e){let{node:n,offset:s}=t.docView.domFromPos(e,0),i=s<n.childNodes.length?n.childNodes[s]:null,r=s?n.childNodes[s-1]:null;if(Ri&&i&&i.contentEditable=="false")return Xx(i);if((!i||i.contentEditable=="false")&&(!r||r.contentEditable=="false")){if(i)return Xx(i);if(r)return Xx(r)}}function Xx(t){return t.contentEditable="true",Ri&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function VR(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Nge(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),s=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!HF(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Pge(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?e.collapse(n.parentNode,zs(n)+1):e.collapse(n,0),!s&&!t.state.selection.visible&&Xi&&Ml<=11&&(n.disabled=!0,n.disabled=!1)}function zF(t,e){if(e instanceof ot){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(BR(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else BR(t)}function BR(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function IC(t,e,n,s){return t.someProp("createSelectionBetween",i=>i(t,e,n))||At.between(e,n,s)}function UR(t){return t.editable&&!t.hasFocus()?!1:jF(t)}function jF(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $ge(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return mu(e.node,e.offset,n.anchorNode,n.anchorOffset)}function qS(t,e){let{$anchor:n,$head:s}=t.selection,i=e>0?n.max(s):n.min(s),r=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return r&&Ft.findFrom(r,e)}function ll(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function HR(t,e,n){let s=t.state.selection;if(s instanceof At)if(n.indexOf("s")>-1){let{$head:i}=s,r=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+r.nodeSize*(e<0?-1:1));return ll(t,new At(s.$anchor,o))}else if(s.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=qS(t.state,e);return i&&i instanceof ot?ll(t,i):!1}else if(!(Nr&&n.indexOf("m")>-1)){let i=s.$head,r=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!r||r.isText)return!1;let a=e<0?i.pos-r.nodeSize:i.pos;return r.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?ot.isSelectable(r)?ll(t,new ot(e<0?t.state.doc.resolve(i.pos-r.nodeSize):i)):Gp?ll(t,new At(t.state.doc.resolve(e<0?a:a+r.nodeSize))):!1:!1}}else return!1;else{if(s instanceof ot&&s.node.isInline)return ll(t,new At(e>0?s.$to:s.$from));{let i=qS(t.state,e);return i?ll(t,i):!1}}}function mb(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yh(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ku(t,e){return e<0?Lge(t):Fge(t)}function Lge(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let i,r,o=!1;for(Vr&&n.nodeType==1&&s<mb(n)&&yh(n.childNodes[s],-1)&&(o=!0);;)if(s>0){if(n.nodeType!=1)break;{let a=n.childNodes[s-1];if(yh(a,-1))i=n,r=--s;else if(a.nodeType==3)n=a,s=n.nodeValue.length;else break}}else{if(WF(n))break;{let a=n.previousSibling;for(;a&&yh(a,-1);)i=n.parentNode,r=zs(a),a=a.previousSibling;if(a)n=a,s=mb(n);else{if(n=n.parentNode,n==t.dom)break;s=0}}}o?KS(t,n,s):i&&KS(t,i,r)}function Fge(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let i=mb(n),r,o;for(;;)if(s<i){if(n.nodeType!=1)break;let a=n.childNodes[s];if(yh(a,1))r=n,o=++s;else break}else{if(WF(n))break;{let a=n.nextSibling;for(;a&&yh(a,1);)r=a.parentNode,o=zs(a)+1,a=a.nextSibling;if(a)n=a,s=0,i=mb(n);else{if(n=n.parentNode,n==t.dom)break;s=i=0}}}r&&KS(t,r,o)}function WF(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Vge(t,e){for(;t&&e==t.childNodes.length&&!Wp(t);)e=zs(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Bge(t,e){for(;t&&!e&&!Wp(t);)e=zs(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function KS(t,e,n){if(e.nodeType!=3){let r,o;(o=Vge(e,n))?(e=o,n=0):(r=Bge(e,n))&&(e=r,n=r.nodeValue.length)}let s=t.domSelection();if(!s)return;if(v1(s)){let r=document.createRange();r.setEnd(e,n),r.setStart(e,n),s.removeAllRanges(),s.addRange(r)}else s.extend&&s.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ea(t)},50)}function zR(t,e){let n=t.state.doc.resolve(e);if(!(di||lge)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let r=t.coordsAtPos(e-1),o=(r.top+r.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(r.left-i.left)>1)return r.left<i.left?"ltr":"rtl"}if(e<n.end()){let r=t.coordsAtPos(e+1),o=(r.top+r.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(r.left-i.left)>1)return r.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function jR(t,e,n){let s=t.state.selection;if(s instanceof At&&!s.empty||n.indexOf("s")>-1||Nr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:r}=s;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=qS(t.state,e);if(o&&o instanceof ot)return ll(t,o)}if(!i.parent.inlineContent){let o=e<0?i:r,a=s instanceof mr?Ft.near(o,e):Ft.findFrom(o,e);return a?ll(t,a):!1}return!1}function WR(t,e){if(!(t.state.selection instanceof At))return!0;let{$head:n,$anchor:s,empty:i}=t.state.selection;if(!n.sameParent(s))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let r=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let o=t.state.tr;return e<0?o.delete(n.pos-r.nodeSize,n.pos):o.delete(n.pos,n.pos+r.nodeSize),t.dispatch(o),!0}return!1}function GR(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Uge(t){if(!Ri||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;GR(t,s,"true"),setTimeout(()=>GR(t,s,"false"),20)}return!1}function Hge(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function zge(t,e){let n=e.keyCode,s=Hge(e);if(n==8||Nr&&n==72&&s=="c")return WR(t,-1)||Ku(t,-1);if(n==46&&!e.shiftKey||Nr&&n==68&&s=="c")return WR(t,1)||Ku(t,1);if(n==13||n==27)return!0;if(n==37||Nr&&n==66&&s=="c"){let i=n==37?zR(t,t.state.selection.from)=="ltr"?-1:1:-1;return HR(t,i,s)||Ku(t,i)}else if(n==39||Nr&&n==70&&s=="c"){let i=n==39?zR(t,t.state.selection.from)=="ltr"?1:-1:1;return HR(t,i,s)||Ku(t,i)}else{if(n==38||Nr&&n==80&&s=="c")return jR(t,-1,s)||Ku(t,-1);if(n==40||Nr&&n==78&&s=="c")return Uge(t)||jR(t,1,s)||Ku(t,1);if(s==(Nr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function NC(t,e){t.someProp("transformCopied",m=>{e=m(e,t)});let n=[],{content:s,openStart:i,openEnd:r}=e;for(;i>1&&r>1&&s.childCount==1&&s.firstChild.childCount==1;){i--,r--;let m=s.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),s=m.content}let o=t.someProp("clipboardSerializer")||Cu.fromSchema(t.state.schema),a=JF(),c=a.createElement("div");c.appendChild(o.serializeFragment(s,{document:a}));let u=c.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=XF[u.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let g=a.createElement(d[m]);for(;c.firstChild;)g.appendChild(c.firstChild);c.appendChild(g),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${r}${f?` -${f}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",m=>m(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:h,slice:e}}function GF(t,e,n,s,i){let r=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let c=!!e&&(s||r||!n);if(c){if(t.someProp("transformPastedText",h=>{e=h(e,r||s,t)}),r)return a=new Ke(Re.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",h=>{a=h(a,t,!0)}),a;let f=t.someProp("clipboardTextParser",h=>h(e,i,s,t));if(f)a=f;else{let h=i.marks(),{schema:m}=t.state,g=Cu.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let b=o.appendChild(document.createElement("p"));y&&b.appendChild(g.serializeNode(m.text(y,h)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),o=qge(n),Gp&&Kge(o);let u=o&&o.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Rl.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!jge.test(h.parentNode.nodeName)?{ignore:!0}:null}})),d)a=Yge(qR(a,+d[1],+d[2]),d[4]);else if(a=Ke.maxOpen(Wge(a.content,i),!0),a.openStart||a.openEnd){let f=0,h=0;for(let m=a.content.firstChild;f<a.openStart&&!m.type.spec.isolating;f++,m=m.firstChild);for(let m=a.content.lastChild;h<a.openEnd&&!m.type.spec.isolating;h++,m=m.lastChild);a=qR(a,f,h)}return t.someProp("transformPasted",f=>{a=f(a,t,c)}),a}const jge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Wge(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),r,o=[];if(t.forEach(a=>{if(!o)return;let c=i.findWrapping(a.type),u;if(!c)return o=null;if(u=o.length&&r.length&&KF(c,r,a,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=YF(o[o.length-1],r.length));let d=qF(a,c);o.push(d),i=i.matchType(d.type),r=c}}),o)return Re.from(o)}return t}function qF(t,e,n=0){for(let s=e.length-1;s>=n;s--)t=e[s].create(null,Re.from(t));return t}function KF(t,e,n,s,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let r=KF(t,e,n,s.lastChild,i+1);if(r)return s.copy(s.content.replaceChild(s.childCount-1,r));if(s.contentMatchAt(s.childCount).matchType(i==t.length-1?n.type:t[i+1]))return s.copy(s.content.append(Re.from(qF(n,t,i+1))))}}function YF(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,YF(t.lastChild,e-1)),s=t.contentMatchAt(t.childCount).fillBefore(Re.empty,!0);return t.copy(n.append(s))}function YS(t,e,n,s,i,r){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(r=0),i<s-1&&(a=YS(a,e,n,s,i+1,r)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,r<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(Re.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function qR(t,e,n){return e<t.openStart&&(t=new Ke(YS(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Ke(YS(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const XF={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let KR=null;function JF(){return KR||(KR=document.implementation.createHTMLDocument("title"))}let Jx=null;function Gge(t){let e=window.trustedTypes;return e?(Jx||(Jx=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Jx.createHTML(t)):t}function qge(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=JF().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),i;if((i=s&&XF[s[1].toLowerCase()])&&(t=i.map(r=>"<"+r+">").join("")+t+i.map(r=>"</"+r+">").reverse().join("")),n.innerHTML=Gge(t),i)for(let r=0;r<i.length;r++)n=n.querySelector(i[r])||n;return n}function Kge(t){let e=t.querySelectorAll(di?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function Yge(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return t}let{content:i,openStart:r,openEnd:o}=t;for(let a=s.length-2;a>=0;a-=2){let c=n.nodes[s[a]];if(!c||c.hasRequiredAttrs())break;i=Re.from(c.create(s[a+1],i)),r++,o++}return new Ke(i,r,o)}const Mi={},Ii={},Xge={touchstart:!0,touchmove:!0};class Jge{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Qge(t){for(let e in Mi){let n=Mi[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=s=>{eve(t,s)&&!PC(t,s)&&(t.editable||!(s.type in Ii))&&n(t,s)},Xge[e]?{passive:!0}:void 0)}Ri&&t.dom.addEventListener("input",()=>null),XS(t)}function _l(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Zge(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function XS(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>PC(t,s))})}function PC(t,e){return t.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(t,e)||e.defaultPrevented:!1})}function eve(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function tve(t,e){!PC(t,e)&&Mi[e.type]&&(t.editable||!(e.type in Ii))&&Mi[e.type](t,e)}Ii.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!ZF(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(pa&&di&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Kd&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",i=>i(t,kc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,n))||zge(t,n)?n.preventDefault():_l(t,"key")};Ii.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ii.keypress=(t,e)=>{let n=e;if(ZF(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Nr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let s=t.state.selection;if(!(s instanceof At)||!s.$from.sameParent(s.$to)){let i=String.fromCharCode(n.charCode),r=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,s.$from.pos,s.$to.pos,i,r))&&t.dispatch(r()),n.preventDefault()}};function y1(t){return{left:t.clientX,top:t.clientY}}function nve(t,e){let n=e.x-t.clientX,s=e.y-t.clientY;return n*n+s*s<100}function $C(t,e,n,s,i){if(s==-1)return!1;let r=t.state.doc.resolve(s);for(let o=r.depth+1;o>0;o--)if(t.someProp(e,a=>o>r.depth?a(t,n,r.nodeAfter,r.before(o),i,!0):a(t,n,r.node(o),r.before(o),i,!1)))return!0;return!1}function Cd(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let s=t.state.tr.setSelection(e);s.setMeta("pointer",!0),t.dispatch(s)}function sve(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&ot.isSelectable(s)?(Cd(t,new ot(n)),!0):!1}function ive(t,e){if(e==-1)return!1;let n=t.state.selection,s,i;n instanceof ot&&(s=n.node);let r=t.state.doc.resolve(e);for(let o=r.depth+1;o>0;o--){let a=o>r.depth?r.nodeAfter:r.node(o);if(ot.isSelectable(a)){s&&n.$from.depth>0&&o>=n.$from.depth&&r.before(n.$from.depth+1)==n.$from.pos?i=r.before(n.$from.depth):i=r.before(o);break}}return i!=null?(Cd(t,ot.create(t.state.doc,i)),!0):!1}function rve(t,e,n,s,i){return $C(t,"handleClickOn",e,n,s)||t.someProp("handleClick",r=>r(t,e,s))||(i?ive(t,n):sve(t,n))}function ove(t,e,n,s){return $C(t,"handleDoubleClickOn",e,n,s)||t.someProp("handleDoubleClick",i=>i(t,e,s))}function ave(t,e,n,s){return $C(t,"handleTripleClickOn",e,n,s)||t.someProp("handleTripleClick",i=>i(t,e,s))||lve(t,n,s)}function lve(t,e,n){if(n.button!=0)return!1;let s=t.state.doc;if(e==-1)return s.inlineContent?(Cd(t,At.create(s,0,s.content.size)),!0):!1;let i=s.resolve(e);for(let r=i.depth+1;r>0;r--){let o=r>i.depth?i.nodeAfter:i.node(r),a=i.before(r);if(o.inlineContent)Cd(t,At.create(s,a+1,a+1+o.content.size));else if(ot.isSelectable(o))Cd(t,ot.create(s,a));else continue;return!0}}function LC(t){return gb(t)}const QF=Nr?"metaKey":"ctrlKey";Mi.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let s=LC(t),i=Date.now(),r="singleClick";i-t.input.lastClick.time<500&&nve(n,t.input.lastClick)&&!n[QF]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?r="doubleClick":t.input.lastClick.type=="doubleClick"&&(r="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:r,button:n.button};let o=t.posAtCoords(y1(n));o&&(r=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new cve(t,o,n,!!s)):(r=="doubleClick"?ove:ave)(t,o.pos,o.inside,n)?n.preventDefault():_l(t,"pointer"))};class cve{constructor(e,n,s,i){this.view=e,this.pos=n,this.event=s,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[QF],this.allowDefault=s.shiftKey;let r,o;if(n.inside>-1)r=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);r=d.parent,o=d.depth?d.before():0}const a=i?null:s.target,c=a?e.docView.nearestDesc(a,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(s.button==0&&r.type.spec.draggable&&r.type.spec.selectable!==!1||u instanceof ot&&u.from<=o&&u.to>o)&&(this.mightDrag={node:r,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Vr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_l(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ea(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(y1(e))),this.updateAllowDefault(e),this.allowDefault||!n?_l(this.view,"pointer"):rve(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ri&&this.mightDrag&&!this.mightDrag.node.isAtom||di&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Cd(this.view,Ft.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):_l(this.view,"pointer")}move(e){this.updateAllowDefault(e),_l(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Mi.touchstart=t=>{t.input.lastTouch=Date.now(),LC(t),_l(t,"pointer")};Mi.touchmove=t=>{t.input.lastTouch=Date.now(),_l(t,"pointer")};Mi.contextmenu=t=>LC(t);function ZF(t,e){return t.composing?!0:Ri&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const uve=pa?5e3:-1;Ii.compositionstart=Ii.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof At&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),gb(t,!0),t.markCursor=null;else if(gb(t,!e.selection.empty),Vr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=t.domSelectionRange();for(let i=s.focusNode,r=s.focusOffset;i&&i.nodeType==1&&r!=0;){let o=r<0?i.lastChild:i.childNodes[r-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,r=-1}}t.input.composing=!0}eV(t,uve)};Ii.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,eV(t,20))};function eV(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>gb(t),e))}function tV(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=fve());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function dve(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=sge(e.focusNode,e.focusOffset),s=ige(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let i=s.pmViewDesc,r=t.domObserver.lastChangedTextNode;if(n==r||s==r)return r;if(!i||!i.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return s}}return n||s}function fve(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function gb(t,e=!1){if(!(pa&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),tV(t),e||t.docView&&t.docView.dirty){let n=MC(t),s=t.state.selection;return n&&!n.eq(s)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function hve(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),s.removeAllRanges(),s.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const cp=Xi&&Ml<15||Kd&&cge<604;Mi.copy=Ii.cut=(t,e)=>{let n=e,s=t.state.selection,i=n.type=="cut";if(s.empty)return;let r=cp?null:n.clipboardData,o=s.content(),{dom:a,text:c}=NC(t,o);r?(n.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",c)):hve(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function pve(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function mve(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),n?up(t,s.value,null,i,e):up(t,s.textContent,s.innerHTML,i,e)},50)}function up(t,e,n,s,i){let r=GF(t,e,n,s,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,i,r||Ke.empty)))return!0;if(!r)return!1;let o=pve(r),a=o?t.state.tr.replaceSelectionWith(o,s):t.state.tr.replaceSelection(r);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function nV(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ii.paste=(t,e)=>{let n=e;if(t.composing&&!pa)return;let s=cp?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&up(t,nV(s),s.getData("text/html"),i,n)?n.preventDefault():mve(t,n)};class sV{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const gve=Nr?"altKey":"ctrlKey";function iV(t,e){let n=t.someProp("dragCopies",s=>!s(e));return n??!e[gve]}Mi.dragstart=(t,e)=>{let n=e,s=t.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let i=t.state.selection,r=i.empty?null:t.posAtCoords(y1(n)),o;if(!(r&&r.pos>=i.from&&r.pos<=(i instanceof ot?i.to-1:i.to))){if(s&&s.mightDrag)o=ot.create(t.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(o=ot.create(t.state.doc,f.posBefore))}}let a=(o||t.state.selection).content(),{dom:c,text:u,slice:d}=NC(t,a);(!n.dataTransfer.files.length||!di||OF>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(cp?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",cp||n.dataTransfer.setData("text/plain",u),t.dragging=new sV(d,iV(t,n),o)};Mi.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ii.dragover=Ii.dragenter=(t,e)=>e.preventDefault();Ii.drop=(t,e)=>{let n=e,s=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(y1(n));if(!i)return;let r=t.state.doc.resolve(i.pos),o=s&&s.slice;o?t.someProp("transformPasted",g=>{o=g(o,t,!1)}):o=GF(t,nV(n.dataTransfer),cp?null:n.dataTransfer.getData("text/html"),!1,r);let a=!!(s&&iV(t,n));if(t.someProp("handleDrop",g=>g(t,n,o||Ke.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let c=o?cF(t.state.doc,r.pos,o):r.pos;c==null&&(c=r.pos);let u=t.state.tr;if(a){let{node:g}=s;g?g.replace(u):u.deleteSelection()}let d=u.mapping.map(c),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=u.doc;if(f?u.replaceRangeWith(d,d,o.content.firstChild):u.replaceRange(d,d,o),u.doc.eq(h))return;let m=u.doc.resolve(d);if(f&&ot.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new ot(m));else{let g=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((y,b,x,E)=>g=E),u.setSelection(IC(t,m,u.doc.resolve(g)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Mi.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ea(t)},20))};Mi.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Mi.beforeinput=(t,e)=>{if(di&&pa&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",r=>r(t,kc(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ii)Mi[t]=Ii[t];function dp(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class vb{constructor(e,n){this.toDOM=e,this.spec=n||Xc,this.side=this.spec.side||0}map(e,n,s,i){let{pos:r,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Ti(r-s,r-s,this)}valid(){return!0}eq(e){return this==e||e instanceof vb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&dp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Nl{constructor(e,n){this.attrs=e,this.spec=n||Xc}map(e,n,s,i){let r=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-s,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-s;return r>=o?null:new Ti(r,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Nl&&dp(this.attrs,e.attrs)&&dp(this.spec,e.spec)}static is(e){return e.type instanceof Nl}destroy(){}}class FC{constructor(e,n){this.attrs=e,this.spec=n||Xc}map(e,n,s,i){let r=e.mapResult(n.from+i,1);if(r.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=r.pos?null:new Ti(r.pos-s,o.pos-s,this)}valid(e,n){let{index:s,offset:i}=e.content.findIndex(n.from),r;return i==n.from&&!(r=e.child(s)).isText&&i+r.nodeSize==n.to}eq(e){return this==e||e instanceof FC&&dp(this.attrs,e.attrs)&&dp(this.spec,e.spec)}destroy(){}}class Ti{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new Ti(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new Ti(e,e,new vb(n,s))}static inline(e,n,s,i){return new Ti(e,n,new Nl(s,i))}static node(e,n,s,i){return new Ti(e,n,new FC(s,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Nl}get widget(){return this.type instanceof vb}}const od=[],Xc={};class Gn{constructor(e,n){this.local=e.length?e:od,this.children=n.length?n:od}static create(e,n){return n.length?bb(n,e,0,Xc):ti}find(e,n,s){let i=[];return this.findInner(e??0,n??1e9,i,0,s),i}findInner(e,n,s,i,r){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!r||r(a.spec))&&s.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,s,i+a,r)}}map(e,n,s){return this==ti||e.maps.length==0?this:this.mapInner(e,n,0,0,s||Xc)}mapInner(e,n,s,i,r){let o;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(e,s,i);c&&c.type.valid(n,c)?(o||(o=[])).push(c):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?vve(this.children,o||[],e,n,s,i,r):o?new Gn(o.sort(Jc),od):ti}add(e,n){return n.length?this==ti?Gn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let i,r=0;e.forEach((a,c)=>{let u=c+s,d;if(d=oV(n,a,u)){for(i||(i=this.children.slice());r<i.length&&i[r]<c;)r+=3;i[r]==c?i[r+2]=i[r+2].addInner(a,d,u+1):i.splice(r,0,c,c+a.nodeSize,bb(d,a,u+1,Xc)),r+=3}});let o=rV(r?aV(n):n,-s);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Gn(o.length?this.local.concat(o).sort(Jc):this.local,i||this.children)}remove(e){return e.length==0||this==ti?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,i=this.local;for(let r=0;r<s.length;r+=3){let o,a=s[r]+n,c=s[r+1]+n;for(let d=0,f;d<e.length;d++)(f=e[d])&&f.from>a&&f.to<c&&(e[d]=null,(o||(o=[])).push(f));if(!o)continue;s==this.children&&(s=this.children.slice());let u=s[r+2].removeInner(o,a+1);u!=ti?s[r+2]=u:(s.splice(r,3),r-=3)}if(i.length){for(let r=0,o;r<e.length;r++)if(o=e[r])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return s==this.children&&i==this.local?this:i.length||s.length?new Gn(i,s):ti}forChild(e,n){if(this==ti)return this;if(n.isLeaf)return Gn.empty;let s,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(s=this.children[a+2]);break}let r=e+1,o=r+n.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<o&&c.to>r&&c.type instanceof Nl){let u=Math.max(r,c.from)-r,d=Math.min(o,c.to)-r;u<d&&(i||(i=[])).push(c.copy(u,d))}}if(i){let a=new Gn(i.sort(Jc),od);return s?new fl([a,s]):a}return s||ti}eq(e){if(this==e)return!0;if(!(e instanceof Gn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return VC(this.localsInner(e))}localsInner(e){if(this==ti)return od;if(e.inlineContent||!this.local.some(Nl.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Nl||n.push(this.local[s]);return n}forEachSet(e){e(this)}}Gn.empty=new Gn([],[]);Gn.removeOverlap=VC;const ti=Gn.empty;class fl{constructor(e){this.members=e}map(e,n){const s=this.members.map(i=>i.map(e,n,Xc));return fl.from(s)}forChild(e,n){if(n.isLeaf)return Gn.empty;let s=[];for(let i=0;i<this.members.length;i++){let r=this.members[i].forChild(e,n);r!=ti&&(r instanceof fl?s=s.concat(r.members):s.push(r))}return fl.from(s)}eq(e){if(!(e instanceof fl)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let i=0;i<this.members.length;i++){let r=this.members[i].localsInner(e);if(r.length)if(!n)n=r;else{s&&(n=n.slice(),s=!1);for(let o=0;o<r.length;o++)n.push(r[o])}}return n?VC(s?n:n.sort(Jc)):od}static from(e){switch(e.length){case 0:return ti;case 1:return e[0];default:return new fl(e.every(n=>n instanceof Gn)?e:e.reduce((n,s)=>n.concat(s instanceof Gn?s:s.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function vve(t,e,n,s,i,r,o){let a=t.slice();for(let u=0,d=r;u<n.maps.length;u++){let f=0;n.maps[u].forEach((h,m,g,y)=>{let b=y-g-(m-h);for(let x=0;x<a.length;x+=3){let E=a[x+1];if(E<0||h>E+d-f)continue;let C=a[x]+d-f;m>=C?a[x+1]=h<=C?-2:-1:h>=d&&b&&(a[x]+=b,a[x+1]+=b)}f+=b}),d=n.maps[u].map(d,-1)}let c=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){c=!0,a[u+1]=-1;continue}let d=n.map(t[u]+r),f=d-i;if(f<0||f>=s.content.size){c=!0;continue}let h=n.map(t[u+1]+r,-1),m=h-i,{index:g,offset:y}=s.content.findIndex(f),b=s.maybeChild(g);if(b&&y==f&&y+b.nodeSize==m){let x=a[u+2].mapInner(n,b,d+1,t[u]+r+1,o);x!=ti?(a[u]=f,a[u+1]=m,a[u+2]=x):(a[u+1]=-2,c=!0)}else c=!0}if(c){let u=bve(a,t,e,n,i,r,o),d=bb(u,s,0,o);e=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,h=0;f<d.children.length;f+=3){let m=d.children[f];for(;h<a.length&&a[h]<m;)h+=3;a.splice(h,0,d.children[f],d.children[f+1],d.children[f+2])}}return new Gn(e.sort(Jc),a)}function rV(t,e){if(!e||!t.length)return t;let n=[];for(let s=0;s<t.length;s++){let i=t[s];n.push(new Ti(i.from+e,i.to+e,i.type))}return n}function bve(t,e,n,s,i,r,o){function a(c,u){for(let d=0;d<c.local.length;d++){let f=c.local[d].map(s,i,u);f?n.push(f):o.onRemove&&o.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)a(c.children[d+2],c.children[d]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&a(t[c+2],e[c]+r+1);return n}function oV(t,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,i=null;for(let r=0,o;r<t.length;r++)(o=t[r])&&o.from>n&&o.to<s&&((i||(i=[])).push(o),t[r]=null);return i}function aV(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function bb(t,e,n,s){let i=[],r=!1;e.forEach((a,c)=>{let u=oV(t,a,c+n);if(u){r=!0;let d=bb(u,a,n+c+1,s);d!=ti&&i.push(c,c+a.nodeSize,d)}});let o=rV(r?aV(t):t,-n).sort(Jc);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(s.onRemove&&s.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Gn(o,i):ti}function Jc(t,e){return t.from-e.from||t.to-e.to}function VC(t){let e=t;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let i=n+1;i<e.length;i++){let r=e[i];if(r.from==s.from){r.to!=s.to&&(e==t&&(e=t.slice()),e[i]=r.copy(r.from,s.to),YR(e,i+1,r.copy(s.to,r.to)));continue}else{r.from<s.to&&(e==t&&(e=t.slice()),e[n]=s.copy(s.from,r.from),YR(e,i,s.copy(r.from,s.to)));break}}}return e}function YR(t,e,n){for(;e<t.length&&Jc(n,t[e])>0;)e++;t.splice(e,0,n)}function Qx(t){let e=[];return t.someProp("decorations",n=>{let s=n(t.state);s&&s!=ti&&e.push(s)}),t.cursorWrapper&&e.push(Gn.create(t.state.doc,[t.cursorWrapper.deco])),fl.from(e)}const yve={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xve=Xi&&Ml<=11;class _ve{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Sve{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _ve,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let i=0;i<s.length;i++)this.queue.push(s[i]);Xi&&Ml<=11&&s.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),xve&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,yve)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(UR(this.view)){if(this.suppressingSelectionUpdates)return Ea(this.view);if(Xi&&Ml<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&mu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let r=e.focusNode;r;r=qd(r))n.add(r);for(let r=e.anchorNode;r;r=qd(r))if(n.has(r)){s=r;break}let i=s&&this.view.docView.nearestDesc(s);if(i&&i.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&UR(e)&&!this.ignoreSelectionChange(s),r=-1,o=-1,a=!1,c=[];if(e.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],c);f&&(r=r<0?f.from:Math.min(f.from,r),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(Vr&&c.length){let d=c.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,h]=d;f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let h of d){let m=h.parentNode;m&&m.nodeName=="LI"&&(!f||Cve(e,f)!=m)&&h.remove()}}}let u=null;r<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&v1(s)&&(u=MC(e))&&u.eq(Ft.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ea(e),this.currentSelection.set(s),e.scrollToSelection()):(r>-1||i)&&(r>-1&&(e.docView.markDirty(r,o),Eve(e)),this.handleDOMChange(r,o,a,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||Ea(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let f=e.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let i=e.previousSibling,r=e.nextSibling;if(Xi&&Ml<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:f,nextSibling:h}=e.addedNodes[d];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(r=h)}let o=i&&i.parentNode==e.target?zs(i)+1:0,a=s.localPosFromDOM(e.target,o,-1),c=r&&r.parentNode==e.target?zs(r):e.target.childNodes.length,u=s.localPosFromDOM(e.target,c,1);return{from:a,to:u}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let XR=new WeakMap,JR=!1;function Eve(t){if(!XR.has(t)&&(XR.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Vr,JR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),JR=!0}}function QR(t,e){let n=e.startContainer,s=e.startOffset,i=e.endContainer,r=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return mu(o.node,o.offset,i,r)&&([n,s,i,r]=[i,r,n,s]),{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:r}}function wve(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return QR(t,i)}let n;function s(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),n?QR(t,n):null}function Cve(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let s=t.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function Ave(t,e,n){let{node:s,fromOffset:i,toOffset:r,from:o,to:a}=t.docView.parseRange(e,n),c=t.domSelectionRange(),u,d=c.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:c.anchorOffset}],v1(c)||u.push({node:c.focusNode,offset:c.focusOffset})),di&&t.input.lastKeyCode===8)for(let b=r;b>i;b--){let x=s.childNodes[b-1],E=x.pmViewDesc;if(x.nodeName=="BR"&&!E){r=b;break}if(!E||E.size)break}let f=t.state.doc,h=t.someProp("domParser")||Rl.fromSchema(t.state.schema),m=f.resolve(o),g=null,y=h.parse(s,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:r,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:kve,context:m});if(u&&u[0].pos!=null){let b=u[0].pos,x=u[1]&&u[1].pos;x==null&&(x=b),g={anchor:b+o,head:x+o}}return{doc:y,sel:g,from:o,to:a}}function kve(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ri&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ri&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Tve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Dve(t,e,n,s,i){let r=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let $=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=MC(t,$);if(M&&!t.state.selection.eq(M)){if(di&&pa&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",V=>V(t,kc(13,"Enter"))))return;let P=t.state.tr.setSelection(M);$=="pointer"?P.setMeta("pointer",!0):$=="key"&&P.scrollIntoView(),r&&P.setMeta("composition",r),t.dispatch(P)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let c=t.state.selection,u=Ave(t,e,n),d=t.state.doc,f=d.slice(u.from,u.to),h,m;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,m="end"):(h=t.state.selection.from,m="start"),t.input.lastKeyCode=null;let g=Mve(f.content,u.doc.content,u.from,h,m);if(g&&t.input.domChangeCount++,(Kd&&t.input.lastIOSEnter>Date.now()-225||pa)&&i.some($=>$.nodeType==1&&!Tve.test($.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",$=>$(t,kc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(s&&c instanceof At&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))g={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let $=ZR(t,t.state.doc,u.sel);if($&&!$.eq(t.state.selection)){let M=t.state.tr.setSelection($);r&&M.setMeta("composition",r),t.dispatch(M)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof At&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Xi&&Ml<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>u.from&&u.doc.textBetween(g.start-u.from-1,g.start-u.from+1)==" "&&(g.start--,g.endA--,g.endB--);let y=u.doc.resolveNoCache(g.start-u.from),b=u.doc.resolveNoCache(g.endB-u.from),x=d.resolve(g.start),E=y.sameParent(b)&&y.parent.inlineContent&&x.end()>=g.endA;if((Kd&&t.input.lastIOSEnter>Date.now()-225&&(!E||i.some($=>$.nodeName=="DIV"||$.nodeName=="P"))||!E&&y.pos<u.doc.content.size&&(!y.sameParent(b)||!y.parent.inlineContent)&&y.pos<b.pos&&!/\S/.test(u.doc.textBetween(y.pos,b.pos,"","")))&&t.someProp("handleKeyDown",$=>$(t,kc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&Rve(d,g.start,g.endA,y,b)&&t.someProp("handleKeyDown",$=>$(t,kc(8,"Backspace")))){pa&&di&&t.domObserver.suppressSelectionUpdates();return}di&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),pa&&!E&&y.start()!=b.start()&&b.parentOffset==0&&y.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==g.endA&&(g.endB-=2,b=u.doc.resolveNoCache(g.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function($){return $(t,kc(13,"Enter"))})},20));let C=g.start,_=g.endA,T=$=>{let M=$||t.state.tr.replace(C,_,u.doc.slice(g.start-u.from,g.endB-u.from));if(u.sel){let P=ZR(t,M.doc,u.sel);P&&!(di&&t.composing&&P.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==C||P.head==M.mapping.map(_)-1)||Xi&&P.empty&&P.head==C)&&M.setSelection(P)}return r&&M.setMeta("composition",r),M.scrollIntoView()},k;if(E)if(y.pos==b.pos){Xi&&Ml<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ea(t),20));let $=T(t.state.tr.delete(C,_)),M=d.resolve(g.start).marksAcross(d.resolve(g.endA));M&&$.ensureMarks(M),t.dispatch($)}else if(g.endA==g.endB&&(k=Ove(y.parent.content.cut(y.parentOffset,b.parentOffset),x.parent.content.cut(x.parentOffset,g.endA-x.start())))){let $=T(t.state.tr);k.type=="add"?$.addMark(C,_,k.mark):$.removeMark(C,_,k.mark),t.dispatch($)}else if(y.parent.child(y.index()).isText&&y.index()==b.index()-(b.textOffset?0:1)){let $=y.parent.textBetween(y.parentOffset,b.parentOffset),M=()=>T(t.state.tr.insertText($,C,_));t.someProp("handleTextInput",P=>P(t,C,_,$,M))||t.dispatch(M())}else t.dispatch(T());else t.dispatch(T())}function ZR(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:IC(t,e.resolve(n.anchor),e.resolve(n.head))}function Ove(t,e){let n=t.firstChild.marks,s=e.firstChild.marks,i=n,r=s,o,a,c;for(let d=0;d<s.length;d++)i=s[d].removeFromSet(i);for(let d=0;d<n.length;d++)r=n[d].removeFromSet(r);if(i.length==1&&r.length==0)a=i[0],o="add",c=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&r.length==1)a=r[0],o="remove",c=d=>d.mark(a.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<e.childCount;d++)u.push(c(e.child(d)));if(Re.from(u).eq(t))return{mark:a,type:o}}function Rve(t,e,n,s,i){if(n-e<=i.pos-s.pos||Zx(s,!0,!1)<i.pos)return!1;let r=t.resolve(e);if(!s.parent.isTextblock){let a=r.nodeAfter;return a!=null&&n==e+a.nodeSize}if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let o=t.resolve(Zx(r,!0,!0));return!o.parent.isTextblock||o.pos>n||Zx(o,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(o.parent.content)}function Zx(t,e,n){let s=t.depth,i=e?t.end():t.pos;for(;s>0&&(e||t.indexAfter(s)==t.node(s).childCount);)s--,i++,e=!1;if(n){let r=t.node(s).maybeChild(t.indexAfter(s));for(;r&&!r.isLeaf;)r=r.firstChild,i++}return i}function Mve(t,e,n,s,i){let r=t.findDiffStart(e,n);if(r==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let c=Math.max(0,r-Math.min(o,a));s-=o+c-r}if(o<r&&t.size<e.size){let c=s<=r&&s>=o?r-s:0;r-=c,r&&r<e.size&&eM(e.textBetween(r-1,r+1))&&(r+=c?1:-1),a=r+(a-o),o=r}else if(a<r){let c=s<=r&&s>=a?r-s:0;r-=c,r&&r<t.size&&eM(t.textBetween(r-1,r+1))&&(r+=c?1:-1),o=r+(o-a),a=r}return{start:r,endA:o,endB:a}}function eM(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class lV{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Jge,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(rM),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=sM(this),nM(this),this.nodeViews=iM(this),this.docView=PR(this.state.doc,tM(this),Qx(this),this.dom,this),this.domObserver=new Sve(this,(s,i,r,o)=>Dve(this,s,i,r,o)),this.domObserver.start(),Qge(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&XS(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(rM),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let i=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(tV(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=iM(this);Nve(m,this.nodeViews)&&(this.nodeViews=m,r=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&XS(this),this.editable=sM(this),nM(this);let c=Qx(this),u=tM(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=r||!this.docView.matchesNode(e.doc,u,c);(f||!e.selection.eq(i.selection))&&(o=!0);let h=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&fge(this);if(o){this.domObserver.stop();let m=f&&(Xi||di)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Ive(i.selection,e.selection);if(f){let g=di?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=dve(this)),(r||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=PR(e.doc,u,c,this.dom,this)),g&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$ge(this))?Ea(this,m):(zF(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((s=this.dragging)===null||s===void 0)&&s.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():h&&hge(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ot){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&DR(this,n.getBoundingClientRect(),e)}else DR(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,i=-1;if(this.state.doc.nodeAt(s.from)==s.node)i=s.from;else{let r=s.from+(this.state.doc.content.size-n.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==s.node&&(i=r)}this.dragging=new sV(e.slice,e.move,i<0?void 0:ot.create(this.state.doc,i))}someProp(e,n){let s=this._props&&this._props[e],i;if(s!=null&&(i=n?n(s):s))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let r=this.state.plugins;if(r)for(let o=0;o<r.length;o++){let a=r[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Xi){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&pge(this.dom),Ea(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return yge(this,e)}coordsAtPos(e,n=1){return PF(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let i=this.docView.posFromDOM(e,n,s);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return wge(this,n||this.state,e)}pasteHTML(e,n){return up(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return up(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return NC(this,e)}destroy(){this.docView&&(Zge(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,tge())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return tve(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ri&&this.root.nodeType===11&&oge(this.dom.ownerDocument)==this.dom&&wve(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}lV.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function tM(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[Ti.node(0,t.state.doc.content.size,e)]}function nM(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ti.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function sM(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Ive(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function iM(t){let e=Object.create(null);function n(s){for(let i in s)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=s[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Nve(t,e){let n=0,s=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)s++;return n!=s}function rM(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ul={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},yb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Pve=typeof navigator<"u"&&/Mac/.test(navigator.platform),$ve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var js=0;js<10;js++)Ul[48+js]=Ul[96+js]=String(js);for(var js=1;js<=24;js++)Ul[js+111]="F"+js;for(var js=65;js<=90;js++)Ul[js]=String.fromCharCode(js+32),yb[js]=String.fromCharCode(js);for(var e_ in Ul)yb.hasOwnProperty(e_)||(yb[e_]=Ul[e_]);function Lve(t){var e=Pve&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||$ve&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?yb:Ul)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Fve=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Vve=typeof navigator<"u"&&/Win/.test(navigator.platform);function Bve(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,i,r,o;for(let a=0;a<e.length-1;a++){let c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))s=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))r=!0;else if(/^mod$/i.test(c))Fve?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return s&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),r&&(n="Shift-"+n),n}function Uve(t){let e=Object.create(null);for(let n in t)e[Bve(n)]=t[n];return e}function t_(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Hve(t){return new ls({props:{handleKeyDown:cV(t)}})}function cV(t){let e=Uve(t);return function(n,s){let i=Lve(s),r,o=e[t_(i,s)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(s.shiftKey){let a=e[t_(i,s,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(Vve&&s.ctrlKey&&s.altKey)&&(r=Ul[s.keyCode])&&r!=i){let a=e[t_(r,s)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var zve=Object.defineProperty,BC=(t,e)=>{for(var n in e)zve(t,n,{get:e[n],enumerable:!0})};function x1(t){const{state:e,transaction:n}=t;let{selection:s}=n,{doc:i}=n,{storedMarks:r}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return r},get selection(){return s},get doc(){return i},get tr(){return s=n.selection,i=n.doc,r=n.storedMarks,n}}}var _1=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:s}=e,{tr:i}=n,r=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([o,a])=>[o,(...u)=>{const d=a(...u)(r);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:s,state:i}=this,{view:r}=s,o=[],a=!!t,c=t||i.tr,u=()=>(!a&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(c),o.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(n).map(([f,h])=>[f,(...g)=>{const y=this.buildProps(c,e),b=h(...g)(y);return o.push(b),d}])),run:u};return d}createCan(t){const{rawCommands:e,state:n}=this,s=!1,i=t||n.tr,r=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(e).map(([a,c])=>[a,(...u)=>c(...u)({...r,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(t,e=!0){const{rawCommands:n,editor:s,state:i}=this,{view:r}=s,o={tr:t,editor:s,view:r,state:x1({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...u)=>c(...u)(o)]))}};return o}},uV={};BC(uV,{blur:()=>jve,clearContent:()=>Wve,clearNodes:()=>Gve,command:()=>qve,createParagraphNear:()=>Kve,cut:()=>Yve,deleteCurrentNode:()=>Xve,deleteNode:()=>Jve,deleteRange:()=>Qve,deleteSelection:()=>Zve,enter:()=>ebe,exitCode:()=>tbe,extendMarkRange:()=>nbe,first:()=>sbe,focus:()=>rbe,forEach:()=>obe,insertContent:()=>abe,insertContentAt:()=>ube,joinBackward:()=>hbe,joinDown:()=>fbe,joinForward:()=>pbe,joinItemBackward:()=>mbe,joinItemForward:()=>gbe,joinTextblockBackward:()=>vbe,joinTextblockForward:()=>bbe,joinUp:()=>dbe,keyboardShortcut:()=>xbe,lift:()=>_be,liftEmptyBlock:()=>Sbe,liftListItem:()=>Ebe,newlineInCode:()=>wbe,resetAttributes:()=>Cbe,scrollIntoView:()=>Abe,selectAll:()=>kbe,selectNodeBackward:()=>Tbe,selectNodeForward:()=>Dbe,selectParentNode:()=>Obe,selectTextblockEnd:()=>Rbe,selectTextblockStart:()=>Mbe,setContent:()=>Ibe,setMark:()=>Jbe,setMeta:()=>Qbe,setNode:()=>Zbe,setNodeSelection:()=>eye,setTextSelection:()=>tye,sinkListItem:()=>nye,splitBlock:()=>sye,splitListItem:()=>iye,toggleList:()=>rye,toggleMark:()=>oye,toggleNode:()=>aye,toggleWrap:()=>lye,undoInputRule:()=>cye,unsetAllMarks:()=>uye,unsetMark:()=>dye,updateAttributes:()=>fye,wrapIn:()=>hye,wrapInList:()=>pye});var jve=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Wve=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Gve=()=>({state:t,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:i}=s;return n&&i.forEach(({$from:r,$to:o})=>{t.doc.nodesBetween(r.pos,o.pos,(a,c)=>{if(a.type.isText)return;const{doc:u,mapping:d}=e,f=u.resolve(d.map(c)),h=u.resolve(d.map(c+a.nodeSize)),m=f.blockRange(h);if(!m)return;const g=lf(m);if(a.type.isTextblock){const{defaultType:y}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(m.start,y)}(g||g===0)&&e.lift(m,g)})}),!0},qve=t=>e=>t(e),Kve=()=>({state:t,dispatch:e})=>CF(t,e),Yve=(t,e)=>({editor:n,tr:s})=>{const{state:i}=n,r=i.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const o=s.mapping.map(e);return s.insert(o,r.content),s.setSelection(new At(s.doc.resolve(Math.max(o-1,0)))),!0},Xve=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,s=n.$anchor.node();if(s.content.size>0)return!1;const i=t.selection.$anchor;for(let r=i.depth;r>0;r-=1)if(i.node(r).type===s.type){if(e){const a=i.before(r),c=i.after(r);t.delete(a,c).scrollIntoView()}return!0}return!1};function xs(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Jve=t=>({tr:e,state:n,dispatch:s})=>{const i=xs(t,n.schema),r=e.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===i){if(s){const c=r.before(o),u=r.after(o);e.delete(c,u).scrollIntoView()}return!0}return!1},Qve=t=>({tr:e,dispatch:n})=>{const{from:s,to:i}=t;return n&&e.delete(s,i),!0},Zve=()=>({state:t,dispatch:e})=>AC(t,e),ebe=()=>({commands:t})=>t.keyboardShortcut("Enter"),tbe=()=>({state:t,dispatch:e})=>Bme(t,e);function UC(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function xb(t,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(i=>n.strict?e[i]===t[i]:UC(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function dV(t,e,n={}){return t.find(s=>s.type===e&&xb(Object.fromEntries(Object.keys(n).map(i=>[i,s.attrs[i]])),n))}function oM(t,e,n={}){return!!dV(t,e,n)}function HC(t,e,n){var s;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(n=n||((s=i.node.marks[0])==null?void 0:s.attrs),!dV([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,c=o+1,u=a+i.node.nodeSize;for(;o>0&&oM([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&oM([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:a,to:u}}function $a(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var nbe=(t,e={})=>({tr:n,state:s,dispatch:i})=>{const r=$a(t,s.schema),{doc:o,selection:a}=n,{$from:c,from:u,to:d}=a;if(i){const f=HC(c,r,e);if(f&&f.from<=u&&f.to>=d){const h=At.create(o,f.from,f.to);n.setSelection(h)}}return!0},sbe=t=>e=>{const n=typeof t=="function"?t(e):t;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function fV(t){return t instanceof At}function Nc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function hV(t,e=null){if(!e)return null;const n=Ft.atStart(t),s=Ft.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return s;const i=n.from,r=s.to;return e==="all"?At.create(t,Nc(0,i,r),Nc(t.content.size,i,r)):At.create(t,Nc(e,i,r),Nc(e,i,r))}function ibe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function zC(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var rbe=(t=null,e={})=>({editor:n,view:s,tr:i,dispatch:r})=>{e={scrollIntoView:!0,...e};const o=()=>{(zC()||ibe())&&s.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(r&&t===null&&!fV(n.state.selection))return o(),!0;const a=hV(i.doc,t)||n.state.selection,c=n.state.selection.eq(a);return r&&(c||i.setSelection(a),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},obe=(t,e)=>n=>t.every((s,i)=>e(s,{...n,index:i})),abe=(t,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),pV=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&pV(s)}return t};function pg(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return pV(n)}function fp(t,e,n){if(t instanceof io||t instanceof Re)return t;n={slice:!0,parseOptions:{},...n};const s=typeof t=="object"&&t!==null,i=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return Re.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),fp("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const c=new Q5({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Rl.fromSchema(c).parseSlice(pg(t),n.parseOptions):Rl.fromSchema(c).parse(pg(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const r=Rl.fromSchema(e);return n.slice?r.parseSlice(pg(t),n.parseOptions).content:r.parse(pg(t),n.parseOptions)}return fp("",e,n)}function lbe(t,e,n){const s=t.steps.length-1;if(s<e)return;const i=t.steps[s];if(!(i instanceof Ts||i instanceof Ms))return;const r=t.mapping.maps[s];let o=0;r.forEach((a,c,u,d)=>{o===0&&(o=d)}),t.setSelection(Ft.near(t.doc.resolve(o),n))}var cbe=t=>!("type"in t),ube=(t,e,n)=>({tr:s,dispatch:i,editor:r})=>{var o;if(i){n={parseOptions:r.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const c=b=>{r.emit("contentError",{editor:r,error:b,disableCollaboration:()=>{"collaboration"in r.storage&&typeof r.storage.collaboration=="object"&&r.storage.collaboration&&(r.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!r.options.enableContentCheck&&r.options.emitContentError)try{fp(e,r.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){c(b)}try{a=fp(e,r.schema,{parseOptions:u,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:r.options.enableContentCheck})}catch(b){return c(b),!1}let{from:d,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},h=!0,m=!0;if((cbe(a)?a:[a]).forEach(b=>{b.check(),h=h?b.isText&&b.marks.length===0:!1,m=m?b.isBlock:!1}),d===f&&m){const{parent:b}=s.doc.resolve(d);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(d-=1,f+=1)}let y;if(h){if(Array.isArray(e))y=e.map(b=>b.text||"").join("");else if(e instanceof Re){let b="";e.forEach(x=>{x.text&&(b+=x.text)}),y=b}else typeof e=="object"&&e&&e.text?y=e.text:y=e;s.insertText(y,d,f)}else{y=a;const b=s.doc.resolve(d),x=b.node(),E=b.parentOffset===0,C=x.isText||x.isTextblock,_=x.content.size>0;E&&C&&_&&(d=Math.max(0,d-1)),s.replaceWith(d,f,y)}n.updateSelection&&lbe(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:d,text:y}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:d,text:y})}return!0},dbe=()=>({state:t,dispatch:e})=>Lme(t,e),fbe=()=>({state:t,dispatch:e})=>Fme(t,e),hbe=()=>({state:t,dispatch:e})=>bF(t,e),pbe=()=>({state:t,dispatch:e})=>SF(t,e),mbe=()=>({state:t,dispatch:e,tr:n})=>{try{const s=p1(t.doc,t.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},gbe=()=>({state:t,dispatch:e,tr:n})=>{try{const s=p1(t.doc,t.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},vbe=()=>({state:t,dispatch:e})=>Pme(t,e),bbe=()=>({state:t,dispatch:e})=>$me(t,e);function mV(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ybe(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,i,r,o;for(let a=0;a<e.length-1;a+=1){const c=e[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))s=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))r=!0;else if(/^mod$/i.test(c))zC()||mV()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return s&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),r&&(n=`Shift-${n}`),n}var xbe=t=>({editor:e,view:n,tr:s,dispatch:i})=>{const r=ybe(t).split(/-(?!$)/),o=r.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:r.includes("Alt"),ctrlKey:r.includes("Ctrl"),metaKey:r.includes("Meta"),shiftKey:r.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return c?.steps.forEach(u=>{const d=u.map(s.mapping);d&&i&&s.maybeStep(d)}),!0};function Hl(t,e,n={}){const{from:s,to:i,empty:r}=t.selection,o=e?xs(e,t.schema):null,a=[];t.doc.nodesBetween(s,i,(f,h)=>{if(f.isText)return;const m=Math.max(s,h),g=Math.min(i,h+f.nodeSize);a.push({node:f,from:m,to:g})});const c=i-s,u=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>xb(f.node.attrs,n,{strict:!1}));return r?!!u.length:u.reduce((f,h)=>f+h.to-h.from,0)>=c}var _be=(t,e={})=>({state:n,dispatch:s})=>{const i=xs(t,n.schema);return Hl(n,i,e)?Vme(n,s):!1},Sbe=()=>({state:t,dispatch:e})=>AF(t,e),Ebe=t=>({state:e,dispatch:n})=>{const s=xs(t,e.schema);return Jme(s)(e,n)},wbe=()=>({state:t,dispatch:e})=>wF(t,e);function S1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function aM(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,i)=>(n.includes(i)||(s[i]=t[i]),s),{})}var Cbe=(t,e)=>({tr:n,state:s,dispatch:i})=>{let r=null,o=null;const a=S1(typeof t=="string"?t:t.name,s.schema);return a?(a==="node"&&(r=xs(t,s.schema)),a==="mark"&&(o=$a(t,s.schema)),i&&n.selection.ranges.forEach(c=>{s.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{r&&r===u.type&&n.setNodeMarkup(d,void 0,aM(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(f=>{o===f.type&&n.addMark(d,d+u.nodeSize,o.create(aM(f.attrs,e)))})})}),!0):!1},Abe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),kbe=()=>({tr:t,dispatch:e})=>{if(e){const n=new mr(t.doc);t.setSelection(n)}return!0},Tbe=()=>({state:t,dispatch:e})=>xF(t,e),Dbe=()=>({state:t,dispatch:e})=>EF(t,e),Obe=()=>({state:t,dispatch:e})=>zme(t,e),Rbe=()=>({state:t,dispatch:e})=>Gme(t,e),Mbe=()=>({state:t,dispatch:e})=>Wme(t,e);function JS(t,e,n={},s={}){return fp(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var Ibe=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:i,tr:r,dispatch:o,commands:a})=>{const{doc:c}=r;if(s.preserveWhitespace!=="full"){const u=JS(t,i.schema,s,{errorOnInvalidContent:e??i.options.enableContentCheck});return o&&r.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!n),!0}return o&&r.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:c.content.size},t,{parseOptions:s,errorOnInvalidContent:e??i.options.enableContentCheck})};function gV(t,e){const n=$a(e,t.schema),{from:s,to:i,empty:r}=t.selection,o=[];r?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,i,c=>{o.push(...c.marks)});const a=o.find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function vV(t,e){const n=new pF(t);return e.forEach(s=>{s.steps.forEach(i=>{n.step(i)})}),n}function Nbe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Pbe(t,e,n){const s=[];return t.nodesBetween(e.from,e.to,(i,r)=>{n(i)&&s.push({node:i,pos:r})}),s}function $be(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}function E1(t){return e=>$be(e.$from,t)}function rt(t,e,n){return t.config[e]===void 0&&t.parent?rt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?rt(t.parent,e,n):null}):t.config[e]}function jC(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},s=rt(e,"addExtensions",n);return s?[e,...jC(s())]:e}).flat(10)}function WC(t,e){const n=Cu.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function bV(t){return typeof t=="function"}function vn(t,e=void 0,...n){return bV(t)?e?t.bind(e)(...n):t(...n):t}function Lbe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function hp(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),s=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function yV(t){const e=[],{nodeExtensions:n,markExtensions:s}=hp(t),i=[...n,...s],r={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},c=rt(o,"addGlobalAttributes",a);if(!c)return;c().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([h,m])=>{e.push({type:f,name:h,attribute:{...r,...m}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},c=rt(o,"addAttributes",a);if(!c)return;const u=c();Object.entries(u).forEach(([d,f])=>{const h={...r,...f};typeof h?.default=="function"&&(h.default=h.default()),h?.isRequired&&h?.default===void 0&&delete h.default,e.push({type:o.name,name:d,attribute:h})})}),e}function as(...t){return t.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([i,r])=>{if(!s[i]){s[i]=r;return}if(i==="class"){const a=r?String(r).split(" "):[],c=s[i]?s[i].split(" "):[],u=a.filter(d=>!c.includes(d));s[i]=[...c,...u].join(" ")}else if(i==="style"){const a=r?r.split(";").map(d=>d.trim()).filter(Boolean):[],c=s[i]?s[i].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;c.forEach(d=>{const[f,h]=d.split(":").map(m=>m.trim());u.set(f,h)}),a.forEach(d=>{const[f,h]=d.split(":").map(m=>m.trim());u.set(f,h)}),s[i]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else s[i]=r}),s},{})}function _b(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,s)=>as(n,s),{})}function Fbe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function lM(t,e){return"style"in t?t:{...t,getAttrs:n=>{const s=t.getAttrs?t.getAttrs(n):t.attrs;if(s===!1)return!1;const i=e.reduce((r,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):Fbe(n.getAttribute(o.name));return a==null?r:{...r,[o.name]:a}},{});return{...s,...i}}}}function cM(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Lbe(n)?!1:n!=null))}function uM(t){var e,n,s;const i={};return!((e=t?.attribute)!=null&&e.isRequired)&&((n=t?.attribute)==null?void 0:n.default)!==void 0&&(i.default=t.attribute.default),((s=t?.attribute)==null?void 0:s.validate)!==void 0&&(i.validate=t.attribute.validate),[t.name,i]}function Vbe(t,e){var n;const s=yV(t),{nodeExtensions:i,markExtensions:r}=hp(t),o=(n=i.find(u=>rt(u,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(u=>{const d=s.filter(x=>x.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},h=t.reduce((x,E)=>{const C=rt(E,"extendNodeSchema",f);return{...x,...C?C(u):{}}},{}),m=cM({...h,content:vn(rt(u,"content",f)),marks:vn(rt(u,"marks",f)),group:vn(rt(u,"group",f)),inline:vn(rt(u,"inline",f)),atom:vn(rt(u,"atom",f)),selectable:vn(rt(u,"selectable",f)),draggable:vn(rt(u,"draggable",f)),code:vn(rt(u,"code",f)),whitespace:vn(rt(u,"whitespace",f)),linebreakReplacement:vn(rt(u,"linebreakReplacement",f)),defining:vn(rt(u,"defining",f)),isolating:vn(rt(u,"isolating",f)),attrs:Object.fromEntries(d.map(uM))}),g=vn(rt(u,"parseHTML",f));g&&(m.parseDOM=g.map(x=>lM(x,d)));const y=rt(u,"renderHTML",f);y&&(m.toDOM=x=>y({node:x,HTMLAttributes:_b(x,d)}));const b=rt(u,"renderText",f);return b&&(m.toText=b),[u.name,m]})),c=Object.fromEntries(r.map(u=>{const d=s.filter(b=>b.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:e},h=t.reduce((b,x)=>{const E=rt(x,"extendMarkSchema",f);return{...b,...E?E(u):{}}},{}),m=cM({...h,inclusive:vn(rt(u,"inclusive",f)),excludes:vn(rt(u,"excludes",f)),group:vn(rt(u,"group",f)),spanning:vn(rt(u,"spanning",f)),code:vn(rt(u,"code",f)),attrs:Object.fromEntries(d.map(uM))}),g=vn(rt(u,"parseHTML",f));g&&(m.parseDOM=g.map(b=>lM(b,d)));const y=rt(u,"renderHTML",f);return y&&(m.toDOM=b=>y({mark:b,HTMLAttributes:_b(b,d)})),[u.name,m]}));return new Q5({topNode:o,nodes:a,marks:c})}function Bbe(t){const e=t.filter((n,s)=>t.indexOf(n)!==s);return Array.from(new Set(e))}function GC(t){return t.sort((n,s)=>{const i=rt(n,"priority")||100,r=rt(s,"priority")||100;return i>r?-1:i<r?1:0})}function xV(t){const e=GC(jC(t)),n=Bbe(e.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}function _V(t,e,n){const{from:s,to:i}=e,{blockSeparator:r=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(s,i,(c,u,d,f)=>{var h;c.isBlock&&u>s&&(a+=r);const m=o?.[c.type.name];if(m)return d&&(a+=m({node:c,pos:u,parent:d,index:f,range:e})),!1;c.isText&&(a+=(h=c?.text)==null?void 0:h.slice(Math.max(s,u)-u,i-u))}),a}function Ube(t,e){const n={from:0,to:t.content.size};return _V(t,n,e)}function SV(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function Hbe(t,e){const n=xs(e,t.schema),{from:s,to:i}=t.selection,r=[];t.doc.nodesBetween(s,i,a=>{r.push(a)});const o=r.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function EV(t,e){const n=S1(typeof e=="string"?e:e.name,t.schema);return n==="node"?Hbe(t,e):n==="mark"?gV(t,e):{}}function zbe(t,e=JSON.stringify){const n={};return t.filter(s=>{const i=e(s);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function jbe(t){const e=zbe(t);return e.length===1?e:e.filter((n,s)=>!e.filter((r,o)=>o!==s).some(r=>n.oldRange.from>=r.oldRange.from&&n.oldRange.to<=r.oldRange.to&&n.newRange.from>=r.newRange.from&&n.newRange.to<=r.newRange.to))}function wV(t){const{mapping:e,steps:n}=t,s=[];return e.maps.forEach((i,r)=>{const o=[];if(i.ranges.length)i.forEach((a,c)=>{o.push({from:a,to:c})});else{const{from:a,to:c}=n[r];if(a===void 0||c===void 0)return;o.push({from:a,to:c})}o.forEach(({from:a,to:c})=>{const u=e.slice(r).map(a,-1),d=e.slice(r).map(c),f=e.invert().map(u,-1),h=e.invert().map(d);s.push({oldRange:{from:f,to:h},newRange:{from:u,to:d}})})}),jbe(s)}function qC(t,e,n){const s=[];return t===e?n.resolve(t).marks().forEach(i=>{const r=n.resolve(t),o=HC(r,i.type);o&&s.push({mark:i,...o})}):n.nodesBetween(t,e,(i,r)=>{!i||i?.nodeSize===void 0||s.push(...i.marks.map(o=>({from:r,to:r+i.nodeSize,mark:o})))}),s}var Wbe=(t,e,n,s=20)=>{const i=t.doc.resolve(n);let r=s,o=null;for(;r>0&&o===null;){const a=i.node(r);a?.type.name===e?o=a:r-=1}return[o,r]};function n_(t,e){return e.nodes[t]||e.marks[t]||null}function uv(t,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const i=t.find(r=>r.type===e&&r.name===s);return i?i.attribute.keepOnSplit:!1}))}var Gbe=(t,e=500)=>{let n="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(i,r,o,a)=>{var c,u;const d=((u=(c=i.type.spec).toText)==null?void 0:u.call(c,{node:i,pos:r,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,s-r))}),n};function QS(t,e,n={}){const{empty:s,ranges:i}=t.selection,r=e?$a(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>r?r.name===f.type.name:!0).find(f=>xb(f.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:h})=>{const m=f.pos,g=h.pos;t.doc.nodesBetween(m,g,(y,b)=>{if(!y.isText&&!y.marks.length)return;const x=Math.max(m,b),E=Math.min(g,b+y.nodeSize),C=E-x;o+=C,a.push(...y.marks.map(_=>({mark:_,from:x,to:E})))})}),o===0)return!1;const c=a.filter(f=>r?r.name===f.mark.type.name:!0).filter(f=>xb(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),u=a.filter(f=>r?f.mark.type!==r&&f.mark.type.excludes(r):!0).reduce((f,h)=>f+h.to-h.from,0);return(c>0?c+u:c)>=o}function qbe(t,e,n={}){if(!e)return Hl(t,null,n)||QS(t,null,n);const s=S1(e,t.schema);return s==="node"?Hl(t,e,n):s==="mark"?QS(t,e,n):!1}var Kbe=(t,e)=>{const{$from:n,$to:s,$anchor:i}=t.selection;if(e){const r=E1(a=>a.type.name===e)(t.selection);if(!r)return!1;const o=t.doc.resolve(r.pos+1);return i.pos+1===o.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},Ybe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function dM(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function fM(t,e){const{nodeExtensions:n}=hp(e),s=n.find(o=>o.name===t);if(!s)return!1;const i={name:s.name,options:s.options,storage:s.storage},r=vn(rt(s,"group",i));return typeof r!="string"?!1:r.split(" ").includes("list")}function w1(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(r=>{i!==!1&&(w1(r,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function CV(t){return t instanceof ot}function Xbe(t,e,n){var s;const{selection:i}=e;let r=null;if(fV(i)&&(r=i.$cursor),r){const a=(s=t.storedMarks)!=null?s:r.marks();return r.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(u=>u.type.excludes(n)))}const{ranges:o}=i;return o.some(({$from:a,$to:c})=>{let u=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,c.pos,(d,f,h)=>{if(u)return!1;if(d.isInline){const m=!h||h.type.allowsMarkType(n),g=!!n.isInSet(d.marks)||!d.marks.some(y=>y.type.excludes(n));u=m&&g}return!u}),u})}var Jbe=(t,e={})=>({tr:n,state:s,dispatch:i})=>{const{selection:r}=n,{empty:o,ranges:a}=r,c=$a(t,s.schema);if(i)if(o){const u=gV(s,c);n.addStoredMark(c.create({...u,...e}))}else a.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;s.doc.nodesBetween(d,f,(h,m)=>{const g=Math.max(m,d),y=Math.min(m+h.nodeSize,f);h.marks.find(x=>x.type===c)?h.marks.forEach(x=>{c===x.type&&n.addMark(g,y,c.create({...x.attrs,...e}))}):n.addMark(g,y,c.create(e))})});return Xbe(s,n,c)},Qbe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),Zbe=(t,e={})=>({state:n,dispatch:s,chain:i})=>{const r=xs(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),r.isTextblock?i().command(({commands:a})=>AR(r,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>AR(r,{...o,...e})(a,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},eye=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,i=Nc(t,0,s.content.size),r=ot.create(s,i);e.setSelection(r)}return!0},tye=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:i,to:r}=typeof t=="number"?{from:t,to:t}:t,o=At.atStart(s).from,a=At.atEnd(s).to,c=Nc(i,o,a),u=Nc(r,o,a),d=At.create(s,c,u);e.setSelection(d)}return!0},nye=t=>({state:e,dispatch:n})=>{const s=xs(t,e.schema);return ege(s)(e,n)};function hM(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const s=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(s)}}var sye=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:i})=>{const{selection:r,doc:o}=e,{$from:a,$to:c}=r,u=i.extensionManager.attributes,d=uv(u,a.node().type.name,a.node().attrs);if(r instanceof ot&&r.node.isBlock)return!a.parentOffset||!Sa(o,a.pos)?!1:(s&&(t&&hM(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,h=a.depth===0?void 0:Nbe(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=f&&h?[{type:h,attrs:d}]:void 0,g=Sa(e.doc,e.mapping.map(a.pos),1,m);if(!m&&!g&&Sa(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(g=!0,m=h?[{type:h,attrs:d}]:void 0),s){if(g&&(r instanceof At&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,m),h&&!f&&!a.parentOffset&&a.parent.type!==h)){const y=e.mapping.map(a.before()),b=e.doc.resolve(y);a.node(-1).canReplaceWith(b.index(),b.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&hM(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},iye=(t,e={})=>({tr:n,state:s,dispatch:i,editor:r})=>{var o;const a=xs(t,s.schema),{$from:c,$to:u}=s.selection,d=s.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==a)return!1;const h=r.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let x=Re.empty;const E=c.index(-1)?1:c.index(-2)?2:3;for(let M=c.depth-E;M>=c.depth-3;M-=1)x=Re.from(c.node(M).copy(x));const C=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,_={...uv(h,c.node().type.name,c.node().attrs),...e},T=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill(_))||void 0;x=x.append(Re.from(a.createAndFill(null,T)||void 0));const k=c.before(c.depth-(E-1));n.replace(k,c.after(-C),new Ke(x,4-E,0));let $=-1;n.doc.nodesBetween(k,n.doc.content.size,(M,P)=>{if($>-1)return!1;M.isTextblock&&M.content.size===0&&($=P+1)}),$>-1&&n.setSelection(At.near(n.doc.resolve($))),n.scrollIntoView()}return!0}const m=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,g={...uv(h,f.type.name,f.attrs),...e},y={...uv(h,c.node().type.name,c.node().attrs),...e};n.delete(c.pos,u.pos);const b=m?[{type:a,attrs:g},{type:m,attrs:y}]:[{type:a,attrs:g}];if(!Sa(n.doc,c.pos,2))return!1;if(i){const{selection:x,storedMarks:E}=s,{splittableMarks:C}=r.extensionManager,_=E||x.$to.parentOffset&&x.$from.marks();if(n.split(c.pos,2,b).scrollIntoView(),!_||!i)return!0;const T=_.filter(k=>C.includes(k.type.name));n.ensureMarks(T)}return!0},s_=(t,e)=>{const n=E1(o=>o.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const i=t.doc.nodeAt(s);return n.node.type===i?.type&&Jl(t.doc,n.pos)&&t.join(n.pos),!0},i_=(t,e)=>{const n=E1(o=>o.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const i=t.doc.nodeAt(s);return n.node.type===i?.type&&Jl(t.doc,s)&&t.join(s),!0},rye=(t,e,n,s={})=>({editor:i,tr:r,state:o,dispatch:a,chain:c,commands:u,can:d})=>{const{extensions:f,splittableMarks:h}=i.extensionManager,m=xs(t,o.schema),g=xs(e,o.schema),{selection:y,storedMarks:b}=o,{$from:x,$to:E}=y,C=x.blockRange(E),_=b||y.$to.parentOffset&&y.$from.marks();if(!C)return!1;const T=E1(k=>fM(k.type.name,f))(y);if(C.depth>=1&&T&&C.depth-T.depth<=1){if(T.node.type===m)return u.liftListItem(g);if(fM(T.node.type.name,f)&&m.validContent(T.node.content)&&a)return c().command(()=>(r.setNodeMarkup(T.pos,m),!0)).command(()=>s_(r,m)).command(()=>i_(r,m)).run()}return!n||!_||!a?c().command(()=>d().wrapInList(m,s)?!0:u.clearNodes()).wrapInList(m,s).command(()=>s_(r,m)).command(()=>i_(r,m)).run():c().command(()=>{const k=d().wrapInList(m,s),$=_.filter(M=>h.includes(M.type.name));return r.ensureMarks($),k?!0:u.clearNodes()}).wrapInList(m,s).command(()=>s_(r,m)).command(()=>i_(r,m)).run()},oye=(t,e={},n={})=>({state:s,commands:i})=>{const{extendEmptyMarkRange:r=!1}=n,o=$a(t,s.schema);return QS(s,o,e)?i.unsetMark(o,{extendEmptyMarkRange:r}):i.setMark(o,e)},aye=(t,e,n={})=>({state:s,commands:i})=>{const r=xs(t,s.schema),o=xs(e,s.schema),a=Hl(s,r,n);let c;return s.selection.$anchor.sameParent(s.selection.$head)&&(c=s.selection.$anchor.parent.attrs),a?i.setNode(o,c):i.setNode(r,{...c,...n})},lye=(t,e={})=>({state:n,commands:s})=>{const i=xs(t,n.schema);return Hl(n,i,e)?s.lift(i):s.wrapIn(i,e)},cye=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let s=0;s<n.length;s+=1){const i=n[s];let r;if(i.spec.isInputRules&&(r=i.getState(t))){if(e){const o=t.tr,a=r.transform;for(let c=a.steps.length-1;c>=0;c-=1)o.step(a.steps[c].invert(a.docs[c]));if(r.text){const c=o.doc.resolve(r.from).marks();o.replaceWith(r.from,r.to,t.schema.text(r.text,c))}else o.delete(r.from,r.to)}return!0}}return!1},uye=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:s,ranges:i}=n;return s||e&&i.forEach(r=>{t.removeMark(r.$from.pos,r.$to.pos)}),!0},dye=(t,e={})=>({tr:n,state:s,dispatch:i})=>{var r;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,c=$a(t,s.schema),{$from:u,empty:d,ranges:f}=a;if(!i)return!0;if(d&&o){let{from:h,to:m}=a;const g=(r=u.marks().find(b=>b.type===c))==null?void 0:r.attrs,y=HC(u,c,g);y&&(h=y.from,m=y.to),n.removeMark(h,m,c)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,c)});return n.removeStoredMark(c),!0},fye=(t,e={})=>({tr:n,state:s,dispatch:i})=>{let r=null,o=null;const a=S1(typeof t=="string"?t:t.name,s.schema);return a?(a==="node"&&(r=xs(t,s.schema)),a==="mark"&&(o=$a(t,s.schema)),i&&n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,h,m,g;n.selection.empty?s.doc.nodesBetween(u,d,(y,b)=>{r&&r===y.type&&(m=Math.max(b,u),g=Math.min(b+y.nodeSize,d),f=b,h=y)}):s.doc.nodesBetween(u,d,(y,b)=>{b<u&&r&&r===y.type&&(m=Math.max(b,u),g=Math.min(b+y.nodeSize,d),f=b,h=y),b>=u&&b<=d&&(r&&r===y.type&&n.setNodeMarkup(b,void 0,{...y.attrs,...e}),o&&y.marks.length&&y.marks.forEach(x=>{if(o===x.type){const E=Math.max(b,u),C=Math.min(b+y.nodeSize,d);n.addMark(E,C,o.create({...x.attrs,...e}))}}))}),h&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(y=>{o===y.type&&n.addMark(m,g,o.create({...y.attrs,...e}))}))}),!0):!1},hye=(t,e={})=>({state:n,dispatch:s})=>{const i=xs(t,n.schema);return qme(i,e)(n,s)},pye=(t,e={})=>({state:n,dispatch:s})=>{const i=xs(t,n.schema);return Kme(i,e)(n,s)},mye=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(s=>s.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(s=>s!==e):delete this.callbacks[t]),this}once(t,e){const n=(...s)=>{this.off(t,n),e.apply(this,s)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},C1=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},gye=(t,e)=>{if(UC(e))return e.exec(t);const n=e(t);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=t,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function mg(t){var e;const{editor:n,from:s,to:i,text:r,rules:o,plugin:a}=t,{view:c}=n;if(c.composing)return!1;const u=c.state.doc.resolve(s);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(h=>h.type.spec.code))return!1;let d=!1;const f=Gbe(u)+r;return o.forEach(h=>{if(d)return;const m=gye(f,h.find);if(!m)return;const g=c.state.tr,y=x1({state:c.state,transaction:g}),b={from:s-(m[0].length-r.length),to:i},{commands:x,chain:E,can:C}=new _1({editor:n,state:y});h.handler({state:y,range:b,match:m,commands:x,chain:E,can:C})===null||!g.steps.length||(h.undoable&&g.setMeta(a,{transform:g,from:s,to:i,text:r}),c.dispatch(g),d=!0)}),d}function vye(t){const{editor:e,rules:n}=t,s=new ls({state:{init(){return null},apply(i,r,o){const a=i.getMeta(s);if(a)return a;const c=i.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=WC(Re.from(d),o.schema);const{from:f}=c,h=f+d.length;mg({editor:e,from:f,to:h,text:d,rules:n,plugin:s})}),i.selectionSet||i.docChanged?null:r}},props:{handleTextInput(i,r,o,a){return mg({editor:e,from:r,to:o,text:a,rules:n,plugin:s})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:r}=i.state.selection;r&&mg({editor:e,from:r.pos,to:r.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(i,r){if(r.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?mg({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function bye(t){return Object.prototype.toString.call(t).slice(8,-1)}function gg(t){return bye(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function AV(t,e){const n={...t};return gg(t)&&gg(e)&&Object.keys(e).forEach(s=>{gg(e[s])&&gg(t[s])?n[s]=AV(t[s],e[s]):n[s]=e[s]}),n}var KC=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...vn(rt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...vn(rt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>AV(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},La=class kV extends KC{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new kV(n)}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(u=>u?.type.name===n.name))return!1;const c=o.find(u=>u?.type.name===n.name);return c&&s.removeStoredMark(c),s.insertText(" ",i.pos),e.view.dispatch(s),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function yye(t){return typeof t=="number"}var xye=class{constructor(t){this.find=t.find,this.handler=t.handler}},_ye=(t,e,n)=>{if(UC(e))return[...t.matchAll(e)];const s=e(t,n);return s?s.map(i=>{const r=[i.text];return r.index=i.index,r.input=t,r.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(i.replaceWith)),r}):[]};function Sye(t){const{editor:e,state:n,from:s,to:i,rule:r,pasteEvent:o,dropEvent:a}=t,{commands:c,chain:u,can:d}=new _1({editor:e,state:n}),f=[];return n.doc.nodesBetween(s,i,(m,g)=>{var y,b,x,E,C;if((b=(y=m.type)==null?void 0:y.spec)!=null&&b.code||!(m.isText||m.isTextblock||m.isInline))return;const _=(C=(E=(x=m.content)==null?void 0:x.size)!=null?E:m.nodeSize)!=null?C:0,T=Math.max(s,g),k=Math.min(i,g+_);if(T>=k)return;const $=m.isText?m.text||"":m.textBetween(T-g,k-g,void 0,"");_ye($,r.find,o).forEach(P=>{if(P.index===void 0)return;const V=T+P.index+1,I=V+P[0].length,w={from:n.tr.mapping.map(V),to:n.tr.mapping.map(I)},D=r.handler({state:n,range:w,match:P,commands:c,chain:u,can:d,pasteEvent:o,dropEvent:a});f.push(D)})}),f.every(m=>m!==null)}var vg=null,Eye=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function wye(t){const{editor:e,rules:n}=t;let s=null,i=!1,r=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const c=({state:d,from:f,to:h,rule:m,pasteEvt:g})=>{const y=d.tr,b=x1({state:d,transaction:y});if(!(!Sye({editor:e,state:b,from:Math.max(f-1,0),to:h.b-1,rule:m,pasteEvent:g,dropEvent:a})||!y.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return n.map(d=>new ls({view(f){const h=g=>{var y;s=(y=f.dom.parentElement)!=null&&y.contains(g.target)?f.dom.parentElement:null,s&&(vg=e)},m=()=>{vg&&(vg=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(f,h)=>{if(r=s===f.dom.parentElement,a=h,!r){const m=vg;m?.isEditable&&setTimeout(()=>{const g=m.state.selection;g&&m.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(f,h)=>{var m;const g=(m=h.clipboardData)==null?void 0:m.getData("text/html");return o=h,i=!!g?.includes("data-pm-slice"),!1}}},appendTransaction:(f,h,m)=>{const g=f[0],y=g.getMeta("uiEvent")==="paste"&&!i,b=g.getMeta("uiEvent")==="drop"&&!r,x=g.getMeta("applyPasteRules"),E=!!x;if(!y&&!b&&!E)return;if(E){let{text:T}=x;typeof T=="string"?T=T:T=WC(Re.from(T),m.schema);const{from:k}=x,$=k+T.length,M=Eye(T);return c({rule:d,state:m,from:k,to:{b:$},pasteEvt:M})}const C=h.doc.content.findDiffStart(m.doc.content),_=h.doc.content.findDiffEnd(m.doc.content);if(!(!yye(C)||!_||C===_.b))return c({rule:d,state:m,from:C,to:_,pasteEvt:o})}}))}var A1=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=xV(t),this.schema=Vbe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:n_(e.name,this.schema)},s=rt(e,"addCommands",n);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return GC([...this.extensions].reverse()).flatMap(s=>{const i={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:n_(s.name,this.schema)},r=[],o=rt(s,"addKeyboardShortcuts",i);let a={};if(s.type==="mark"&&rt(s,"exitable",i)&&(a.ArrowRight=()=>La.handleExit({editor:t,mark:s})),o){const h=Object.fromEntries(Object.entries(o()).map(([m,g])=>[m,()=>g({editor:t})]));a={...a,...h}}const c=Hve(a);r.push(c);const u=rt(s,"addInputRules",i);if(dM(s,t.options.enableInputRules)&&u){const h=u();if(h&&h.length){const m=vye({editor:t,rules:h}),g=Array.isArray(m)?m:[m];r.push(...g)}}const d=rt(s,"addPasteRules",i);if(dM(s,t.options.enablePasteRules)&&d){const h=d();if(h&&h.length){const m=wye({editor:t,rules:h});r.push(...m)}}const f=rt(s,"addProseMirrorPlugins",i);if(f){const h=f();r.push(...h)}return r})}get attributes(){return yV(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=hp(this.extensions);return Object.fromEntries(e.filter(n=>!!rt(n,"addNodeView")).map(n=>{const s=this.attributes.filter(c=>c.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:xs(n.name,this.schema)},r=rt(n,"addNodeView",i);if(!r)return[];const o=r();if(!o)return[];const a=(c,u,d,f,h)=>{const m=_b(c,s);return o({node:c,view:u,getPos:d,decorations:f,innerDecorations:h,editor:t,extension:n,HTMLAttributes:m})};return[n.name,a]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=hp(this.extensions);return Object.fromEntries(e.filter(n=>!!rt(n,"addMarkView")).map(n=>{const s=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:$a(n.name,this.schema)},r=rt(n,"addMarkView",i);if(!r)return[];const o=(a,c,u)=>{const d=_b(a,s);return r()({mark:a,view:c,inline:u,editor:t,extension:n,HTMLAttributes:d,updateAttributes:f=>{Fye(a,t,f)}})};return[n.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:n_(e.name,this.schema)};e.type==="mark"&&((n=vn(rt(e,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(e.name);const i=rt(e,"onBeforeCreate",s),r=rt(e,"onCreate",s),o=rt(e,"onUpdate",s),a=rt(e,"onSelectionUpdate",s),c=rt(e,"onTransaction",s),u=rt(e,"onFocus",s),d=rt(e,"onBlur",s),f=rt(e,"onDestroy",s);i&&this.editor.on("beforeCreate",i),r&&this.editor.on("create",r),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}};A1.resolve=xV;A1.sort=GC;A1.flatten=jC;var Cye={};BC(Cye,{ClipboardTextSerializer:()=>DV,Commands:()=>OV,Delete:()=>RV,Drop:()=>MV,Editable:()=>IV,FocusEvents:()=>PV,Keymap:()=>$V,Paste:()=>LV,Tabindex:()=>FV,focusEventsPluginKey:()=>NV});var xn=class TV extends KC{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new TV(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},DV=xn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ls({key:new Ps("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:s,selection:i}=e,{ranges:r}=i,o=Math.min(...r.map(d=>d.$from.pos)),a=Math.max(...r.map(d=>d.$to.pos)),c=SV(n);return _V(s,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),OV=xn.create({name:"commands",addCommands(){return{...uV}}}),RV=xn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,s,i;const r=()=>{var o,a,c,u;if((u=(c=(a=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:a.filterTransaction)==null?void 0:c.call(a,t))!=null?u:t.getMeta("y-sync$"))return;const d=vV(t.before,[t,...e]);wV(d).forEach(m=>{d.mapping.mapResult(m.oldRange.from).deletedAfter&&d.mapping.mapResult(m.oldRange.to).deletedBefore&&d.before.nodesBetween(m.oldRange.from,m.oldRange.to,(g,y)=>{const b=y+g.nodeSize-2,x=m.oldRange.from<=y&&b<=m.oldRange.to;this.editor.emit("delete",{type:"node",node:g,from:y,to:b,newFrom:d.mapping.map(y),newTo:d.mapping.map(b),deletedRange:m.oldRange,newRange:m.newRange,partial:!x,editor:this.editor,transaction:t,combinedTransform:d})})});const h=d.mapping;d.steps.forEach((m,g)=>{var y,b;if(m instanceof eo){const x=h.slice(g).map(m.from,-1),E=h.slice(g).map(m.to),C=h.invert().map(x,-1),_=h.invert().map(E),T=(y=d.doc.nodeAt(x-1))==null?void 0:y.marks.some($=>$.eq(m.mark)),k=(b=d.doc.nodeAt(E))==null?void 0:b.marks.some($=>$.eq(m.mark));this.editor.emit("delete",{type:"mark",mark:m.mark,from:m.from,to:m.to,deletedRange:{from:C,to:_},newRange:{from:x,to:E},partial:!!(k||T),editor:this.editor,transaction:t,combinedTransform:d})}})};(i=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||i?setTimeout(r,0):r()}}),MV=xn.create({name:"drop",addProseMirrorPlugins(){return[new ls({key:new Ps("tiptapDrop"),props:{handleDrop:(t,e,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:s})}}})]}}),IV=xn.create({name:"editable",addProseMirrorPlugins(){return[new ls({key:new Ps("editable"),props:{editable:()=>this.editor.options.editable}})]}}),NV=new Ps("focusEvents"),PV=xn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ls({key:NV,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),$V=xn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:c,doc:u}=a,{empty:d,$anchor:f}=c,{pos:h,parent:m}=f,g=f.parent.isTextblock&&h>0?a.doc.resolve(h-1):f,y=g.parent.type.spec.isolating,b=f.pos-f.parentOffset,x=y&&g.parent.childCount===1?b===f.pos:Ft.atStart(u).from===h;return!d||!m.type.isTextblock||m.textContent.length||!x||x&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...s},r={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return zC()||mV()?r:i},addProseMirrorPlugins(){return[new ls({key:new Ps("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(y=>y.getMeta("composition")))return;const s=t.some(y=>y.docChanged)&&!e.doc.eq(n.doc),i=t.some(y=>y.getMeta("preventClearDocument"));if(!s||i)return;const{empty:r,from:o,to:a}=e.selection,c=Ft.atStart(e.doc).from,u=Ft.atEnd(e.doc).to;if(r||!(o===c&&a===u)||!w1(n.doc))return;const h=n.tr,m=x1({state:n,transaction:h}),{commands:g}=new _1({editor:this.editor,state:m});if(g.clearNodes(),!!h.steps.length)return h}})]}}),LV=xn.create({name:"paste",addProseMirrorPlugins(){return[new ls({key:new Ps("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),FV=xn.create({name:"tabindex",addProseMirrorPlugins(){return[new ls({key:new Ps("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Aye=class ad{constructor(e,n,s=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ad(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ad(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ad(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const i=n.isBlock&&!n.isTextblock,r=n.isAtom&&!n.isText,o=this.pos+s+(r?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const c=new ad(a,this.editor,i,i?n:null);i&&(c.actualDepth=this.depth+1),e.push(new ad(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,i=this.parent;for(;i&&!s;){if(i.node.type.name===e)if(Object.keys(n).length>0){const r=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const c=o[a];if(r[c]!==n[c])break}}else s=i;i=i.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let i=[];if(!this.children||this.children.length===0)return i;const r=Object.keys(n);return this.children.forEach(o=>{s&&i.length>0||(o.node.type.name===e&&r.every(c=>n[c]===o.node.attrs[c])&&i.push(o),!(s&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,s))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},kye=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Tye(t,e,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var Dye=class extends mye{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:r,moved:o})=>this.options.onDrop(i,r,o)),this.on("paste",({event:i,slice:r})=>this.options.onPaste(i,r)),this.on("delete",this.options.onDelete);const n=this.createDoc(),s=hV(n,this.options.autofocus);this.editorState=fd.create({doc:n,schema:this.schema,selection:s||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Tye(kye,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,n)=>{if(this.editorView)return this.editorView[n];if(n==="state")return this.editorState;if(n in e)return Reflect.get(e,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,n){const s=bV(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:s});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let s=n;if([].concat(e).forEach(r=>{const o=typeof r=="string"?`${r}$`:r.key;s=s.filter(a=>!a.key.startsWith(o))}),n.length===s.length)return;const i=this.state.reconfigure({plugins:s});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[IV,DV.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:n.blockSeparator}),OV,PV,$V,FV,MV,LV,RV].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r?.type));this.extensionManager=new A1(i,this)}createCommandManager(){this.commandManager=new _1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=JS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),e=JS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var n;this.editorView=new lV(e,{...this.options.editorProps,attributes:{role:"textbox",...(n=this.options.editorProps)==null?void 0:n.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(d=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(d)});return}const{state:n,transactions:s}=this.state.applyTransaction(e),i=!this.state.selection.eq(n.selection),r=s.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),!r)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:s.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const a=s.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),c=a?.getMeta("focus"),u=a?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(e.getMeta("preventUpdate")||!s.some(d=>d.docChanged)||o.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:s.slice(1)})}getAttributes(e){return EV(this.state,e)}isActive(e,n){const s=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return qbe(this.state,s,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return WC(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:s={}}=e||{};return Ube(this.state.doc,{blockSeparator:n,textSerializers:{...SV(this.schema),...s}})}get isEmpty(){return w1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,n;return(n=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?n:!0}$node(e,n){var s;return((s=this.$doc)==null?void 0:s.querySelector(e,n))||null}$nodes(e,n){var s;return((s=this.$doc)==null?void 0:s.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Aye(n,this)}get $doc(){return this.$pos(0)}};function vu(t){return new C1({find:t.find,handler:({state:e,range:n,match:s})=>{const i=vn(t.getAttributes,void 0,s);if(i===!1||i===null)return null;const{tr:r}=e,o=s[s.length-1],a=s[0];if(o){const c=a.search(/\S/),u=n.from+a.indexOf(o),d=u+o.length;if(qC(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(y=>y===t.type&&y!==m.mark.type)).filter(m=>m.to>u).length)return null;d<n.to&&r.delete(d,n.to),u>n.from&&r.delete(n.from+c,u);const h=n.from+c+o.length;r.addMark(n.from+c,h,t.type.create(i||{})),r.removeStoredMark(t.type)}},undoable:t.undoable})}function Oye(t){return new C1({find:t.find,handler:({state:e,range:n,match:s})=>{const i=vn(t.getAttributes,void 0,s)||{},{tr:r}=e,o=n.from;let a=n.to;const c=t.type.create(i);if(s[1]){const u=s[0].lastIndexOf(s[1]);let d=o+u;d>a?d=a:a=d+s[1].length;const f=s[0][s[0].length-1];r.insertText(f,o+s[0].length-1),r.replaceWith(d,a,c)}else if(s[0]){const u=t.type.isInline?o:o-1;r.insert(u,t.type.create(i)).delete(r.mapping.map(o),r.mapping.map(a))}r.scrollIntoView()},undoable:t.undoable})}function ZS(t){return new C1({find:t.find,handler:({state:e,range:n,match:s})=>{const i=e.doc.resolve(n.from),r=vn(t.getAttributes,void 0,s)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,r)},undoable:t.undoable})}function Yd(t){return new C1({find:t.find,handler:({state:e,range:n,match:s,chain:i})=>{const r=vn(t.getAttributes,void 0,s)||{},o=e.tr.delete(n.from,n.to),c=o.doc.resolve(n.from).blockRange(),u=c&&wC(c,t.type,r);if(!u)return null;if(o.wrap(c,u),t.keepMarks&&t.editor){const{selection:f,storedMarks:h}=e,{splittableMarks:m}=t.editor.extensionManager,g=h||f.$to.parentOffset&&f.$from.marks();if(g){const y=g.filter(b=>m.includes(b.type.name));o.ensureMarks(y)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,r).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&Jl(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(s,d))&&o.join(n.from-1)},undoable:t.undoable})}function Rye(t,e){const{selection:n}=t,{$from:s}=n;if(n instanceof ot){const r=s.index();return s.parent.canReplaceWith(r,r+1,e)}let i=s.depth;for(;i>=0;){const r=s.index(i);if(s.node(i).contentMatchAt(r).matchType(e))return!0;i-=1}return!1}var Mye={};BC(Mye,{createAtomBlockMarkdownSpec:()=>Iye,createBlockMarkdownSpec:()=>Nye,createInlineMarkdownSpec:()=>Lye,parseAttributes:()=>YC,parseIndentedBlocks:()=>eE,renderNestedMarkdownContent:()=>JC,serializeAttributes:()=>XC});function YC(t){if(!t?.trim())return{};const e={},n=[],s=t.replace(/["']([^"']*)["']/g,u=>(n.push(u),`__QUOTED_${n.length-1}__`)),i=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const u=i.map(d=>d.trim().slice(1));e.class=u.join(" ")}const r=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);r&&(e.id=r[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(o)).forEach(([,u,d])=>{var f;const h=parseInt(((f=d.match(/__QUOTED_(\d+)__/))==null?void 0:f[1])||"0",10),m=n[h];m&&(e[u]=m.slice(1,-1))});const c=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function XC(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>e.push(`.${s}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?e.push(n):s!==!1&&s!=null&&e.push(`${n}="${String(s)}"`))}),e.join(" ")}function Iye(t){const{nodeName:e,name:n,parseAttributes:s=YC,serializeAttributes:i=XC,defaultAttributes:r={},requiredAttributes:o=[],allowedAttributes:a}=t,c=n||e,u=d=>{if(!a)return d;const f={};return a.forEach(h=>{h in d&&(f[h]=d[h])}),f};return{parseMarkdown:(d,f)=>{const h={...r,...d.attributes};return f.createNode(e,h,[])},markdownTokenizer:{name:e,level:"block",start(d){var f;const h=new RegExp(`^:::${c}(?:\\s|$)`,"m"),m=(f=d.match(h))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,h){const m=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),g=d.match(m);if(!g)return;const y=g[1]||"",b=s(y);if(!o.find(E=>!(E in b)))return{type:e,raw:g[0],attributes:b}}},renderMarkdown:d=>{const f=u(d.attrs||{}),h=i(f),m=h?` {${h}}`:"";return`:::${c}${m} :::`}}}function Nye(t){const{nodeName:e,name:n,getContent:s,parseAttributes:i=YC,serializeAttributes:r=XC,defaultAttributes:o={},content:a="block",allowedAttributes:c}=t,u=n||e,d=f=>{if(!c)return f;const h={};return c.forEach(m=>{m in f&&(h[m]=f[m])}),h};return{parseMarkdown:(f,h)=>{let m;if(s){const y=s(f);m=typeof y=="string"?[{type:"text",text:y}]:y}else a==="block"?m=h.parseChildren(f.tokens||[]):m=h.parseInline(f.tokens||[]);const g={...o,...f.attributes};return h.createNode(e,g,m)},markdownTokenizer:{name:e,level:"block",start(f){var h;const m=new RegExp(`^:::${u}`,"m"),g=(h=f.match(m))==null?void 0:h.index;return g!==void 0?g:-1},tokenize(f,h,m){var g;const y=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=f.match(y);if(!b)return;const[x,E=""]=b,C=i(E);let _=1;const T=x.length;let k="";const $=/^:::([\w-]*)(\s.*)?/gm,M=f.slice(T);for($.lastIndex=0;;){const P=$.exec(M);if(P===null)break;const V=P.index,I=P[1];if(!((g=P[2])!=null&&g.endsWith(":::"))){if(I)_+=1;else if(_-=1,_===0){const w=M.slice(0,V);k=w.trim();const D=f.slice(0,T+V+P[0].length);let A=[];if(k)if(a==="block")for(A=m.blockTokens(w),A.forEach(B=>{B.text&&(!B.tokens||B.tokens.length===0)&&(B.tokens=m.inlineTokens(B.text))});A.length>0;){const B=A[A.length-1];if(B.type==="paragraph"&&(!B.text||B.text.trim()===""))A.pop();else break}else A=m.inlineTokens(k);return{type:e,raw:D,attributes:C,content:k,tokens:A}}}}}},renderMarkdown:(f,h)=>{const m=d(f.attrs||{}),g=r(m),y=g?` {${g}}`:"",b=h.renderChildren(f.content||[],`

`);return`:::${u}${y}

${b}

:::`}}}function Pye(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(t);for(;s!==null;){const[,i,r,o]=s;e[i]=r||o,s=n.exec(t)}return e}function $ye(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function Lye(t){const{nodeName:e,name:n,getContent:s,parseAttributes:i=Pye,serializeAttributes:r=$ye,defaultAttributes:o={},selfClosing:a=!1,allowedAttributes:c}=t,u=n||e,d=h=>{if(!c)return h;const m={};return c.forEach(g=>{g in h&&(m[g]=h[g])}),m},f=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,m)=>{const g={...o,...h.attributes};if(a)return m.createNode(e,g);const y=s?s(h):h.content||"";return y?m.createNode(e,g,[m.createTextNode(y)]):m.createNode(e,g,[])},markdownTokenizer:{name:e,level:"inline",start(h){const m=a?new RegExp(`\\[${f}\\s*[^\\]]*\\]`):new RegExp(`\\[${f}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${f}\\]`),g=h.match(m),y=g?.index;return y!==void 0?y:-1},tokenize(h,m,g){const y=a?new RegExp(`^\\[${f}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${f}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${f}\\]`),b=h.match(y);if(!b)return;let x="",E="";if(a){const[,_]=b;E=_}else{const[,_,T]=b;E=_,x=T||""}const C=i(E.trim());return{type:e,raw:b[0],content:x.trim(),attributes:C}}},renderMarkdown:h=>{let m="";s?m=s(h):h.content&&h.content.length>0&&(m=h.content.filter(x=>x.type==="text").map(x=>x.text).join(""));const g=d(h.attrs||{}),y=r(g),b=y?` ${y}`:"";return a?`[${u}${b}]`:`[${u}${b}]${m}[/${u}]`}}}function eE(t,e,n){var s,i,r,o;const a=t.split(`
`),c=[];let u="",d=0;const f=e.baseIndentSize||2;for(;d<a.length;){const h=a[d],m=h.match(e.itemPattern);if(!m){if(c.length>0)break;if(h.trim()===""){d+=1;continue}else return}const g=e.extractItemData(m),{indentLevel:y,mainContent:b}=g;u=`${u}${h}
`;const x=[b];for(d+=1;d<a.length;){const T=a[d];if(T.trim()===""){const $=a.slice(d+1).findIndex(V=>V.trim()!=="");if($===-1)break;if((((i=(s=a[d+1+$].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>y){x.push(T),u=`${u}${T}
`,d+=1;continue}else break}if((((o=(r=T.match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>y)x.push(T),u=`${u}${T}
`,d+=1;else break}let E;const C=x.slice(1);if(C.length>0){const T=C.map(k=>k.slice(y+f)).join(`
`);T.trim()&&(e.customNestedParser?E=e.customNestedParser(T):E=n.blockTokens(T))}const _=e.createToken(g,E);c.push(_)}if(c.length!==0)return{items:c,raw:u.trim()}}function JC(t,e,n,s){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(s):n,[r,...o]=t.content,a=e.renderChildren([r]),c=[`${i}${a}`];return o&&o.length>0&&o.forEach(u=>{const d=e.renderChildren([u]);if(d){const f=d.split(`
`).map(h=>h?e.indent(h):"").join(`
`);c.push(f)}}),c.join(`
`)}function Fye(t,e,n={}){const{state:s}=e,{doc:i,tr:r}=s,o=t;i.descendants((a,c)=>{const u=r.mapping.map(c),d=r.mapping.map(c)+a.nodeSize;let f=null;if(a.marks.forEach(m=>{if(m!==o)return!1;f=m}),!f)return;let h=!1;if(Object.keys(n).forEach(m=>{n[m]!==f.attrs[m]&&(h=!0)}),h){const m=t.type.create({...t.attrs,...n});r.removeMark(u,d,t.type),r.addMark(u,d,m)}}),r.docChanged&&e.view.dispatch(r)}var br=class VV extends KC{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new VV(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function zl(t){return new xye({find:t.find,handler:({state:e,range:n,match:s,pasteEvent:i})=>{const r=vn(t.getAttributes,void 0,s,i);if(r===!1||r===null)return null;const{tr:o}=e,a=s[s.length-1],c=s[0];let u=n.to;if(a){const d=c.search(/\S/),f=n.from+c.indexOf(a),h=f+a.length;if(qC(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===t.type&&b!==g.mark.type)).filter(g=>g.to>f).length)return null;h<n.to&&o.delete(h,n.to),f>n.from&&o.delete(n.from+d,f),u=n.from+d+a.length,o.addMark(n.from+d,u,t.type.create(r||{})),o.removeStoredMark(t.type)}}})}function pM(t){return WE((e,n)=>({get(){return e(),t},set(s){t=s,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}var Vye=class extends Dye{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=pM(this.view.state),this.reactiveExtensionStorage=pM(this.extensionStorage),this.on("beforeTransaction",({nextState:e})=>{this.reactiveState.value=e,this.reactiveExtensionStorage.value=this.extensionStorage}),Ap(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,e){const n=super.registerPlugin(t,e);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(t){const e=super.unregisterPlugin(t);return this.reactiveState&&e&&(this.reactiveState.value=e),e}},Bye=We({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=H(),n=gi();return i$(()=>{const s=t.editor;s&&s.options.element&&e.value&&Ma(()=>{var i;if(!e.value||!((i=s.view.dom)!=null&&i.firstChild))return;const r=Ve(e.value);e.value.append(s.view.dom),s.contentComponent=n.ctx._,n&&(s.appContext={...n.appContext,provides:n.provides}),s.setOptions({element:r}),s.createNodeViews()})}),Po(()=>{const s=t.editor;s&&(s.contentComponent=null,s.appContext=null)}),{rootEl:e}},render(){return so("div",{ref:t=>{this.rootEl=t}})}}),Uye=(t={})=>{const e=wy();return it(()=>{e.value=new Vye(t)}),Po(()=>{var n,s,i;const r=(n=e.value)==null?void 0:n.view.dom,o=r?.cloneNode(!0);(s=r?.parentNode)==null||s.replaceChild(o,r),(i=e.value)==null||i.destroy()}),e},Sb=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...s}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,n]},Hye=/^\s*>\s$/,zye=br.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Sb("blockquote",{...as(this.options.HTMLAttributes,t),children:Sb("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",s=[];return t.content.forEach(i=>{const a=e.renderChildren([i]).split(`
`).map(c=>c.trim()===""?n:`${n} ${c}`);s.push(a.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Yd({find:Hye,type:this.type})]}}),jye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Wye=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Gye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qye=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Kye=La.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Sb("strong",{...as(this.options.HTMLAttributes,t),children:Sb("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[vu({find:jye,type:this.type}),vu({find:Gye,type:this.type})]},addPasteRules(){return[zl({find:Wye,type:this.type}),zl({find:qye,type:this.type})]}}),Yye=/(^|[^`])`([^`]+)`(?!`)$/,Xye=/(^|[^`])`([^`]+)`(?!`)/g,Jye=La.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",as(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[vu({find:Yye,type:this.type})]},addPasteRules(){return[zl({find:Xye,type:this.type})]}}),r_=4,Qye=/^```([a-z]+)?[\s\n]$/,Zye=/^~~~([a-z]+)?[\s\n]$/,e1e=br.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:r_,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const r=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return r||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",as(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let s="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?s=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${i}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:r_,{state:s}=t,{selection:i}=s,{$from:r,empty:o}=i;if(r.parent.type!==this.type)return!1;const a=" ".repeat(n);return o?t.commands.insertContent(a):t.commands.command(({tr:c})=>{const{from:u,to:d}=i,m=s.doc.textBetween(u,d,`
`,`
`).split(`
`).map(g=>a+g).join(`
`);return c.replaceWith(u,d,s.schema.text(m)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:r_,{state:s}=t,{selection:i}=s,{$from:r,empty:o}=i;return r.parent.type!==this.type?!1:o?t.commands.command(({tr:a})=>{var c;const{pos:u}=r,d=r.start(),f=r.end(),m=s.doc.textBetween(d,f,`
`,`
`).split(`
`);let g=0,y=0;const b=u-d;for(let k=0;k<m.length;k+=1){if(y+m[k].length>=b){g=k;break}y+=m[k].length+1}const E=((c=m[g].match(/^ */))==null?void 0:c[0])||"",C=Math.min(E.length,n);if(C===0)return!0;let _=d;for(let k=0;k<g;k+=1)_+=m[k].length+1;return a.delete(_,_+C),u-_<=C&&a.setSelection(At.create(a.doc,_)),!0}):t.commands.command(({tr:a})=>{const{from:c,to:u}=i,h=s.doc.textBetween(c,u,`
`,`
`).split(`
`).map(m=>{var g;const y=((g=m.match(/^ */))==null?void 0:g[0])||"",b=Math.min(y.length,n);return m.slice(b)}).join(`
`);return a.replaceWith(c,u,s.schema.text(h)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;const r=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!r||!o?!1:t.chain().command(({tr:a})=>(a.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:s.nodeAt(a)?t.commands.command(({tr:u})=>(u.setSelection(Ft.near(s.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[ZS({find:Qye,type:this.type,getAttributes:t=>({language:t[1]})}),ZS({find:Zye,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ls({key:new Ps("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,r=i?.mode;if(!n||!r)return!1;const{tr:o,schema:a}=t.state,c=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:r},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(At.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),t1e=br.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),n1e=br.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",as(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:r}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=s.extensionManager,c=r||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&c&&o){const f=c.filter(h=>a.includes(h.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),s1e=br.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,as(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const s=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(s);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ZS({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),i1e=br.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",as(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!Rye(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:s}=n,i=t();return CV(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:r,tr:o,dispatch:a})=>{if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(At.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(ot.create(o.doc,c.pos)):o.setSelection(At.create(o.doc,c.pos));else{const d=r.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,f=d?.create();f&&(o.insert(u,f),o.setSelection(At.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Oye({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),r1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,o1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,a1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,l1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,c1e=La.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",as(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[vu({find:r1e,type:this.type}),vu({find:a1e,type:this.type})]},addPasteRules(){return[zl({find:o1e,type:this.type}),zl({find:l1e,type:this.type})]}});const u1e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",d1e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",tE="numeric",nE="ascii",sE="alpha",xh="asciinumeric",qf="alphanumeric",iE="domain",BV="emoji",f1e="scheme",h1e="slashscheme",o_="whitespace";function p1e(t,e){return t in e||(e[t]=[]),e[t]}function Pc(t,e,n){e[tE]&&(e[xh]=!0,e[qf]=!0),e[nE]&&(e[xh]=!0,e[sE]=!0),e[xh]&&(e[qf]=!0),e[sE]&&(e[qf]=!0),e[qf]&&(e[iE]=!0),e[BV]&&(e[iE]=!0);for(const s in e){const i=p1e(s,n);i.indexOf(t)<0&&i.push(t)}}function m1e(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}function ji(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ji.groups={};ji.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const i=e.jr[s][0],r=e.jr[s][1];if(r&&i.test(t))return r}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,s)},tr(t,e,n,s){s=s||ji.groups;let i;return e&&e.j?i=e:(i=new ji(e),n&&s&&Pc(e,n,s)),this.jr.push([t,i]),i},ts(t,e,n,s){let i=this;const r=t.length;if(!r)return i;for(let o=0;o<r-1;o++)i=i.tt(t[o]);return i.tt(t[r-1],e,n,s)},tt(t,e,n,s){s=s||ji.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const r=e;let o,a=i.go(t);if(a?(o=new ji,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new ji,r){if(s)if(o.t&&typeof o.t=="string"){const c=Object.assign(m1e(o.t,s),n);Pc(r,c,s)}else n&&Pc(r,n,s);o.t=r}return i.j[t]=o,o}};const Lt=(t,e,n,s,i)=>t.ta(e,n,s,i),Xn=(t,e,n,s,i)=>t.tr(e,n,s,i),mM=(t,e,n,s,i)=>t.ts(e,n,s,i),$e=(t,e,n,s,i)=>t.tt(e,n,s,i),ta="WORD",rE="UWORD",UV="ASCIINUMERICAL",HV="ALPHANUMERICAL",pp="LOCALHOST",oE="TLD",aE="UTLD",dv="SCHEME",ld="SLASH_SCHEME",QC="NUM",lE="WS",ZC="NL",_h="OPENBRACE",Sh="CLOSEBRACE",Eb="OPENBRACKET",wb="CLOSEBRACKET",Cb="OPENPAREN",Ab="CLOSEPAREN",kb="OPENANGLEBRACKET",Tb="CLOSEANGLEBRACKET",Db="FULLWIDTHLEFTPAREN",Ob="FULLWIDTHRIGHTPAREN",Rb="LEFTCORNERBRACKET",Mb="RIGHTCORNERBRACKET",Ib="LEFTWHITECORNERBRACKET",Nb="RIGHTWHITECORNERBRACKET",Pb="FULLWIDTHLESSTHAN",$b="FULLWIDTHGREATERTHAN",Lb="AMPERSAND",Fb="APOSTROPHE",Vb="ASTERISK",cl="AT",Bb="BACKSLASH",Ub="BACKTICK",Hb="CARET",hl="COLON",eA="COMMA",zb="DOLLAR",go="DOT",jb="EQUALS",tA="EXCLAMATION",Ir="HYPHEN",Eh="PERCENT",Wb="PIPE",Gb="PLUS",qb="POUND",wh="QUERY",nA="QUOTE",zV="FULLWIDTHMIDDLEDOT",sA="SEMI",vo="SLASH",Ch="TILDE",Kb="UNDERSCORE",jV="EMOJI",Yb="SYM";var WV=Object.freeze({__proto__:null,ALPHANUMERICAL:HV,AMPERSAND:Lb,APOSTROPHE:Fb,ASCIINUMERICAL:UV,ASTERISK:Vb,AT:cl,BACKSLASH:Bb,BACKTICK:Ub,CARET:Hb,CLOSEANGLEBRACKET:Tb,CLOSEBRACE:Sh,CLOSEBRACKET:wb,CLOSEPAREN:Ab,COLON:hl,COMMA:eA,DOLLAR:zb,DOT:go,EMOJI:jV,EQUALS:jb,EXCLAMATION:tA,FULLWIDTHGREATERTHAN:$b,FULLWIDTHLEFTPAREN:Db,FULLWIDTHLESSTHAN:Pb,FULLWIDTHMIDDLEDOT:zV,FULLWIDTHRIGHTPAREN:Ob,HYPHEN:Ir,LEFTCORNERBRACKET:Rb,LEFTWHITECORNERBRACKET:Ib,LOCALHOST:pp,NL:ZC,NUM:QC,OPENANGLEBRACKET:kb,OPENBRACE:_h,OPENBRACKET:Eb,OPENPAREN:Cb,PERCENT:Eh,PIPE:Wb,PLUS:Gb,POUND:qb,QUERY:wh,QUOTE:nA,RIGHTCORNERBRACKET:Mb,RIGHTWHITECORNERBRACKET:Nb,SCHEME:dv,SEMI:sA,SLASH:vo,SLASH_SCHEME:ld,SYM:Yb,TILDE:Ch,TLD:oE,UNDERSCORE:Kb,UTLD:aE,UWORD:rE,WORD:ta,WS:lE});const Jo=/[a-z]/,If=new RegExp("\\p{L}","u"),a_=new RegExp("\\p{Emoji}","u"),Qo=/\d/,l_=/\s/,gM="\r",c_=`
`,g1e="",v1e="",u_="";let bg=null,yg=null;function b1e(t=[]){const e={};ji.groups=e;const n=new ji;bg==null&&(bg=vM(u1e)),yg==null&&(yg=vM(d1e)),$e(n,"'",Fb),$e(n,"{",_h),$e(n,"}",Sh),$e(n,"[",Eb),$e(n,"]",wb),$e(n,"(",Cb),$e(n,")",Ab),$e(n,"<",kb),$e(n,">",Tb),$e(n,"",Db),$e(n,"",Ob),$e(n,"",Rb),$e(n,"",Mb),$e(n,"",Ib),$e(n,"",Nb),$e(n,"",Pb),$e(n,"",$b),$e(n,"&",Lb),$e(n,"*",Vb),$e(n,"@",cl),$e(n,"`",Ub),$e(n,"^",Hb),$e(n,":",hl),$e(n,",",eA),$e(n,"$",zb),$e(n,".",go),$e(n,"=",jb),$e(n,"!",tA),$e(n,"-",Ir),$e(n,"%",Eh),$e(n,"|",Wb),$e(n,"+",Gb),$e(n,"#",qb),$e(n,"?",wh),$e(n,'"',nA),$e(n,"/",vo),$e(n,";",sA),$e(n,"~",Ch),$e(n,"_",Kb),$e(n,"\\",Bb),$e(n,"",zV);const s=Xn(n,Qo,QC,{[tE]:!0});Xn(s,Qo,s);const i=Xn(s,Jo,UV,{[xh]:!0}),r=Xn(s,If,HV,{[qf]:!0}),o=Xn(n,Jo,ta,{[nE]:!0});Xn(o,Qo,i),Xn(o,Jo,o),Xn(i,Qo,i),Xn(i,Jo,i);const a=Xn(n,If,rE,{[sE]:!0});Xn(a,Jo),Xn(a,Qo,r),Xn(a,If,a),Xn(r,Qo,r),Xn(r,Jo),Xn(r,If,r);const c=$e(n,c_,ZC,{[o_]:!0}),u=$e(n,gM,lE,{[o_]:!0}),d=Xn(n,l_,lE,{[o_]:!0});$e(n,u_,d),$e(u,c_,c),$e(u,u_,d),Xn(u,l_,d),$e(d,gM),$e(d,c_),Xn(d,l_,d),$e(d,u_,d);const f=Xn(n,a_,jV,{[BV]:!0});$e(f,"#"),Xn(f,a_,f),$e(f,g1e,f);const h=$e(f,v1e);$e(h,"#"),Xn(h,a_,f);const m=[[Jo,o],[Qo,i]],g=[[Jo,null],[If,a],[Qo,r]];for(let y=0;y<bg.length;y++)Za(n,bg[y],oE,ta,m);for(let y=0;y<yg.length;y++)Za(n,yg[y],aE,rE,g);Pc(oE,{tld:!0,ascii:!0},e),Pc(aE,{utld:!0,alpha:!0},e),Za(n,"file",dv,ta,m),Za(n,"mailto",dv,ta,m),Za(n,"http",ld,ta,m),Za(n,"https",ld,ta,m),Za(n,"ftp",ld,ta,m),Za(n,"ftps",ld,ta,m),Pc(dv,{scheme:!0,ascii:!0},e),Pc(ld,{slashscheme:!0,ascii:!0},e),t=t.sort((y,b)=>y[0]>b[0]?1:-1);for(let y=0;y<t.length;y++){const b=t[y][0],E=t[y][1]?{[f1e]:!0}:{[h1e]:!0};b.indexOf("-")>=0?E[iE]=!0:Jo.test(b)?Qo.test(b)?E[xh]=!0:E[nE]=!0:E[tE]=!0,mM(n,b,b,E)}return mM(n,"localhost",pp,{ascii:!0}),n.jd=new ji(Yb),{start:n,tokens:Object.assign({groups:e},WV)}}function GV(t,e){const n=y1e(e.replace(/[A-Z]/g,a=>a.toLowerCase())),s=n.length,i=[];let r=0,o=0;for(;o<s;){let a=t,c=null,u=0,d=null,f=-1,h=-1;for(;o<s&&(c=a.go(n[o]));)a=c,a.accepts()?(f=0,h=0,d=a):f>=0&&(f+=n[o].length,h++),u+=n[o].length,r+=n[o].length,o++;r-=f,o-=h,u-=f,i.push({t:d.t,v:e.slice(r-u,r),s:r-u,e:r})}return i}function y1e(t){const e=[],n=t.length;let s=0;for(;s<n;){let i=t.charCodeAt(s),r,o=i<55296||i>56319||s+1===n||(r=t.charCodeAt(s+1))<56320||r>57343?t[s]:t.slice(s,s+2);e.push(o),s+=o.length}return e}function Za(t,e,n,s,i){let r;const o=e.length;for(let a=0;a<o-1;a++){const c=e[a];t.j[c]?r=t.j[c]:(r=new ji(s),r.jr=i.slice(),t.j[c]=r),t=r}return r=new ji(n),r.jr=i.slice(),t.j[e[o-1]]=r,r}function vM(t){const e=[],n=[];let s=0,i="0123456789";for(;s<t.length;){let r=0;for(;i.indexOf(t[s+r])>=0;)r++;if(r>0){e.push(n.join(""));for(let o=parseInt(t.substring(s,s+r),10);o>0;o--)n.pop();s+=r}else n.push(t[s]),s++}return e}const mp={defaultProtocol:"http",events:null,format:bM,formatHref:bM,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function iA(t,e=null){let n=Object.assign({},mp);t&&(n=Object.assign(n,t instanceof iA?t.o:t));const s=n.ignoreTags,i=[];for(let r=0;r<s.length;r++)i.push(s[r].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}iA.prototype={o:mp,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:mp[t],typeof i=="function"&&s&&(i=i(e,n))):typeof i=="function"&&s&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let s=this.o[t];return typeof s=="function"&&e!=null&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function bM(t){return t}function qV(t,e){this.t="token",this.v=t,this.tk=e}qV.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=mp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),i=t.get("tagName",n,e),r=this.toFormattedString(t),o={},a=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return o.href=s,a&&(o.class=a),c&&(o.target=c),u&&(o.rel=u),d&&Object.assign(o,d),{tagName:i,attributes:o,content:r,eventListeners:f}}};function k1(t,e){class n extends qV{constructor(i,r){super(i,r),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}const yM=k1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),xM=k1("text"),x1e=k1("nl"),xg=k1("url",{isLink:!0,toHref(t=mp.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==pp&&t[1].t===hl}}),Tr=t=>new ji(t);function _1e({groups:t}){const e=t.domain.concat([Lb,Vb,cl,Bb,Ub,Hb,zb,jb,Ir,QC,Eh,Wb,Gb,qb,vo,Yb,Ch,Kb]),n=[Fb,hl,eA,go,tA,Eh,wh,nA,sA,kb,Tb,_h,Sh,wb,Eb,Cb,Ab,Db,Ob,Rb,Mb,Ib,Nb,Pb,$b],s=[Lb,Fb,Vb,Bb,Ub,Hb,zb,jb,Ir,_h,Sh,Eh,Wb,Gb,qb,wh,vo,Yb,Ch,Kb],i=Tr(),r=$e(i,Ch);Lt(r,s,r),Lt(r,t.domain,r);const o=Tr(),a=Tr(),c=Tr();Lt(i,t.domain,o),Lt(i,t.scheme,a),Lt(i,t.slashscheme,c),Lt(o,s,r),Lt(o,t.domain,o);const u=$e(o,cl);$e(r,cl,u),$e(a,cl,u),$e(c,cl,u);const d=$e(r,go);Lt(d,s,r),Lt(d,t.domain,r);const f=Tr();Lt(u,t.domain,f),Lt(f,t.domain,f);const h=$e(f,go);Lt(h,t.domain,f);const m=Tr(yM);Lt(h,t.tld,m),Lt(h,t.utld,m),$e(u,pp,m);const g=$e(f,Ir);$e(g,Ir,g),Lt(g,t.domain,f),Lt(m,t.domain,f),$e(m,go,h),$e(m,Ir,g);const y=$e(m,hl);Lt(y,t.numeric,yM);const b=$e(o,Ir),x=$e(o,go);$e(b,Ir,b),Lt(b,t.domain,o),Lt(x,s,r),Lt(x,t.domain,o);const E=Tr(xg);Lt(x,t.tld,E),Lt(x,t.utld,E),Lt(E,t.domain,o),Lt(E,s,r),$e(E,go,x),$e(E,Ir,b),$e(E,cl,u);const C=$e(E,hl),_=Tr(xg);Lt(C,t.numeric,_);const T=Tr(xg),k=Tr();Lt(T,e,T),Lt(T,n,k),Lt(k,e,T),Lt(k,n,k),$e(E,vo,T),$e(_,vo,T);const $=$e(a,hl),M=$e(c,hl),P=$e(M,vo),V=$e(P,vo);Lt(a,t.domain,o),$e(a,go,x),$e(a,Ir,b),Lt(c,t.domain,o),$e(c,go,x),$e(c,Ir,b),Lt($,t.domain,T),$e($,vo,T),$e($,wh,T),Lt(V,t.domain,T),Lt(V,e,T),$e(V,vo,T);const I=[[_h,Sh],[Eb,wb],[Cb,Ab],[kb,Tb],[Db,Ob],[Rb,Mb],[Ib,Nb],[Pb,$b]];for(let w=0;w<I.length;w++){const[D,A]=I[w],B=$e(T,D);$e(k,D,B),$e(B,A,T);const N=Tr(xg);Lt(B,e,N);const q=Tr();Lt(B,n),Lt(N,e,N),Lt(N,n,q),Lt(q,e,N),Lt(q,n,q),$e(N,A,T),$e(q,A,T)}return $e(i,pp,E),$e(i,ZC,x1e),{start:i,tokens:WV}}function S1e(t,e,n){let s=n.length,i=0,r=[],o=[];for(;i<s;){let a=t,c=null,u=null,d=0,f=null,h=-1;for(;i<s&&!(c=a.go(n[i].t));)o.push(n[i++]);for(;i<s&&(u=c||a.go(n[i].t));)c=null,a=u,a.accepts()?(h=0,f=a):h>=0&&h++,i++,d++;if(h<0)i-=d,i<s&&(o.push(n[i]),i++);else{o.length>0&&(r.push(d_(xM,e,o)),o=[]),i-=h,d-=h;const m=f.t,g=n.slice(i-d,i);r.push(d_(m,e,g))}}return o.length>0&&r.push(d_(xM,e,o)),r}function d_(t,e,n){const s=n[0].s,i=n[n.length-1].e,r=e.slice(s,i);return new t(r,n)}const E1e=typeof console<"u"&&console&&console.warn||(()=>{}),w1e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",In={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function C1e(){return ji.groups={},In.scanner=null,In.parser=null,In.tokenQueue=[],In.pluginQueue=[],In.customSchemes=[],In.initialized=!1,In}function _M(t,e=!1){if(In.initialized&&E1e(`linkifyjs: already initialized - will not register custom scheme "${t}" ${w1e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);In.customSchemes.push([t,e])}function A1e(){In.scanner=b1e(In.customSchemes);for(let t=0;t<In.tokenQueue.length;t++)In.tokenQueue[t][1]({scanner:In.scanner});In.parser=_1e(In.scanner.tokens);for(let t=0;t<In.pluginQueue.length;t++)In.pluginQueue[t][1]({scanner:In.scanner,parser:In.parser});return In.initialized=!0,In}function rA(t){return In.initialized||A1e(),S1e(In.parser.start,t,GV(In.scanner.start,t))}rA.scan=GV;function KV(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new iA(n),i=rA(t),r=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&s.check(a)&&r.push(a.toFormattedObject(s))}return r}var oA="[\0- -\u2029]",k1e=new RegExp(oA),T1e=new RegExp(`${oA}$`),D1e=new RegExp(oA,"g");function O1e(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function R1e(t){return new ls({key:new Ps("autolink"),appendTransaction:(e,n,s)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(s.doc),r=e.some(u=>u.getMeta("preventAutolink"));if(!i||r)return;const{tr:o}=s,a=vV(n.doc,[...e]);if(wV(a).forEach(({newRange:u})=>{const d=Pbe(s.doc,u,m=>m.isTextblock);let f,h;if(d.length>1)f=d[0],h=s.doc.textBetween(f.pos,f.pos+f.node.nodeSize,void 0," ");else if(d.length){const m=s.doc.textBetween(u.from,u.to," "," ");if(!T1e.test(m))return;f=d[0],h=s.doc.textBetween(f.pos,u.to,void 0," ")}if(f&&h){const m=h.split(k1e).filter(Boolean);if(m.length<=0)return!1;const g=m[m.length-1],y=f.pos+h.lastIndexOf(g);if(!g)return!1;const b=rA(g).map(x=>x.toObject(t.defaultProtocol));if(!O1e(b))return!1;b.filter(x=>x.isLink).map(x=>({...x,from:y+x.start+1,to:y+x.end+1})).filter(x=>s.schema.marks.code?!s.doc.rangeHasMark(x.from,x.to,s.schema.marks.code):!0).filter(x=>t.validate(x.value)).filter(x=>t.shouldAutoLink(x.value)).forEach(x=>{qC(x.from,x.to,s.doc).some(E=>E.mark.type===t.type)||o.addMark(x.from,x.to,t.type.create({href:x.href}))})}}),!!o.steps.length)return o}})}function M1e(t){return new ls({key:new Ps("handleClickLink"),props:{handleClick:(e,n,s)=>{var i,r;if(s.button!==0||!e.editable)return!1;let o=null;if(s.target instanceof HTMLAnchorElement)o=s.target;else{let d=s.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;o=f.find(h=>h.nodeName==="A")}if(!o)return!1;const a=EV(e.state,t.type.name),c=(i=o?.href)!=null?i:a.href,u=(r=o?.target)!=null?r:a.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,u),!0):!1}}})}function I1e(t){return new ls({key:new Ps("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{shouldAutoLink:i}=t,{state:r}=e,{selection:o}=r,{empty:a}=o;if(a)return!1;let c="";s.content.forEach(d=>{c+=d.textContent});const u=KV(c,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!u||i!==void 0&&!i(u.href)?!1:t.editor.commands.setMark(t.type,{href:u.href})}}})}function fc(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const i=typeof s=="string"?s:s.scheme;i&&n.push(i)}),!t||t.replace(D1e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var N1e=La.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){_M(t);return}_M(t.scheme,t.optionalSlashes)})},onDestroy(){C1e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!fc(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!fc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!fc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",as(this.options.HTMLAttributes,t),0]:["a",as(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const s=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${s})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:s=>!!fc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!fc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[zl({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:s}=this.options,i=KV(t).filter(r=>r.isLink&&this.options.isAllowedUri(r.value,{defaultValidate:o=>!!fc(o,n),protocols:n,defaultProtocol:s}));i.length&&i.forEach(r=>{this.options.shouldAutoLink(r.value)&&e.push({text:r.value,data:{href:r.href},index:r.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(R1e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:i=>!!fc(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(M1e({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(I1e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),P1e=Object.defineProperty,$1e=(t,e)=>{for(var n in e)P1e(t,n,{get:e[n],enumerable:!0})},L1e="listItem",SM="textStyle",EM=/^\s*([-+*])\s$/,YV=br.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",as(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(L1e,this.editor.getAttributes(SM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Yd({find:EM,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Yd({find:EM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(SM),editor:this.editor})),[t]}}),XV=br.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",as(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const o=t.tokens.slice(1),a=e.parseChildren(o);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>JC(t,e,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),F1e={};$1e(F1e,{findListItemPos:()=>Kp,getNextListDepth:()=>aA,handleBackspace:()=>cE,handleDelete:()=>uE,hasListBefore:()=>JV,hasListItemAfter:()=>V1e,hasListItemBefore:()=>QV,listItemHasSubList:()=>ZV,nextListIsDeeper:()=>eB,nextListIsHigher:()=>tB});var Kp=(t,e)=>{const{$from:n}=e.selection,s=xs(t,e.schema);let i=null,r=n.depth,o=n.pos,a=null;for(;r>0&&a===null;)i=n.node(r),i.type===s?a=r:(r-=1,o-=1);return a===null?null:{$pos:e.doc.resolve(o),depth:a}},aA=(t,e)=>{const n=Kp(t,e);if(!n)return!1;const[,s]=Wbe(e,t,n.$pos.pos+4);return s},JV=(t,e,n)=>{const{$anchor:s}=t.selection,i=Math.max(0,s.pos-2),r=t.doc.resolve(i).node();return!(!r||!n.includes(r.type.name))},QV=(t,e)=>{var n;const{$anchor:s}=e.selection,i=e.doc.resolve(s.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},ZV=(t,e,n)=>{if(!n)return!1;const s=xs(t,e.schema);let i=!1;return n.descendants(r=>{r.type===s&&(i=!0)}),i},cE=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Hl(t.state,e)&&JV(t.state,e,n)){const{$anchor:a}=t.state.selection,c=t.state.doc.resolve(a.before()-1),u=[];c.node().descendants((h,m)=>{h.type.name===e&&u.push({node:h,pos:m})});const d=u.at(-1);if(!d)return!1;const f=t.state.doc.resolve(c.start()+d.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},f.end()).joinForward().run()}if(!Hl(t.state,e)||!Ybe(t.state))return!1;const s=Kp(e,t.state);if(!s)return!1;const r=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),o=ZV(e,t.state,r);return QV(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},eB=(t,e)=>{const n=aA(t,e),s=Kp(t,e);return!s||!n?!1:n>s.depth},tB=(t,e)=>{const n=aA(t,e),s=Kp(t,e);return!s||!n?!1:n<s.depth},uE=(t,e)=>{if(!Hl(t.state,e)||!Kbe(t.state,e))return!1;const{selection:n}=t.state,{$from:s,$to:i}=n;return!n.empty&&s.sameParent(i)?!1:eB(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():tB(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},V1e=(t,e)=>{var n;const{$anchor:s}=e.selection,i=e.doc.resolve(s.pos-s.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},nB=xn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&uE(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&uE(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&cE(t,n,s)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&cE(t,n,s)&&(e=!0)}),e}}}}),wM=/^(\s*)(\d+)\.\s+(.*)$/,B1e=/^\s/;function U1e(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n],r=i.match(wM);if(!r)break;const[,o,a,c]=r,u=o.length;let d=c,f=n+1;const h=[i];for(;f<t.length;){const m=t[f];if(m.match(wM))break;if(m.trim()==="")h.push(m),d+=`
`,f+=1;else if(m.match(B1e))h.push(m),d+=`
${m.slice(u+2)}`,f+=1;else break}e.push({indent:u,number:parseInt(a,10),content:d.trim(),raw:h.join(`
`)}),s=f,n=f}return[e,s]}function sB(t,e,n){var s;const i=[];let r=0;for(;r<t.length;){const o=t[r];if(o.indent===e){const a=o.content.split(`
`),c=((s=a[0])==null?void 0:s.trim())||"",u=[];c&&u.push({type:"paragraph",raw:c,tokens:n.inlineTokens(c)});const d=a.slice(1).join(`
`).trim();if(d){const m=n.blockTokens(d);u.push(...m)}let f=r+1;const h=[];for(;f<t.length&&t[f].indent>e;)h.push(t[f]),f+=1;if(h.length>0){const m=Math.min(...h.map(y=>y.indent)),g=sB(h,m,n);u.push({type:"list",ordered:!0,start:h[0].number,items:g,raw:h.map(y=>y.raw).join(`
`)})}i.push({type:"list_item",raw:o.raw,tokens:u}),r=f}else r+=1}return i}function H1e(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")s.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const r=e.parseChildren([i]);s.push({type:"paragraph",content:r})}else{const r=e.parseChildren([i]);r.length>0&&s.push(...r)}}),{type:"listItem",content:s}})}var z1e="listItem",CM="textStyle",AM=/^(\d+)\.\s$/,iB=br.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",as(this.options.HTMLAttributes,n),0]:["ol",as(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,s=t.items?H1e(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var s;const i=t.split(`
`),[r,o]=U1e(i);if(r.length===0)return;const a=sB(r,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((s=r[0])==null?void 0:s.number)||1,items:a,raw:i.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(z1e,this.editor.getAttributes(CM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Yd({find:AM,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Yd({find:AM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(CM)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),j1e=/^\s*(\[([( |x])?\])\s$/,W1e=br.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",as(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=e.parseChildren(t.nestedTokens);n.push(...s)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return JC(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const i=document.createElement("li"),r=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div"),u=d=>{var f,h;a.ariaLabel=((h=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:h.call(f,d,a.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return u(t),r.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",d=>d.preventDefault()),a.addEventListener("change",d=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:f}=d.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const m=n();if(typeof m!="number")return!1;const g=h.doc.nodeAt(m);return h.setNodeMarkup(m,void 0,{...g?.attrs,checked:f}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,r.append(a,o),i.append(r,c),Object.entries(e).forEach(([d,f])=>{i.setAttribute(d,f)}),{dom:i,contentDOM:c,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,a.checked=d.attrs.checked,u(d),!0)}}},addInputRules(){return[Yd({find:j1e,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),G1e=br.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",as(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const s=r=>{const o=eE(r,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,c)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:c}),customNestedParser:s},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(r)},i=eE(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:r=>({indentLevel:r[1].length,mainContent:r[4],checked:r[3].toLowerCase()==="x"}),createToken:(r,o)=>({type:"taskItem",raw:"",mainContent:r.mainContent,indentLevel:r.indentLevel,checked:r.checked,text:r.mainContent,tokens:n.inlineTokens(r.mainContent),nestedTokens:o}),customNestedParser:s},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});xn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(YV.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(XV.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(nB.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(iB.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(W1e.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(G1e.configure(this.options.taskList)),t}});var q1e=br.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",as(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),K1e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Y1e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,X1e=La.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",as(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[vu({find:K1e,type:this.type})]},addPasteRules(){return[zl({find:Y1e,type:this.type})]}}),J1e=br.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),rB=La.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",as(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const r=i[2].trim();return{type:"underline",raw:i[0],text:r,tokens:n.inlineTokens(r)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function Q1e(t={}){return new ls({view(e){return new Z1e(e,t)}})}class Z1e{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let r=o=>{this[i](o)};return e.dom.addEventListener(i,r),{name:i,handler:r}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s,i=this.editorView.dom,r=i.getBoundingClientRect(),o=r.width/i.offsetWidth,a=r.height/i.offsetHeight;if(n){let f=e.nodeBefore,h=e.nodeAfter;if(f||h){let m=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(m){let g=m.getBoundingClientRect(),y=f?g.bottom:g.top;f&&h&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*a;s={left:g.left,right:g.right,top:y-b,bottom:y+b}}}}if(!s){let f=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*o;s={left:f.left-h,right:f.left+h,top:f.top,bottom:f.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=c.getBoundingClientRect(),h=f.width/c.offsetWidth,m=f.height/c.offsetHeight;u=f.left-c.scrollLeft*h,d=f.top-c.scrollTop*m}this.element.style.left=(s.left-u)/o+"px",this.element.style.top=(s.top-d)/a+"px",this.element.style.width=(s.right-s.left)/o+"px",this.element.style.height=(s.bottom-s.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=s&&s.type.spec.disableDropCursor,r=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!r){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=cF(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class ts extends Ft{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return ts.valid(s)?new ts(s):Ft.near(s)}content(){return Ke.empty}eq(e){return e instanceof ts&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ts(e.resolve(n.pos))}getBookmark(){return new lA(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!e0e(e)||!t0e(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&ts.valid(e))return e;let i=e.pos,r=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){r=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let c=e.doc.resolve(i);if(ts.valid(c))return c}for(;;){let o=n>0?r.firstChild:r.lastChild;if(!o){if(r.isAtom&&!r.isText&&!ot.isSelectable(r)){e=e.doc.resolve(i+r.nodeSize*n),s=!1;continue e}break}r=o,i+=n;let a=e.doc.resolve(i);if(ts.valid(a))return a}return null}}}ts.prototype.visible=!1;ts.findFrom=ts.findGapCursorFrom;Ft.jsonID("gapcursor",ts);class lA{constructor(e){this.pos=e}map(e){return new lA(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return ts.valid(n)?new ts(n):Ft.near(n)}}function oB(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function e0e(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||oB(i.type))return!0;if(i.inlineContent)return!1}}return!0}function t0e(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||oB(i.type))return!0;if(i.inlineContent)return!1}}return!0}function n0e(){return new ls({props:{decorations:o0e,createSelectionBetween(t,e,n){return e.pos==n.pos&&ts.valid(n)?new ts(n):null},handleClick:i0e,handleKeyDown:s0e,handleDOMEvents:{beforeinput:r0e}}})}const s0e=cV({ArrowLeft:_g("horiz",-1),ArrowRight:_g("horiz",1),ArrowUp:_g("vert",-1),ArrowDown:_g("vert",1)});function _g(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,i,r){let o=s.selection,a=e>0?o.$to:o.$from,c=o.empty;if(o instanceof At){if(!r.endOfTextblock(n)||a.depth==0)return!1;c=!1,a=s.doc.resolve(e>0?a.after():a.before())}let u=ts.findGapCursorFrom(a,e,c);return u?(i&&i(s.tr.setSelection(new ts(u))),!0):!1}}function i0e(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!ts.valid(s))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&ot.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ts(s))),!0)}function r0e(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ts))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let i=Re.empty;for(let o=s.length-1;o>=0;o--)i=Re.from(s[o].createAndFill(null,i));let r=t.state.tr.replace(n.pos,n.pos,new Ke(i,0,0));return r.setSelection(At.near(r.doc.resolve(n.pos+1))),t.dispatch(r),!1}function o0e(t){if(!(t.selection instanceof ts))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Gn.create(t.doc,[Ti.widget(t.selection.head,e,{key:"gapcursor"})])}var Xb=200,Is=function(){};Is.prototype.append=function(e){return e.length?(e=Is.from(e),!this.length&&e||e.length<Xb&&this.leafAppend(e)||this.length<Xb&&e.leafPrepend(this)||this.appendInner(e)):this};Is.prototype.prepend=function(e){return e.length?Is.from(e).append(this):this};Is.prototype.appendInner=function(e){return new a0e(this,e)};Is.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Is.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Is.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Is.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};Is.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var i=[];return this.forEach(function(r,o){return i.push(e(r,o))},n,s),i};Is.from=function(e){return e instanceof Is?e:e&&e.length?new aB(e):Is.empty};var aB=(function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,r){return i==0&&r==this.length?this:new e(this.values.slice(i,r))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,r,o,a){for(var c=r;c<o;c++)if(i(this.values[c],a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,r,o,a){for(var c=r-1;c>=o;c--)if(i(this.values[c],a+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Xb)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Xb)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Is);Is.empty=new aB([]);var a0e=(function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,i,r,o){var a=this.left.length;if(i<a&&this.left.forEachInner(s,i,Math.min(r,a),o)===!1||r>a&&this.right.forEachInner(s,Math.max(i-a,0),Math.min(this.length,r)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,r,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(s,i-a,Math.max(r,a)-a,o+a)===!1||r<a&&this.left.forEachInvertedInner(s,Math.min(i,a),r,o)===!1)return!1},e.prototype.sliceInner=function(s,i){if(s==0&&i==this.length)return this;var r=this.left.length;return i<=r?this.left.slice(s,i):s>=r?this.right.slice(s-r,i-r):this.left.slice(s,r).append(this.right.slice(0,i-r))},e.prototype.leafAppend=function(s){var i=this.right.leafAppend(s);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(s){var i=this.left.leafPrepend(s);if(i)return new e(i,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e})(Is);const l0e=500;class Qr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let i,r;n&&(i=this.remapping(s,this.items.length),r=i.maps.length);let o=e.tr,a,c,u=[],d=[];return this.items.forEach((f,h)=>{if(!f.step){i||(i=this.remapping(s,h+1),r=i.maps.length),r--,d.push(f);return}if(i){d.push(new bo(f.map));let m=f.step.map(i.slice(r)),g;m&&o.maybeStep(m).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],u.push(new bo(g,void 0,void 0,u.length+d.length))),r--,g&&i.appendMap(g,r)}else o.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(r)):f.selection,c=new Qr(this.items.slice(0,s).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:a}}addTransform(e,n,s,i){let r=[],o=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<e.steps.length;d++){let f=e.steps[d].invert(e.docs[d]),h=new bo(e.mapping.maps[d],f,n),m;(m=c&&c.merge(h))&&(h=m,d?r.pop():a=a.slice(0,a.length-1)),r.push(h),n&&(o++,n=void 0),i||(c=h)}let u=o-s.depth;return u>u0e&&(a=c0e(a,u),o-=u),new Qr(a.append(r),o)}remapping(e,n){let s=new ap;return this.items.forEach((i,r)=>{let o=i.mirrorOffset!=null&&r-i.mirrorOffset>=e?s.maps.length-i.mirrorOffset:void 0;s.appendMap(i.map,o)},e,n),s}addMaps(e){return this.eventCount==0?this:new Qr(this.items.append(e.map(n=>new bo(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],i=Math.max(0,this.items.length-n),r=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let c=n;this.items.forEach(h=>{let m=r.getMirror(--c);if(m==null)return;o=Math.min(o,m);let g=r.maps[m];if(h.step){let y=e.steps[m].invert(e.docs[m]),b=h.selection&&h.selection.map(r.slice(c+1,m));b&&a++,s.push(new bo(g,y,b))}else s.push(new bo(g))},i);let u=[];for(let h=n;h<o;h++)u.push(new bo(r.maps[h]));let d=this.items.slice(0,i).append(u).append(s),f=new Qr(d,a);return f.emptyItemCount()>l0e&&(f=f.compress(this.items.length-s.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,i=[],r=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&r++;else if(o.step){let c=o.step.map(n.slice(s)),u=c&&c.getMap();if(s--,u&&n.appendMap(u,s),c){let d=o.selection&&o.selection.map(n.slice(s));d&&r++;let f=new bo(u.invert(),c,d),h,m=i.length-1;(h=i.length&&i[m].merge(f))?i[m]=h:i.push(f)}}else o.map&&s--},this.items.length,0),new Qr(Is.from(i.reverse()),r)}}Qr.empty=new Qr(Is.empty,0);function c0e(t,e){let n;return t.forEach((s,i)=>{if(s.selection&&e--==0)return n=i,!1}),t.slice(n)}class bo{constructor(e,n,s,i){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new bo(n.getMap().invert(),n,this.selection)}}}class ul{constructor(e,n,s,i,r){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=i,this.prevComposition=r}}const u0e=20;function d0e(t,e,n,s){let i=n.getMeta(Qc),r;if(i)return i.historyState;n.getMeta(p0e)&&(t=new ul(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Qc))return o.getMeta(Qc).redo?new ul(t.done.addTransform(n,void 0,s,fv(e)),t.undone,kM(n.mapping.maps),t.prevTime,t.prevComposition):new ul(t.done,t.undone.addTransform(n,void 0,s,fv(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-s.newGroupDelay||!f0e(n,t.prevRanges)),u=o?f_(t.prevRanges,n.mapping):kM(n.mapping.maps);return new ul(t.done.addTransform(n,c?e.selection.getBookmark():void 0,s,fv(e)),Qr.empty,u,n.time,a??t.prevComposition)}else return(r=n.getMeta("rebased"))?new ul(t.done.rebased(n,r),t.undone.rebased(n,r),f_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ul(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),f_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function f0e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,i)=>{for(let r=0;r<e.length;r+=2)s<=e[r+1]&&i>=e[r]&&(n=!0)}),n}function kM(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,i,r,o)=>e.push(r,o));return e}function f_(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let i=e.map(t[s],1),r=e.map(t[s+1],-1);i<=r&&n.push(i,r)}return n}function h0e(t,e,n){let s=fv(e),i=Qc.get(e).spec.config,r=(n?t.undone:t.done).popEvent(e,s);if(!r)return null;let o=r.selection.resolve(r.transform.doc),a=(n?t.done:t.undone).addTransform(r.transform,e.selection.getBookmark(),i,s),c=new ul(n?a:r.remaining,n?r.remaining:a,null,0,-1);return r.transform.setSelection(o).setMeta(Qc,{redo:n,historyState:c})}let h_=!1,TM=null;function fv(t){let e=t.plugins;if(TM!=e){h_=!1,TM=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){h_=!0;break}}return h_}const Qc=new Ps("history"),p0e=new Ps("closeHistory");function m0e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ls({key:Qc,state:{init(){return new ul(Qr.empty,Qr.empty,null,0,-1)},apply(e,n,s){return d0e(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,i=s=="historyUndo"?cB:s=="historyRedo"?uB:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function lB(t,e){return(n,s)=>{let i=Qc.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(s){let r=h0e(i,n,t);r&&s(e?r.scrollIntoView():r)}return!0}}const cB=lB(!1,!0),uB=lB(!0,!0);xn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const s=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(s)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ls({key:new Ps("characterCount"),appendTransaction:(e,n,s)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const r=this.storage.characters({node:s.doc});if(r>i){const o=r-i,a=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const u=s.tr.deleteRange(a,c);return t=!0,u}t=!0},filterTransaction:(e,n)=>{const s=this.options.limit;if(!e.docChanged||s===0||s===null||s===void 0)return!0;const i=this.storage.characters({node:n.doc}),r=this.storage.characters({node:e.doc});if(r<=s||i>s&&r>s&&r<=i)return!0;if(i>s&&r>s&&r>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,c=r-s,u=a-c,d=a;return e.deleteRange(u,d),!(this.storage.characters({node:e.doc})>s)}})]}});var g0e=xn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Q1e(this.options)]}});xn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ls({key:new Ps("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:i}=e,r=[];if(!n||!s)return Gn.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(i>=u&&i<=u+c.nodeSize-1))return!1;o+=1});let a=0;return t.descendants((c,u)=>{if(c.isText||!(i>=u&&i<=u+c.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&o-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";r.push(Ti.node(u,u+c.nodeSize,{class:this.options.className}))}),Gn.create(t,r)}}})]}});var v0e=xn.create({name:"gapCursor",addProseMirrorPlugins(){return[n0e()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=vn(rt(t,"allowGapCursor",n)))!=null?e:null}}});xn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ls({key:new Ps("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,i=[];if(!n)return null;const r=this.editor.isEmpty;return t.descendants((o,a)=>{const c=s>=a&&s<=a+o.nodeSize,u=!o.isLeaf&&w1(o);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];r&&d.push(this.options.emptyEditorClass);const f=Ti.node(a,a+o.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:c}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),Gn.create(t,i)}}})]}});xn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new ls({key:new Ps("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||CV(n.selection)||t.view.dragging?null:Gn.create(n.doc,[Ti.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function DM({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var b0e=xn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Ps(this.name),n=((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||this.options.node||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new ls({key:e,appendTransaction:(i,r,o)=>{const{doc:a,tr:c,schema:u}=o,d=e.getState(o),f=a.content.size,h=u.nodes[n];if(d)return c.insert(f,h.create())},state:{init:(i,r)=>{const o=r.tr.doc.lastChild;return!DM({node:o,types:s})},apply:(i,r)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return r;const o=i.doc.lastChild;return!DM({node:o,types:s})}}})]}}),y0e=xn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>cB(t,e),redo:()=>({state:t,dispatch:e})=>uB(t,e)}},addProseMirrorPlugins(){return[m0e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),x0e=xn.create({name:"starterKit",addExtensions(){var t,e,n,s;const i=[];return this.options.bold!==!1&&i.push(Kye.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(zye.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(YV.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Jye.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(e1e.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(t1e.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(g0e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(v0e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(n1e.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(s1e.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(y0e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(i1e.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(c1e.configure(this.options.italic)),this.options.listItem!==!1&&i.push(XV.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(nB.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(N1e.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(iB.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(q1e.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(X1e.configure(this.options.strike)),this.options.text!==!1&&i.push(J1e.configure(this.options.text)),this.options.underline!==!1&&i.push(rB.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(b0e.configure((s=this.options)==null?void 0:s.trailingNode)),i}}),_0e=x0e,S0e=xn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),E0e=20,dB=(t,e=0)=>{const n=[];return!t.children.length||e>E0e||Array.from(t.children).forEach(s=>{s.tagName==="SPAN"?n.push(s):s.children.length&&n.push(...dB(s,e+1))}),n},w0e=t=>{if(!t.children.length)return;const e=dB(t);e&&e.forEach(n=>{var s,i;const r=n.getAttribute("style"),o=(i=(s=n.parentElement)==null?void 0:s.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${o};${r}`)})},fB=La.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&w0e(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",as(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,s)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(r=>!!r))||t.removeMark(s,s+n.nodeSize,this.type)}),!0}}}}),C0e=xn.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const s=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=s.length-1;i>=0;i-=1){const r=s[i].split(":");if(r.length>=2){const o=r[0].trim().toLowerCase(),a=r.slice(1).join(":").trim();if(o==="background-color")return a.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),hB=xn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const s=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=s.length-1;i>=0;i-=1){const r=s[i].split(":");if(r.length>=2){const o=r[0].trim().toLowerCase(),a=r.slice(1).join(":").trim();if(o==="color")return a.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),pB=xn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),A0e=xn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),k0e=xn.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});xn.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(C0e.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(hB.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(pB.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(A0e.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(k0e.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(fB.configure(this.options.textStyle)),t}});var T0e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,D0e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,O0e=La.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",as(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const r=i[2].trim(),o=n.inlineTokens(r);return{type:"highlight",raw:i[0],text:r,tokens:o}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[vu({find:T0e,type:this.type})]},addPasteRules(){return[zl({find:D0e,type:this.type})]}});const R0e=xn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).run()}}}),M0e={class:"page-container editor-container"},I0e={key:0,class:"loading-message card-full-padding"},N0e={key:1,class:"error-message card-full-padding"},P0e={key:2,class:"card card-no-padding"},$0e={key:0,class:"editor-header px-4 py-3 border-b border-slate-200 bg-slate-50 flex justify-between items-center"},L0e={class:"text-sm font-bold text-slate-700 m-0 uppercase tracking-wide"},F0e={class:"editor-toolbar"},V0e={class:"toolbar-group"},B0e=["disabled"],U0e={key:0,class:"fas fa-spinner fa-spin"},H0e={key:1,class:"fas fa-save"},z0e=["disabled"],j0e={key:0,class:"fas fa-spinner fa-spin"},W0e={key:1,class:"fas fa-file-pdf"},G0e={class:"toolbar-group"},q0e=["disabled"],K0e=["disabled"],Y0e={class:"toolbar-group"},X0e=["disabled"],J0e=["disabled"],Q0e={class:"zoom-display"},Z0e=["disabled"],exe={class:"toolbar-group"},txe=["value"],nxe=["value"],sxe=["value"],ixe=["value"],rxe={class:"toolbar-group"},oxe={class:"toolbar-color-wrapper",title:"Cor do Texto"},axe=["value"],lxe={class:"toolbar-color-wrapper",title:"Cor do Marca-texto"},cxe=["value"],uxe={class:"toolbar-group"},dxe={class:"toolbar-group"},fxe=We({__name:"ContratoEditorView",props:{docType:{type:String,default:"contrato"}},setup(t){const e=t,n=ms(),s=an(),i=Ji.useToast(),r=H(null),o=H(!0),a=H(!1),c=H(null),u=H(!1),d=H(1),f=H([{label:"Padro (Times)",value:"Times New Roman"},{label:"Arial",value:"Arial"},{label:"Verdana",value:"Verdana"},{label:"Courier New",value:"Courier New"},{label:"Georgia",value:"Georgia"}]),h=H([{label:"Padro (16px)",value:"16px"},{label:"10px",value:"10px"},{label:"11px",value:"11px"},{label:"12px",value:"12px"},{label:"14px",value:"14px"},{label:"18px",value:"18px"}]),m=we(()=>e.docType==="imovel-autorizacao"?{fetch:`/v1/imoveis/${r.value}/get-autorizacao-html/`,save:`/v1/imoveis/${r.value}/salvar-autorizacao-html/`,pdf:`/v1/imoveis/${r.value}/visualizar-autorizacao-pdf/`,title:"Editor de Autorizao"}:{fetch:`/v1/contratos/${r.value}/get-html/`,save:`/v1/contratos/${r.value}/salvar-html-editado/`,pdf:`/v1/contratos/${r.value}/visualizar-pdf/`,title:"Editor de Contrato"}),g=we(()=>m.value.title),y=Uye({content:"",extensions:[_0e.configure({heading:!1,textStyle:!1}),rB,S0e.configure({types:["paragraph"]}),fB,pB,R0e,hB,O0e.configure({multicolor:!0})],editorProps:{attributes:{class:"prose-mirror-editor"}}});function b(){d.value<2&&(d.value=parseFloat((d.value+.1).toFixed(1)))}function x(){d.value>.5&&(d.value=parseFloat((d.value-.1).toFixed(1)))}function E(){d.value=1}const C=we(()=>({transform:`scale(${d.value})`,transformOrigin:"top left"}));function _(I){const w=I.target;y.value?.chain().focus().setFontFamily(w.value).run()}function T(I){const D=I.target.value;D==="16px"?y.value?.chain().focus().unsetFontSize().run():y.value?.chain().focus().setFontSize(D).run()}function k(){return y.value&&y.value.getAttributes("textStyle").fontFamily||"Times New Roman"}function $(){return y.value&&y.value.getAttributes("textStyle").fontSize||"16px"}async function M(){if(o.value=!0,c.value=null,r.value=n.params.id,!r.value){c.value="ID do documento no encontrado.",o.value=!1;return}try{const I=await ce.get(m.value.fetch);y.value&&y.value.commands.setContent(I.data)}catch(I){console.error("Erro ao buscar HTML do documento:",I),c.value="No foi possvel carregar o documento. Verifique se ele foi gerado corretamente.",i.error(c.value)}finally{o.value=!1}}async function P(){if(!y.value||!r.value)return!1;a.value=!0;const I=y.value.getHTML();let w=!1;try{await ce.post(m.value.save,{html_content:I}),i.success("Documento salvo com sucesso!"),w=!0}catch(D){console.error("Erro ao salvar HTML do documento:",D),i.error("Falha ao salvar o documento."),w=!1}finally{a.value=!1}return w}async function V(){if(u.value||!r.value||a.value)return;if(u.value=!0,i.info("Salvando alteraes...",{duration:2e3,position:"top-right"}),!await P()){i.error("No foi possvel gerar o PDF pois o salvamento falhou."),u.value=!1;return}try{i.info("Gerando PDF... Por favor, aguarde.",{duration:2e3,position:"top-right"});const w=await ce.get(m.value.pdf,{responseType:"blob"}),D=new Blob([w.data],{type:"application/pdf"}),A=URL.createObjectURL(D);window.open(A,"_blank"),setTimeout(()=>URL.revokeObjectURL(A),1e4)}catch(w){console.error("Erro ao visualizar PDF:",w.response?.data||w);const D=w.response?.data?.error||"Falha ao gerar o PDF.";i.error(D,{duration:5e3,position:"top-right"})}finally{u.value=!1}}return it(M),Po(()=>{y.value&&y.value.destroy()}),(I,w)=>(O(),R("div",M0e,[o.value?(O(),R("div",I0e,[...w[17]||(w[17]=[l("div",{class:"spinner"},null,-1),z(" Carregando documento... ",-1)])])):J("",!0),c.value?(O(),R("div",N0e,F(c.value),1)):J("",!0),!o.value&&!c.value&&Ve(y)?(O(),R("div",P0e,[g.value?(O(),R("div",$0e,[l("h2",L0e,F(g.value),1)])):J("",!0),l("div",F0e,[l("div",V0e,[l("button",{onClick:w[0]||(w[0]=D=>Ve(s).back()),class:"btn-toolbar-action btn-secondary-toolbar",title:"Voltar"},[...w[18]||(w[18]=[l("i",{class:"fas fa-arrow-left"},null,-1),z(" Voltar ",-1)])]),l("button",{onClick:P,class:"btn-toolbar-action btn-success-toolbar",disabled:a.value||u.value,title:"Salvar Documento"},[a.value?(O(),R("i",U0e)):(O(),R("i",H0e)),w[19]||(w[19]=z(" Salvar ",-1))],8,B0e),l("button",{onClick:V,class:"btn-toolbar-action btn-info-toolbar",disabled:u.value||a.value,title:"Visualizar PDF"},[u.value?(O(),R("i",j0e)):(O(),R("i",W0e)),w[20]||(w[20]=z(" PDF ",-1))],8,z0e)]),w[39]||(w[39]=l("div",{class:"toolbar-divider"},null,-1)),l("div",G0e,[l("button",{onClick:w[1]||(w[1]=D=>Ve(y).chain().focus().undo().run()),disabled:!Ve(y).can().undo(),title:"Desfazer"},[...w[21]||(w[21]=[l("i",{class:"fas fa-undo"},null,-1)])],8,q0e),l("button",{onClick:w[2]||(w[2]=D=>Ve(y).chain().focus().redo().run()),disabled:!Ve(y).can().redo(),title:"Refazer"},[...w[22]||(w[22]=[l("i",{class:"fas fa-redo"},null,-1)])],8,K0e)]),w[40]||(w[40]=l("div",{class:"toolbar-divider"},null,-1)),l("div",Y0e,[l("button",{onClick:x,disabled:d.value<=.5,title:"Diminuir Zoom (Zoom Out)"},[...w[23]||(w[23]=[l("i",{class:"fas fa-search-minus"},null,-1)])],8,X0e),l("button",{onClick:E,disabled:d.value===1,title:"Zoom 100%"},[l("span",Q0e,F(Math.round(d.value*100))+"%",1)],8,J0e),l("button",{onClick:b,disabled:d.value>=2,title:"Aumentar Zoom (Zoom In)"},[...w[24]||(w[24]=[l("i",{class:"fas fa-search-plus"},null,-1)])],8,Z0e)]),w[41]||(w[41]=l("div",{class:"toolbar-divider"},null,-1)),l("div",exe,[l("select",{class:"toolbar-select",value:k(),onChange:_,title:"Fonte"},[(O(!0),R(Me,null,je(f.value,D=>(O(),R("option",{key:D.value,value:D.value,style:Ws({"font-family":D.value})},F(D.label),13,nxe))),128))],40,txe),l("select",{class:"toolbar-select",value:$(),onChange:T,title:"Tamanho da Fonte"},[(O(!0),R(Me,null,je(h.value,D=>(O(),R("option",{key:D.value,value:D.value},F(D.label),9,ixe))),128))],40,sxe)]),w[42]||(w[42]=l("div",{class:"toolbar-divider"},null,-1)),l("div",rxe,[l("button",{onClick:w[3]||(w[3]=D=>Ve(y).chain().focus().toggleBold().run()),class:te({"is-active":Ve(y).isActive("bold")}),title:"Negrito"},[...w[25]||(w[25]=[l("i",{class:"fas fa-bold"},null,-1)])],2),l("button",{onClick:w[4]||(w[4]=D=>Ve(y).chain().focus().toggleItalic().run()),class:te({"is-active":Ve(y).isActive("italic")}),title:"Itlico"},[...w[26]||(w[26]=[l("i",{class:"fas fa-italic"},null,-1)])],2),l("button",{onClick:w[5]||(w[5]=D=>Ve(y).chain().focus().toggleUnderline().run()),class:te({"is-active":Ve(y).isActive("underline")}),title:"Sublinhado"},[...w[27]||(w[27]=[l("i",{class:"fas fa-underline"},null,-1)])],2),l("button",{onClick:w[6]||(w[6]=D=>Ve(y).chain().focus().toggleStrike().run()),class:te({"is-active":Ve(y).isActive("strike")}),title:"Tachado"},[...w[28]||(w[28]=[l("i",{class:"fas fa-strikethrough"},null,-1)])],2),l("div",oxe,[w[29]||(w[29]=l("i",{class:"fas fa-font"},null,-1)),l("input",{type:"color",onInput:w[7]||(w[7]=D=>Ve(y).chain().focus().setColor(D.target.value).run()),value:Ve(y).getAttributes("textStyle").color||"#000000",class:"toolbar-color-picker"},null,40,axe)]),l("div",lxe,[w[30]||(w[30]=l("i",{class:"fas fa-highlighter"},null,-1)),l("input",{type:"color",onInput:w[8]||(w[8]=D=>Ve(y).chain().focus().toggleHighlight({color:D.target.value}).run()),value:Ve(y).getAttributes("highlight")?.color||"#ffffff",class:"toolbar-color-picker"},null,40,cxe)]),l("button",{onClick:w[9]||(w[9]=D=>Ve(y).chain().focus().unsetAllMarks().run()),title:"Limpar Formatao"},[...w[31]||(w[31]=[l("i",{class:"fas fa-eraser"},null,-1)])])]),w[43]||(w[43]=l("div",{class:"toolbar-divider"},null,-1)),l("div",uxe,[l("button",{onClick:w[10]||(w[10]=D=>Ve(y).chain().focus().setTextAlign("left").run()),class:te({"is-active":Ve(y).isActive({textAlign:"left"})}),title:"Alinhar  Esquerda"},[...w[32]||(w[32]=[l("i",{class:"fas fa-align-left"},null,-1)])],2),l("button",{onClick:w[11]||(w[11]=D=>Ve(y).chain().focus().setTextAlign("center").run()),class:te({"is-active":Ve(y).isActive({textAlign:"center"})}),title:"Centralizar"},[...w[33]||(w[33]=[l("i",{class:"fas fa-align-center"},null,-1)])],2),l("button",{onClick:w[12]||(w[12]=D=>Ve(y).chain().focus().setTextAlign("right").run()),class:te({"is-active":Ve(y).isActive({textAlign:"right"})}),title:"Alinhar  Direita"},[...w[34]||(w[34]=[l("i",{class:"fas fa-align-right"},null,-1)])],2),l("button",{onClick:w[13]||(w[13]=D=>Ve(y).chain().focus().setTextAlign("justify").run()),class:te({"is-active":Ve(y).isActive({textAlign:"justify"})}),title:"Justificar"},[...w[35]||(w[35]=[l("i",{class:"fas fa-align-justify"},null,-1)])],2)]),w[44]||(w[44]=l("div",{class:"toolbar-divider"},null,-1)),l("div",dxe,[l("button",{onClick:w[14]||(w[14]=D=>Ve(y).chain().focus().toggleBulletList().run()),class:te({"is-active":Ve(y).isActive("bulletList")}),title:"Lista"},[...w[36]||(w[36]=[l("i",{class:"fas fa-list-ul"},null,-1)])],2),l("button",{onClick:w[15]||(w[15]=D=>Ve(y).chain().focus().toggleBlockquote().run()),class:te({"is-active":Ve(y).isActive("blockquote")}),title:"Citao"},[...w[37]||(w[37]=[l("i",{class:"fas fa-quote-right"},null,-1)])],2),l("button",{onClick:w[16]||(w[16]=D=>Ve(y).chain().focus().setHorizontalRule().run()),title:"Linha Horizontal"},[...w[38]||(w[38]=[l("i",{class:"fas fa-minus"},null,-1)])])])]),be(Ve(Bye),{editor:Ve(y),class:"editor-content-area",style:Ws(C.value)},null,8,["editor","style"])])):J("",!0)]))}}),OM=tt(fxe,[["__scopeId","data-v-f9338a5c"]]);var hxe=Object.defineProperty,pxe=Object.defineProperties,mxe=Object.getOwnPropertyDescriptors,RM=Object.getOwnPropertySymbols,gxe=Object.prototype.hasOwnProperty,vxe=Object.prototype.propertyIsEnumerable,MM=(t,e,n)=>e in t?hxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yu=(t,e)=>{for(var n in e||(e={}))gxe.call(e,n)&&MM(t,n,e[n]);if(RM)for(var n of RM(e))vxe.call(e,n)&&MM(t,n,e[n]);return t},IM=(t,e)=>pxe(t,mxe(e));const bxe={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(t){this.autoscroll&&t&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var t;const e=((t=this.$refs.dropdownMenu)==null?void 0:t.children[this.typeAheadPointer])||!1;if(e){const n=this.getDropdownViewport(),{top:s,bottom:i,height:r}=e.getBoundingClientRect();if(s<n.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(i>n.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(n.height-r)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},yxe={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open(t){t&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown(){for(let t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect(){const t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},xxe={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(t){this.mutableLoading=t}},methods:{toggleLoading(t=null){return t==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=t}}},cA=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},_xe={},Sxe={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},Exe=l("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),wxe=[Exe];function Cxe(t,e){return O(),R("svg",Sxe,wxe)}const Axe=cA(_xe,[["render",Cxe]]),kxe={},Txe={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},Dxe=l("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),Oxe=[Dxe];function Rxe(t,e){return O(),R("svg",Txe,Oxe)}const Mxe=cA(kxe,[["render",Rxe]]),NM={Deselect:Axe,OpenIndicator:Mxe},Ixe={mounted(t,{instance:e}){if(e.appendToBody){const{height:n,top:s,left:i,width:r}=e.$refs.toggle.getBoundingClientRect();let o=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset;t.unbindPosition=e.calculatePosition(t,e,{width:r+"px",left:o+i+"px",top:a+s+n+"px"}),document.body.appendChild(t)}},unmounted(t,{instance:e}){e.appendToBody&&(t.unbindPosition&&typeof t.unbindPosition=="function"&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};function Nxe(t){const e={};return Object.keys(t).sort().forEach(n=>{e[n]=t[n]}),JSON.stringify(e)}let Pxe=0;function $xe(){return++Pxe}const Lxe={components:Yu({},NM),directives:{appendToBody:Ixe},mixins:[bxe,yxe,xxe],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:t=>t},selectable:{type:Function,default:t=>!0},getOptionLabel:{type:Function,default(t){return typeof t=="object"?t.hasOwnProperty(this.label)?t[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(t)}.
https://vue-select.org/api/props.html#getoptionlabel`):t}},getOptionKey:{type:Function,default(t){if(typeof t!="object")return t;try{return t.hasOwnProperty("id")?t.id:Nxe(t)}catch(e){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(t,e,n){return(e||"").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1}},filter:{type:Function,default(t,e){return t.filter(n=>{let s=this.getOptionLabel(n);return typeof s=="number"&&(s=s.toString()),this.filterBy(n,s,e)})}},createOption:{type:Function,default(t){return typeof this.optionList[0]=="object"?{[this.label]:t}:t}},resetOnOptionsChange:{default:!1,validator:t=>["function","boolean"].includes(typeof t)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:t,multiple:e}){return t&&!e}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(t,e)=>t},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(t,e,{width:n,top:s,left:i}){t.style.top=s,t.style.left=i,t.style.width=n}},dropdownShouldOpen:{type:Function,default({noDrop:t,open:e,mutableLoading:n}){return t?!1:e&&!n}},uid:{type:[String,Number],default:()=>$xe()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let t=this.modelValue;return this.isTrackingValues&&(t=this.$data._value),t!=null&&t!==""?[].concat(t):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:Yu({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:e=>this.search=e.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:IM(Yu({},t),{deselect:this.deselect}),footer:IM(Yu({},t),{deselect:this.deselect})}},childComponents(){return Yu(Yu({},NM),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;const e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){const n=this.createOption(this.search);this.optionExists(n)||e.unshift(n)}return e},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(t,e){const n=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(t,e,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&n()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple(){this.clearSelection()},open(t){this.$emit(t?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(t){Array.isArray(t)?this.$data._value=t.map(e=>this.findOptionFromReducedValue(e)):this.$data._value=this.findOptionFromReducedValue(t)},select(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&(this.$emit("option:created",t),this.pushTag(t)),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect(t){this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter(e=>!this.optionComparator(e,t))),this.$emit("option:deselected",t)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(t){typeof this.modelValue>"u"&&(this.$data._value=t),t!==null&&(Array.isArray(t)?t=t.map(e=>this.reduce(e)):t=this.reduce(t)),this.$emit("update:modelValue",t)},toggleDropdown(t){const e=t.target!==this.searchEl;e&&t.preventDefault();const n=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||n.filter(Boolean).some(s=>s.contains(t.target)||s===t.target)){t.preventDefault();return}this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(t){return this.selectedValue.some(e=>this.optionComparator(e,t))},isOptionDeselectable(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue(t){const e=s=>JSON.stringify(this.reduce(s))===JSON.stringify(t),n=[...this.options,...this.pushedTags].filter(e);return n.length===1?n[0]:n.find(s=>this.optionComparator(s,this.$data._value))||t},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let t=null;this.multiple&&(t=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(t)}},optionExists(t){return this.optionList.some(e=>this.optionComparator(e,t))},normalizeOptionForSlot(t){return typeof t=="object"?t:{[this.label]:t}},pushTag(t){this.pushedTags.push(t)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:t,multiple:e}=this;this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(t){const e=i=>(i.preventDefault(),!this.isComposing&&this.typeAheadSelect()),n={8:i=>this.maybeDeleteValue(),9:i=>this.onTab(),27:i=>this.onEscape(),38:i=>(i.preventDefault(),this.typeAheadUp()),40:i=>(i.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(i=>n[i]=e);const s=this.mapKeydown(n,this);if(typeof s[t.keyCode]=="function")return s[t.keyCode](t)}}},Fxe=["dir"],Vxe=["id","aria-expanded","aria-owns"],Bxe={ref:"selectedOptions",class:"vs__selected-options"},Uxe=["disabled","title","aria-label","onClick"],Hxe={ref:"actions",class:"vs__actions"},zxe=["disabled"],jxe={class:"vs__spinner"},Wxe=["id"],Gxe=["id","aria-selected","onMouseover","onClick"],qxe={key:0,class:"vs__no-options"},Kxe=z(" Sorry, no matching options. "),Yxe=["id"];function Xxe(t,e,n,s,i,r){const o=Dy("append-to-body");return O(),R("div",{dir:n.dir,class:te(["v-select",r.stateClasses])},[Rr(t.$slots,"header",rr(Mr(r.scope.header))),l("div",{id:`vs${n.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":r.dropdownOpen.toString(),"aria-owns":`vs${n.uid}__listbox`,"aria-label":"Search for option",onMousedown:e[1]||(e[1]=a=>r.toggleDropdown(a))},[l("div",Bxe,[(O(!0),R(Me,null,je(r.selectedValue,(a,c)=>Rr(t.$slots,"selected-option-container",{option:r.normalizeOptionForSlot(a),deselect:r.deselect,multiple:n.multiple,disabled:n.disabled},()=>[(O(),R("span",{key:n.getOptionKey(a),class:"vs__selected"},[Rr(t.$slots,"selected-option",rr(Mr(r.normalizeOptionForSlot(a))),()=>[z(F(n.getOptionLabel(a)),1)]),n.multiple?(O(),R("button",{key:0,ref_for:!0,ref:u=>i.deselectButtons[c]=u,disabled:n.disabled,type:"button",class:"vs__deselect",title:`Deselect ${n.getOptionLabel(a)}`,"aria-label":`Deselect ${n.getOptionLabel(a)}`,onClick:u=>r.deselect(a)},[(O(),is(gd(r.childComponents.Deselect)))],8,Uxe)):J("",!0)]))])),256)),Rr(t.$slots,"search",rr(Mr(r.scope.search)),()=>[l("input",Gh({class:"vs__search"},r.scope.search.attributes,LP(r.scope.search.events)),null,16)])],512),l("div",Hxe,[Y(l("button",{ref:"clearButton",disabled:n.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:e[0]||(e[0]=(...a)=>r.clearSelection&&r.clearSelection(...a))},[(O(),is(gd(r.childComponents.Deselect)))],8,zxe),[[Hs,r.showClearButton]]),Rr(t.$slots,"open-indicator",rr(Mr(r.scope.openIndicator)),()=>[n.noDrop?J("",!0):(O(),is(gd(r.childComponents.OpenIndicator),rr(Gh({key:0},r.scope.openIndicator.attributes)),null,16))]),Rr(t.$slots,"spinner",rr(Mr(r.scope.spinner)),()=>[Y(l("div",jxe,"Loading...",512),[[Hs,t.mutableLoading]])])],512)],40,Vxe),be($l,{name:n.transition},{default:Pe(()=>[r.dropdownOpen?Y((O(),R("ul",{id:`vs${n.uid}__listbox`,ref:"dropdownMenu",key:`vs${n.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:e[2]||(e[2]=wt((...a)=>r.onMousedown&&r.onMousedown(...a),["prevent"])),onMouseup:e[3]||(e[3]=(...a)=>r.onMouseUp&&r.onMouseUp(...a))},[Rr(t.$slots,"list-header",rr(Mr(r.scope.listHeader))),(O(!0),R(Me,null,je(r.filteredOptions,(a,c)=>(O(),R("li",{id:`vs${n.uid}__option-${c}`,key:n.getOptionKey(a),role:"option",class:te(["vs__dropdown-option",{"vs__dropdown-option--deselect":r.isOptionDeselectable(a)&&c===t.typeAheadPointer,"vs__dropdown-option--selected":r.isOptionSelected(a),"vs__dropdown-option--highlight":c===t.typeAheadPointer,"vs__dropdown-option--disabled":!n.selectable(a)}]),"aria-selected":c===t.typeAheadPointer?!0:null,onMouseover:u=>n.selectable(a)?t.typeAheadPointer=c:null,onClick:wt(u=>n.selectable(a)?r.select(a):null,["prevent","stop"])},[Rr(t.$slots,"option",rr(Mr(r.normalizeOptionForSlot(a))),()=>[z(F(n.getOptionLabel(a)),1)])],42,Gxe))),128)),r.filteredOptions.length===0?(O(),R("li",qxe,[Rr(t.$slots,"no-options",rr(Mr(r.scope.noOptions)),()=>[Kxe])])):J("",!0),Rr(t.$slots,"list-footer",rr(Mr(r.scope.listFooter)))],40,Wxe)),[[o]]):(O(),R("ul",{key:1,id:`vs${n.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,Yxe))]),_:3},8,["name"]),Rr(t.$slots,"footer",rr(Mr(r.scope.footer)))],10,Fxe)}const Co=cA(Lxe,[["render",Xxe]]),Jxe=["value"],Qxe=We({__name:"MoneyInput",props:{modelValue:{type:Number,default:null},prefix:{type:String,default:"R$ "},suffix:{type:String,default:""},precision:{type:Number,default:2}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=H(null),r=we(()=>new Intl.NumberFormat("pt-BR",{style:"decimal",minimumFractionDigits:n.precision,maximumFractionDigits:n.precision})),o=f=>f==null?"":`${n.prefix}${r.value.format(f)}${n.suffix}`,a=f=>{const h=f.replace(/\D/g,"");return h?Number(h)/Math.pow(10,n.precision):null},c=H(o(n.modelValue));Rn(()=>n.modelValue,f=>{const h=a(c.value);f!==h&&(c.value=o(f))});const u=f=>{const h=f.target,m=a(h.value),g=o(m);c.value=g,s("update:modelValue",m),Ma(()=>{i.value&&i.value.value!==g&&(i.value.value=g)})},d=()=>{c.value=o(n.modelValue)};return it(()=>{c.value=o(n.modelValue)}),(f,h)=>(O(),R("input",{ref_key:"inputRef",ref:i,type:"text",value:c.value,onInput:u,onBlur:d,class:"form-control",style:{"text-align":"right"},inputmode:"numeric"},null,40,Jxe))}}),da=tt(Qxe,[["__scopeId","data-v-77d0eaa1"]]),Zxe={class:"page-container"},e_e={class:"page-header"},t_e={class:"header-main"},n_e={class:"title-area"},s_e={class:"breadcrumb"},i_e={class:"active"},r_e={key:0,class:"loading-state"},o_e={key:1,class:"error-banner"},a_e={class:"left-column"},l_e={class:"card form-card"},c_e={class:"form-section"},u_e={class:"form-grid"},d_e={class:"form-group full-width"},f_e={class:"tipo-toggle"},h_e=["disabled"],p_e=["disabled"],m_e={class:"form-group"},g_e={key:0},v_e={key:1},b_e={key:0,class:"help-text"},y_e={class:"form-group"},x_e={class:"form-group full-width"},__e={key:0},S_e={key:1},E_e={key:2},w_e={key:0,class:"form-section"},C_e={class:"form-grid"},A_e={class:"form-group"},k_e={class:"form-group"},T_e={class:"input-wrapper"},D_e={class:"form-group"},O_e={class:"input-wrapper"},R_e={class:"form-group"},M_e={class:"input-wrapper"},I_e={key:1,class:"form-section"},N_e={class:"form-grid"},P_e={class:"form-group"},$_e={class:"form-group"},L_e={class:"input-wrapper"},F_e={class:"form-group"},V_e={class:"input-wrapper"},B_e={class:"form-group"},U_e={class:"form-section compact-section"},H_e={class:"form-grid"},z_e={class:"form-group"},j_e={class:"input-wrapper"},W_e=["disabled"],G_e={class:"form-group"},q_e={class:"input-wrapper"},K_e={key:0,class:"form-group"},Y_e={class:"input-wrapper"},X_e={key:1,class:"form-group full-width"},J_e={class:"form-group full-width"},Q_e={class:"form-actions-footer"},Z_e=["disabled"],eSe={key:0,class:"fas fa-spinner fa-spin"},tSe={key:1},nSe={class:"right-column"},sSe={class:"card info-card"},iSe={class:"form-group"},rSe=["disabled"],oSe={key:0,value:"RESCINDIDO"},aSe={key:1,value:"CONCLUIDO"},lSe={key:2,value:"CANCELADO"},cSe={key:0,class:"helper-text-widget"},uSe={key:1,class:"helper-text-widget"},dSe={class:"card info-card"},fSe={class:"form-group"},hSe=We({__name:"ContratoFormView",setup(t){const e=ms(),n=an(),s=H(!!e.params.id),i=e.params.id,r=H({tipo_contrato:"ALUGUEL",status_contrato:"RASCUNHO",modelo_utilizado:null,imovel:null,inquilino:null,proprietario:null,fiadores:[],aluguel:null,duracao_meses:12,taxa_administracao_percentual:10,data_primeiro_vencimento:null,valor_total:null,comissao_venda_percentual:6,valor_comissao_acordado:null,data_vencimento_venda:null,data_inicio:Et(new Date,"yyyy-MM-dd"),data_fim:null,data_assinatura:Et(new Date,"yyyy-MM-dd"),informacoes_adicionais:null,formas_pagamento:[]}),o=H([]),a=H([]),c=H([]),u=H([]),d=H(!1),f=H(!0),h=H(!1),m=H(!1),g=H(!1),y=H(null),b=we(()=>r.value.tipo_contrato==="VENDA"?{principal:"Comprador",outraParte:"Comprador"}:{principal:"Inquilino",outraParte:"Inquilino"}),x=()=>{if(r.value.tipo_contrato==="VENDA"&&r.value.valor_total){const w=Number(r.value.valor_total),D=Number(r.value.comissao_venda_percentual);!isNaN(w)&&!isNaN(D)&&(r.value.valor_comissao_acordado=parseFloat((w*(D/100)).toFixed(2)))}},E=()=>{if(r.value.tipo_contrato==="VENDA"&&r.value.valor_total&&r.value.valor_comissao_acordado){const w=Number(r.value.valor_total),D=Number(r.value.valor_comissao_acordado);!isNaN(w)&&!isNaN(D)&&w>0&&(r.value.comissao_venda_percentual=parseFloat((D/w*100).toFixed(2)))}},C=()=>{r.value.tipo_contrato==="VENDA"&&(r.value.data_inicio=r.value.data_assinatura)},_=()=>{r.value.proprietario=null,r.value.imovel=null,r.value.modelo_utilizado=null,r.value.tipo_contrato==="ALUGUEL"?(r.value.valor_total=null,r.value.duracao_meses=12):(r.value.aluguel=null,r.value.data_inicio=r.value.data_assinatura,x())},T=w=>{switch(w){case"ATIVO":return"status-active";case"RASCUNHO":return"status-draft";case"CONCLUIDO":return"status-done";case"CANCELADO":return"status-cancelled";default:return""}};async function k(){try{const w=await ce.get("/v1/clientes/lista-simples/");o.value=w.data.map(D=>({label:D.nome_display,value:D.id}))}catch(w){console.error("Erro clientes:",w)}}async function $(w){if(!w)return;h.value=!0;const D={finalidade:w==="VENDA"?"A_VENDA":"PARA_ALUGAR"};try{const A=await ce.get("/v1/clientes/lista-proprietarios/",{params:D});a.value=A.data.map(B=>({label:B.nome_display,value:B.id}))}catch(A){console.error("Erro proprietrios:",A)}finally{h.value=!1}}async function M(w,D){if(!w||!D){c.value=[];return}m.value=!0;const A={status:w==="VENDA"?"A_VENDA":"PARA_ALUGAR",proprietario:D};try{const B=await ce.get("/v1/imoveis/lista-simples/",{params:A});c.value=B.data.map(N=>({label:`#${N.codigo_referencia} - ${N.titulo_anuncio||N.logradouro}`,value:N.id,aluguel:N.valor_aluguel,venda:N.valor_venda}))}catch(B){console.error("Erro imveis:",B)}finally{m.value=!1}}async function P(w){if(w){g.value=!0;try{const D=await ce.get("/v1/modelos-contrato/",{params:{tipo_contrato:w}});if(u.value=D.data.map(A=>({label:A.padrao?`${A.nome} (Padro)`:A.nome,value:A.id,padrao:A.padrao})),!s.value&&!r.value.modelo_utilizado){const A=u.value.find(B=>B.padrao);A&&(r.value.modelo_utilizado=A.value)}}catch(D){console.error("Erro modelos:",D)}finally{g.value=!1}}}async function V(){try{const D=(await ce.get(`/v1/contratos/${i}/`)).data;if(D.status_contrato==="ATIVO"&&D.tipo_contrato==="VENDA"){alert("Contrato de Venda finalizado. Edio bloqueada."),n.push({name:"contratos"});return}if(D.tipo_contrato&&(await $(D.tipo_contrato),await P(D.tipo_contrato)),D.tipo_contrato&&(D.proprietario||D.proprietario_detalhes?.id)){const A=D.proprietario_detalhes?.id||D.proprietario;await M(D.tipo_contrato,A)}r.value={...D,fiadores:(D.fiadores||[]).map(A=>typeof A=="object"?A.id:A),taxa_administracao_percentual:parseFloat(D.taxa_administracao_percentual)||0,comissao_venda_percentual:parseFloat(D.comissao_venda_percentual)||0,aluguel:D.aluguel?parseFloat(D.aluguel):null,valor_total:D.valor_total?parseFloat(D.valor_total):null,valor_comissao_acordado:D.valor_comissao_acordado?parseFloat(D.valor_comissao_acordado):null,proprietario:D.proprietario_detalhes?.id||D.proprietario,inquilino:D.inquilino_detalhes?.id||D.inquilino,imovel:D.imovel_detalhes?.id||D.imovel,modelo_utilizado:D.modelo_utilizado?.id||D.modelo_utilizado||null}}catch(w){console.error("Erro ao carregar contrato:",w),y.value="No foi possvel carregar os dados do contrato."}}Rn(()=>r.value.tipo_contrato,(w,D)=>{f.value&&s.value||(w&&($(w),P(w)),D&&w!==D&&!f.value&&(r.value.proprietario=null,r.value.imovel=null))}),Rn(()=>r.value.proprietario,(w,D)=>{f.value&&s.value||(w&&r.value.tipo_contrato?M(r.value.tipo_contrato,w):c.value=[],D&&w!==D&&!f.value&&(r.value.imovel=null))}),Rn(()=>r.value.imovel,w=>{if(!w||f.value)return;const D=c.value.find(A=>A.value===w);D&&(r.value.tipo_contrato==="ALUGUEL"&&!r.value.aluguel?r.value.aluguel=D.aluguel?parseFloat(String(D.aluguel)):null:r.value.tipo_contrato==="VENDA"&&!r.value.valor_total&&(r.value.valor_total=D.venda?parseFloat(String(D.venda)):null,x()))});async function I(){if(!r.value.proprietario||!r.value.imovel||!r.value.inquilino){alert("Por favor, preencha as partes do contrato (Proprietrio, Imvel e Cliente).");return}d.value=!0,y.value=null;try{const w={...r.value};w.tipo_contrato==="ALUGUEL"?(w.valor_total=null,w.valor_comissao_acordado=null,w.data_vencimento_venda=null):(w.aluguel=null,w.duracao_meses=null,w.data_primeiro_vencimento=null,w.data_fim=null),s.value?(await ce.put(`/v1/contratos/${i}/`,w),alert("Contrato atualizado com sucesso!")):(await ce.post("/v1/contratos/",w),alert("Contrato criado com sucesso!")),n.push({name:"contratos"})}catch(w){if(console.error("Erro submit:",w),w.response?.data){const D=w.response.data,A=Object.keys(D)[0],B=Array.isArray(D[A])?D[A][0]:D[A];y.value=`Erro no campo ${A}: ${B}`}else y.value="Erro ao salvar. Verifique sua conexo."}finally{d.value=!1}}return it(async()=>{f.value=!0,await k(),s.value?await V():r.value.tipo_contrato&&(await $(r.value.tipo_contrato),await P(r.value.tipo_contrato)),f.value=!1}),(w,D)=>{const A=on("router-link");return O(),R("div",Zxe,[l("header",e_e,[l("div",t_e,[l("div",n_e,[l("nav",s_e,[D[21]||(D[21]=l("span",null,"Gesto",-1)),D[22]||(D[22]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),be(A,{to:{name:"contratos"}},{default:Pe(()=>[...D[20]||(D[20]=[z("Contratos",-1)])]),_:1}),D[23]||(D[23]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),l("span",i_e,F(s.value?"Editar":"Novo"),1)]),l("h1",null,F(s.value?"Editar Contrato":"Novo Contrato"),1)])])]),f.value?(O(),R("div",r_e,[...D[24]||(D[24]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando dados do contrato...",-1)])])):y.value?(O(),R("div",o_e,[D[25]||(D[25]=l("i",{class:"fas fa-exclamation-triangle"},null,-1)),l("span",null,F(y.value),1)])):(O(),R("form",{key:2,onSubmit:wt(I,["prevent"]),class:"main-content-grid"},[l("div",a_e,[l("div",l_e,[l("div",c_e,[D[34]||(D[34]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-users"}),z(" Partes do Contrato ")],-1)),l("div",u_e,[l("div",d_e,[D[30]||(D[30]=l("label",null,[z("Tipo de Contrato "),l("span",{class:"req"},"*")],-1)),l("div",f_e,[l("label",{class:te(["radio-label",{active:r.value.tipo_contrato==="ALUGUEL"}])},[Y(l("input",{type:"radio",value:"ALUGUEL","onUpdate:modelValue":D[0]||(D[0]=B=>r.value.tipo_contrato=B),disabled:s.value&&r.value.status_contrato!=="RASCUNHO",onChange:_},null,40,h_e),[[Lr,r.value.tipo_contrato]]),D[26]||(D[26]=l("i",{class:"fas fa-key"},null,-1)),D[27]||(D[27]=z(" Aluguel ",-1))],2),l("label",{class:te(["radio-label",{active:r.value.tipo_contrato==="VENDA"}])},[Y(l("input",{type:"radio",value:"VENDA","onUpdate:modelValue":D[1]||(D[1]=B=>r.value.tipo_contrato=B),disabled:s.value&&r.value.status_contrato!=="RASCUNHO",onChange:_},null,40,p_e),[[Lr,r.value.tipo_contrato]]),D[28]||(D[28]=l("i",{class:"fas fa-handshake"},null,-1)),D[29]||(D[29]=z(" Venda ",-1))],2)])]),l("div",m_e,[D[31]||(D[31]=l("label",null,[z("Proprietrio / Locador "),l("span",{class:"req"},"*")],-1)),be(Ve(Co),{modelValue:r.value.proprietario,"onUpdate:modelValue":D[2]||(D[2]=B=>r.value.proprietario=B),options:a.value,reduce:B=>B.value,label:"label",placeholder:"Selecione...",clearable:!1,disabled:!r.value.tipo_contrato||h.value,class:"style-chooser"},{"no-options":Pe(()=>[h.value?(O(),R("span",g_e,"Carregando...")):(O(),R("span",v_e,"Nenhum proprietrio encontrado."))]),_:1},8,["modelValue","options","reduce","disabled"]),!r.value.proprietario&&r.value.tipo_contrato?(O(),R("small",b_e,"Necessrio para carregar imveis.")):J("",!0)]),l("div",y_e,[l("label",null,[z(F(b.value.outraParte)+" ",1),D[32]||(D[32]=l("span",{class:"req"},"*",-1))]),be(Ve(Co),{modelValue:r.value.inquilino,"onUpdate:modelValue":D[3]||(D[3]=B=>r.value.inquilino=B),options:o.value,reduce:B=>B.value,label:"label",placeholder:"Selecione...",clearable:!1,disabled:!o.value.length,class:"style-chooser"},null,8,["modelValue","options","reduce","disabled"])]),l("div",x_e,[D[33]||(D[33]=l("label",null,[z("Imvel "),l("span",{class:"req"},"*")],-1)),be(Ve(Co),{modelValue:r.value.imovel,"onUpdate:modelValue":D[4]||(D[4]=B=>r.value.imovel=B),options:c.value,reduce:B=>B.value,label:"label",placeholder:"Selecione o Imvel",clearable:!1,disabled:!r.value.proprietario||m.value,class:"style-chooser"},{"no-options":Pe(()=>[m.value?(O(),R("span",__e,"Carregando...")):r.value.proprietario?(O(),R("span",E_e,"Nenhum imvel disponvel.")):(O(),R("span",S_e,"Selecione o proprietrio primeiro."))]),_:1},8,["modelValue","options","reduce","disabled"])])])]),r.value.tipo_contrato==="ALUGUEL"?(O(),R("div",w_e,[D[42]||(D[42]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-hand-holding-usd"}),z(" Termos do Aluguel ")],-1)),l("div",C_e,[l("div",A_e,[D[35]||(D[35]=l("label",null,[z("Valor Mensal "),l("span",{class:"req"},"*")],-1)),be(da,{modelValue:r.value.aluguel,"onUpdate:modelValue":D[5]||(D[5]=B=>r.value.aluguel=B),modelModifiers:{number:!0},class:"form-input"},null,8,["modelValue"])]),l("div",k_e,[D[37]||(D[37]=l("label",null,[z("Durao (meses) "),l("span",{class:"req"},"*")],-1)),l("div",T_e,[D[36]||(D[36]=l("i",{class:"fas fa-hourglass-half input-icon"},null,-1)),Y(l("input",{type:"number","onUpdate:modelValue":D[6]||(D[6]=B=>r.value.duracao_meses=B),min:"1",class:"form-input has-icon"},null,512),[[de,r.value.duracao_meses,void 0,{number:!0}]])])]),l("div",D_e,[D[39]||(D[39]=l("label",null,"Taxa Adm. (%)",-1)),l("div",O_e,[D[38]||(D[38]=l("i",{class:"fas fa-percent input-icon"},null,-1)),Y(l("input",{type:"number","onUpdate:modelValue":D[7]||(D[7]=B=>r.value.taxa_administracao_percentual=B),step:"0.01",min:"0",max:"100",class:"form-input has-icon"},null,512),[[de,r.value.taxa_administracao_percentual,void 0,{number:!0}]])])]),l("div",R_e,[D[41]||(D[41]=l("label",null,[z("1 Vencimento "),l("span",{class:"req"},"*")],-1)),l("div",M_e,[D[40]||(D[40]=l("i",{class:"far fa-calendar-alt input-icon"},null,-1)),Y(l("input",{type:"date","onUpdate:modelValue":D[8]||(D[8]=B=>r.value.data_primeiro_vencimento=B),class:"form-input has-icon"},null,512),[[de,r.value.data_primeiro_vencimento]])])])])])):J("",!0),r.value.tipo_contrato==="VENDA"?(O(),R("div",I_e,[D[49]||(D[49]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-handshake"}),z(" Termos da Venda ")],-1)),l("div",N_e,[l("div",P_e,[D[43]||(D[43]=l("label",null,[z("Valor da Venda "),l("span",{class:"req"},"*")],-1)),be(da,{modelValue:r.value.valor_total,"onUpdate:modelValue":D[9]||(D[9]=B=>r.value.valor_total=B),modelModifiers:{number:!0},class:"form-input",onChange:x},null,8,["modelValue"])]),l("div",$_e,[D[45]||(D[45]=l("label",null,[z("Data Previso Pagto. "),l("span",{class:"req"},"*")],-1)),l("div",L_e,[D[44]||(D[44]=l("i",{class:"far fa-calendar-alt input-icon"},null,-1)),Y(l("input",{type:"date","onUpdate:modelValue":D[10]||(D[10]=B=>r.value.data_vencimento_venda=B),class:"form-input has-icon"},null,512),[[de,r.value.data_vencimento_venda]])])]),l("div",F_e,[D[47]||(D[47]=l("label",null,"% Comisso",-1)),l("div",V_e,[D[46]||(D[46]=l("i",{class:"fas fa-percent input-icon"},null,-1)),Y(l("input",{type:"number","onUpdate:modelValue":D[11]||(D[11]=B=>r.value.comissao_venda_percentual=B),onInput:x,step:"0.01",min:"0",max:"100",class:"form-input has-icon"},null,544),[[de,r.value.comissao_venda_percentual,void 0,{number:!0}]])])]),l("div",B_e,[D[48]||(D[48]=l("label",null,[z("Valor Comisso (R$) "),l("span",{class:"req"},"*")],-1)),be(da,{modelValue:r.value.valor_comissao_acordado,"onUpdate:modelValue":D[12]||(D[12]=B=>r.value.valor_comissao_acordado=B),modelModifiers:{number:!0},class:"form-input",onChange:E},null,8,["modelValue"])])])])):J("",!0),l("div",U_e,[D[58]||(D[58]=l("h3",{class:"section-title"},[l("i",{class:"far fa-clock"}),z(" Vigncia e Detalhes ")],-1)),l("div",H_e,[l("div",z_e,[D[51]||(D[51]=l("label",null,[z("Data Incio "),l("span",{class:"req"},"*")],-1)),l("div",j_e,[D[50]||(D[50]=l("i",{class:"far fa-calendar-check input-icon"},null,-1)),Y(l("input",{type:"date","onUpdate:modelValue":D[13]||(D[13]=B=>r.value.data_inicio=B),disabled:r.value.tipo_contrato==="VENDA",class:"form-input has-icon"},null,8,W_e),[[de,r.value.data_inicio]])])]),l("div",G_e,[D[53]||(D[53]=l("label",null,[z("Data Assinatura "),l("span",{class:"req"},"*")],-1)),l("div",q_e,[D[52]||(D[52]=l("i",{class:"fas fa-file-signature input-icon"},null,-1)),Y(l("input",{type:"date","onUpdate:modelValue":D[14]||(D[14]=B=>r.value.data_assinatura=B),onChange:C,class:"form-input has-icon"},null,544),[[de,r.value.data_assinatura]])])]),r.value.tipo_contrato==="ALUGUEL"?(O(),R("div",K_e,[D[55]||(D[55]=l("label",null,"Data Trmino",-1)),l("div",Y_e,[D[54]||(D[54]=l("i",{class:"far fa-calendar-times input-icon"},null,-1)),Y(l("input",{type:"date","onUpdate:modelValue":D[15]||(D[15]=B=>r.value.data_fim=B),class:"form-input has-icon"},null,512),[[de,r.value.data_fim]])])])):J("",!0),o.value.length?(O(),R("div",X_e,[D[56]||(D[56]=l("label",null,"Fiadores",-1)),be(Ve(Co),{modelValue:r.value.fiadores,"onUpdate:modelValue":D[16]||(D[16]=B=>r.value.fiadores=B),options:o.value,reduce:B=>B.value,label:"label",placeholder:"Selecione...",multiple:"",class:"style-chooser"},null,8,["modelValue","options","reduce"])])):J("",!0),l("div",J_e,[D[57]||(D[57]=l("label",null,"Informaes Adicionais",-1)),Y(l("textarea",{"onUpdate:modelValue":D[17]||(D[17]=B=>r.value.informacoes_adicionais=B),class:"form-textarea",rows:"3",placeholder:"Observaes importantes..."},null,512),[[de,r.value.informacoes_adicionais]])])])]),l("div",Q_e,[be(A,{to:{name:"contratos"},class:"btn-secondary"},{default:Pe(()=>[...D[59]||(D[59]=[z("Cancelar",-1)])]),_:1}),l("button",{type:"submit",class:"btn-primary",disabled:d.value},[d.value?(O(),R("i",eSe)):(O(),R("span",tSe,F(s.value?"Salvar Contrato":"Criar Contrato"),1))],8,Z_e)])])]),l("div",nSe,[l("div",sSe,[D[62]||(D[62]=l("div",{class:"widget-header"},[l("h3",{class:"widget-title"},[l("i",{class:"fas fa-file-alt"}),z(" Status")])],-1)),l("div",iSe,[Y(l("select",{"onUpdate:modelValue":D[18]||(D[18]=B=>r.value.status_contrato=B),disabled:r.value.tipo_contrato==="VENDA"&&r.value.status_contrato!=="RASCUNHO",class:te(["form-select status-select",T(r.value.status_contrato)])},[D[60]||(D[60]=l("option",{value:"RASCUNHO"},"Rascunho",-1)),D[61]||(D[61]=l("option",{value:"ATIVO"},"Ativo",-1)),s.value?(O(),R("option",oSe,"Rescindido")):J("",!0),s.value?(O(),R("option",aSe,"Concludo")):J("",!0),s.value?(O(),R("option",lSe,"Cancelado")):J("",!0)],10,rSe),[[xt,r.value.status_contrato]]),r.value.status_contrato==="ATIVO"?(O(),R("small",cSe," Contrato vigente e gerando financeiro. ")):J("",!0),r.value.status_contrato==="RASCUNHO"?(O(),R("small",uSe," Rascunho no gera financeiro. ")):J("",!0)])]),l("div",dSe,[D[65]||(D[65]=l("div",{class:"widget-header"},[l("h3",{class:"widget-title"},[l("i",{class:"fas fa-stamp"}),z(" Configurao")])],-1)),l("div",fSe,[D[63]||(D[63]=l("label",null,"Modelo de Documento",-1)),be(Ve(Co),{modelValue:r.value.modelo_utilizado,"onUpdate:modelValue":D[19]||(D[19]=B=>r.value.modelo_utilizado=B),options:u.value,reduce:B=>B.value,label:"label",placeholder:"Padro do sistema",clearable:!0,disabled:!r.value.tipo_contrato||g.value,class:"style-chooser"},null,8,["modelValue","options","reduce","disabled"]),D[64]||(D[64]=l("small",{class:"helper-text-widget"},"Define o template para impresso.",-1))])])])],32))])}}}),PM=tt(hSe,[["__scopeId","data-v-f27ffd90"]]),pSe=We({name:"ContratoReadView",setup(){const t=ms(),e=Ji.useToast(),n=H(""),s=H(!0),i=H("");return it(async()=>{try{const o=t.params.id,a=await ce.get(`/contratos/${o}/html/`);n.value=a.data}catch{i.value="No foi possvel carregar o contedo do contrato.",e.error(i.value)}finally{s.value=!1}}),{contratoHtml:n,loading:s,error:i}}}),mSe={key:0},gSe={key:1},vSe={class:"text-danger"},bSe=["innerHTML"];function ySe(t,e,n,s,i,r){return t.loading?(O(),R("div",mSe,[...e[0]||(e[0]=[l("p",null,"Carregando contrato...",-1)])])):t.error?(O(),R("div",gSe,[l("p",vSe,"Ocorreu um erro ao carregar o contrato: "+F(t.error),1)])):(O(),R("div",{key:2,class:"contrato-container",innerHTML:t.contratoHtml},null,8,bSe))}const xSe=tt(pSe,[["render",ySe],["__scopeId","data-v-f4ea7c28"]]),_Se=t=>{if(!t)return"N/A";try{const e=typeof t=="string"?new Date(t):t;return isNaN(e.getTime())?"Data Invlida":Et(e,"dd/MM/yyyy")}catch{return"Erro de Formatao"}},Ad=t=>{if(t==null)return"R$ 0,00";const e=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2}).format(e)},SSe={class:"modal-container"},ESe={class:"modal-header"},wSe=["disabled"],CSe={key:0},ASe={key:1},kSe={class:"modal-body"},TSe={key:0,class:"loading-message"},DSe={key:1,class:"error-message"},OSe={key:2,class:"empty-message"},RSe={key:3,class:"tabela-pagamentos"},MSe=We({__name:"ContratoFinanceiro",props:{contrato:{type:Object,required:!0}},emits:["close"],setup(t,{expose:e,emit:n}){const s=t,i=n,r=H([]),o=H(!0),a=H(null);async function c(){o.value=!0,a.value=null;try{const h=await ce.get(`/v1/contratos/${s.contrato.id}/pagamentos/`);r.value=h.data}catch(h){console.error("Erro ao buscar pagamentos:",h),a.value=h.response?.data?.error||"No foi possvel carregar os detalhes financeiros."}finally{o.value=!1}}function u(){i("close")}function d(h){if(!h)return"";try{return Et(Bn(h),"dd/MM/yyyy",{locale:ys})}catch{return"Invlida"}}function f(h){switch(h){case"PAGO":return"status-pago";case"PENDENTE":return"status-pendente";case"ATRASADO":return"status-atrasado";case"CANCELADO":return"status-cancelado";default:return"status-default"}}return it(()=>{c(),document.body.style.overflow="hidden"}),Po(()=>{document.body.style.overflow=""}),e({fetchPagamentos:c}),(h,m)=>(O(),R("div",{class:"modal-overlay",onClick:wt(u,["self"])},[l("div",SSe,[l("button",{onClick:u,class:"modal-close-button"},""),l("div",ESe,[l("div",null,[m[3]||(m[3]=l("h3",null,"Financeiro do Contrato (Aluguel)",-1)),l("p",null,[m[0]||(m[0]=z(" Locatrio: ",-1)),l("strong",null,F(t.contrato.inquilino_detalhes?.nome_display||"N/A"),1),m[1]||(m[1]=l("br",null,null,-1)),m[2]||(m[2]=z(" Imvel: ",-1)),l("strong",null,F(t.contrato.imovel_detalhes?.titulo_anuncio||"N/A"),1)])]),l("button",{onClick:c,disabled:o.value,class:"btn btn-refresh",title:"Atualizar Pagamentos"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":o.value}])},null,2),o.value?(O(),R("span",CSe,"Atualizando...")):(O(),R("span",ASe,"Atualizar"))],8,wSe)]),l("div",kSe,[o.value?(O(),R("div",TSe,[...m[4]||(m[4]=[l("div",{class:"spinner"},null,-1),z(" Carregando pagamentos... ",-1)])])):a.value?(O(),R("div",DSe," Erro ao carregar dados: "+F(a.value),1)):r.value.length===0?(O(),R("div",OSe," Nenhuma parcela gerada para este contrato. ")):(O(),R("div",RSe,[l("table",null,[m[5]||(m[5]=l("thead",null,[l("tr",null,[l("th",null,"#"),l("th",null,"Vencimento"),l("th",null,"Valor"),l("th",null,"Status"),l("th",null,"Data Pagamento")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(r.value,(g,y)=>(O(),R("tr",{key:g.id},[l("td",null,F(y+1),1),l("td",null,F(d(g.data_vencimento)),1),l("td",null,F(Ve(Ad)(g.valor)),1),l("td",null,[l("span",{class:te(["status-badge",f(g.status)])},F(g.status),3)]),l("td",null,F(d(g.data_pagamento)),1)]))),128))])])]))]),l("div",{class:"modal-footer"},[l("button",{onClick:u,class:"btn btn-secondary"},"Fechar")])])]))}}),ISe=tt(MSe,[["__scopeId","data-v-bf101035"]]),NSe={class:"page-container"},PSe={class:"page-header"},$Se={class:"header-main"},LSe={class:"actions-area"},FSe={key:0,class:"kpi-grid"},VSe={class:"kpi-content"},BSe={class:"kpi-value"},USe={class:"kpi-content"},HSe={class:"kpi-value"},zSe={class:"kpi-card purple"},jSe={class:"kpi-content"},WSe={class:"kpi-value text-compact"},GSe={class:"kpi-card orange"},qSe={class:"kpi-content"},KSe={class:"kpi-value text-compact"},YSe={class:"toolbar-row"},XSe={class:"filter-group search-group"},JSe={class:"input-with-icon"},QSe={class:"filter-group"},ZSe={class:"filter-group"},eEe={key:1,class:"loading-state"},tEe={key:2,class:"error-message"},nEe={key:3,class:"empty-state"},sEe={key:4,class:"contratos-grid"},iEe={class:"card-top-bar"},rEe={class:"badges-left"},oEe={class:"contrato-id"},aEe={class:"badges-right"},lEe={class:"card-body"},cEe={class:"imovel-section"},uEe=["title"],dEe={class:"imovel-address"},fEe={key:0,class:"datas-grid"},hEe={class:"data-col"},pEe={class:"data-value text-success"},mEe={class:"data-col"},gEe={key:1,class:"datas-grid empty-dates"},vEe={class:"pessoas-container"},bEe={class:"pessoa-row"},yEe={class:"pessoa-info"},xEe=["title"],_Ee={class:"pessoa-row"},SEe={class:"pessoa-info"},EEe={class:"pessoa-role role-inquilino"},wEe=["title"],CEe={class:"valor-footer"},AEe={class:"valor-amount"},kEe={class:"card-actions"},TEe={class:"actions-left"},DEe=["onClick","disabled"],OEe={key:0,class:"fas fa-spinner fa-spin"},REe={key:1,class:"fas fa-check"},MEe=["onClick"],IEe={class:"actions-right"},NEe=["onClick"],PEe=["onClick","disabled"],$Ee={key:0,class:"fas fa-spinner fa-spin"},LEe={key:1,class:"fas fa-file-pdf"},FEe=["onClick"],VEe=["onClick"],BEe=We({__name:"ContratosView",setup(t){const e=an(),n=Ji.useToast(),s=H([]),i=H(!0),r=H(null),o=H(""),a=H(""),c=H(""),u=H(null),d=H(null),f=H(!0),h=H(!1),m=H(null);function g(){x(),b()}function y(){o.value="",a.value="",c.value=""}async function b(){try{f.value=!0;const B=await ce.get("/v1/contratos/dashboard-stats/");d.value=B.data}catch(B){console.error("Erro ao buscar estatsticas do dashboard:",B)}finally{f.value=!1}}async function x(){i.value=!0,r.value=null;try{const B=await ce.get("/v1/contratos/");B.data&&Array.isArray(B.data.results)?s.value=B.data.results:Array.isArray(B.data)?s.value=B.data:(console.warn("Formato de resposta inesperado:",B.data),s.value=[])}catch(B){console.error("Erro ao buscar contratos:",B),r.value="No foi possvel carregar os contratos.",s.value=[]}finally{i.value=!1}}async function E(B){if(window.confirm("Tem certeza que deseja excluir este contrato?")&&window.confirm("ATENO: Esta ao  IRREVERSVEL. O contrato desaparecer da lista e todo o financeiro pendente ser cancelado. Deseja realmente continuar?"))try{await ce.delete(`/v1/contratos/${B}/`),s.value=s.value.filter(N=>N.id!==B),b(),n.success("Contrato excludo com sucesso.")}catch(N){console.error("Erro ao excluir contrato:",N);const q=N.response?.data?.error||"No foi possvel excluir o contrato.";n.error(q)}}async function C(B){if(u.value===null){u.value=B;try{const N=await ce.get(`/v1/contratos/${B}/visualizar-pdf/`,{responseType:"blob"}),q=new Blob([N.data],{type:"application/pdf"}),W=URL.createObjectURL(q);window.open(W,"_blank"),setTimeout(()=>URL.revokeObjectURL(W),1e4)}catch(N){console.error("Erro ao visualizar PDF:",N.response?.data||N),n.error("Falha ao gerar o PDF.")}finally{u.value=null}}}async function _(B){if(!(u.value!==null||!window.confirm(`Tem certeza que deseja ATIVAR este contrato?

O financeiro ser gerado automaticamente.`))){u.value=B.id;try{const q=await ce.post(`/v1/contratos/${B.id}/ativar/`);n.success("Contrato ativado com sucesso!");const W=s.value.findIndex(Z=>Z.id===B.id);W!==-1&&(s.value[W]={...s.value[W],...q.data}),b()}catch(q){console.error("Erro ao ativar contrato:",q.response?.data||q);const W=q.response?.data?.error||q.response?.data?.status_contrato||"Falha ao ativar o contrato.";n.error(W,{duration:5e3})}finally{u.value=null}}}function T(B){e.push({name:"contrato-editar",params:{id:B}})}function k(B){e.push({name:"contrato-editar-documento",params:{id:B}})}function $(B){m.value=B,h.value=!0}function M(){h.value=!1,m.value=null}const P=we(()=>Array.isArray(s.value)?s.value.filter(B=>{const N=o.value.toLowerCase().trim(),q=B.imovel_detalhes?.titulo_anuncio?.toLowerCase()||"",W=B.imovel_detalhes?.endereco_completo?.toLowerCase()||"",Z=B.inquilino_detalhes?.nome_display?.toLowerCase()||"",Le=B.proprietario_detalhes?.nome_display?.toLowerCase()||"",ge=!N||q.includes(N)||W.includes(N)||Z.includes(N)||Le.includes(N),qe=!a.value||B.status_contrato===a.value,lt=!c.value||B.tipo_contrato===c.value;return ge&&qe&&lt}):[]);function V(B){if(!B)return"";try{return Et(Bn(B),"dd/MM/yy",{locale:ys})}catch{return"Invlida"}}const I=B=>{switch(B){case"RASCUNHO":return"Rascunho";case"ATIVO":return"Ativo";case"CONCLUIDO":return"Concludo";case"RESCINDIDO":return"Rescindido";case"CANCELADO":return"Cancelado";default:return B}},w=B=>{switch(B){case"ATIVO":return"status-ativo";case"RASCUNHO":return"status-rascunho";case"CONCLUIDO":return"status-concluido";case"RESCINDIDO":return"status-rescindido";case"CANCELADO":return"status-cancelado";default:return"status-default"}},D=B=>B==="ATIVO"?"border-ativo":"",A=B=>{switch(B){case"ATIVO":return"fas fa-check-circle";case"RASCUNHO":return"fas fa-pencil-alt";case"CONCLUIDO":return"fas fa-flag-checkered";case"RESCINDIDO":return"fas fa-ban";case"CANCELADO":return"fas fa-times-circle";default:return"fas fa-info-circle"}};return it(()=>{g()}),(B,N)=>{const q=on("router-link");return O(),R("div",NSe,[l("header",PSe,[l("div",$Se,[N[6]||(N[6]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Gesto"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Contratos")]),l("h1",null,"Gerenciar Contratos")],-1)),l("div",LSe,[l("button",{class:"btn-icon-thin",onClick:g,title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":i.value||f.value}])},null,2)]),be(q,{to:{name:"contrato-novo"},class:"btn-primary-thin"},{default:Pe(()=>[...N[5]||(N[5]=[l("i",{class:"fas fa-plus"},null,-1),z(" Novo Contrato ",-1)])]),_:1})])])]),d.value?(O(),R("div",FSe,[l("div",{class:te(["kpi-card blue",{active:a.value===""}]),onClick:N[0]||(N[0]=W=>a.value="")},[l("div",VSe,[l("span",BSe,F(d.value.total_contratos),1),N[7]||(N[7]=l("span",{class:"kpi-label"},"Total de Contratos",-1))]),N[8]||(N[8]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-file-contract"})],-1))],2),l("div",{class:te(["kpi-card green",{active:a.value==="ATIVO"}]),onClick:N[1]||(N[1]=W=>a.value="ATIVO")},[l("div",USe,[l("span",HSe,F(d.value.total_ativos),1),N[9]||(N[9]=l("span",{class:"kpi-label"},"Contratos Ativos",-1))]),N[10]||(N[10]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-check-circle"})],-1))],2),l("div",zSe,[l("div",jSe,[l("span",WSe,F(Ve(Ad)(d.value.valor_total_alugueis_ativos)),1),N[11]||(N[11]=l("span",{class:"kpi-label"},"Aluguis (Mensal)",-1))]),N[12]||(N[12]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-hand-holding-usd"})],-1))]),l("div",GSe,[l("div",qSe,[l("span",KSe,F(Ve(Ad)(d.value.valor_total_vendas_ativas)),1),N[13]||(N[13]=l("span",{class:"kpi-label"},"Vendas (Volume)",-1))]),N[14]||(N[14]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-comments-dollar"})],-1))])])):J("",!0),l("div",YSe,[l("div",XSe,[N[16]||(N[16]=l("label",null,"Buscar",-1)),l("div",JSe,[N[15]||(N[15]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":N[2]||(N[2]=W=>o.value=W),placeholder:"Buscar por imvel, inquilino...",class:"form-control"},null,512),[[de,o.value]])])]),l("div",QSe,[N[18]||(N[18]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":N[3]||(N[3]=W=>a.value=W),class:"form-control"},[...N[17]||(N[17]=[hi('<option value="" data-v-a5d4f6ac>Todos</option><option value="RASCUNHO" data-v-a5d4f6ac>Rascunho</option><option value="ATIVO" data-v-a5d4f6ac>Ativo</option><option value="CONCLUIDO" data-v-a5d4f6ac>Concludo</option><option value="RESCINDIDO" data-v-a5d4f6ac>Rescindido</option><option value="CANCELADO" data-v-a5d4f6ac>Cancelado</option>',6)])],512),[[xt,a.value]])]),l("div",ZSe,[N[20]||(N[20]=l("label",null,"Tipo",-1)),Y(l("select",{"onUpdate:modelValue":N[4]||(N[4]=W=>c.value=W),class:"form-control"},[...N[19]||(N[19]=[l("option",{value:""},"Todos",-1),l("option",{value:"VENDA"},"Venda",-1),l("option",{value:"ALUGUEL"},"Aluguel",-1)])],512),[[xt,c.value]])]),l("div",{class:"filter-group small-btn"},[N[22]||(N[22]=l("label",null,"",-1)),l("button",{onClick:y,class:"btn-clear",title:"Limpar Filtros"},[...N[21]||(N[21]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),i.value?(O(),R("div",eEe,[...N[23]||(N[23]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando contratos...",-1)])])):r.value?(O(),R("div",tEe,F(r.value),1)):P.value.length===0?(O(),R("div",nEe,[...N[24]||(N[24]=[l("i",{class:"fas fa-folder-open empty-icon"},null,-1),l("p",null,"Nenhum contrato encontrado com os filtros selecionados.",-1)])])):(O(),R("div",sEe,[(O(!0),R(Me,null,je(P.value,W=>(O(),R("div",{key:W.id,class:te(["contrato-card",D(W.status_contrato)])},[l("div",iEe,[l("div",rEe,[l("span",oEe,"#"+F(W.id),1),l("span",{class:te(["tipo-badge",W.tipo_contrato==="VENDA"?"tipo-venda":"tipo-aluguel"])},F(W.tipo_contrato==="VENDA"?"Venda":"Aluguel"),3)]),l("div",aEe,[l("span",{class:te(["status-pill",w(W.status_contrato)])},[l("i",{class:te(A(W.status_contrato))},null,2),z(" "+F(I(W.status_contrato)),1)],2)])]),l("div",lEe,[l("div",cEe,[l("h4",{class:"imovel-title",title:W.imovel_detalhes?.titulo_anuncio},F(W.imovel_detalhes?.titulo_anuncio||"Imvel sem ttulo"),9,uEe),l("p",dEe,[N[25]||(N[25]=l("i",{class:"fas fa-map-marker-alt text-muted"},null,-1)),z(" "+F(W.imovel_detalhes?.endereco_completo||"Endereo no disponvel"),1)])]),W.data_inicio?(O(),R("div",fEe,[l("div",hEe,[N[27]||(N[27]=l("span",{class:"data-label"},"Incio",-1)),l("div",pEe,[N[26]||(N[26]=l("i",{class:"fas fa-play-circle"},null,-1)),z(" "+F(V(W.data_inicio)),1)])]),N[30]||(N[30]=l("div",{class:"data-divider"},null,-1)),l("div",mEe,[N[29]||(N[29]=l("span",{class:"data-label"},"Trmino",-1)),l("div",{class:te(["data-value",W.data_fim?"text-danger":"text-muted"])},[N[28]||(N[28]=l("i",{class:"fas fa-stop-circle"},null,-1)),z(" "+F(W.data_fim?V(W.data_fim):"Indeterminado"),1)],2)])])):(O(),R("div",gEe,[...N[31]||(N[31]=[l("span",{class:"text-muted"},[l("i",{class:"far fa-clock"}),z(" Datas no definidas")],-1)])])),l("div",vEe,[l("div",bEe,[N[33]||(N[33]=l("div",{class:"pessoa-avatar avatar-proprietario"},[l("i",{class:"fas fa-user-tie"})],-1)),l("div",yEe,[N[32]||(N[32]=l("span",{class:"pessoa-role role-proprietario"},"Proprietrio",-1)),l("span",{class:"pessoa-name",title:W.proprietario_detalhes?.nome_display},F(W.proprietario_detalhes?.nome_display||""),9,xEe)])]),l("div",_Ee,[N[34]||(N[34]=l("div",{class:"pessoa-avatar avatar-inquilino"},[l("i",{class:"fas fa-user"})],-1)),l("div",SEe,[l("span",EEe,F(W.tipo_contrato==="VENDA"?"Comprador":"Inquilino"),1),l("span",{class:"pessoa-name",title:W.inquilino_detalhes?.nome_display},F(W.inquilino_detalhes?.nome_display||""),9,wEe)])])])]),l("div",CEe,[N[35]||(N[35]=l("span",{class:"valor-label"},"Valor do Contrato",-1)),l("span",AEe,F(W.valor_display),1)]),l("div",kEe,[l("div",TEe,[W.status_contrato==="RASCUNHO"?(O(),R("button",{key:0,onClick:Z=>_(W),disabled:u.value===W.id,class:"btn-pill btn-ativar"},[u.value===W.id?(O(),R("i",OEe)):(O(),R("i",REe)),N[36]||(N[36]=z(" Ativar ",-1))],8,DEe)):J("",!0),W.tipo_contrato==="ALUGUEL"&&(W.status_contrato==="ATIVO"||W.status_contrato==="CONCLUIDO")?(O(),R("button",{key:1,onClick:Z=>$(W),class:"btn-pill btn-financeiro"},[...N[37]||(N[37]=[l("i",{class:"fas fa-dollar-sign"},null,-1),z(" Financeiro ",-1)])],8,MEe)):J("",!0)]),l("div",IEe,[l("button",{onClick:Z=>k(W.id),class:"btn-mini",title:"Editar Texto do Contrato"},[...N[38]||(N[38]=[l("i",{class:"fas fa-file-contract"},null,-1)])],8,NEe),l("button",{onClick:Z=>C(W.id),disabled:u.value===W.id,class:"btn-mini",title:"Visualizar PDF"},[u.value===W.id?(O(),R("i",$Ee)):(O(),R("i",LEe))],8,PEe),l("button",{onClick:Z=>T(W.id),class:"btn-mini btn-edit",title:"Editar Dados"},[...N[39]||(N[39]=[l("i",{class:"fas fa-pen"},null,-1)])],8,FEe),l("button",{onClick:Z=>E(W.id),class:"btn-mini btn-delete-mini",title:"Excluir"},[...N[40]||(N[40]=[l("i",{class:"fas fa-trash"},null,-1)])],8,VEe)])])],2))),128))])),h.value&&m.value?(O(),is(ISe,{key:5,contrato:m.value,onClose:M},null,8,["contrato"])):J("",!0)])}}}),UEe=tt(BEe,[["__scopeId","data-v-a5d4f6ac"]]);var Kf={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var HEe=Kf.exports,$M;function zEe(){return $M||($M=1,(function(t,e){(function(){var n,s="4.17.21",i=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,h=2,m=4,g=1,y=2,b=1,x=2,E=4,C=8,_=16,T=32,k=64,$=128,M=256,P=512,V=30,I="...",w=800,D=16,A=1,B=2,N=3,q=1/0,W=9007199254740991,Z=17976931348623157e292,Le=NaN,ge=4294967295,qe=ge-1,lt=ge>>>1,Mt=[["ary",$],["bind",b],["bindKey",x],["curry",C],["curryRight",_],["flip",P],["partial",T],["partialRight",k],["rearg",M]],Oe="[object Arguments]",ae="[object Array]",se="[object AsyncFunction]",xe="[object Boolean]",Ie="[object Date]",Je="[object DOMException]",mt="[object Error]",Ut="[object Function]",K="[object GeneratorFunction]",X="[object Map]",ue="[object Number]",Ee="[object Null]",ve="[object Object]",Ae="[object Promise]",Ue="[object Proxy]",Ne="[object RegExp]",De="[object Set]",ke="[object String]",Ze="[object Symbol]",He="[object Undefined]",Ye="[object WeakMap]",at="[object WeakSet]",Ct="[object ArrayBuffer]",Vt="[object DataView]",ie="[object Float32Array]",le="[object Float64Array]",fe="[object Int8Array]",Ce="[object Int16Array]",Be="[object Int32Array]",st="[object Uint8Array]",_t="[object Uint8ClampedArray]",bt="[object Uint16Array]",Yt="[object Uint32Array]",dt=/\b__p \+= '';/g,Qe=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ht=/&(?:amp|lt|gt|quot|#39);/g,Xt=/[&<>"']/g,Ks=RegExp(Ht.source),cf=RegExp(Xt.source),V1=/<%-([\s\S]+?)%>/g,ku=/<%([\s\S]+?)%>/g,PA=/<%=([\s\S]+?)%>/g,F6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V6=/^\w*$/,B6=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B1=/[\\^$.*+?()[\]{}|]/g,U6=RegExp(B1.source),U1=/^\s+/,H6=/\s/,z6=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,j6=/\{\n\/\* \[wrapped with (.+)\] \*/,W6=/,? & /,G6=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,q6=/[()=,{}\[\]\/\s]/,K6=/\\(\\)?/g,Y6=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$A=/\w*$/,X6=/^[-+]0x[0-9a-f]+$/i,J6=/^0b[01]+$/i,Q6=/^\[object .+?Constructor\]$/,Z6=/^0o[0-7]+$/i,eU=/^(?:0|[1-9]\d*)$/,tU=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zp=/($^)/,nU=/['\n\r\u2028\u2029\\]/g,em="\\ud800-\\udfff",sU="\\u0300-\\u036f",iU="\\ufe20-\\ufe2f",rU="\\u20d0-\\u20ff",LA=sU+iU+rU,FA="\\u2700-\\u27bf",VA="a-z\\xdf-\\xf6\\xf8-\\xff",oU="\\xac\\xb1\\xd7\\xf7",aU="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",lU="\\u2000-\\u206f",cU=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",BA="A-Z\\xc0-\\xd6\\xd8-\\xde",UA="\\ufe0e\\ufe0f",HA=oU+aU+lU+cU,H1="[']",uU="["+em+"]",zA="["+HA+"]",tm="["+LA+"]",jA="\\d+",dU="["+FA+"]",WA="["+VA+"]",GA="[^"+em+HA+jA+FA+VA+BA+"]",z1="\\ud83c[\\udffb-\\udfff]",fU="(?:"+tm+"|"+z1+")",qA="[^"+em+"]",j1="(?:\\ud83c[\\udde6-\\uddff]){2}",W1="[\\ud800-\\udbff][\\udc00-\\udfff]",Tu="["+BA+"]",KA="\\u200d",YA="(?:"+WA+"|"+GA+")",hU="(?:"+Tu+"|"+GA+")",XA="(?:"+H1+"(?:d|ll|m|re|s|t|ve))?",JA="(?:"+H1+"(?:D|LL|M|RE|S|T|VE))?",QA=fU+"?",ZA="["+UA+"]?",pU="(?:"+KA+"(?:"+[qA,j1,W1].join("|")+")"+ZA+QA+")*",mU="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gU="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ek=ZA+QA+pU,vU="(?:"+[dU,j1,W1].join("|")+")"+ek,bU="(?:"+[qA+tm+"?",tm,j1,W1,uU].join("|")+")",yU=RegExp(H1,"g"),xU=RegExp(tm,"g"),G1=RegExp(z1+"(?="+z1+")|"+bU+ek,"g"),_U=RegExp([Tu+"?"+WA+"+"+XA+"(?="+[zA,Tu,"$"].join("|")+")",hU+"+"+JA+"(?="+[zA,Tu+YA,"$"].join("|")+")",Tu+"?"+YA+"+"+XA,Tu+"+"+JA,gU,mU,jA,vU].join("|"),"g"),SU=RegExp("["+KA+em+LA+UA+"]"),EU=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wU=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],CU=-1,Mn={};Mn[ie]=Mn[le]=Mn[fe]=Mn[Ce]=Mn[Be]=Mn[st]=Mn[_t]=Mn[bt]=Mn[Yt]=!0,Mn[Oe]=Mn[ae]=Mn[Ct]=Mn[xe]=Mn[Vt]=Mn[Ie]=Mn[mt]=Mn[Ut]=Mn[X]=Mn[ue]=Mn[ve]=Mn[Ne]=Mn[De]=Mn[ke]=Mn[Ye]=!1;var wn={};wn[Oe]=wn[ae]=wn[Ct]=wn[Vt]=wn[xe]=wn[Ie]=wn[ie]=wn[le]=wn[fe]=wn[Ce]=wn[Be]=wn[X]=wn[ue]=wn[ve]=wn[Ne]=wn[De]=wn[ke]=wn[Ze]=wn[st]=wn[_t]=wn[bt]=wn[Yt]=!0,wn[mt]=wn[Ut]=wn[Ye]=!1;var AU={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},kU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},TU={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},DU={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},OU=parseFloat,RU=parseInt,tk=typeof Qm=="object"&&Qm&&Qm.Object===Object&&Qm,MU=typeof self=="object"&&self&&self.Object===Object&&self,$s=tk||MU||Function("return this")(),q1=e&&!e.nodeType&&e,tc=q1&&!0&&t&&!t.nodeType&&t,nk=tc&&tc.exports===q1,K1=nk&&tk.process,yr=(function(){try{var re=tc&&tc.require&&tc.require("util").types;return re||K1&&K1.binding&&K1.binding("util")}catch{}})(),sk=yr&&yr.isArrayBuffer,ik=yr&&yr.isDate,rk=yr&&yr.isMap,ok=yr&&yr.isRegExp,ak=yr&&yr.isSet,lk=yr&&yr.isTypedArray;function Qi(re,ye,me){switch(me.length){case 0:return re.call(ye);case 1:return re.call(ye,me[0]);case 2:return re.call(ye,me[0],me[1]);case 3:return re.call(ye,me[0],me[1],me[2])}return re.apply(ye,me)}function IU(re,ye,me,Xe){for(var kt=-1,dn=re==null?0:re.length;++kt<dn;){var _s=re[kt];ye(Xe,_s,me(_s),re)}return Xe}function xr(re,ye){for(var me=-1,Xe=re==null?0:re.length;++me<Xe&&ye(re[me],me,re)!==!1;);return re}function NU(re,ye){for(var me=re==null?0:re.length;me--&&ye(re[me],me,re)!==!1;);return re}function ck(re,ye){for(var me=-1,Xe=re==null?0:re.length;++me<Xe;)if(!ye(re[me],me,re))return!1;return!0}function Ba(re,ye){for(var me=-1,Xe=re==null?0:re.length,kt=0,dn=[];++me<Xe;){var _s=re[me];ye(_s,me,re)&&(dn[kt++]=_s)}return dn}function nm(re,ye){var me=re==null?0:re.length;return!!me&&Du(re,ye,0)>-1}function Y1(re,ye,me){for(var Xe=-1,kt=re==null?0:re.length;++Xe<kt;)if(me(ye,re[Xe]))return!0;return!1}function $n(re,ye){for(var me=-1,Xe=re==null?0:re.length,kt=Array(Xe);++me<Xe;)kt[me]=ye(re[me],me,re);return kt}function Ua(re,ye){for(var me=-1,Xe=ye.length,kt=re.length;++me<Xe;)re[kt+me]=ye[me];return re}function X1(re,ye,me,Xe){var kt=-1,dn=re==null?0:re.length;for(Xe&&dn&&(me=re[++kt]);++kt<dn;)me=ye(me,re[kt],kt,re);return me}function PU(re,ye,me,Xe){var kt=re==null?0:re.length;for(Xe&&kt&&(me=re[--kt]);kt--;)me=ye(me,re[kt],kt,re);return me}function J1(re,ye){for(var me=-1,Xe=re==null?0:re.length;++me<Xe;)if(ye(re[me],me,re))return!0;return!1}var $U=Q1("length");function LU(re){return re.split("")}function FU(re){return re.match(G6)||[]}function uk(re,ye,me){var Xe;return me(re,function(kt,dn,_s){if(ye(kt,dn,_s))return Xe=dn,!1}),Xe}function sm(re,ye,me,Xe){for(var kt=re.length,dn=me+(Xe?1:-1);Xe?dn--:++dn<kt;)if(ye(re[dn],dn,re))return dn;return-1}function Du(re,ye,me){return ye===ye?XU(re,ye,me):sm(re,dk,me)}function VU(re,ye,me,Xe){for(var kt=me-1,dn=re.length;++kt<dn;)if(Xe(re[kt],ye))return kt;return-1}function dk(re){return re!==re}function fk(re,ye){var me=re==null?0:re.length;return me?e0(re,ye)/me:Le}function Q1(re){return function(ye){return ye==null?n:ye[re]}}function Z1(re){return function(ye){return re==null?n:re[ye]}}function hk(re,ye,me,Xe,kt){return kt(re,function(dn,_s,_n){me=Xe?(Xe=!1,dn):ye(me,dn,_s,_n)}),me}function BU(re,ye){var me=re.length;for(re.sort(ye);me--;)re[me]=re[me].value;return re}function e0(re,ye){for(var me,Xe=-1,kt=re.length;++Xe<kt;){var dn=ye(re[Xe]);dn!==n&&(me=me===n?dn:me+dn)}return me}function t0(re,ye){for(var me=-1,Xe=Array(re);++me<re;)Xe[me]=ye(me);return Xe}function UU(re,ye){return $n(ye,function(me){return[me,re[me]]})}function pk(re){return re&&re.slice(0,bk(re)+1).replace(U1,"")}function Zi(re){return function(ye){return re(ye)}}function n0(re,ye){return $n(ye,function(me){return re[me]})}function uf(re,ye){return re.has(ye)}function mk(re,ye){for(var me=-1,Xe=re.length;++me<Xe&&Du(ye,re[me],0)>-1;);return me}function gk(re,ye){for(var me=re.length;me--&&Du(ye,re[me],0)>-1;);return me}function HU(re,ye){for(var me=re.length,Xe=0;me--;)re[me]===ye&&++Xe;return Xe}var zU=Z1(AU),jU=Z1(kU);function WU(re){return"\\"+DU[re]}function GU(re,ye){return re==null?n:re[ye]}function Ou(re){return SU.test(re)}function qU(re){return EU.test(re)}function KU(re){for(var ye,me=[];!(ye=re.next()).done;)me.push(ye.value);return me}function s0(re){var ye=-1,me=Array(re.size);return re.forEach(function(Xe,kt){me[++ye]=[kt,Xe]}),me}function vk(re,ye){return function(me){return re(ye(me))}}function Ha(re,ye){for(var me=-1,Xe=re.length,kt=0,dn=[];++me<Xe;){var _s=re[me];(_s===ye||_s===d)&&(re[me]=d,dn[kt++]=me)}return dn}function im(re){var ye=-1,me=Array(re.size);return re.forEach(function(Xe){me[++ye]=Xe}),me}function YU(re){var ye=-1,me=Array(re.size);return re.forEach(function(Xe){me[++ye]=[Xe,Xe]}),me}function XU(re,ye,me){for(var Xe=me-1,kt=re.length;++Xe<kt;)if(re[Xe]===ye)return Xe;return-1}function JU(re,ye,me){for(var Xe=me+1;Xe--;)if(re[Xe]===ye)return Xe;return Xe}function Ru(re){return Ou(re)?ZU(re):$U(re)}function zr(re){return Ou(re)?eH(re):LU(re)}function bk(re){for(var ye=re.length;ye--&&H6.test(re.charAt(ye)););return ye}var QU=Z1(TU);function ZU(re){for(var ye=G1.lastIndex=0;G1.test(re);)++ye;return ye}function eH(re){return re.match(G1)||[]}function tH(re){return re.match(_U)||[]}var nH=(function re(ye){ye=ye==null?$s:Mu.defaults($s.Object(),ye,Mu.pick($s,wU));var me=ye.Array,Xe=ye.Date,kt=ye.Error,dn=ye.Function,_s=ye.Math,_n=ye.Object,i0=ye.RegExp,sH=ye.String,_r=ye.TypeError,rm=me.prototype,iH=dn.prototype,Iu=_n.prototype,om=ye["__core-js_shared__"],am=iH.toString,gn=Iu.hasOwnProperty,rH=0,yk=(function(){var p=/[^.]+$/.exec(om&&om.keys&&om.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""})(),lm=Iu.toString,oH=am.call(_n),aH=$s._,lH=i0("^"+am.call(gn).replace(B1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cm=nk?ye.Buffer:n,za=ye.Symbol,um=ye.Uint8Array,xk=cm?cm.allocUnsafe:n,dm=vk(_n.getPrototypeOf,_n),_k=_n.create,Sk=Iu.propertyIsEnumerable,fm=rm.splice,Ek=za?za.isConcatSpreadable:n,df=za?za.iterator:n,nc=za?za.toStringTag:n,hm=(function(){try{var p=ac(_n,"defineProperty");return p({},"",{}),p}catch{}})(),cH=ye.clearTimeout!==$s.clearTimeout&&ye.clearTimeout,uH=Xe&&Xe.now!==$s.Date.now&&Xe.now,dH=ye.setTimeout!==$s.setTimeout&&ye.setTimeout,pm=_s.ceil,mm=_s.floor,r0=_n.getOwnPropertySymbols,fH=cm?cm.isBuffer:n,wk=ye.isFinite,hH=rm.join,pH=vk(_n.keys,_n),Ss=_s.max,Ys=_s.min,mH=Xe.now,gH=ye.parseInt,Ck=_s.random,vH=rm.reverse,o0=ac(ye,"DataView"),ff=ac(ye,"Map"),a0=ac(ye,"Promise"),Nu=ac(ye,"Set"),hf=ac(ye,"WeakMap"),pf=ac(_n,"create"),gm=hf&&new hf,Pu={},bH=lc(o0),yH=lc(ff),xH=lc(a0),_H=lc(Nu),SH=lc(hf),vm=za?za.prototype:n,mf=vm?vm.valueOf:n,Ak=vm?vm.toString:n;function j(p){if(Yn(p)&&!Rt(p)&&!(p instanceof Jt)){if(p instanceof Sr)return p;if(gn.call(p,"__wrapped__"))return kT(p)}return new Sr(p)}var $u=(function(){function p(){}return function(v){if(!jn(v))return{};if(_k)return _k(v);p.prototype=v;var S=new p;return p.prototype=n,S}})();function bm(){}function Sr(p,v){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=n}j.templateSettings={escape:V1,evaluate:ku,interpolate:PA,variable:"",imports:{_:j}},j.prototype=bm.prototype,j.prototype.constructor=j,Sr.prototype=$u(bm.prototype),Sr.prototype.constructor=Sr;function Jt(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ge,this.__views__=[]}function EH(){var p=new Jt(this.__wrapped__);return p.__actions__=Ni(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=Ni(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=Ni(this.__views__),p}function wH(){if(this.__filtered__){var p=new Jt(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function CH(){var p=this.__wrapped__.value(),v=this.__dir__,S=Rt(p),L=v<0,U=S?p.length:0,G=L8(0,U,this.__views__),Q=G.start,ne=G.end,oe=ne-Q,_e=L?ne:Q-1,Se=this.__iteratees__,Te=Se.length,ze=0,nt=Ys(oe,this.__takeCount__);if(!S||!L&&U==oe&&nt==oe)return Xk(p,this.__actions__);var gt=[];e:for(;oe--&&ze<nt;){_e+=v;for(var $t=-1,vt=p[_e];++$t<Te;){var Gt=Se[$t],nn=Gt.iteratee,nr=Gt.type,xi=nn(vt);if(nr==B)vt=xi;else if(!xi){if(nr==A)continue e;break e}}gt[ze++]=vt}return gt}Jt.prototype=$u(bm.prototype),Jt.prototype.constructor=Jt;function sc(p){var v=-1,S=p==null?0:p.length;for(this.clear();++v<S;){var L=p[v];this.set(L[0],L[1])}}function AH(){this.__data__=pf?pf(null):{},this.size=0}function kH(p){var v=this.has(p)&&delete this.__data__[p];return this.size-=v?1:0,v}function TH(p){var v=this.__data__;if(pf){var S=v[p];return S===c?n:S}return gn.call(v,p)?v[p]:n}function DH(p){var v=this.__data__;return pf?v[p]!==n:gn.call(v,p)}function OH(p,v){var S=this.__data__;return this.size+=this.has(p)?0:1,S[p]=pf&&v===n?c:v,this}sc.prototype.clear=AH,sc.prototype.delete=kH,sc.prototype.get=TH,sc.prototype.has=DH,sc.prototype.set=OH;function Fo(p){var v=-1,S=p==null?0:p.length;for(this.clear();++v<S;){var L=p[v];this.set(L[0],L[1])}}function RH(){this.__data__=[],this.size=0}function MH(p){var v=this.__data__,S=ym(v,p);if(S<0)return!1;var L=v.length-1;return S==L?v.pop():fm.call(v,S,1),--this.size,!0}function IH(p){var v=this.__data__,S=ym(v,p);return S<0?n:v[S][1]}function NH(p){return ym(this.__data__,p)>-1}function PH(p,v){var S=this.__data__,L=ym(S,p);return L<0?(++this.size,S.push([p,v])):S[L][1]=v,this}Fo.prototype.clear=RH,Fo.prototype.delete=MH,Fo.prototype.get=IH,Fo.prototype.has=NH,Fo.prototype.set=PH;function Vo(p){var v=-1,S=p==null?0:p.length;for(this.clear();++v<S;){var L=p[v];this.set(L[0],L[1])}}function $H(){this.size=0,this.__data__={hash:new sc,map:new(ff||Fo),string:new sc}}function LH(p){var v=Rm(this,p).delete(p);return this.size-=v?1:0,v}function FH(p){return Rm(this,p).get(p)}function VH(p){return Rm(this,p).has(p)}function BH(p,v){var S=Rm(this,p),L=S.size;return S.set(p,v),this.size+=S.size==L?0:1,this}Vo.prototype.clear=$H,Vo.prototype.delete=LH,Vo.prototype.get=FH,Vo.prototype.has=VH,Vo.prototype.set=BH;function ic(p){var v=-1,S=p==null?0:p.length;for(this.__data__=new Vo;++v<S;)this.add(p[v])}function UH(p){return this.__data__.set(p,c),this}function HH(p){return this.__data__.has(p)}ic.prototype.add=ic.prototype.push=UH,ic.prototype.has=HH;function jr(p){var v=this.__data__=new Fo(p);this.size=v.size}function zH(){this.__data__=new Fo,this.size=0}function jH(p){var v=this.__data__,S=v.delete(p);return this.size=v.size,S}function WH(p){return this.__data__.get(p)}function GH(p){return this.__data__.has(p)}function qH(p,v){var S=this.__data__;if(S instanceof Fo){var L=S.__data__;if(!ff||L.length<i-1)return L.push([p,v]),this.size=++S.size,this;S=this.__data__=new Vo(L)}return S.set(p,v),this.size=S.size,this}jr.prototype.clear=zH,jr.prototype.delete=jH,jr.prototype.get=WH,jr.prototype.has=GH,jr.prototype.set=qH;function kk(p,v){var S=Rt(p),L=!S&&cc(p),U=!S&&!L&&Ka(p),G=!S&&!L&&!U&&Bu(p),Q=S||L||U||G,ne=Q?t0(p.length,sH):[],oe=ne.length;for(var _e in p)(v||gn.call(p,_e))&&!(Q&&(_e=="length"||U&&(_e=="offset"||_e=="parent")||G&&(_e=="buffer"||_e=="byteLength"||_e=="byteOffset")||zo(_e,oe)))&&ne.push(_e);return ne}function Tk(p){var v=p.length;return v?p[b0(0,v-1)]:n}function KH(p,v){return Mm(Ni(p),rc(v,0,p.length))}function YH(p){return Mm(Ni(p))}function l0(p,v,S){(S!==n&&!Wr(p[v],S)||S===n&&!(v in p))&&Bo(p,v,S)}function gf(p,v,S){var L=p[v];(!(gn.call(p,v)&&Wr(L,S))||S===n&&!(v in p))&&Bo(p,v,S)}function ym(p,v){for(var S=p.length;S--;)if(Wr(p[S][0],v))return S;return-1}function XH(p,v,S,L){return ja(p,function(U,G,Q){v(L,U,S(U),Q)}),L}function Dk(p,v){return p&&co(v,ks(v),p)}function JH(p,v){return p&&co(v,$i(v),p)}function Bo(p,v,S){v=="__proto__"&&hm?hm(p,v,{configurable:!0,enumerable:!0,value:S,writable:!0}):p[v]=S}function c0(p,v){for(var S=-1,L=v.length,U=me(L),G=p==null;++S<L;)U[S]=G?n:z0(p,v[S]);return U}function rc(p,v,S){return p===p&&(S!==n&&(p=p<=S?p:S),v!==n&&(p=p>=v?p:v)),p}function Er(p,v,S,L,U,G){var Q,ne=v&f,oe=v&h,_e=v&m;if(S&&(Q=U?S(p,L,U,G):S(p)),Q!==n)return Q;if(!jn(p))return p;var Se=Rt(p);if(Se){if(Q=V8(p),!ne)return Ni(p,Q)}else{var Te=Xs(p),ze=Te==Ut||Te==K;if(Ka(p))return Zk(p,ne);if(Te==ve||Te==Oe||ze&&!U){if(Q=oe||ze?{}:bT(p),!ne)return oe?T8(p,JH(Q,p)):k8(p,Dk(Q,p))}else{if(!wn[Te])return U?p:{};Q=B8(p,Te,ne)}}G||(G=new jr);var nt=G.get(p);if(nt)return nt;G.set(p,Q),qT(p)?p.forEach(function(vt){Q.add(Er(vt,v,S,vt,p,G))}):WT(p)&&p.forEach(function(vt,Gt){Q.set(Gt,Er(vt,v,S,Gt,p,G))});var gt=_e?oe?D0:T0:oe?$i:ks,$t=Se?n:gt(p);return xr($t||p,function(vt,Gt){$t&&(Gt=vt,vt=p[Gt]),gf(Q,Gt,Er(vt,v,S,Gt,p,G))}),Q}function QH(p){var v=ks(p);return function(S){return Ok(S,p,v)}}function Ok(p,v,S){var L=S.length;if(p==null)return!L;for(p=_n(p);L--;){var U=S[L],G=v[U],Q=p[U];if(Q===n&&!(U in p)||!G(Q))return!1}return!0}function Rk(p,v,S){if(typeof p!="function")throw new _r(o);return Ef(function(){p.apply(n,S)},v)}function vf(p,v,S,L){var U=-1,G=nm,Q=!0,ne=p.length,oe=[],_e=v.length;if(!ne)return oe;S&&(v=$n(v,Zi(S))),L?(G=Y1,Q=!1):v.length>=i&&(G=uf,Q=!1,v=new ic(v));e:for(;++U<ne;){var Se=p[U],Te=S==null?Se:S(Se);if(Se=L||Se!==0?Se:0,Q&&Te===Te){for(var ze=_e;ze--;)if(v[ze]===Te)continue e;oe.push(Se)}else G(v,Te,L)||oe.push(Se)}return oe}var ja=iT(lo),Mk=iT(d0,!0);function ZH(p,v){var S=!0;return ja(p,function(L,U,G){return S=!!v(L,U,G),S}),S}function xm(p,v,S){for(var L=-1,U=p.length;++L<U;){var G=p[L],Q=v(G);if(Q!=null&&(ne===n?Q===Q&&!tr(Q):S(Q,ne)))var ne=Q,oe=G}return oe}function e8(p,v,S,L){var U=p.length;for(S=Pt(S),S<0&&(S=-S>U?0:U+S),L=L===n||L>U?U:Pt(L),L<0&&(L+=U),L=S>L?0:YT(L);S<L;)p[S++]=v;return p}function Ik(p,v){var S=[];return ja(p,function(L,U,G){v(L,U,G)&&S.push(L)}),S}function Ls(p,v,S,L,U){var G=-1,Q=p.length;for(S||(S=H8),U||(U=[]);++G<Q;){var ne=p[G];v>0&&S(ne)?v>1?Ls(ne,v-1,S,L,U):Ua(U,ne):L||(U[U.length]=ne)}return U}var u0=rT(),Nk=rT(!0);function lo(p,v){return p&&u0(p,v,ks)}function d0(p,v){return p&&Nk(p,v,ks)}function _m(p,v){return Ba(v,function(S){return jo(p[S])})}function oc(p,v){v=Ga(v,p);for(var S=0,L=v.length;p!=null&&S<L;)p=p[uo(v[S++])];return S&&S==L?p:n}function Pk(p,v,S){var L=v(p);return Rt(p)?L:Ua(L,S(p))}function bi(p){return p==null?p===n?He:Ee:nc&&nc in _n(p)?$8(p):Y8(p)}function f0(p,v){return p>v}function t8(p,v){return p!=null&&gn.call(p,v)}function n8(p,v){return p!=null&&v in _n(p)}function s8(p,v,S){return p>=Ys(v,S)&&p<Ss(v,S)}function h0(p,v,S){for(var L=S?Y1:nm,U=p[0].length,G=p.length,Q=G,ne=me(G),oe=1/0,_e=[];Q--;){var Se=p[Q];Q&&v&&(Se=$n(Se,Zi(v))),oe=Ys(Se.length,oe),ne[Q]=!S&&(v||U>=120&&Se.length>=120)?new ic(Q&&Se):n}Se=p[0];var Te=-1,ze=ne[0];e:for(;++Te<U&&_e.length<oe;){var nt=Se[Te],gt=v?v(nt):nt;if(nt=S||nt!==0?nt:0,!(ze?uf(ze,gt):L(_e,gt,S))){for(Q=G;--Q;){var $t=ne[Q];if(!($t?uf($t,gt):L(p[Q],gt,S)))continue e}ze&&ze.push(gt),_e.push(nt)}}return _e}function i8(p,v,S,L){return lo(p,function(U,G,Q){v(L,S(U),G,Q)}),L}function bf(p,v,S){v=Ga(v,p),p=ST(p,v);var L=p==null?p:p[uo(Cr(v))];return L==null?n:Qi(L,p,S)}function $k(p){return Yn(p)&&bi(p)==Oe}function r8(p){return Yn(p)&&bi(p)==Ct}function o8(p){return Yn(p)&&bi(p)==Ie}function yf(p,v,S,L,U){return p===v?!0:p==null||v==null||!Yn(p)&&!Yn(v)?p!==p&&v!==v:a8(p,v,S,L,yf,U)}function a8(p,v,S,L,U,G){var Q=Rt(p),ne=Rt(v),oe=Q?ae:Xs(p),_e=ne?ae:Xs(v);oe=oe==Oe?ve:oe,_e=_e==Oe?ve:_e;var Se=oe==ve,Te=_e==ve,ze=oe==_e;if(ze&&Ka(p)){if(!Ka(v))return!1;Q=!0,Se=!1}if(ze&&!Se)return G||(G=new jr),Q||Bu(p)?mT(p,v,S,L,U,G):N8(p,v,oe,S,L,U,G);if(!(S&g)){var nt=Se&&gn.call(p,"__wrapped__"),gt=Te&&gn.call(v,"__wrapped__");if(nt||gt){var $t=nt?p.value():p,vt=gt?v.value():v;return G||(G=new jr),U($t,vt,S,L,G)}}return ze?(G||(G=new jr),P8(p,v,S,L,U,G)):!1}function l8(p){return Yn(p)&&Xs(p)==X}function p0(p,v,S,L){var U=S.length,G=U,Q=!L;if(p==null)return!G;for(p=_n(p);U--;){var ne=S[U];if(Q&&ne[2]?ne[1]!==p[ne[0]]:!(ne[0]in p))return!1}for(;++U<G;){ne=S[U];var oe=ne[0],_e=p[oe],Se=ne[1];if(Q&&ne[2]){if(_e===n&&!(oe in p))return!1}else{var Te=new jr;if(L)var ze=L(_e,Se,oe,p,v,Te);if(!(ze===n?yf(Se,_e,g|y,L,Te):ze))return!1}}return!0}function Lk(p){if(!jn(p)||j8(p))return!1;var v=jo(p)?lH:Q6;return v.test(lc(p))}function c8(p){return Yn(p)&&bi(p)==Ne}function u8(p){return Yn(p)&&Xs(p)==De}function d8(p){return Yn(p)&&Fm(p.length)&&!!Mn[bi(p)]}function Fk(p){return typeof p=="function"?p:p==null?Li:typeof p=="object"?Rt(p)?Uk(p[0],p[1]):Bk(p):o2(p)}function m0(p){if(!Sf(p))return pH(p);var v=[];for(var S in _n(p))gn.call(p,S)&&S!="constructor"&&v.push(S);return v}function f8(p){if(!jn(p))return K8(p);var v=Sf(p),S=[];for(var L in p)L=="constructor"&&(v||!gn.call(p,L))||S.push(L);return S}function g0(p,v){return p<v}function Vk(p,v){var S=-1,L=Pi(p)?me(p.length):[];return ja(p,function(U,G,Q){L[++S]=v(U,G,Q)}),L}function Bk(p){var v=R0(p);return v.length==1&&v[0][2]?xT(v[0][0],v[0][1]):function(S){return S===p||p0(S,p,v)}}function Uk(p,v){return I0(p)&&yT(v)?xT(uo(p),v):function(S){var L=z0(S,p);return L===n&&L===v?j0(S,p):yf(v,L,g|y)}}function Sm(p,v,S,L,U){p!==v&&u0(v,function(G,Q){if(U||(U=new jr),jn(G))h8(p,v,Q,S,Sm,L,U);else{var ne=L?L(P0(p,Q),G,Q+"",p,v,U):n;ne===n&&(ne=G),l0(p,Q,ne)}},$i)}function h8(p,v,S,L,U,G,Q){var ne=P0(p,S),oe=P0(v,S),_e=Q.get(oe);if(_e){l0(p,S,_e);return}var Se=G?G(ne,oe,S+"",p,v,Q):n,Te=Se===n;if(Te){var ze=Rt(oe),nt=!ze&&Ka(oe),gt=!ze&&!nt&&Bu(oe);Se=oe,ze||nt||gt?Rt(ne)?Se=ne:cs(ne)?Se=Ni(ne):nt?(Te=!1,Se=Zk(oe,!0)):gt?(Te=!1,Se=eT(oe,!0)):Se=[]:wf(oe)||cc(oe)?(Se=ne,cc(ne)?Se=XT(ne):(!jn(ne)||jo(ne))&&(Se=bT(oe))):Te=!1}Te&&(Q.set(oe,Se),U(Se,oe,L,G,Q),Q.delete(oe)),l0(p,S,Se)}function Hk(p,v){var S=p.length;if(S)return v+=v<0?S:0,zo(v,S)?p[v]:n}function zk(p,v,S){v.length?v=$n(v,function(G){return Rt(G)?function(Q){return oc(Q,G.length===1?G[0]:G)}:G}):v=[Li];var L=-1;v=$n(v,Zi(ft()));var U=Vk(p,function(G,Q,ne){var oe=$n(v,function(_e){return _e(G)});return{criteria:oe,index:++L,value:G}});return BU(U,function(G,Q){return A8(G,Q,S)})}function p8(p,v){return jk(p,v,function(S,L){return j0(p,L)})}function jk(p,v,S){for(var L=-1,U=v.length,G={};++L<U;){var Q=v[L],ne=oc(p,Q);S(ne,Q)&&xf(G,Ga(Q,p),ne)}return G}function m8(p){return function(v){return oc(v,p)}}function v0(p,v,S,L){var U=L?VU:Du,G=-1,Q=v.length,ne=p;for(p===v&&(v=Ni(v)),S&&(ne=$n(p,Zi(S)));++G<Q;)for(var oe=0,_e=v[G],Se=S?S(_e):_e;(oe=U(ne,Se,oe,L))>-1;)ne!==p&&fm.call(ne,oe,1),fm.call(p,oe,1);return p}function Wk(p,v){for(var S=p?v.length:0,L=S-1;S--;){var U=v[S];if(S==L||U!==G){var G=U;zo(U)?fm.call(p,U,1):_0(p,U)}}return p}function b0(p,v){return p+mm(Ck()*(v-p+1))}function g8(p,v,S,L){for(var U=-1,G=Ss(pm((v-p)/(S||1)),0),Q=me(G);G--;)Q[L?G:++U]=p,p+=S;return Q}function y0(p,v){var S="";if(!p||v<1||v>W)return S;do v%2&&(S+=p),v=mm(v/2),v&&(p+=p);while(v);return S}function Bt(p,v){return $0(_T(p,v,Li),p+"")}function v8(p){return Tk(Uu(p))}function b8(p,v){var S=Uu(p);return Mm(S,rc(v,0,S.length))}function xf(p,v,S,L){if(!jn(p))return p;v=Ga(v,p);for(var U=-1,G=v.length,Q=G-1,ne=p;ne!=null&&++U<G;){var oe=uo(v[U]),_e=S;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return p;if(U!=Q){var Se=ne[oe];_e=L?L(Se,oe,ne):n,_e===n&&(_e=jn(Se)?Se:zo(v[U+1])?[]:{})}gf(ne,oe,_e),ne=ne[oe]}return p}var Gk=gm?function(p,v){return gm.set(p,v),p}:Li,y8=hm?function(p,v){return hm(p,"toString",{configurable:!0,enumerable:!1,value:G0(v),writable:!0})}:Li;function x8(p){return Mm(Uu(p))}function wr(p,v,S){var L=-1,U=p.length;v<0&&(v=-v>U?0:U+v),S=S>U?U:S,S<0&&(S+=U),U=v>S?0:S-v>>>0,v>>>=0;for(var G=me(U);++L<U;)G[L]=p[L+v];return G}function _8(p,v){var S;return ja(p,function(L,U,G){return S=v(L,U,G),!S}),!!S}function Em(p,v,S){var L=0,U=p==null?L:p.length;if(typeof v=="number"&&v===v&&U<=lt){for(;L<U;){var G=L+U>>>1,Q=p[G];Q!==null&&!tr(Q)&&(S?Q<=v:Q<v)?L=G+1:U=G}return U}return x0(p,v,Li,S)}function x0(p,v,S,L){var U=0,G=p==null?0:p.length;if(G===0)return 0;v=S(v);for(var Q=v!==v,ne=v===null,oe=tr(v),_e=v===n;U<G;){var Se=mm((U+G)/2),Te=S(p[Se]),ze=Te!==n,nt=Te===null,gt=Te===Te,$t=tr(Te);if(Q)var vt=L||gt;else _e?vt=gt&&(L||ze):ne?vt=gt&&ze&&(L||!nt):oe?vt=gt&&ze&&!nt&&(L||!$t):nt||$t?vt=!1:vt=L?Te<=v:Te<v;vt?U=Se+1:G=Se}return Ys(G,qe)}function qk(p,v){for(var S=-1,L=p.length,U=0,G=[];++S<L;){var Q=p[S],ne=v?v(Q):Q;if(!S||!Wr(ne,oe)){var oe=ne;G[U++]=Q===0?0:Q}}return G}function Kk(p){return typeof p=="number"?p:tr(p)?Le:+p}function er(p){if(typeof p=="string")return p;if(Rt(p))return $n(p,er)+"";if(tr(p))return Ak?Ak.call(p):"";var v=p+"";return v=="0"&&1/p==-q?"-0":v}function Wa(p,v,S){var L=-1,U=nm,G=p.length,Q=!0,ne=[],oe=ne;if(S)Q=!1,U=Y1;else if(G>=i){var _e=v?null:M8(p);if(_e)return im(_e);Q=!1,U=uf,oe=new ic}else oe=v?[]:ne;e:for(;++L<G;){var Se=p[L],Te=v?v(Se):Se;if(Se=S||Se!==0?Se:0,Q&&Te===Te){for(var ze=oe.length;ze--;)if(oe[ze]===Te)continue e;v&&oe.push(Te),ne.push(Se)}else U(oe,Te,S)||(oe!==ne&&oe.push(Te),ne.push(Se))}return ne}function _0(p,v){return v=Ga(v,p),p=ST(p,v),p==null||delete p[uo(Cr(v))]}function Yk(p,v,S,L){return xf(p,v,S(oc(p,v)),L)}function wm(p,v,S,L){for(var U=p.length,G=L?U:-1;(L?G--:++G<U)&&v(p[G],G,p););return S?wr(p,L?0:G,L?G+1:U):wr(p,L?G+1:0,L?U:G)}function Xk(p,v){var S=p;return S instanceof Jt&&(S=S.value()),X1(v,function(L,U){return U.func.apply(U.thisArg,Ua([L],U.args))},S)}function S0(p,v,S){var L=p.length;if(L<2)return L?Wa(p[0]):[];for(var U=-1,G=me(L);++U<L;)for(var Q=p[U],ne=-1;++ne<L;)ne!=U&&(G[U]=vf(G[U]||Q,p[ne],v,S));return Wa(Ls(G,1),v,S)}function Jk(p,v,S){for(var L=-1,U=p.length,G=v.length,Q={};++L<U;){var ne=L<G?v[L]:n;S(Q,p[L],ne)}return Q}function E0(p){return cs(p)?p:[]}function w0(p){return typeof p=="function"?p:Li}function Ga(p,v){return Rt(p)?p:I0(p,v)?[p]:AT(hn(p))}var S8=Bt;function qa(p,v,S){var L=p.length;return S=S===n?L:S,!v&&S>=L?p:wr(p,v,S)}var Qk=cH||function(p){return $s.clearTimeout(p)};function Zk(p,v){if(v)return p.slice();var S=p.length,L=xk?xk(S):new p.constructor(S);return p.copy(L),L}function C0(p){var v=new p.constructor(p.byteLength);return new um(v).set(new um(p)),v}function E8(p,v){var S=v?C0(p.buffer):p.buffer;return new p.constructor(S,p.byteOffset,p.byteLength)}function w8(p){var v=new p.constructor(p.source,$A.exec(p));return v.lastIndex=p.lastIndex,v}function C8(p){return mf?_n(mf.call(p)):{}}function eT(p,v){var S=v?C0(p.buffer):p.buffer;return new p.constructor(S,p.byteOffset,p.length)}function tT(p,v){if(p!==v){var S=p!==n,L=p===null,U=p===p,G=tr(p),Q=v!==n,ne=v===null,oe=v===v,_e=tr(v);if(!ne&&!_e&&!G&&p>v||G&&Q&&oe&&!ne&&!_e||L&&Q&&oe||!S&&oe||!U)return 1;if(!L&&!G&&!_e&&p<v||_e&&S&&U&&!L&&!G||ne&&S&&U||!Q&&U||!oe)return-1}return 0}function A8(p,v,S){for(var L=-1,U=p.criteria,G=v.criteria,Q=U.length,ne=S.length;++L<Q;){var oe=tT(U[L],G[L]);if(oe){if(L>=ne)return oe;var _e=S[L];return oe*(_e=="desc"?-1:1)}}return p.index-v.index}function nT(p,v,S,L){for(var U=-1,G=p.length,Q=S.length,ne=-1,oe=v.length,_e=Ss(G-Q,0),Se=me(oe+_e),Te=!L;++ne<oe;)Se[ne]=v[ne];for(;++U<Q;)(Te||U<G)&&(Se[S[U]]=p[U]);for(;_e--;)Se[ne++]=p[U++];return Se}function sT(p,v,S,L){for(var U=-1,G=p.length,Q=-1,ne=S.length,oe=-1,_e=v.length,Se=Ss(G-ne,0),Te=me(Se+_e),ze=!L;++U<Se;)Te[U]=p[U];for(var nt=U;++oe<_e;)Te[nt+oe]=v[oe];for(;++Q<ne;)(ze||U<G)&&(Te[nt+S[Q]]=p[U++]);return Te}function Ni(p,v){var S=-1,L=p.length;for(v||(v=me(L));++S<L;)v[S]=p[S];return v}function co(p,v,S,L){var U=!S;S||(S={});for(var G=-1,Q=v.length;++G<Q;){var ne=v[G],oe=L?L(S[ne],p[ne],ne,S,p):n;oe===n&&(oe=p[ne]),U?Bo(S,ne,oe):gf(S,ne,oe)}return S}function k8(p,v){return co(p,M0(p),v)}function T8(p,v){return co(p,gT(p),v)}function Cm(p,v){return function(S,L){var U=Rt(S)?IU:XH,G=v?v():{};return U(S,p,ft(L,2),G)}}function Lu(p){return Bt(function(v,S){var L=-1,U=S.length,G=U>1?S[U-1]:n,Q=U>2?S[2]:n;for(G=p.length>3&&typeof G=="function"?(U--,G):n,Q&&yi(S[0],S[1],Q)&&(G=U<3?n:G,U=1),v=_n(v);++L<U;){var ne=S[L];ne&&p(v,ne,L,G)}return v})}function iT(p,v){return function(S,L){if(S==null)return S;if(!Pi(S))return p(S,L);for(var U=S.length,G=v?U:-1,Q=_n(S);(v?G--:++G<U)&&L(Q[G],G,Q)!==!1;);return S}}function rT(p){return function(v,S,L){for(var U=-1,G=_n(v),Q=L(v),ne=Q.length;ne--;){var oe=Q[p?ne:++U];if(S(G[oe],oe,G)===!1)break}return v}}function D8(p,v,S){var L=v&b,U=_f(p);function G(){var Q=this&&this!==$s&&this instanceof G?U:p;return Q.apply(L?S:this,arguments)}return G}function oT(p){return function(v){v=hn(v);var S=Ou(v)?zr(v):n,L=S?S[0]:v.charAt(0),U=S?qa(S,1).join(""):v.slice(1);return L[p]()+U}}function Fu(p){return function(v){return X1(i2(s2(v).replace(yU,"")),p,"")}}function _f(p){return function(){var v=arguments;switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3]);case 5:return new p(v[0],v[1],v[2],v[3],v[4]);case 6:return new p(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new p(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var S=$u(p.prototype),L=p.apply(S,v);return jn(L)?L:S}}function O8(p,v,S){var L=_f(p);function U(){for(var G=arguments.length,Q=me(G),ne=G,oe=Vu(U);ne--;)Q[ne]=arguments[ne];var _e=G<3&&Q[0]!==oe&&Q[G-1]!==oe?[]:Ha(Q,oe);if(G-=_e.length,G<S)return dT(p,v,Am,U.placeholder,n,Q,_e,n,n,S-G);var Se=this&&this!==$s&&this instanceof U?L:p;return Qi(Se,this,Q)}return U}function aT(p){return function(v,S,L){var U=_n(v);if(!Pi(v)){var G=ft(S,3);v=ks(v),S=function(ne){return G(U[ne],ne,U)}}var Q=p(v,S,L);return Q>-1?U[G?v[Q]:Q]:n}}function lT(p){return Ho(function(v){var S=v.length,L=S,U=Sr.prototype.thru;for(p&&v.reverse();L--;){var G=v[L];if(typeof G!="function")throw new _r(o);if(U&&!Q&&Om(G)=="wrapper")var Q=new Sr([],!0)}for(L=Q?L:S;++L<S;){G=v[L];var ne=Om(G),oe=ne=="wrapper"?O0(G):n;oe&&N0(oe[0])&&oe[1]==($|C|T|M)&&!oe[4].length&&oe[9]==1?Q=Q[Om(oe[0])].apply(Q,oe[3]):Q=G.length==1&&N0(G)?Q[ne]():Q.thru(G)}return function(){var _e=arguments,Se=_e[0];if(Q&&_e.length==1&&Rt(Se))return Q.plant(Se).value();for(var Te=0,ze=S?v[Te].apply(this,_e):Se;++Te<S;)ze=v[Te].call(this,ze);return ze}})}function Am(p,v,S,L,U,G,Q,ne,oe,_e){var Se=v&$,Te=v&b,ze=v&x,nt=v&(C|_),gt=v&P,$t=ze?n:_f(p);function vt(){for(var Gt=arguments.length,nn=me(Gt),nr=Gt;nr--;)nn[nr]=arguments[nr];if(nt)var xi=Vu(vt),sr=HU(nn,xi);if(L&&(nn=nT(nn,L,U,nt)),G&&(nn=sT(nn,G,Q,nt)),Gt-=sr,nt&&Gt<_e){var us=Ha(nn,xi);return dT(p,v,Am,vt.placeholder,S,nn,us,ne,oe,_e-Gt)}var Gr=Te?S:this,Go=ze?Gr[p]:p;return Gt=nn.length,ne?nn=X8(nn,ne):gt&&Gt>1&&nn.reverse(),Se&&oe<Gt&&(nn.length=oe),this&&this!==$s&&this instanceof vt&&(Go=$t||_f(Go)),Go.apply(Gr,nn)}return vt}function cT(p,v){return function(S,L){return i8(S,p,v(L),{})}}function km(p,v){return function(S,L){var U;if(S===n&&L===n)return v;if(S!==n&&(U=S),L!==n){if(U===n)return L;typeof S=="string"||typeof L=="string"?(S=er(S),L=er(L)):(S=Kk(S),L=Kk(L)),U=p(S,L)}return U}}function A0(p){return Ho(function(v){return v=$n(v,Zi(ft())),Bt(function(S){var L=this;return p(v,function(U){return Qi(U,L,S)})})})}function Tm(p,v){v=v===n?" ":er(v);var S=v.length;if(S<2)return S?y0(v,p):v;var L=y0(v,pm(p/Ru(v)));return Ou(v)?qa(zr(L),0,p).join(""):L.slice(0,p)}function R8(p,v,S,L){var U=v&b,G=_f(p);function Q(){for(var ne=-1,oe=arguments.length,_e=-1,Se=L.length,Te=me(Se+oe),ze=this&&this!==$s&&this instanceof Q?G:p;++_e<Se;)Te[_e]=L[_e];for(;oe--;)Te[_e++]=arguments[++ne];return Qi(ze,U?S:this,Te)}return Q}function uT(p){return function(v,S,L){return L&&typeof L!="number"&&yi(v,S,L)&&(S=L=n),v=Wo(v),S===n?(S=v,v=0):S=Wo(S),L=L===n?v<S?1:-1:Wo(L),g8(v,S,L,p)}}function Dm(p){return function(v,S){return typeof v=="string"&&typeof S=="string"||(v=Ar(v),S=Ar(S)),p(v,S)}}function dT(p,v,S,L,U,G,Q,ne,oe,_e){var Se=v&C,Te=Se?Q:n,ze=Se?n:Q,nt=Se?G:n,gt=Se?n:G;v|=Se?T:k,v&=~(Se?k:T),v&E||(v&=-4);var $t=[p,v,U,nt,Te,gt,ze,ne,oe,_e],vt=S.apply(n,$t);return N0(p)&&ET(vt,$t),vt.placeholder=L,wT(vt,p,v)}function k0(p){var v=_s[p];return function(S,L){if(S=Ar(S),L=L==null?0:Ys(Pt(L),292),L&&wk(S)){var U=(hn(S)+"e").split("e"),G=v(U[0]+"e"+(+U[1]+L));return U=(hn(G)+"e").split("e"),+(U[0]+"e"+(+U[1]-L))}return v(S)}}var M8=Nu&&1/im(new Nu([,-0]))[1]==q?function(p){return new Nu(p)}:Y0;function fT(p){return function(v){var S=Xs(v);return S==X?s0(v):S==De?YU(v):UU(v,p(v))}}function Uo(p,v,S,L,U,G,Q,ne){var oe=v&x;if(!oe&&typeof p!="function")throw new _r(o);var _e=L?L.length:0;if(_e||(v&=-97,L=U=n),Q=Q===n?Q:Ss(Pt(Q),0),ne=ne===n?ne:Pt(ne),_e-=U?U.length:0,v&k){var Se=L,Te=U;L=U=n}var ze=oe?n:O0(p),nt=[p,v,S,L,U,Se,Te,G,Q,ne];if(ze&&q8(nt,ze),p=nt[0],v=nt[1],S=nt[2],L=nt[3],U=nt[4],ne=nt[9]=nt[9]===n?oe?0:p.length:Ss(nt[9]-_e,0),!ne&&v&(C|_)&&(v&=-25),!v||v==b)var gt=D8(p,v,S);else v==C||v==_?gt=O8(p,v,ne):(v==T||v==(b|T))&&!U.length?gt=R8(p,v,S,L):gt=Am.apply(n,nt);var $t=ze?Gk:ET;return wT($t(gt,nt),p,v)}function hT(p,v,S,L){return p===n||Wr(p,Iu[S])&&!gn.call(L,S)?v:p}function pT(p,v,S,L,U,G){return jn(p)&&jn(v)&&(G.set(v,p),Sm(p,v,n,pT,G),G.delete(v)),p}function I8(p){return wf(p)?n:p}function mT(p,v,S,L,U,G){var Q=S&g,ne=p.length,oe=v.length;if(ne!=oe&&!(Q&&oe>ne))return!1;var _e=G.get(p),Se=G.get(v);if(_e&&Se)return _e==v&&Se==p;var Te=-1,ze=!0,nt=S&y?new ic:n;for(G.set(p,v),G.set(v,p);++Te<ne;){var gt=p[Te],$t=v[Te];if(L)var vt=Q?L($t,gt,Te,v,p,G):L(gt,$t,Te,p,v,G);if(vt!==n){if(vt)continue;ze=!1;break}if(nt){if(!J1(v,function(Gt,nn){if(!uf(nt,nn)&&(gt===Gt||U(gt,Gt,S,L,G)))return nt.push(nn)})){ze=!1;break}}else if(!(gt===$t||U(gt,$t,S,L,G))){ze=!1;break}}return G.delete(p),G.delete(v),ze}function N8(p,v,S,L,U,G,Q){switch(S){case Vt:if(p.byteLength!=v.byteLength||p.byteOffset!=v.byteOffset)return!1;p=p.buffer,v=v.buffer;case Ct:return!(p.byteLength!=v.byteLength||!G(new um(p),new um(v)));case xe:case Ie:case ue:return Wr(+p,+v);case mt:return p.name==v.name&&p.message==v.message;case Ne:case ke:return p==v+"";case X:var ne=s0;case De:var oe=L&g;if(ne||(ne=im),p.size!=v.size&&!oe)return!1;var _e=Q.get(p);if(_e)return _e==v;L|=y,Q.set(p,v);var Se=mT(ne(p),ne(v),L,U,G,Q);return Q.delete(p),Se;case Ze:if(mf)return mf.call(p)==mf.call(v)}return!1}function P8(p,v,S,L,U,G){var Q=S&g,ne=T0(p),oe=ne.length,_e=T0(v),Se=_e.length;if(oe!=Se&&!Q)return!1;for(var Te=oe;Te--;){var ze=ne[Te];if(!(Q?ze in v:gn.call(v,ze)))return!1}var nt=G.get(p),gt=G.get(v);if(nt&&gt)return nt==v&&gt==p;var $t=!0;G.set(p,v),G.set(v,p);for(var vt=Q;++Te<oe;){ze=ne[Te];var Gt=p[ze],nn=v[ze];if(L)var nr=Q?L(nn,Gt,ze,v,p,G):L(Gt,nn,ze,p,v,G);if(!(nr===n?Gt===nn||U(Gt,nn,S,L,G):nr)){$t=!1;break}vt||(vt=ze=="constructor")}if($t&&!vt){var xi=p.constructor,sr=v.constructor;xi!=sr&&"constructor"in p&&"constructor"in v&&!(typeof xi=="function"&&xi instanceof xi&&typeof sr=="function"&&sr instanceof sr)&&($t=!1)}return G.delete(p),G.delete(v),$t}function Ho(p){return $0(_T(p,n,OT),p+"")}function T0(p){return Pk(p,ks,M0)}function D0(p){return Pk(p,$i,gT)}var O0=gm?function(p){return gm.get(p)}:Y0;function Om(p){for(var v=p.name+"",S=Pu[v],L=gn.call(Pu,v)?S.length:0;L--;){var U=S[L],G=U.func;if(G==null||G==p)return U.name}return v}function Vu(p){var v=gn.call(j,"placeholder")?j:p;return v.placeholder}function ft(){var p=j.iteratee||q0;return p=p===q0?Fk:p,arguments.length?p(arguments[0],arguments[1]):p}function Rm(p,v){var S=p.__data__;return z8(v)?S[typeof v=="string"?"string":"hash"]:S.map}function R0(p){for(var v=ks(p),S=v.length;S--;){var L=v[S],U=p[L];v[S]=[L,U,yT(U)]}return v}function ac(p,v){var S=GU(p,v);return Lk(S)?S:n}function $8(p){var v=gn.call(p,nc),S=p[nc];try{p[nc]=n;var L=!0}catch{}var U=lm.call(p);return L&&(v?p[nc]=S:delete p[nc]),U}var M0=r0?function(p){return p==null?[]:(p=_n(p),Ba(r0(p),function(v){return Sk.call(p,v)}))}:X0,gT=r0?function(p){for(var v=[];p;)Ua(v,M0(p)),p=dm(p);return v}:X0,Xs=bi;(o0&&Xs(new o0(new ArrayBuffer(1)))!=Vt||ff&&Xs(new ff)!=X||a0&&Xs(a0.resolve())!=Ae||Nu&&Xs(new Nu)!=De||hf&&Xs(new hf)!=Ye)&&(Xs=function(p){var v=bi(p),S=v==ve?p.constructor:n,L=S?lc(S):"";if(L)switch(L){case bH:return Vt;case yH:return X;case xH:return Ae;case _H:return De;case SH:return Ye}return v});function L8(p,v,S){for(var L=-1,U=S.length;++L<U;){var G=S[L],Q=G.size;switch(G.type){case"drop":p+=Q;break;case"dropRight":v-=Q;break;case"take":v=Ys(v,p+Q);break;case"takeRight":p=Ss(p,v-Q);break}}return{start:p,end:v}}function F8(p){var v=p.match(j6);return v?v[1].split(W6):[]}function vT(p,v,S){v=Ga(v,p);for(var L=-1,U=v.length,G=!1;++L<U;){var Q=uo(v[L]);if(!(G=p!=null&&S(p,Q)))break;p=p[Q]}return G||++L!=U?G:(U=p==null?0:p.length,!!U&&Fm(U)&&zo(Q,U)&&(Rt(p)||cc(p)))}function V8(p){var v=p.length,S=new p.constructor(v);return v&&typeof p[0]=="string"&&gn.call(p,"index")&&(S.index=p.index,S.input=p.input),S}function bT(p){return typeof p.constructor=="function"&&!Sf(p)?$u(dm(p)):{}}function B8(p,v,S){var L=p.constructor;switch(v){case Ct:return C0(p);case xe:case Ie:return new L(+p);case Vt:return E8(p,S);case ie:case le:case fe:case Ce:case Be:case st:case _t:case bt:case Yt:return eT(p,S);case X:return new L;case ue:case ke:return new L(p);case Ne:return w8(p);case De:return new L;case Ze:return C8(p)}}function U8(p,v){var S=v.length;if(!S)return p;var L=S-1;return v[L]=(S>1?"& ":"")+v[L],v=v.join(S>2?", ":" "),p.replace(z6,`{
/* [wrapped with `+v+`] */
`)}function H8(p){return Rt(p)||cc(p)||!!(Ek&&p&&p[Ek])}function zo(p,v){var S=typeof p;return v=v??W,!!v&&(S=="number"||S!="symbol"&&eU.test(p))&&p>-1&&p%1==0&&p<v}function yi(p,v,S){if(!jn(S))return!1;var L=typeof v;return(L=="number"?Pi(S)&&zo(v,S.length):L=="string"&&v in S)?Wr(S[v],p):!1}function I0(p,v){if(Rt(p))return!1;var S=typeof p;return S=="number"||S=="symbol"||S=="boolean"||p==null||tr(p)?!0:V6.test(p)||!F6.test(p)||v!=null&&p in _n(v)}function z8(p){var v=typeof p;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?p!=="__proto__":p===null}function N0(p){var v=Om(p),S=j[v];if(typeof S!="function"||!(v in Jt.prototype))return!1;if(p===S)return!0;var L=O0(S);return!!L&&p===L[0]}function j8(p){return!!yk&&yk in p}var W8=om?jo:J0;function Sf(p){var v=p&&p.constructor,S=typeof v=="function"&&v.prototype||Iu;return p===S}function yT(p){return p===p&&!jn(p)}function xT(p,v){return function(S){return S==null?!1:S[p]===v&&(v!==n||p in _n(S))}}function G8(p){var v=$m(p,function(L){return S.size===u&&S.clear(),L}),S=v.cache;return v}function q8(p,v){var S=p[1],L=v[1],U=S|L,G=U<(b|x|$),Q=L==$&&S==C||L==$&&S==M&&p[7].length<=v[8]||L==($|M)&&v[7].length<=v[8]&&S==C;if(!(G||Q))return p;L&b&&(p[2]=v[2],U|=S&b?0:E);var ne=v[3];if(ne){var oe=p[3];p[3]=oe?nT(oe,ne,v[4]):ne,p[4]=oe?Ha(p[3],d):v[4]}return ne=v[5],ne&&(oe=p[5],p[5]=oe?sT(oe,ne,v[6]):ne,p[6]=oe?Ha(p[5],d):v[6]),ne=v[7],ne&&(p[7]=ne),L&$&&(p[8]=p[8]==null?v[8]:Ys(p[8],v[8])),p[9]==null&&(p[9]=v[9]),p[0]=v[0],p[1]=U,p}function K8(p){var v=[];if(p!=null)for(var S in _n(p))v.push(S);return v}function Y8(p){return lm.call(p)}function _T(p,v,S){return v=Ss(v===n?p.length-1:v,0),function(){for(var L=arguments,U=-1,G=Ss(L.length-v,0),Q=me(G);++U<G;)Q[U]=L[v+U];U=-1;for(var ne=me(v+1);++U<v;)ne[U]=L[U];return ne[v]=S(Q),Qi(p,this,ne)}}function ST(p,v){return v.length<2?p:oc(p,wr(v,0,-1))}function X8(p,v){for(var S=p.length,L=Ys(v.length,S),U=Ni(p);L--;){var G=v[L];p[L]=zo(G,S)?U[G]:n}return p}function P0(p,v){if(!(v==="constructor"&&typeof p[v]=="function")&&v!="__proto__")return p[v]}var ET=CT(Gk),Ef=dH||function(p,v){return $s.setTimeout(p,v)},$0=CT(y8);function wT(p,v,S){var L=v+"";return $0(p,U8(L,J8(F8(L),S)))}function CT(p){var v=0,S=0;return function(){var L=mH(),U=D-(L-S);if(S=L,U>0){if(++v>=w)return arguments[0]}else v=0;return p.apply(n,arguments)}}function Mm(p,v){var S=-1,L=p.length,U=L-1;for(v=v===n?L:v;++S<v;){var G=b0(S,U),Q=p[G];p[G]=p[S],p[S]=Q}return p.length=v,p}var AT=G8(function(p){var v=[];return p.charCodeAt(0)===46&&v.push(""),p.replace(B6,function(S,L,U,G){v.push(U?G.replace(K6,"$1"):L||S)}),v});function uo(p){if(typeof p=="string"||tr(p))return p;var v=p+"";return v=="0"&&1/p==-q?"-0":v}function lc(p){if(p!=null){try{return am.call(p)}catch{}try{return p+""}catch{}}return""}function J8(p,v){return xr(Mt,function(S){var L="_."+S[0];v&S[1]&&!nm(p,L)&&p.push(L)}),p.sort()}function kT(p){if(p instanceof Jt)return p.clone();var v=new Sr(p.__wrapped__,p.__chain__);return v.__actions__=Ni(p.__actions__),v.__index__=p.__index__,v.__values__=p.__values__,v}function Q8(p,v,S){(S?yi(p,v,S):v===n)?v=1:v=Ss(Pt(v),0);var L=p==null?0:p.length;if(!L||v<1)return[];for(var U=0,G=0,Q=me(pm(L/v));U<L;)Q[G++]=wr(p,U,U+=v);return Q}function Z8(p){for(var v=-1,S=p==null?0:p.length,L=0,U=[];++v<S;){var G=p[v];G&&(U[L++]=G)}return U}function ez(){var p=arguments.length;if(!p)return[];for(var v=me(p-1),S=arguments[0],L=p;L--;)v[L-1]=arguments[L];return Ua(Rt(S)?Ni(S):[S],Ls(v,1))}var tz=Bt(function(p,v){return cs(p)?vf(p,Ls(v,1,cs,!0)):[]}),nz=Bt(function(p,v){var S=Cr(v);return cs(S)&&(S=n),cs(p)?vf(p,Ls(v,1,cs,!0),ft(S,2)):[]}),sz=Bt(function(p,v){var S=Cr(v);return cs(S)&&(S=n),cs(p)?vf(p,Ls(v,1,cs,!0),n,S):[]});function iz(p,v,S){var L=p==null?0:p.length;return L?(v=S||v===n?1:Pt(v),wr(p,v<0?0:v,L)):[]}function rz(p,v,S){var L=p==null?0:p.length;return L?(v=S||v===n?1:Pt(v),v=L-v,wr(p,0,v<0?0:v)):[]}function oz(p,v){return p&&p.length?wm(p,ft(v,3),!0,!0):[]}function az(p,v){return p&&p.length?wm(p,ft(v,3),!0):[]}function lz(p,v,S,L){var U=p==null?0:p.length;return U?(S&&typeof S!="number"&&yi(p,v,S)&&(S=0,L=U),e8(p,v,S,L)):[]}function TT(p,v,S){var L=p==null?0:p.length;if(!L)return-1;var U=S==null?0:Pt(S);return U<0&&(U=Ss(L+U,0)),sm(p,ft(v,3),U)}function DT(p,v,S){var L=p==null?0:p.length;if(!L)return-1;var U=L-1;return S!==n&&(U=Pt(S),U=S<0?Ss(L+U,0):Ys(U,L-1)),sm(p,ft(v,3),U,!0)}function OT(p){var v=p==null?0:p.length;return v?Ls(p,1):[]}function cz(p){var v=p==null?0:p.length;return v?Ls(p,q):[]}function uz(p,v){var S=p==null?0:p.length;return S?(v=v===n?1:Pt(v),Ls(p,v)):[]}function dz(p){for(var v=-1,S=p==null?0:p.length,L={};++v<S;){var U=p[v];L[U[0]]=U[1]}return L}function RT(p){return p&&p.length?p[0]:n}function fz(p,v,S){var L=p==null?0:p.length;if(!L)return-1;var U=S==null?0:Pt(S);return U<0&&(U=Ss(L+U,0)),Du(p,v,U)}function hz(p){var v=p==null?0:p.length;return v?wr(p,0,-1):[]}var pz=Bt(function(p){var v=$n(p,E0);return v.length&&v[0]===p[0]?h0(v):[]}),mz=Bt(function(p){var v=Cr(p),S=$n(p,E0);return v===Cr(S)?v=n:S.pop(),S.length&&S[0]===p[0]?h0(S,ft(v,2)):[]}),gz=Bt(function(p){var v=Cr(p),S=$n(p,E0);return v=typeof v=="function"?v:n,v&&S.pop(),S.length&&S[0]===p[0]?h0(S,n,v):[]});function vz(p,v){return p==null?"":hH.call(p,v)}function Cr(p){var v=p==null?0:p.length;return v?p[v-1]:n}function bz(p,v,S){var L=p==null?0:p.length;if(!L)return-1;var U=L;return S!==n&&(U=Pt(S),U=U<0?Ss(L+U,0):Ys(U,L-1)),v===v?JU(p,v,U):sm(p,dk,U,!0)}function yz(p,v){return p&&p.length?Hk(p,Pt(v)):n}var xz=Bt(MT);function MT(p,v){return p&&p.length&&v&&v.length?v0(p,v):p}function _z(p,v,S){return p&&p.length&&v&&v.length?v0(p,v,ft(S,2)):p}function Sz(p,v,S){return p&&p.length&&v&&v.length?v0(p,v,n,S):p}var Ez=Ho(function(p,v){var S=p==null?0:p.length,L=c0(p,v);return Wk(p,$n(v,function(U){return zo(U,S)?+U:U}).sort(tT)),L});function wz(p,v){var S=[];if(!(p&&p.length))return S;var L=-1,U=[],G=p.length;for(v=ft(v,3);++L<G;){var Q=p[L];v(Q,L,p)&&(S.push(Q),U.push(L))}return Wk(p,U),S}function L0(p){return p==null?p:vH.call(p)}function Cz(p,v,S){var L=p==null?0:p.length;return L?(S&&typeof S!="number"&&yi(p,v,S)?(v=0,S=L):(v=v==null?0:Pt(v),S=S===n?L:Pt(S)),wr(p,v,S)):[]}function Az(p,v){return Em(p,v)}function kz(p,v,S){return x0(p,v,ft(S,2))}function Tz(p,v){var S=p==null?0:p.length;if(S){var L=Em(p,v);if(L<S&&Wr(p[L],v))return L}return-1}function Dz(p,v){return Em(p,v,!0)}function Oz(p,v,S){return x0(p,v,ft(S,2),!0)}function Rz(p,v){var S=p==null?0:p.length;if(S){var L=Em(p,v,!0)-1;if(Wr(p[L],v))return L}return-1}function Mz(p){return p&&p.length?qk(p):[]}function Iz(p,v){return p&&p.length?qk(p,ft(v,2)):[]}function Nz(p){var v=p==null?0:p.length;return v?wr(p,1,v):[]}function Pz(p,v,S){return p&&p.length?(v=S||v===n?1:Pt(v),wr(p,0,v<0?0:v)):[]}function $z(p,v,S){var L=p==null?0:p.length;return L?(v=S||v===n?1:Pt(v),v=L-v,wr(p,v<0?0:v,L)):[]}function Lz(p,v){return p&&p.length?wm(p,ft(v,3),!1,!0):[]}function Fz(p,v){return p&&p.length?wm(p,ft(v,3)):[]}var Vz=Bt(function(p){return Wa(Ls(p,1,cs,!0))}),Bz=Bt(function(p){var v=Cr(p);return cs(v)&&(v=n),Wa(Ls(p,1,cs,!0),ft(v,2))}),Uz=Bt(function(p){var v=Cr(p);return v=typeof v=="function"?v:n,Wa(Ls(p,1,cs,!0),n,v)});function Hz(p){return p&&p.length?Wa(p):[]}function zz(p,v){return p&&p.length?Wa(p,ft(v,2)):[]}function jz(p,v){return v=typeof v=="function"?v:n,p&&p.length?Wa(p,n,v):[]}function F0(p){if(!(p&&p.length))return[];var v=0;return p=Ba(p,function(S){if(cs(S))return v=Ss(S.length,v),!0}),t0(v,function(S){return $n(p,Q1(S))})}function IT(p,v){if(!(p&&p.length))return[];var S=F0(p);return v==null?S:$n(S,function(L){return Qi(v,n,L)})}var Wz=Bt(function(p,v){return cs(p)?vf(p,v):[]}),Gz=Bt(function(p){return S0(Ba(p,cs))}),qz=Bt(function(p){var v=Cr(p);return cs(v)&&(v=n),S0(Ba(p,cs),ft(v,2))}),Kz=Bt(function(p){var v=Cr(p);return v=typeof v=="function"?v:n,S0(Ba(p,cs),n,v)}),Yz=Bt(F0);function Xz(p,v){return Jk(p||[],v||[],gf)}function Jz(p,v){return Jk(p||[],v||[],xf)}var Qz=Bt(function(p){var v=p.length,S=v>1?p[v-1]:n;return S=typeof S=="function"?(p.pop(),S):n,IT(p,S)});function NT(p){var v=j(p);return v.__chain__=!0,v}function Zz(p,v){return v(p),p}function Im(p,v){return v(p)}var ej=Ho(function(p){var v=p.length,S=v?p[0]:0,L=this.__wrapped__,U=function(G){return c0(G,p)};return v>1||this.__actions__.length||!(L instanceof Jt)||!zo(S)?this.thru(U):(L=L.slice(S,+S+(v?1:0)),L.__actions__.push({func:Im,args:[U],thisArg:n}),new Sr(L,this.__chain__).thru(function(G){return v&&!G.length&&G.push(n),G}))});function tj(){return NT(this)}function nj(){return new Sr(this.value(),this.__chain__)}function sj(){this.__values__===n&&(this.__values__=KT(this.value()));var p=this.__index__>=this.__values__.length,v=p?n:this.__values__[this.__index__++];return{done:p,value:v}}function ij(){return this}function rj(p){for(var v,S=this;S instanceof bm;){var L=kT(S);L.__index__=0,L.__values__=n,v?U.__wrapped__=L:v=L;var U=L;S=S.__wrapped__}return U.__wrapped__=p,v}function oj(){var p=this.__wrapped__;if(p instanceof Jt){var v=p;return this.__actions__.length&&(v=new Jt(this)),v=v.reverse(),v.__actions__.push({func:Im,args:[L0],thisArg:n}),new Sr(v,this.__chain__)}return this.thru(L0)}function aj(){return Xk(this.__wrapped__,this.__actions__)}var lj=Cm(function(p,v,S){gn.call(p,S)?++p[S]:Bo(p,S,1)});function cj(p,v,S){var L=Rt(p)?ck:ZH;return S&&yi(p,v,S)&&(v=n),L(p,ft(v,3))}function uj(p,v){var S=Rt(p)?Ba:Ik;return S(p,ft(v,3))}var dj=aT(TT),fj=aT(DT);function hj(p,v){return Ls(Nm(p,v),1)}function pj(p,v){return Ls(Nm(p,v),q)}function mj(p,v,S){return S=S===n?1:Pt(S),Ls(Nm(p,v),S)}function PT(p,v){var S=Rt(p)?xr:ja;return S(p,ft(v,3))}function $T(p,v){var S=Rt(p)?NU:Mk;return S(p,ft(v,3))}var gj=Cm(function(p,v,S){gn.call(p,S)?p[S].push(v):Bo(p,S,[v])});function vj(p,v,S,L){p=Pi(p)?p:Uu(p),S=S&&!L?Pt(S):0;var U=p.length;return S<0&&(S=Ss(U+S,0)),Vm(p)?S<=U&&p.indexOf(v,S)>-1:!!U&&Du(p,v,S)>-1}var bj=Bt(function(p,v,S){var L=-1,U=typeof v=="function",G=Pi(p)?me(p.length):[];return ja(p,function(Q){G[++L]=U?Qi(v,Q,S):bf(Q,v,S)}),G}),yj=Cm(function(p,v,S){Bo(p,S,v)});function Nm(p,v){var S=Rt(p)?$n:Vk;return S(p,ft(v,3))}function xj(p,v,S,L){return p==null?[]:(Rt(v)||(v=v==null?[]:[v]),S=L?n:S,Rt(S)||(S=S==null?[]:[S]),zk(p,v,S))}var _j=Cm(function(p,v,S){p[S?0:1].push(v)},function(){return[[],[]]});function Sj(p,v,S){var L=Rt(p)?X1:hk,U=arguments.length<3;return L(p,ft(v,4),S,U,ja)}function Ej(p,v,S){var L=Rt(p)?PU:hk,U=arguments.length<3;return L(p,ft(v,4),S,U,Mk)}function wj(p,v){var S=Rt(p)?Ba:Ik;return S(p,Lm(ft(v,3)))}function Cj(p){var v=Rt(p)?Tk:v8;return v(p)}function Aj(p,v,S){(S?yi(p,v,S):v===n)?v=1:v=Pt(v);var L=Rt(p)?KH:b8;return L(p,v)}function kj(p){var v=Rt(p)?YH:x8;return v(p)}function Tj(p){if(p==null)return 0;if(Pi(p))return Vm(p)?Ru(p):p.length;var v=Xs(p);return v==X||v==De?p.size:m0(p).length}function Dj(p,v,S){var L=Rt(p)?J1:_8;return S&&yi(p,v,S)&&(v=n),L(p,ft(v,3))}var Oj=Bt(function(p,v){if(p==null)return[];var S=v.length;return S>1&&yi(p,v[0],v[1])?v=[]:S>2&&yi(v[0],v[1],v[2])&&(v=[v[0]]),zk(p,Ls(v,1),[])}),Pm=uH||function(){return $s.Date.now()};function Rj(p,v){if(typeof v!="function")throw new _r(o);return p=Pt(p),function(){if(--p<1)return v.apply(this,arguments)}}function LT(p,v,S){return v=S?n:v,v=p&&v==null?p.length:v,Uo(p,$,n,n,n,n,v)}function FT(p,v){var S;if(typeof v!="function")throw new _r(o);return p=Pt(p),function(){return--p>0&&(S=v.apply(this,arguments)),p<=1&&(v=n),S}}var V0=Bt(function(p,v,S){var L=b;if(S.length){var U=Ha(S,Vu(V0));L|=T}return Uo(p,L,v,S,U)}),VT=Bt(function(p,v,S){var L=b|x;if(S.length){var U=Ha(S,Vu(VT));L|=T}return Uo(v,L,p,S,U)});function BT(p,v,S){v=S?n:v;var L=Uo(p,C,n,n,n,n,n,v);return L.placeholder=BT.placeholder,L}function UT(p,v,S){v=S?n:v;var L=Uo(p,_,n,n,n,n,n,v);return L.placeholder=UT.placeholder,L}function HT(p,v,S){var L,U,G,Q,ne,oe,_e=0,Se=!1,Te=!1,ze=!0;if(typeof p!="function")throw new _r(o);v=Ar(v)||0,jn(S)&&(Se=!!S.leading,Te="maxWait"in S,G=Te?Ss(Ar(S.maxWait)||0,v):G,ze="trailing"in S?!!S.trailing:ze);function nt(us){var Gr=L,Go=U;return L=U=n,_e=us,Q=p.apply(Go,Gr),Q}function gt(us){return _e=us,ne=Ef(Gt,v),Se?nt(us):Q}function $t(us){var Gr=us-oe,Go=us-_e,a2=v-Gr;return Te?Ys(a2,G-Go):a2}function vt(us){var Gr=us-oe,Go=us-_e;return oe===n||Gr>=v||Gr<0||Te&&Go>=G}function Gt(){var us=Pm();if(vt(us))return nn(us);ne=Ef(Gt,$t(us))}function nn(us){return ne=n,ze&&L?nt(us):(L=U=n,Q)}function nr(){ne!==n&&Qk(ne),_e=0,L=oe=U=ne=n}function xi(){return ne===n?Q:nn(Pm())}function sr(){var us=Pm(),Gr=vt(us);if(L=arguments,U=this,oe=us,Gr){if(ne===n)return gt(oe);if(Te)return Qk(ne),ne=Ef(Gt,v),nt(oe)}return ne===n&&(ne=Ef(Gt,v)),Q}return sr.cancel=nr,sr.flush=xi,sr}var Mj=Bt(function(p,v){return Rk(p,1,v)}),Ij=Bt(function(p,v,S){return Rk(p,Ar(v)||0,S)});function Nj(p){return Uo(p,P)}function $m(p,v){if(typeof p!="function"||v!=null&&typeof v!="function")throw new _r(o);var S=function(){var L=arguments,U=v?v.apply(this,L):L[0],G=S.cache;if(G.has(U))return G.get(U);var Q=p.apply(this,L);return S.cache=G.set(U,Q)||G,Q};return S.cache=new($m.Cache||Vo),S}$m.Cache=Vo;function Lm(p){if(typeof p!="function")throw new _r(o);return function(){var v=arguments;switch(v.length){case 0:return!p.call(this);case 1:return!p.call(this,v[0]);case 2:return!p.call(this,v[0],v[1]);case 3:return!p.call(this,v[0],v[1],v[2])}return!p.apply(this,v)}}function Pj(p){return FT(2,p)}var $j=S8(function(p,v){v=v.length==1&&Rt(v[0])?$n(v[0],Zi(ft())):$n(Ls(v,1),Zi(ft()));var S=v.length;return Bt(function(L){for(var U=-1,G=Ys(L.length,S);++U<G;)L[U]=v[U].call(this,L[U]);return Qi(p,this,L)})}),B0=Bt(function(p,v){var S=Ha(v,Vu(B0));return Uo(p,T,n,v,S)}),zT=Bt(function(p,v){var S=Ha(v,Vu(zT));return Uo(p,k,n,v,S)}),Lj=Ho(function(p,v){return Uo(p,M,n,n,n,v)});function Fj(p,v){if(typeof p!="function")throw new _r(o);return v=v===n?v:Pt(v),Bt(p,v)}function Vj(p,v){if(typeof p!="function")throw new _r(o);return v=v==null?0:Ss(Pt(v),0),Bt(function(S){var L=S[v],U=qa(S,0,v);return L&&Ua(U,L),Qi(p,this,U)})}function Bj(p,v,S){var L=!0,U=!0;if(typeof p!="function")throw new _r(o);return jn(S)&&(L="leading"in S?!!S.leading:L,U="trailing"in S?!!S.trailing:U),HT(p,v,{leading:L,maxWait:v,trailing:U})}function Uj(p){return LT(p,1)}function Hj(p,v){return B0(w0(v),p)}function zj(){if(!arguments.length)return[];var p=arguments[0];return Rt(p)?p:[p]}function jj(p){return Er(p,m)}function Wj(p,v){return v=typeof v=="function"?v:n,Er(p,m,v)}function Gj(p){return Er(p,f|m)}function qj(p,v){return v=typeof v=="function"?v:n,Er(p,f|m,v)}function Kj(p,v){return v==null||Ok(p,v,ks(v))}function Wr(p,v){return p===v||p!==p&&v!==v}var Yj=Dm(f0),Xj=Dm(function(p,v){return p>=v}),cc=$k((function(){return arguments})())?$k:function(p){return Yn(p)&&gn.call(p,"callee")&&!Sk.call(p,"callee")},Rt=me.isArray,Jj=sk?Zi(sk):r8;function Pi(p){return p!=null&&Fm(p.length)&&!jo(p)}function cs(p){return Yn(p)&&Pi(p)}function Qj(p){return p===!0||p===!1||Yn(p)&&bi(p)==xe}var Ka=fH||J0,Zj=ik?Zi(ik):o8;function e7(p){return Yn(p)&&p.nodeType===1&&!wf(p)}function t7(p){if(p==null)return!0;if(Pi(p)&&(Rt(p)||typeof p=="string"||typeof p.splice=="function"||Ka(p)||Bu(p)||cc(p)))return!p.length;var v=Xs(p);if(v==X||v==De)return!p.size;if(Sf(p))return!m0(p).length;for(var S in p)if(gn.call(p,S))return!1;return!0}function n7(p,v){return yf(p,v)}function s7(p,v,S){S=typeof S=="function"?S:n;var L=S?S(p,v):n;return L===n?yf(p,v,n,S):!!L}function U0(p){if(!Yn(p))return!1;var v=bi(p);return v==mt||v==Je||typeof p.message=="string"&&typeof p.name=="string"&&!wf(p)}function i7(p){return typeof p=="number"&&wk(p)}function jo(p){if(!jn(p))return!1;var v=bi(p);return v==Ut||v==K||v==se||v==Ue}function jT(p){return typeof p=="number"&&p==Pt(p)}function Fm(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=W}function jn(p){var v=typeof p;return p!=null&&(v=="object"||v=="function")}function Yn(p){return p!=null&&typeof p=="object"}var WT=rk?Zi(rk):l8;function r7(p,v){return p===v||p0(p,v,R0(v))}function o7(p,v,S){return S=typeof S=="function"?S:n,p0(p,v,R0(v),S)}function a7(p){return GT(p)&&p!=+p}function l7(p){if(W8(p))throw new kt(r);return Lk(p)}function c7(p){return p===null}function u7(p){return p==null}function GT(p){return typeof p=="number"||Yn(p)&&bi(p)==ue}function wf(p){if(!Yn(p)||bi(p)!=ve)return!1;var v=dm(p);if(v===null)return!0;var S=gn.call(v,"constructor")&&v.constructor;return typeof S=="function"&&S instanceof S&&am.call(S)==oH}var H0=ok?Zi(ok):c8;function d7(p){return jT(p)&&p>=-W&&p<=W}var qT=ak?Zi(ak):u8;function Vm(p){return typeof p=="string"||!Rt(p)&&Yn(p)&&bi(p)==ke}function tr(p){return typeof p=="symbol"||Yn(p)&&bi(p)==Ze}var Bu=lk?Zi(lk):d8;function f7(p){return p===n}function h7(p){return Yn(p)&&Xs(p)==Ye}function p7(p){return Yn(p)&&bi(p)==at}var m7=Dm(g0),g7=Dm(function(p,v){return p<=v});function KT(p){if(!p)return[];if(Pi(p))return Vm(p)?zr(p):Ni(p);if(df&&p[df])return KU(p[df]());var v=Xs(p),S=v==X?s0:v==De?im:Uu;return S(p)}function Wo(p){if(!p)return p===0?p:0;if(p=Ar(p),p===q||p===-q){var v=p<0?-1:1;return v*Z}return p===p?p:0}function Pt(p){var v=Wo(p),S=v%1;return v===v?S?v-S:v:0}function YT(p){return p?rc(Pt(p),0,ge):0}function Ar(p){if(typeof p=="number")return p;if(tr(p))return Le;if(jn(p)){var v=typeof p.valueOf=="function"?p.valueOf():p;p=jn(v)?v+"":v}if(typeof p!="string")return p===0?p:+p;p=pk(p);var S=J6.test(p);return S||Z6.test(p)?RU(p.slice(2),S?2:8):X6.test(p)?Le:+p}function XT(p){return co(p,$i(p))}function v7(p){return p?rc(Pt(p),-W,W):p===0?p:0}function hn(p){return p==null?"":er(p)}var b7=Lu(function(p,v){if(Sf(v)||Pi(v)){co(v,ks(v),p);return}for(var S in v)gn.call(v,S)&&gf(p,S,v[S])}),JT=Lu(function(p,v){co(v,$i(v),p)}),Bm=Lu(function(p,v,S,L){co(v,$i(v),p,L)}),y7=Lu(function(p,v,S,L){co(v,ks(v),p,L)}),x7=Ho(c0);function _7(p,v){var S=$u(p);return v==null?S:Dk(S,v)}var S7=Bt(function(p,v){p=_n(p);var S=-1,L=v.length,U=L>2?v[2]:n;for(U&&yi(v[0],v[1],U)&&(L=1);++S<L;)for(var G=v[S],Q=$i(G),ne=-1,oe=Q.length;++ne<oe;){var _e=Q[ne],Se=p[_e];(Se===n||Wr(Se,Iu[_e])&&!gn.call(p,_e))&&(p[_e]=G[_e])}return p}),E7=Bt(function(p){return p.push(n,pT),Qi(QT,n,p)});function w7(p,v){return uk(p,ft(v,3),lo)}function C7(p,v){return uk(p,ft(v,3),d0)}function A7(p,v){return p==null?p:u0(p,ft(v,3),$i)}function k7(p,v){return p==null?p:Nk(p,ft(v,3),$i)}function T7(p,v){return p&&lo(p,ft(v,3))}function D7(p,v){return p&&d0(p,ft(v,3))}function O7(p){return p==null?[]:_m(p,ks(p))}function R7(p){return p==null?[]:_m(p,$i(p))}function z0(p,v,S){var L=p==null?n:oc(p,v);return L===n?S:L}function M7(p,v){return p!=null&&vT(p,v,t8)}function j0(p,v){return p!=null&&vT(p,v,n8)}var I7=cT(function(p,v,S){v!=null&&typeof v.toString!="function"&&(v=lm.call(v)),p[v]=S},G0(Li)),N7=cT(function(p,v,S){v!=null&&typeof v.toString!="function"&&(v=lm.call(v)),gn.call(p,v)?p[v].push(S):p[v]=[S]},ft),P7=Bt(bf);function ks(p){return Pi(p)?kk(p):m0(p)}function $i(p){return Pi(p)?kk(p,!0):f8(p)}function $7(p,v){var S={};return v=ft(v,3),lo(p,function(L,U,G){Bo(S,v(L,U,G),L)}),S}function L7(p,v){var S={};return v=ft(v,3),lo(p,function(L,U,G){Bo(S,U,v(L,U,G))}),S}var F7=Lu(function(p,v,S){Sm(p,v,S)}),QT=Lu(function(p,v,S,L){Sm(p,v,S,L)}),V7=Ho(function(p,v){var S={};if(p==null)return S;var L=!1;v=$n(v,function(G){return G=Ga(G,p),L||(L=G.length>1),G}),co(p,D0(p),S),L&&(S=Er(S,f|h|m,I8));for(var U=v.length;U--;)_0(S,v[U]);return S});function B7(p,v){return ZT(p,Lm(ft(v)))}var U7=Ho(function(p,v){return p==null?{}:p8(p,v)});function ZT(p,v){if(p==null)return{};var S=$n(D0(p),function(L){return[L]});return v=ft(v),jk(p,S,function(L,U){return v(L,U[0])})}function H7(p,v,S){v=Ga(v,p);var L=-1,U=v.length;for(U||(U=1,p=n);++L<U;){var G=p==null?n:p[uo(v[L])];G===n&&(L=U,G=S),p=jo(G)?G.call(p):G}return p}function z7(p,v,S){return p==null?p:xf(p,v,S)}function j7(p,v,S,L){return L=typeof L=="function"?L:n,p==null?p:xf(p,v,S,L)}var e2=fT(ks),t2=fT($i);function W7(p,v,S){var L=Rt(p),U=L||Ka(p)||Bu(p);if(v=ft(v,4),S==null){var G=p&&p.constructor;U?S=L?new G:[]:jn(p)?S=jo(G)?$u(dm(p)):{}:S={}}return(U?xr:lo)(p,function(Q,ne,oe){return v(S,Q,ne,oe)}),S}function G7(p,v){return p==null?!0:_0(p,v)}function q7(p,v,S){return p==null?p:Yk(p,v,w0(S))}function K7(p,v,S,L){return L=typeof L=="function"?L:n,p==null?p:Yk(p,v,w0(S),L)}function Uu(p){return p==null?[]:n0(p,ks(p))}function Y7(p){return p==null?[]:n0(p,$i(p))}function X7(p,v,S){return S===n&&(S=v,v=n),S!==n&&(S=Ar(S),S=S===S?S:0),v!==n&&(v=Ar(v),v=v===v?v:0),rc(Ar(p),v,S)}function J7(p,v,S){return v=Wo(v),S===n?(S=v,v=0):S=Wo(S),p=Ar(p),s8(p,v,S)}function Q7(p,v,S){if(S&&typeof S!="boolean"&&yi(p,v,S)&&(v=S=n),S===n&&(typeof v=="boolean"?(S=v,v=n):typeof p=="boolean"&&(S=p,p=n)),p===n&&v===n?(p=0,v=1):(p=Wo(p),v===n?(v=p,p=0):v=Wo(v)),p>v){var L=p;p=v,v=L}if(S||p%1||v%1){var U=Ck();return Ys(p+U*(v-p+OU("1e-"+((U+"").length-1))),v)}return b0(p,v)}var Z7=Fu(function(p,v,S){return v=v.toLowerCase(),p+(S?n2(v):v)});function n2(p){return W0(hn(p).toLowerCase())}function s2(p){return p=hn(p),p&&p.replace(tU,zU).replace(xU,"")}function e9(p,v,S){p=hn(p),v=er(v);var L=p.length;S=S===n?L:rc(Pt(S),0,L);var U=S;return S-=v.length,S>=0&&p.slice(S,U)==v}function t9(p){return p=hn(p),p&&cf.test(p)?p.replace(Xt,jU):p}function n9(p){return p=hn(p),p&&U6.test(p)?p.replace(B1,"\\$&"):p}var s9=Fu(function(p,v,S){return p+(S?"-":"")+v.toLowerCase()}),i9=Fu(function(p,v,S){return p+(S?" ":"")+v.toLowerCase()}),r9=oT("toLowerCase");function o9(p,v,S){p=hn(p),v=Pt(v);var L=v?Ru(p):0;if(!v||L>=v)return p;var U=(v-L)/2;return Tm(mm(U),S)+p+Tm(pm(U),S)}function a9(p,v,S){p=hn(p),v=Pt(v);var L=v?Ru(p):0;return v&&L<v?p+Tm(v-L,S):p}function l9(p,v,S){p=hn(p),v=Pt(v);var L=v?Ru(p):0;return v&&L<v?Tm(v-L,S)+p:p}function c9(p,v,S){return S||v==null?v=0:v&&(v=+v),gH(hn(p).replace(U1,""),v||0)}function u9(p,v,S){return(S?yi(p,v,S):v===n)?v=1:v=Pt(v),y0(hn(p),v)}function d9(){var p=arguments,v=hn(p[0]);return p.length<3?v:v.replace(p[1],p[2])}var f9=Fu(function(p,v,S){return p+(S?"_":"")+v.toLowerCase()});function h9(p,v,S){return S&&typeof S!="number"&&yi(p,v,S)&&(v=S=n),S=S===n?ge:S>>>0,S?(p=hn(p),p&&(typeof v=="string"||v!=null&&!H0(v))&&(v=er(v),!v&&Ou(p))?qa(zr(p),0,S):p.split(v,S)):[]}var p9=Fu(function(p,v,S){return p+(S?" ":"")+W0(v)});function m9(p,v,S){return p=hn(p),S=S==null?0:rc(Pt(S),0,p.length),v=er(v),p.slice(S,S+v.length)==v}function g9(p,v,S){var L=j.templateSettings;S&&yi(p,v,S)&&(v=n),p=hn(p),v=Bm({},v,L,hT);var U=Bm({},v.imports,L.imports,hT),G=ks(U),Q=n0(U,G),ne,oe,_e=0,Se=v.interpolate||Zp,Te="__p += '",ze=i0((v.escape||Zp).source+"|"+Se.source+"|"+(Se===PA?Y6:Zp).source+"|"+(v.evaluate||Zp).source+"|$","g"),nt="//# sourceURL="+(gn.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++CU+"]")+`
`;p.replace(ze,function(vt,Gt,nn,nr,xi,sr){return nn||(nn=nr),Te+=p.slice(_e,sr).replace(nU,WU),Gt&&(ne=!0,Te+=`' +
__e(`+Gt+`) +
'`),xi&&(oe=!0,Te+=`';
`+xi+`;
__p += '`),nn&&(Te+=`' +
((__t = (`+nn+`)) == null ? '' : __t) +
'`),_e=sr+vt.length,vt}),Te+=`';
`;var gt=gn.call(v,"variable")&&v.variable;if(!gt)Te=`with (obj) {
`+Te+`
}
`;else if(q6.test(gt))throw new kt(a);Te=(oe?Te.replace(dt,""):Te).replace(Qe,"$1").replace(ct,"$1;"),Te="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var $t=r2(function(){return dn(G,nt+"return "+Te).apply(n,Q)});if($t.source=Te,U0($t))throw $t;return $t}function v9(p){return hn(p).toLowerCase()}function b9(p){return hn(p).toUpperCase()}function y9(p,v,S){if(p=hn(p),p&&(S||v===n))return pk(p);if(!p||!(v=er(v)))return p;var L=zr(p),U=zr(v),G=mk(L,U),Q=gk(L,U)+1;return qa(L,G,Q).join("")}function x9(p,v,S){if(p=hn(p),p&&(S||v===n))return p.slice(0,bk(p)+1);if(!p||!(v=er(v)))return p;var L=zr(p),U=gk(L,zr(v))+1;return qa(L,0,U).join("")}function _9(p,v,S){if(p=hn(p),p&&(S||v===n))return p.replace(U1,"");if(!p||!(v=er(v)))return p;var L=zr(p),U=mk(L,zr(v));return qa(L,U).join("")}function S9(p,v){var S=V,L=I;if(jn(v)){var U="separator"in v?v.separator:U;S="length"in v?Pt(v.length):S,L="omission"in v?er(v.omission):L}p=hn(p);var G=p.length;if(Ou(p)){var Q=zr(p);G=Q.length}if(S>=G)return p;var ne=S-Ru(L);if(ne<1)return L;var oe=Q?qa(Q,0,ne).join(""):p.slice(0,ne);if(U===n)return oe+L;if(Q&&(ne+=oe.length-ne),H0(U)){if(p.slice(ne).search(U)){var _e,Se=oe;for(U.global||(U=i0(U.source,hn($A.exec(U))+"g")),U.lastIndex=0;_e=U.exec(Se);)var Te=_e.index;oe=oe.slice(0,Te===n?ne:Te)}}else if(p.indexOf(er(U),ne)!=ne){var ze=oe.lastIndexOf(U);ze>-1&&(oe=oe.slice(0,ze))}return oe+L}function E9(p){return p=hn(p),p&&Ks.test(p)?p.replace(Ht,QU):p}var w9=Fu(function(p,v,S){return p+(S?" ":"")+v.toUpperCase()}),W0=oT("toUpperCase");function i2(p,v,S){return p=hn(p),v=S?n:v,v===n?qU(p)?tH(p):FU(p):p.match(v)||[]}var r2=Bt(function(p,v){try{return Qi(p,n,v)}catch(S){return U0(S)?S:new kt(S)}}),C9=Ho(function(p,v){return xr(v,function(S){S=uo(S),Bo(p,S,V0(p[S],p))}),p});function A9(p){var v=p==null?0:p.length,S=ft();return p=v?$n(p,function(L){if(typeof L[1]!="function")throw new _r(o);return[S(L[0]),L[1]]}):[],Bt(function(L){for(var U=-1;++U<v;){var G=p[U];if(Qi(G[0],this,L))return Qi(G[1],this,L)}})}function k9(p){return QH(Er(p,f))}function G0(p){return function(){return p}}function T9(p,v){return p==null||p!==p?v:p}var D9=lT(),O9=lT(!0);function Li(p){return p}function q0(p){return Fk(typeof p=="function"?p:Er(p,f))}function R9(p){return Bk(Er(p,f))}function M9(p,v){return Uk(p,Er(v,f))}var I9=Bt(function(p,v){return function(S){return bf(S,p,v)}}),N9=Bt(function(p,v){return function(S){return bf(p,S,v)}});function K0(p,v,S){var L=ks(v),U=_m(v,L);S==null&&!(jn(v)&&(U.length||!L.length))&&(S=v,v=p,p=this,U=_m(v,ks(v)));var G=!(jn(S)&&"chain"in S)||!!S.chain,Q=jo(p);return xr(U,function(ne){var oe=v[ne];p[ne]=oe,Q&&(p.prototype[ne]=function(){var _e=this.__chain__;if(G||_e){var Se=p(this.__wrapped__),Te=Se.__actions__=Ni(this.__actions__);return Te.push({func:oe,args:arguments,thisArg:p}),Se.__chain__=_e,Se}return oe.apply(p,Ua([this.value()],arguments))})}),p}function P9(){return $s._===this&&($s._=aH),this}function Y0(){}function $9(p){return p=Pt(p),Bt(function(v){return Hk(v,p)})}var L9=A0($n),F9=A0(ck),V9=A0(J1);function o2(p){return I0(p)?Q1(uo(p)):m8(p)}function B9(p){return function(v){return p==null?n:oc(p,v)}}var U9=uT(),H9=uT(!0);function X0(){return[]}function J0(){return!1}function z9(){return{}}function j9(){return""}function W9(){return!0}function G9(p,v){if(p=Pt(p),p<1||p>W)return[];var S=ge,L=Ys(p,ge);v=ft(v),p-=ge;for(var U=t0(L,v);++S<p;)v(S);return U}function q9(p){return Rt(p)?$n(p,uo):tr(p)?[p]:Ni(AT(hn(p)))}function K9(p){var v=++rH;return hn(p)+v}var Y9=km(function(p,v){return p+v},0),X9=k0("ceil"),J9=km(function(p,v){return p/v},1),Q9=k0("floor");function Z9(p){return p&&p.length?xm(p,Li,f0):n}function eW(p,v){return p&&p.length?xm(p,ft(v,2),f0):n}function tW(p){return fk(p,Li)}function nW(p,v){return fk(p,ft(v,2))}function sW(p){return p&&p.length?xm(p,Li,g0):n}function iW(p,v){return p&&p.length?xm(p,ft(v,2),g0):n}var rW=km(function(p,v){return p*v},1),oW=k0("round"),aW=km(function(p,v){return p-v},0);function lW(p){return p&&p.length?e0(p,Li):0}function cW(p,v){return p&&p.length?e0(p,ft(v,2)):0}return j.after=Rj,j.ary=LT,j.assign=b7,j.assignIn=JT,j.assignInWith=Bm,j.assignWith=y7,j.at=x7,j.before=FT,j.bind=V0,j.bindAll=C9,j.bindKey=VT,j.castArray=zj,j.chain=NT,j.chunk=Q8,j.compact=Z8,j.concat=ez,j.cond=A9,j.conforms=k9,j.constant=G0,j.countBy=lj,j.create=_7,j.curry=BT,j.curryRight=UT,j.debounce=HT,j.defaults=S7,j.defaultsDeep=E7,j.defer=Mj,j.delay=Ij,j.difference=tz,j.differenceBy=nz,j.differenceWith=sz,j.drop=iz,j.dropRight=rz,j.dropRightWhile=oz,j.dropWhile=az,j.fill=lz,j.filter=uj,j.flatMap=hj,j.flatMapDeep=pj,j.flatMapDepth=mj,j.flatten=OT,j.flattenDeep=cz,j.flattenDepth=uz,j.flip=Nj,j.flow=D9,j.flowRight=O9,j.fromPairs=dz,j.functions=O7,j.functionsIn=R7,j.groupBy=gj,j.initial=hz,j.intersection=pz,j.intersectionBy=mz,j.intersectionWith=gz,j.invert=I7,j.invertBy=N7,j.invokeMap=bj,j.iteratee=q0,j.keyBy=yj,j.keys=ks,j.keysIn=$i,j.map=Nm,j.mapKeys=$7,j.mapValues=L7,j.matches=R9,j.matchesProperty=M9,j.memoize=$m,j.merge=F7,j.mergeWith=QT,j.method=I9,j.methodOf=N9,j.mixin=K0,j.negate=Lm,j.nthArg=$9,j.omit=V7,j.omitBy=B7,j.once=Pj,j.orderBy=xj,j.over=L9,j.overArgs=$j,j.overEvery=F9,j.overSome=V9,j.partial=B0,j.partialRight=zT,j.partition=_j,j.pick=U7,j.pickBy=ZT,j.property=o2,j.propertyOf=B9,j.pull=xz,j.pullAll=MT,j.pullAllBy=_z,j.pullAllWith=Sz,j.pullAt=Ez,j.range=U9,j.rangeRight=H9,j.rearg=Lj,j.reject=wj,j.remove=wz,j.rest=Fj,j.reverse=L0,j.sampleSize=Aj,j.set=z7,j.setWith=j7,j.shuffle=kj,j.slice=Cz,j.sortBy=Oj,j.sortedUniq=Mz,j.sortedUniqBy=Iz,j.split=h9,j.spread=Vj,j.tail=Nz,j.take=Pz,j.takeRight=$z,j.takeRightWhile=Lz,j.takeWhile=Fz,j.tap=Zz,j.throttle=Bj,j.thru=Im,j.toArray=KT,j.toPairs=e2,j.toPairsIn=t2,j.toPath=q9,j.toPlainObject=XT,j.transform=W7,j.unary=Uj,j.union=Vz,j.unionBy=Bz,j.unionWith=Uz,j.uniq=Hz,j.uniqBy=zz,j.uniqWith=jz,j.unset=G7,j.unzip=F0,j.unzipWith=IT,j.update=q7,j.updateWith=K7,j.values=Uu,j.valuesIn=Y7,j.without=Wz,j.words=i2,j.wrap=Hj,j.xor=Gz,j.xorBy=qz,j.xorWith=Kz,j.zip=Yz,j.zipObject=Xz,j.zipObjectDeep=Jz,j.zipWith=Qz,j.entries=e2,j.entriesIn=t2,j.extend=JT,j.extendWith=Bm,K0(j,j),j.add=Y9,j.attempt=r2,j.camelCase=Z7,j.capitalize=n2,j.ceil=X9,j.clamp=X7,j.clone=jj,j.cloneDeep=Gj,j.cloneDeepWith=qj,j.cloneWith=Wj,j.conformsTo=Kj,j.deburr=s2,j.defaultTo=T9,j.divide=J9,j.endsWith=e9,j.eq=Wr,j.escape=t9,j.escapeRegExp=n9,j.every=cj,j.find=dj,j.findIndex=TT,j.findKey=w7,j.findLast=fj,j.findLastIndex=DT,j.findLastKey=C7,j.floor=Q9,j.forEach=PT,j.forEachRight=$T,j.forIn=A7,j.forInRight=k7,j.forOwn=T7,j.forOwnRight=D7,j.get=z0,j.gt=Yj,j.gte=Xj,j.has=M7,j.hasIn=j0,j.head=RT,j.identity=Li,j.includes=vj,j.indexOf=fz,j.inRange=J7,j.invoke=P7,j.isArguments=cc,j.isArray=Rt,j.isArrayBuffer=Jj,j.isArrayLike=Pi,j.isArrayLikeObject=cs,j.isBoolean=Qj,j.isBuffer=Ka,j.isDate=Zj,j.isElement=e7,j.isEmpty=t7,j.isEqual=n7,j.isEqualWith=s7,j.isError=U0,j.isFinite=i7,j.isFunction=jo,j.isInteger=jT,j.isLength=Fm,j.isMap=WT,j.isMatch=r7,j.isMatchWith=o7,j.isNaN=a7,j.isNative=l7,j.isNil=u7,j.isNull=c7,j.isNumber=GT,j.isObject=jn,j.isObjectLike=Yn,j.isPlainObject=wf,j.isRegExp=H0,j.isSafeInteger=d7,j.isSet=qT,j.isString=Vm,j.isSymbol=tr,j.isTypedArray=Bu,j.isUndefined=f7,j.isWeakMap=h7,j.isWeakSet=p7,j.join=vz,j.kebabCase=s9,j.last=Cr,j.lastIndexOf=bz,j.lowerCase=i9,j.lowerFirst=r9,j.lt=m7,j.lte=g7,j.max=Z9,j.maxBy=eW,j.mean=tW,j.meanBy=nW,j.min=sW,j.minBy=iW,j.stubArray=X0,j.stubFalse=J0,j.stubObject=z9,j.stubString=j9,j.stubTrue=W9,j.multiply=rW,j.nth=yz,j.noConflict=P9,j.noop=Y0,j.now=Pm,j.pad=o9,j.padEnd=a9,j.padStart=l9,j.parseInt=c9,j.random=Q7,j.reduce=Sj,j.reduceRight=Ej,j.repeat=u9,j.replace=d9,j.result=H7,j.round=oW,j.runInContext=re,j.sample=Cj,j.size=Tj,j.snakeCase=f9,j.some=Dj,j.sortedIndex=Az,j.sortedIndexBy=kz,j.sortedIndexOf=Tz,j.sortedLastIndex=Dz,j.sortedLastIndexBy=Oz,j.sortedLastIndexOf=Rz,j.startCase=p9,j.startsWith=m9,j.subtract=aW,j.sum=lW,j.sumBy=cW,j.template=g9,j.times=G9,j.toFinite=Wo,j.toInteger=Pt,j.toLength=YT,j.toLower=v9,j.toNumber=Ar,j.toSafeInteger=v7,j.toString=hn,j.toUpper=b9,j.trim=y9,j.trimEnd=x9,j.trimStart=_9,j.truncate=S9,j.unescape=E9,j.uniqueId=K9,j.upperCase=w9,j.upperFirst=W0,j.each=PT,j.eachRight=$T,j.first=RT,K0(j,(function(){var p={};return lo(j,function(v,S){gn.call(j.prototype,S)||(p[S]=v)}),p})(),{chain:!1}),j.VERSION=s,xr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){j[p].placeholder=j}),xr(["drop","take"],function(p,v){Jt.prototype[p]=function(S){S=S===n?1:Ss(Pt(S),0);var L=this.__filtered__&&!v?new Jt(this):this.clone();return L.__filtered__?L.__takeCount__=Ys(S,L.__takeCount__):L.__views__.push({size:Ys(S,ge),type:p+(L.__dir__<0?"Right":"")}),L},Jt.prototype[p+"Right"]=function(S){return this.reverse()[p](S).reverse()}}),xr(["filter","map","takeWhile"],function(p,v){var S=v+1,L=S==A||S==N;Jt.prototype[p]=function(U){var G=this.clone();return G.__iteratees__.push({iteratee:ft(U,3),type:S}),G.__filtered__=G.__filtered__||L,G}}),xr(["head","last"],function(p,v){var S="take"+(v?"Right":"");Jt.prototype[p]=function(){return this[S](1).value()[0]}}),xr(["initial","tail"],function(p,v){var S="drop"+(v?"":"Right");Jt.prototype[p]=function(){return this.__filtered__?new Jt(this):this[S](1)}}),Jt.prototype.compact=function(){return this.filter(Li)},Jt.prototype.find=function(p){return this.filter(p).head()},Jt.prototype.findLast=function(p){return this.reverse().find(p)},Jt.prototype.invokeMap=Bt(function(p,v){return typeof p=="function"?new Jt(this):this.map(function(S){return bf(S,p,v)})}),Jt.prototype.reject=function(p){return this.filter(Lm(ft(p)))},Jt.prototype.slice=function(p,v){p=Pt(p);var S=this;return S.__filtered__&&(p>0||v<0)?new Jt(S):(p<0?S=S.takeRight(-p):p&&(S=S.drop(p)),v!==n&&(v=Pt(v),S=v<0?S.dropRight(-v):S.take(v-p)),S)},Jt.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Jt.prototype.toArray=function(){return this.take(ge)},lo(Jt.prototype,function(p,v){var S=/^(?:filter|find|map|reject)|While$/.test(v),L=/^(?:head|last)$/.test(v),U=j[L?"take"+(v=="last"?"Right":""):v],G=L||/^find/.test(v);U&&(j.prototype[v]=function(){var Q=this.__wrapped__,ne=L?[1]:arguments,oe=Q instanceof Jt,_e=ne[0],Se=oe||Rt(Q),Te=function(Gt){var nn=U.apply(j,Ua([Gt],ne));return L&&ze?nn[0]:nn};Se&&S&&typeof _e=="function"&&_e.length!=1&&(oe=Se=!1);var ze=this.__chain__,nt=!!this.__actions__.length,gt=G&&!ze,$t=oe&&!nt;if(!G&&Se){Q=$t?Q:new Jt(this);var vt=p.apply(Q,ne);return vt.__actions__.push({func:Im,args:[Te],thisArg:n}),new Sr(vt,ze)}return gt&&$t?p.apply(this,ne):(vt=this.thru(Te),gt?L?vt.value()[0]:vt.value():vt)})}),xr(["pop","push","shift","sort","splice","unshift"],function(p){var v=rm[p],S=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",L=/^(?:pop|shift)$/.test(p);j.prototype[p]=function(){var U=arguments;if(L&&!this.__chain__){var G=this.value();return v.apply(Rt(G)?G:[],U)}return this[S](function(Q){return v.apply(Rt(Q)?Q:[],U)})}}),lo(Jt.prototype,function(p,v){var S=j[v];if(S){var L=S.name+"";gn.call(Pu,L)||(Pu[L]=[]),Pu[L].push({name:v,func:S})}}),Pu[Am(n,x).name]=[{name:"wrapper",func:n}],Jt.prototype.clone=EH,Jt.prototype.reverse=wH,Jt.prototype.value=CH,j.prototype.at=ej,j.prototype.chain=tj,j.prototype.commit=nj,j.prototype.next=sj,j.prototype.plant=rj,j.prototype.reverse=oj,j.prototype.toJSON=j.prototype.valueOf=j.prototype.value=aj,j.prototype.first=j.prototype.head,df&&(j.prototype[df]=ij),j}),Mu=nH();tc?((tc.exports=Mu)._=Mu,q1._=Mu):$s._=Mu}).call(HEe)})(Kf,Kf.exports)),Kf.exports}var uA=zEe();const jEe={class:"page-container"},WEe={class:"page-header"},GEe={class:"header-main"},qEe={class:"actions-area"},KEe={class:"kpi-grid"},YEe={class:"kpi-content"},XEe={class:"kpi-value"},JEe={class:"kpi-content"},QEe={class:"kpi-value"},ZEe={class:"kpi-card green"},ewe={class:"kpi-content"},twe={class:"kpi-value text-small"},nwe={class:"kpi-content"},swe={class:"kpi-value"},iwe={class:"toolbar-row"},rwe={class:"filter-group search-group"},owe={class:"input-with-icon"},awe={class:"filter-group"},lwe={class:"filter-group"},cwe={class:"report-main-wrapper"},uwe={key:0,class:"loading-state"},dwe={key:1,class:"error-message"},fwe={key:2,class:"empty-state"},hwe={key:3,class:"report-scroll-viewport"},pwe={class:"report-table"},mwe={class:"cell-date"},gwe={class:"date-main"},vwe={class:"date-sub"},bwe={class:"cell-cliente"},ywe={class:"cliente-nome"},xwe={class:"cliente-sub"},_we={key:0,class:"cliente-sub"},Swe={class:"cell-imovel"},Ewe={key:0},wwe={class:"imovel-tipo"},Cwe={key:1,class:"text-muted italic"},Awe=["title"],kwe={key:0,class:"badge-type bg-gray"},Twe={key:1,class:"badge-type bg-blue-light"},Dwe={class:"actions-flex"},Owe=["onClick"],Rwe=["onClick"],Mwe=["onClick"],Iwe=We({__name:"ContatosView",setup(t){const e=an();H([]);const n=H([]),s=H(!0),i=H(null),r=H({search:"",status:"abertos",periodo:"todos"}),o=we(()=>n.value.filter(C=>C.arquivado).length),a=we(()=>n.value.length),c=we(()=>n.value.filter(C=>!C.arquivado).length),u=we(()=>{if(n.value.length===0)return"-";const C=n.value.reduce((_,T)=>{const k=Bn(T.data_contato);return k>_?k:_},Bn("2000-01-01T00:00:00Z"));return Et(C,"dd/MM HH:mm",{locale:ys})}),d=we(()=>{let C=n.value;r.value.status==="abertos"?C=C.filter(T=>!T.arquivado):r.value.status==="arquivados"&&(C=C.filter(T=>T.arquivado));const _=r.value.search.toLowerCase().trim();return _&&(C=C.filter(T=>T.nome.toLowerCase().includes(_)||T.email.toLowerCase().includes(_)||(T.telefone?.toLowerCase()||"").includes(_)||(T.imovel_obj?.codigo_referencia?.toLowerCase()||"").includes(_)||T.mensagem.toLowerCase().includes(_))),C});async function f(){s.value=!0,i.value=null;try{const C={search:r.value.search||void 0,arquivado:"todos",periodo:r.value.periodo!=="todos"?r.value.periodo:void 0},_=await ce.get("/v1/contatos/",{params:C});n.value=_.data}catch(C){console.error("Erro ao buscar contatos:",C),i.value="No foi possvel carregar os contatos."}finally{s.value=!1}}const h=uA.debounce(f,500);function m(C){if(!C)return"-";try{return Et(Bn(C),"dd/MM/yy",{locale:ys})}catch{return"-"}}function g(C){if(!C)return"-";try{return Et(Bn(C),"HH:mm",{locale:ys})}catch{return"-"}}function y(C){const _=`Contato sobre imvel ${C.imovel_obj?.codigo_referencia||C.imovel}`,T=`Ol ${C.nome},

Em resposta  sua mensagem:
"${C.mensagem}"

`;window.location.href=`mailto:${C.email}?subject=${encodeURIComponent(_)}&body=${encodeURIComponent(T)}`}async function b(C){if(window.confirm(`Deseja arquivar o contato de ${C.nome}?`))try{await ce.post(`/v1/contatos/${C.id}/arquivar/`);const _=n.value.findIndex(T=>T.id===C.id);_!==-1&&(n.value[_].arquivado=!0)}catch{alert("Erro ao arquivar contato.")}}function x(C){e.push({name:"oportunidade-nova",query:{imovel_id:C.imovel,contato_nome:C.nome,contato_email:C.email,contato_telefone:C.telefone,mensagem:C.mensagem,contato_id:C.id}})}function E(){r.value.search="",r.value.status="abertos",r.value.periodo="todos",f()}return it(f),Rn(()=>r.value.periodo,f),(C,_)=>{const T=on("router-link");return O(),R("div",jEe,[l("header",WEe,[l("div",GEe,[_[9]||(_[9]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"CRM"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Leads (Site)")]),l("h1",null,"Gerenciar Leads")],-1)),l("div",qEe,[l("button",{class:"btn-icon-thin",onClick:f,title:"Atualizar Lista"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":s.value}])},null,2)])])])]),l("div",KEe,[l("div",{class:te(["kpi-card blue",{active:r.value.status==="abertos"}]),onClick:_[0]||(_[0]=k=>r.value.status="abertos")},[l("div",YEe,[l("span",XEe,F(c.value),1),_[10]||(_[10]=l("span",{class:"kpi-label"},"Pendentes",-1))]),_[11]||(_[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-inbox"})],-1))],2),l("div",{class:te(["kpi-card orange",{active:r.value.status==="arquivados"}]),onClick:_[1]||(_[1]=k=>r.value.status="arquivados")},[l("div",JEe,[l("span",QEe,F(o.value),1),_[12]||(_[12]=l("span",{class:"kpi-label"},"Arquivados",-1))]),_[13]||(_[13]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-archive"})],-1))],2),l("div",ZEe,[l("div",ewe,[l("span",twe,F(u.value),1),_[14]||(_[14]=l("span",{class:"kpi-label"},"ltimo Recebido",-1))]),_[15]||(_[15]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-calendar-check"})],-1))]),l("div",{class:te(["kpi-card bg-gray",{active:r.value.status==="todos"}]),onClick:_[2]||(_[2]=k=>r.value.status="todos")},[l("div",nwe,[l("span",swe,F(a.value),1),_[16]||(_[16]=l("span",{class:"kpi-label"},"Total Geral",-1))]),_[17]||(_[17]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-bullseye"})],-1))],2)]),l("div",iwe,[l("div",rwe,[_[19]||(_[19]=l("label",null,"Buscar",-1)),l("div",owe,[_[18]||(_[18]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":_[3]||(_[3]=k=>r.value.search=k),placeholder:"Nome, email, telefone ou mensagem...",class:"form-control",onInput:_[4]||(_[4]=(...k)=>Ve(h)&&Ve(h)(...k))},null,544),[[de,r.value.search]])])]),l("div",awe,[_[21]||(_[21]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":_[5]||(_[5]=k=>r.value.status=k),class:"form-control"},[..._[20]||(_[20]=[l("option",{value:"abertos"},"Abertos (Pendentes)",-1),l("option",{value:"arquivados"},"Arquivados",-1),l("option",{value:"todos"},"Todos",-1)])],512),[[xt,r.value.status]])]),l("div",lwe,[_[23]||(_[23]=l("label",null,"Perodo",-1)),Y(l("select",{"onUpdate:modelValue":_[6]||(_[6]=k=>r.value.periodo=k),onChange:f,class:"form-control"},[..._[22]||(_[22]=[l("option",{value:"todos"},"Todo Perodo",-1),l("option",{value:"30d"},"ltimos 30 Dias",-1),l("option",{value:"90d"},"ltimos 90 Dias",-1)])],544),[[xt,r.value.periodo]])]),l("div",{class:"filter-group small-btn"},[_[25]||(_[25]=l("label",null,"",-1)),l("button",{onClick:E,class:"btn-clear",title:"Limpar Filtros"},[..._[24]||(_[24]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",cwe,[s.value?(O(),R("div",uwe,[..._[26]||(_[26]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando leads...",-1)])])):i.value?(O(),R("div",dwe,F(i.value),1)):d.value.length===0?(O(),R("div",fwe,[..._[27]||(_[27]=[l("i",{class:"fas fa-filter"},null,-1),l("p",null,"Nenhum lead encontrado com os filtros selecionados.",-1)])])):(O(),R("div",hwe,[l("table",pwe,[_[34]||(_[34]=l("thead",null,[l("tr",null,[l("th",{width:"12%"},"Data / ID"),l("th",{width:"20%"},"Lead (Cliente)"),l("th",{width:"20%"},"Imvel de Interesse"),l("th",{width:"25%"},"Mensagem"),l("th",{width:"10%"},"Status"),l("th",{width:"13%",class:"text-right"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(d.value,k=>(O(),R("tr",{key:k.id,class:"clickable-row"},[l("td",null,[l("div",mwe,[l("span",gwe,F(m(k.data_contato)),1),l("span",vwe,F(g(k.data_contato))+"  #"+F(k.id),1)])]),l("td",null,[l("div",bwe,[l("span",ywe,F(k.nome),1),l("span",xwe,[_[28]||(_[28]=l("i",{class:"far fa-envelope"},null,-1)),z(" "+F(k.email),1)]),k.telefone?(O(),R("span",_we,[_[29]||(_[29]=l("i",{class:"fas fa-phone-alt"},null,-1)),z(" "+F(k.telefone),1)])):J("",!0)])]),l("td",null,[l("div",Swe,[k.imovel_obj?.id?(O(),R("div",Ewe,[be(T,{to:`/imoveis/editar/${k.imovel_obj.id}`,class:"link-imovel",onClick:_[7]||(_[7]=wt(()=>{},["stop"]))},{default:Pe(()=>[z(" Ref: "+F(k.imovel_obj?.codigo_referencia||"N/A"),1)]),_:2},1032,["to"]),l("span",wwe,F(k.imovel_obj?.tipo||"Imvel"),1)])):(O(),R("div",Cwe,[..._[30]||(_[30]=[l("i",{class:"fas fa-building-slash"},null,-1),z(" No identificado ",-1)])]))])]),l("td",null,[l("div",{class:"cell-mensagem",title:k.mensagem},' "'+F(k.mensagem)+'" ',9,Awe)]),l("td",null,[k.arquivado?(O(),R("span",kwe,"Arquivado")):(O(),R("span",Twe,"Novo Lead"))]),l("td",{class:"text-right",onClick:_[8]||(_[8]=wt(()=>{},["stop"]))},[l("div",Dwe,[k.arquivado?J("",!0):(O(),R("button",{key:0,onClick:$=>x(k),class:"btn-action generate",title:"Gerar Oportunidade (Funil)"},[..._[31]||(_[31]=[l("i",{class:"fas fa-funnel-dollar"},null,-1)])],8,Owe)),l("button",{onClick:$=>y(k),class:"btn-action reply",title:"Responder Email"},[..._[32]||(_[32]=[l("i",{class:"fas fa-reply"},null,-1)])],8,Rwe),k.arquivado?J("",!0):(O(),R("button",{key:1,class:"btn-action archive",onClick:$=>b(k),title:"Arquivar"},[..._[33]||(_[33]=[l("i",{class:"fas fa-archive"},null,-1)])],8,Mwe))])])]))),128))])])]))])])}}}),Nwe=tt(Iwe,[["__scopeId","data-v-48874fed"]]),Pwe={class:"page-container"},$we={class:"page-header"},Lwe={class:"header-main"},Fwe={class:"actions-area"},Vwe={class:"kpi-grid"},Bwe={class:"kpi-content"},Uwe={class:"kpi-value"},Hwe={class:"kpi-content"},zwe={class:"kpi-value"},jwe={class:"kpi-card purple"},Wwe={class:"kpi-content"},Gwe={class:"kpi-value"},qwe={class:"kpi-card orange"},Kwe={class:"kpi-content"},Ywe={class:"kpi-value"},Xwe={class:"toolbar-row"},Jwe={class:"filter-group search-group"},Qwe={class:"input-with-icon"},Zwe={class:"filter-group"},eCe={class:"report-main-wrapper"},tCe={key:0,class:"loading-state"},nCe={key:1,class:"empty-state"},sCe={key:2,class:"report-scroll-viewport"},iCe={class:"report-table"},rCe={class:"user-cell"},oCe={class:"cell-content"},aCe={class:"main-text"},lCe={class:"sub-text text-muted"},cCe={class:"cell-content"},uCe={class:"main-text text-sm"},dCe={class:"text-center"},fCe={key:0,class:"badge-type bg-purple"},hCe={key:1,class:"badge-type bg-blue"},pCe={key:2,class:"badge-type bg-orange"},mCe={class:"text-center"},gCe={class:"text-right text-muted text-sm"},vCe={class:"text-right"},bCe={class:"actions-flex"},yCe=["onClick"],xCe=["onClick","title"],_Ce=We({__name:"CorretoresView",setup(t){const e=an(),n=Ji.useToast(),s=H([]),i=H(!0),r=H({search:"",role:"",status:""}),o=we(()=>{const b=s.value.length,x=s.value.filter(_=>_.is_active).length,E=s.value.filter(_=>_.is_superuser||_.is_admin).length,C=b-E;return{total:b,ativos:x,admins:E,corretores:C}}),a=we(()=>s.value.filter(b=>{const x=r.value.search.toLowerCase(),E=`${b.first_name} ${b.last_name}`.toLowerCase(),C=!x||E.includes(x)||b.username.toLowerCase().includes(x)||b.email.toLowerCase().includes(x);let _=!0;r.value.role==="admin"&&(_=b.is_superuser||b.is_admin),r.value.role==="corretor"&&(_=!b.is_superuser&&!b.is_admin);let T=!0;return r.value.status==="active"&&(T=b.is_active),C&&_&&T})),c=async()=>{i.value=!0;try{const b=await ce.get("/v1/core/usuarios/");s.value=b.data.results||b.data}catch(b){console.error("Erro ao buscar usurios:",b),n.error("Erro ao carregar a lista de usurios.")}finally{i.value=!1}},u=()=>{r.value={search:"",role:"",status:""}},d=b=>{e.push({name:"corretor-editar",params:{id:b}})},f=async b=>{if(confirm(`Deseja realmente ${b.is_active?"desativar":"ativar"} o usurio ${b.username}?`))try{await ce.patch(`/v1/core/usuarios/${b.id}/`,{is_active:!b.is_active}),b.is_active=!b.is_active,n.success(`Usurio ${b.is_active?"ativado":"desativado"} com sucesso.`)}catch{n.error("Erro ao alterar status do usurio.")}},h=b=>`${b.first_name} ${b.last_name}`.trim()||b.username,m=b=>{const x=b.first_name?b.first_name[0]:b.username[0],E=b.last_name?b.last_name[0]:"";return(x+E).toUpperCase().substring(0,2)},g=b=>b.is_superuser?"bg-purple-100 text-purple-600":b.is_admin?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600",y=b=>{if(!b)return"Nunca";try{return Et(Bn(b),"dd/MM/yy HH:mm",{locale:ys})}catch{return"-"}};return it(()=>{c()}),(b,x)=>{const E=on("router-link");return O(),R("div",Pwe,[l("header",$we,[l("div",Lwe,[x[5]||(x[5]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Gesto"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Utilizadores")]),l("h1",null,"Gerenciar Equipe")],-1)),l("div",Fwe,[l("button",{class:"btn-icon-thin",onClick:c,title:"Atualizar Lista"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":i.value}])},null,2)]),be(E,{to:{name:"corretor-novo"},class:"btn-primary-thin"},{default:Pe(()=>[...x[4]||(x[4]=[l("i",{class:"fas fa-user-plus"},null,-1),z(" Novo Utilizador ",-1)])]),_:1})])])]),l("div",Vwe,[l("div",{class:te(["kpi-card blue",{active:r.value.status===""}]),onClick:x[0]||(x[0]=C=>r.value.status="")},[l("div",Bwe,[l("span",Uwe,F(o.value.total),1),x[6]||(x[6]=l("span",{class:"kpi-label"},"Total de Usurios",-1))]),x[7]||(x[7]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-users"})],-1))],2),l("div",{class:te(["kpi-card green",{active:r.value.status==="active"}]),onClick:x[1]||(x[1]=C=>r.value.status="active")},[l("div",Hwe,[l("span",zwe,F(o.value.ativos),1),x[8]||(x[8]=l("span",{class:"kpi-label"},"Ativos",-1))]),x[9]||(x[9]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-user-check"})],-1))],2),l("div",jwe,[l("div",Wwe,[l("span",Gwe,F(o.value.admins),1),x[10]||(x[10]=l("span",{class:"kpi-label"},"Administradores",-1))]),x[11]||(x[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-user-shield"})],-1))]),l("div",qwe,[l("div",Kwe,[l("span",Ywe,F(o.value.corretores),1),x[12]||(x[12]=l("span",{class:"kpi-label"},"Corretores",-1))]),x[13]||(x[13]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-id-badge"})],-1))])]),l("div",Xwe,[l("div",Jwe,[x[15]||(x[15]=l("label",null,"Buscar",-1)),l("div",Qwe,[x[14]||(x[14]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":x[2]||(x[2]=C=>r.value.search=C),placeholder:"Nome, email ou usurio...",class:"form-control"},null,512),[[de,r.value.search]])])]),l("div",Zwe,[x[17]||(x[17]=l("label",null,"Funo",-1)),Y(l("select",{"onUpdate:modelValue":x[3]||(x[3]=C=>r.value.role=C),class:"form-control"},[...x[16]||(x[16]=[l("option",{value:""},"Todas",-1),l("option",{value:"admin"},"Administrador",-1),l("option",{value:"corretor"},"Corretor",-1)])],512),[[xt,r.value.role]])]),l("div",{class:"filter-group small-btn"},[x[19]||(x[19]=l("label",null,"",-1)),l("button",{onClick:u,class:"btn-clear",title:"Limpar Filtros"},[...x[18]||(x[18]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",eCe,[i.value?(O(),R("div",tCe,[...x[20]||(x[20]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando equipe...",-1)])])):a.value.length===0?(O(),R("div",nCe,[...x[21]||(x[21]=[l("i",{class:"fas fa-user-slash"},null,-1),l("p",null,"Nenhum usurio encontrado com os filtros selecionados.",-1)])])):(O(),R("div",sCe,[l("table",iCe,[x[24]||(x[24]=l("thead",null,[l("tr",null,[l("th",{width:"30%"},"Usurio"),l("th",{width:"25%"},"Contato"),l("th",{width:"15%",class:"text-center"},"Funo"),l("th",{width:"10%",class:"text-center"},"Status"),l("th",{width:"15%",class:"text-right"},"ltimo Login"),l("th",{width:"5%",class:"text-right"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(a.value,C=>(O(),R("tr",{key:C.id},[l("td",null,[l("div",rCe,[l("div",{class:te(["user-avatar",g(C)])},F(m(C)),3),l("div",oCe,[l("span",aCe,F(h(C)),1),l("span",lCe,"@"+F(C.username),1)])])]),l("td",null,[l("div",cCe,[l("span",uCe,[x[22]||(x[22]=l("i",{class:"far fa-envelope text-muted mr-1"},null,-1)),z(" "+F(C.email),1)])])]),l("td",dCe,[C.is_superuser?(O(),R("span",fCe,"Super Admin")):C.is_admin?(O(),R("span",hCe,"Admin")):(O(),R("span",pCe,"Corretor"))]),l("td",mCe,[l("span",{class:te(["status-pill",C.is_active?"status-green":"status-red"])},F(C.is_active?"Ativo":"Inativo"),3)]),l("td",gCe,F(y(C.last_login)),1),l("td",vCe,[l("div",bCe,[l("button",{class:"btn-action edit",onClick:_=>d(C.id),title:"Editar Usurio"},[...x[23]||(x[23]=[l("i",{class:"fas fa-pen"},null,-1)])],8,yCe),l("button",{class:"btn-action delete",onClick:_=>f(C),title:C.is_active?"Desativar":"Ativar"},[l("i",{class:te(C.is_active?"fas fa-ban":"fas fa-check")},null,2)],8,xCe)])])]))),128))])])]))])])}}}),SCe=tt(_Ce,[["__scopeId","data-v-3141629c"]]),ECe={class:"page-container"},wCe={class:"page-header"},CCe={class:"header-main"},ACe={class:"title-area"},kCe={class:"breadcrumb"},TCe={class:"active"},DCe={class:"actions-area"},OCe=["disabled"],RCe={class:"form-wrapper"},MCe={class:"form-column left-col"},ICe={class:"form-section"},NCe={class:"form-grid-2"},PCe={class:"form-group"},$Ce={class:"input-with-icon"},LCe={class:"form-group"},FCe={class:"form-group mt-3"},VCe={class:"input-with-icon"},BCe={class:"form-section mt-6"},UCe={class:"form-grid-2"},HCe={class:"form-group"},zCe={class:"input-with-icon"},jCe={class:"form-group"},WCe={key:0,class:"req"},GCe={class:"input-with-icon"},qCe=["required"],KCe={class:"form-group mt-4"},YCe={class:"toggle-label"},XCe={class:"toggle-switch"},JCe={class:"form-column permissions-column"},QCe={class:"permissions-card"},ZCe={class:"profile-tabs"},eAe={class:"permissions-scroll"},tAe={class:"perm-group-header"},nAe={class:"perm-group-title"},sAe=["onClick"],iAe={class:"perm-grid"},rAe=["value"],oAe={class:"label-text"},aAe=We({__name:"CorretorRegistrationView",setup(t){const e=ms(),n=an(),s=Ji.useToast(),i=H(!1),r=H(!1),o=H("custom"),a=[{name:"Imveis",permissions:[{label:"Visualizar Lista",code:"view_imovel"},{label:"Cadastrar Novos",code:"add_imovel"},{label:"Editar Dados",code:"change_imovel"},{label:"Excluir Imveis",code:"delete_imovel"},{label:"Gerenciar Imagens",code:"manage_images"},{label:"Autorizaes de Venda",code:"view_autorizacao"}]},{name:"Clientes & CRM",permissions:[{label:"Visualizar Clientes",code:"view_cliente"},{label:"Cadastrar/Editar",code:"change_cliente"},{label:"Excluir Clientes",code:"delete_cliente"},{label:"Acessar Funil",code:"view_funil"},{label:"Gerenciar Oportunidades",code:"manage_oportunidade"},{label:"Agendar Visitas",code:"manage_visita"}]},{name:"Contratos & Jurdico",permissions:[{label:"Visualizar Contratos",code:"view_contrato"},{label:"Criar Contratos",code:"add_contrato"},{label:"Editar/Renovar",code:"change_contrato"},{label:"Gerenciar Vistorias",code:"manage_vistoria"}]},{name:"Financeiro",permissions:[{label:"Ver Dashboard Fin.",code:"view_financeiro_dash"},{label:"Contas a Receber",code:"view_receitas"},{label:"Contas a Pagar",code:"view_despesas"},{label:"Gerenciar Transaes",code:"manage_transacao"},{label:"Gerenciar Boletos",code:"manage_boletos"},{label:"Contas Bancrias",code:"manage_contas_bancarias"}]},{name:"Marketing & Site",permissions:[{label:"Publicar no Site",code:"publish_site"},{label:"Integrao Portais",code:"manage_portais"},{label:"Redes Sociais",code:"manage_social"}]},{name:"Sistema & Admin",permissions:[{label:"Gerenciar Usurios",code:"manage_users"},{label:"Configuraes Globais",code:"manage_settings"},{label:"Ver Relatrios Gerenciais",code:"view_reports"},{label:"Integraes (API)",code:"manage_integrations"}]}],c={corretor:["view_imovel","add_imovel","change_imovel","manage_images","view_autorizacao","view_cliente","change_cliente","view_funil","manage_oportunidade","manage_visita","publish_site"],admin:a.flatMap(y=>y.permissions.map(b=>b.code))},u=H({first_name:"",last_name:"",username:"",email:"",password:"",is_active:!0,permissions:[]}),d=y=>y.permissions.every(b=>u.value.permissions.includes(b.code)),f=y=>{if(d(y))u.value.permissions=u.value.permissions.filter(b=>!y.permissions.find(x=>x.code===b));else{const b=y.permissions.map(E=>E.code),x=new Set([...u.value.permissions,...b]);u.value.permissions=Array.from(x)}},h=y=>{o.value=y,c[y]&&(u.value.permissions=[...c[y]])};Rn(()=>u.value.permissions,y=>{const b=[...y].sort(),x=[...c.corretor].sort(),E=[...c.admin].sort();JSON.stringify(b)===JSON.stringify(x)?o.value="corretor":JSON.stringify(b)===JSON.stringify(E)?o.value="admin":o.value="custom"},{deep:!0}),it(async()=>{h("corretor"),e.params.id&&(i.value=!0,await m(Number(e.params.id)))});const m=async y=>{r.value=!0;try{const{data:b}=await ce.get(`/v1/core/usuarios/${y}/`);u.value.first_name=b.first_name,u.value.last_name=b.last_name,u.value.username=b.username,u.value.email=b.email,u.value.is_active=b.is_active,b.is_superuser||b.is_admin?h("admin"):h("corretor")}catch{s.error("Erro ao carregar dados."),n.push({name:"corretores"})}finally{r.value=!1}},g=async()=>{if(!u.value.first_name||!u.value.username)return s.warning("Campos obrigatrios faltando.");r.value=!0;try{const y=u.value.permissions.includes("manage_settings")&&u.value.permissions.includes("manage_users"),b={...u.value,is_staff:!0,is_superuser:y,is_admin:y,permissions_list:u.value.permissions};i.value&&!b.password&&delete b.password,i.value?(await ce.patch(`/v1/core/usuarios/${e.params.id}/`,b),s.success("Usurio atualizado!")):(await ce.post("/v1/core/usuarios/",b),s.success("Usurio criado!")),n.push({name:"corretores"})}catch(y){const b=y.response?.data?.username?"Usurio j existe.":"Erro ao salvar.";s.error(b)}finally{r.value=!1}};return(y,b)=>{const x=on("router-link");return O(),R("div",ECe,[l("header",wCe,[l("div",CCe,[l("div",ACe,[l("nav",kCe,[b[12]||(b[12]=l("span",null,"Gesto",-1)),b[13]||(b[13]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),be(x,{to:{name:"corretores"}},{default:Pe(()=>[...b[11]||(b[11]=[z("Utilizadores",-1)])]),_:1}),b[14]||(b[14]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),l("span",TCe,F(i.value?"Editar":"Novo"),1)]),l("h1",null,F(i.value?"Editar Colaborador":"Cadastrar Novo Colaborador"),1)]),l("div",DCe,[l("button",{onClick:b[0]||(b[0]=E=>y.$router.push({name:"corretores"})),class:"btn-secondary-thin"},[...b[15]||(b[15]=[l("i",{class:"fas fa-arrow-left"},null,-1),z(" Voltar ",-1)])]),l("button",{onClick:g,class:"btn-primary-thin",disabled:r.value},[l("i",{class:te(["fas fa-save",{"fa-spin":r.value}])},null,2),z(" "+F(r.value?"Salvando...":"Salvar Dados"),1)],8,OCe)])])]),l("main",RCe,[l("form",{onSubmit:wt(g,["prevent"])},[l("div",MCe,[l("section",ICe,[b[21]||(b[21]=l("h3",{class:"section-title"},[l("i",{class:"far fa-id-card"}),z(" Dados Pessoais")],-1)),l("div",NCe,[l("div",PCe,[b[17]||(b[17]=l("label",null,[z("Nome "),l("span",{class:"req"},"*")],-1)),l("div",$Ce,[b[16]||(b[16]=l("i",{class:"fas fa-user"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":b[1]||(b[1]=E=>u.value.first_name=E),required:"",class:"form-control",placeholder:"Ex: Ana"},null,512),[[de,u.value.first_name]])])]),l("div",LCe,[b[18]||(b[18]=l("label",null,[z("Sobrenome "),l("span",{class:"req"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":b[2]||(b[2]=E=>u.value.last_name=E),required:"",class:"form-control",placeholder:"Ex: Silva"},null,512),[[de,u.value.last_name]])])]),l("div",FCe,[b[20]||(b[20]=l("label",null,[z("Email Corporativo "),l("span",{class:"req"},"*")],-1)),l("div",VCe,[b[19]||(b[19]=l("i",{class:"far fa-envelope"},null,-1)),Y(l("input",{type:"email","onUpdate:modelValue":b[3]||(b[3]=E=>u.value.email=E),required:"",class:"form-control",placeholder:"ana@imobiliaria.com"},null,512),[[de,u.value.email]])])])]),l("section",BCe,[b[27]||(b[27]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-key"}),z(" Credenciais")],-1)),l("div",UCe,[l("div",HCe,[b[23]||(b[23]=l("label",null,[z("Usurio (Login) "),l("span",{class:"req"},"*")],-1)),l("div",zCe,[b[22]||(b[22]=l("i",{class:"fas fa-at"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":b[4]||(b[4]=E=>u.value.username=E),required:"",class:"form-control",placeholder:"ana.silva"},null,512),[[de,u.value.username]])])]),l("div",jCe,[l("label",null,[z(F(i.value?"Nova Senha":"Senha Inicial")+" ",1),i.value?J("",!0):(O(),R("span",WCe,"*"))]),l("div",GCe,[b[24]||(b[24]=l("i",{class:"fas fa-lock"},null,-1)),Y(l("input",{type:"password","onUpdate:modelValue":b[5]||(b[5]=E=>u.value.password=E),required:!i.value,class:"form-control",placeholder:"******",autocomplete:"new-password"},null,8,qCe),[[de,u.value.password]])])])]),l("div",KCe,[l("label",YCe,[l("div",XCe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":b[6]||(b[6]=E=>u.value.is_active=E)},null,512),[[Zt,u.value.is_active]]),b[25]||(b[25]=l("span",{class:"slider"},null,-1))]),b[26]||(b[26]=l("div",{class:"toggle-text"},[l("span",{class:"main"},"Acesso Ativo"),l("span",{class:"sub"},"Permite que o usurio faa login no sistema.")],-1))])])])]),l("div",JCe,[l("section",QCe,[b[32]||(b[32]=l("div",{class:"card-header"},[l("h3",null,[l("i",{class:"fas fa-user-shield"}),z(" Permisses de Acesso")]),l("p",null,"Defina exatamente o que este usurio pode ver ou fazer.")],-1)),l("div",ZCe,[l("button",{type:"button",class:te(["profile-tab",{active:o.value==="corretor"}]),onClick:b[7]||(b[7]=E=>h("corretor"))},[...b[28]||(b[28]=[l("i",{class:"fas fa-id-badge"},null,-1),z(" Padro Corretor ",-1)])],2),l("button",{type:"button",class:te(["profile-tab",{active:o.value==="admin"}]),onClick:b[8]||(b[8]=E=>h("admin"))},[...b[29]||(b[29]=[l("i",{class:"fas fa-crown"},null,-1),z(" Admin Total ",-1)])],2),l("button",{type:"button",class:te(["profile-tab",{active:o.value==="custom"}]),onClick:b[9]||(b[9]=E=>o.value="custom")},[...b[30]||(b[30]=[l("i",{class:"fas fa-sliders-h"},null,-1),z(" Personalizado ",-1)])],2)]),l("div",eAe,[(O(),R(Me,null,je(a,(E,C)=>l("div",{key:C,class:"perm-group"},[l("div",tAe,[l("h4",nAe,F(E.name),1),l("button",{type:"button",class:"btn-text-small",onClick:_=>f(E)},F(d(E)?"Desmarcar Todos":"Marcar Todos"),9,sAe)]),l("div",iAe,[(O(!0),R(Me,null,je(E.permissions,_=>(O(),R("label",{key:_.code,class:"checkbox-wrapper"},[Y(l("input",{type:"checkbox","onUpdate:modelValue":b[10]||(b[10]=T=>u.value.permissions=T),value:_.code},null,8,rAe),[[Zt,u.value.permissions]]),b[31]||(b[31]=l("span",{class:"checkmark"},null,-1)),l("span",oAe,F(_.label),1)]))),128))])])),64))])])])],32)])])}}}),LM=tt(aAe,[["__scopeId","data-v-ea1e015e"]]),lAe={class:"page-container"},cAe={class:"dash-header"},uAe={class:"welcome-area"},dAe={class:"subtitle"},fAe={class:"header-actions"},hAe={key:0,class:"loading-skeleton"},pAe={key:1,class:"dashboard-content"},mAe={class:"kpi-grid"},gAe={class:"kpi-data"},vAe={class:"kpi-value"},bAe={class:"kpi-data"},yAe={class:"kpi-value"},xAe={class:"kpi-data"},_Ae={class:"kpi-value"},SAe={class:"kpi-data"},EAe={class:"kpi-value"},wAe={class:"main-grid"},CAe={class:"grid-column"},AAe={class:"widget-card"},kAe={class:"widget-header"},TAe={class:"widget-body"},DAe={key:0,class:"empty-widget"},OAe={key:1,class:"task-list"},RAe={class:"task-info"},MAe={class:"task-title"},IAe={class:"task-meta"},NAe={key:0,class:"widget-card mt-4"},PAe={class:"widget-header"},$Ae={class:"widget-body finance-summary"},LAe={class:"fin-row"},FAe={class:"fin-val text-green"},VAe={class:"fin-row"},BAe={class:"fin-val text-red"},UAe={class:"fin-row total"},HAe={class:"fin-val"},zAe={class:"grid-column"},jAe={class:"widget-card"},WAe={class:"widget-header"},GAe={class:"widget-body"},qAe={class:"funnel-chart"},KAe={class:"funnel-label"},YAe={class:"funnel-bar-container"},XAe={class:"funnel-count"},JAe={key:0,class:"empty-widget"},QAe={class:"widget-card mt-4"},ZAe={class:"widget-header"},eke={class:"widget-body"},tke={key:0,class:"empty-widget"},nke={key:1,class:"visit-list"},ske={class:"visit-date"},ike={class:"day"},rke={class:"month"},oke={class:"visit-details"},ake=We({__name:"DashboardView",setup(t){const e=$o(),n=H(!1),s=H(null),i=we(()=>e.user?.is_superuser||e.user?.is_admin),r=we(()=>{if(i.value)return!0;const b=e.user?.custom_permissions||[];return b.includes("view_financeiro_dash")||b.includes("financeiro_view")}),o=we(()=>{if(i.value)return!0;const b=e.user?.custom_permissions||[];return b.length===0||b.includes("view_imovel")}),a=we(()=>e.user?.first_name||e.user?.username||"Usurio"),c=we(()=>i.value?"Painel Administrativo":"Painel do Corretor"),u=we(()=>Et(new Date,"EEEE, d 'de' MMMM",{locale:ys}).replace(/^\w/,b=>b.toUpperCase())),d=async()=>{n.value=!0;try{const b=await ce.get("/v1/core/stats/");s.value=b.data}catch(b){console.error("Erro ao carregar dashboard:",b)}finally{n.value=!1}},f=b=>{const x=Number(b);return isNaN(x)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x)},h=b=>b?Et(Bn(b),"HH:mm"):"",m=b=>b?Et(Bn(b),"dd"):"",g=b=>b?Et(Bn(b),"MMM",{locale:ys}).toUpperCase():"",y=(b,x)=>!x||x===0?0:Math.min(100,b/x*100);return it(()=>{d()}),(b,x)=>{const E=on("router-link");return O(),R("div",lAe,[l("header",cAe,[l("div",uAe,[l("h1",null,[z("Ol, "+F(a.value)+"! ",1),x[4]||(x[4]=l("span",{class:"wave"},"",-1))]),l("p",dAe,F(u.value)+"  "+F(c.value),1)]),l("div",fAe,[be(E,{to:{name:"clientes"},class:"btn-quick action-green",title:"Gerenciar Clientes"},{default:Pe(()=>[...x[5]||(x[5]=[l("i",{class:"fas fa-users"},null,-1),z(),l("span",{class:"hide-mobile"},"Clientes",-1)])]),_:1}),be(E,{to:{name:"funil-vendas"},class:"btn-quick action-blue",title:"Ver Funil de Vendas"},{default:Pe(()=>[...x[6]||(x[6]=[l("i",{class:"fas fa-filter"},null,-1),z(),l("span",{class:"hide-mobile"},"Funil",-1)])]),_:1}),l("button",{onClick:d,class:"btn-icon-refresh",title:"Atualizar Dashboard"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":n.value}])},null,2)])])]),n.value&&!s.value?(O(),R("div",hAe,[(O(),R(Me,null,je(4,C=>l("div",{class:"skeleton-card",key:C})),64))])):(O(),R("div",pAe,[l("section",mAe,[l("div",{class:"kpi-card",onClick:x[0]||(x[0]=C=>b.$router.push({name:"funil-vendas"})),style:{cursor:"pointer"}},[x[8]||(x[8]=l("div",{class:"kpi-icon bg-blue-soft"},[l("i",{class:"fas fa-filter text-blue"})],-1)),l("div",gAe,[l("span",vAe,F(s.value?.oportunidades_ativas||0),1),x[7]||(x[7]=l("span",{class:"kpi-label"},"Negcios no Funil",-1))])]),l("div",{class:"kpi-card",onClick:x[1]||(x[1]=C=>b.$router.push({name:"tarefas-board"})),style:{cursor:"pointer"}},[x[10]||(x[10]=l("div",{class:"kpi-icon bg-orange-soft"},[l("i",{class:"fas fa-tasks text-orange"})],-1)),l("div",bAe,[l("span",yAe,F(s.value?.tarefas_pendentes||0),1),x[9]||(x[9]=l("span",{class:"kpi-label"},"Tarefas Pendentes",-1))])]),r.value?(O(),R("div",{key:0,class:"kpi-card",onClick:x[2]||(x[2]=C=>b.$router.push({name:"financeiro-dashboard"})),style:{cursor:"pointer"}},[x[12]||(x[12]=l("div",{class:"kpi-icon bg-green-soft"},[l("i",{class:"fas fa-dollar-sign text-green"})],-1)),l("div",xAe,[l("span",_Ae,F(f(s.value?.receita_mes||0)),1),x[11]||(x[11]=l("span",{class:"kpi-label"},"Receita (Ms Atual)",-1))])])):J("",!0),o.value?(O(),R("div",{key:1,class:"kpi-card",onClick:x[3]||(x[3]=C=>b.$router.push({name:"imoveis"})),style:{cursor:"pointer"}},[x[14]||(x[14]=l("div",{class:"kpi-icon bg-purple-soft"},[l("i",{class:"fas fa-home text-purple"})],-1)),l("div",SAe,[l("span",EAe,F(s.value?.imoveis_ativos||0),1),x[13]||(x[13]=l("span",{class:"kpi-label"},"Imveis Ativos",-1))])])):J("",!0)]),l("div",wAe,[l("div",CAe,[l("div",AAe,[l("div",kAe,[x[16]||(x[16]=l("h3",null,[l("i",{class:"fas fa-check-circle text-orange"}),z(" Minhas Tarefas de Hoje")],-1)),be(E,{to:{name:"tarefas-board"},class:"link-small"},{default:Pe(()=>[...x[15]||(x[15]=[z("Ver todas",-1)])]),_:1})]),l("div",TAe,[s.value?.tarefas_hoje?.length?(O(),R("ul",OAe,[(O(!0),R(Me,null,je(s.value.tarefas_hoje,C=>(O(),R("li",{key:C.id,class:"task-item"},[x[18]||(x[18]=l("div",{class:"task-check"},null,-1)),l("div",RAe,[l("span",MAe,F(C.titulo),1),l("span",IAe,F(h(C.data_vencimento))+"  "+F(C.cliente_nome),1)])]))),128))])):(O(),R("div",DAe,[...x[17]||(x[17]=[l("i",{class:"far fa-smile"},null,-1),l("p",null,"Tudo em dia! Nenhuma tarefa para hoje.",-1)])]))])]),r.value?(O(),R("div",NAe,[l("div",PAe,[x[20]||(x[20]=l("h3",null,[l("i",{class:"fas fa-chart-line text-green"}),z(" Desempenho Financeiro")],-1)),be(E,{to:{name:"financeiro-dashboard"},class:"link-small"},{default:Pe(()=>[...x[19]||(x[19]=[z("Detalhes",-1)])]),_:1})]),l("div",$Ae,[l("div",LAe,[x[21]||(x[21]=l("span",null,"Entradas Previstas",-1)),l("span",FAe,F(f(s.value?.financeiro_previsto_entrada||0)),1)]),l("div",VAe,[x[22]||(x[22]=l("span",null,"Sadas Previstas",-1)),l("span",BAe,F(f(s.value?.financeiro_previsto_saida||0)),1)]),x[24]||(x[24]=l("div",{class:"fin-divider"},null,-1)),l("div",UAe,[x[23]||(x[23]=l("span",null,"Saldo Projetado",-1)),l("span",HAe,F(f((s.value?.financeiro_previsto_entrada||0)-(s.value?.financeiro_previsto_saida||0))),1)])])])):J("",!0)]),l("div",zAe,[l("div",jAe,[l("div",WAe,[x[26]||(x[26]=l("h3",null,[l("i",{class:"fas fa-filter text-blue"}),z(" Funil de Vendas")],-1)),be(E,{to:{name:"funil-vendas"},class:"link-small"},{default:Pe(()=>[...x[25]||(x[25]=[z("Abrir Quadro",-1)])]),_:1})]),l("div",GAe,[l("div",qAe,[(O(!0),R(Me,null,je(s.value?.funil_resumo||[],(C,_)=>(O(),R("div",{key:_,class:"funnel-row"},[l("div",KAe,F(C.titulo),1),l("div",YAe,[l("div",{class:"funnel-bar",style:Ws({width:y(C.total,s.value.total_oportunidades)+"%"})},null,4),l("span",XAe,F(C.total),1)])]))),128)),s.value?.funil_resumo?.length?J("",!0):(O(),R("div",JAe,[x[28]||(x[28]=l("p",null,"Nenhuma oportunidade ativa.",-1)),be(E,{to:{name:"oportunidade-nova"},class:"btn-link-sm"},{default:Pe(()=>[...x[27]||(x[27]=[z("Criar Oportunidade",-1)])]),_:1})]))])])]),l("div",QAe,[l("div",ZAe,[x[30]||(x[30]=l("h3",null,[l("i",{class:"fas fa-map-marker-alt text-purple"}),z(" Prximas Visitas")],-1)),be(E,{to:{name:"visitas"},class:"link-small"},{default:Pe(()=>[...x[29]||(x[29]=[z("Agenda",-1)])]),_:1})]),l("div",eke,[s.value?.proximas_visitas?.length?(O(),R("div",nke,[(O(!0),R(Me,null,je(s.value.proximas_visitas,C=>(O(),R("div",{key:C.id,class:"visit-item"},[l("div",ske,[l("span",ike,F(m(C.data)),1),l("span",rke,F(g(C.data)),1)]),l("div",oke,[l("strong",null,F(C.imovel_titulo||"Imvel #"+C.imovel_id),1),l("span",null,F(C.cliente_nome),1)])]))),128))])):(O(),R("div",tke,[...x[31]||(x[31]=[l("p",null,"Nenhuma visita agendada.",-1)])]))])])])])]))])}}}),lke=tt(ake,[["__scopeId","data-v-d8e3725f"]]),cke={class:"page-container"},uke={class:"page-header"},dke={class:"header-main"},fke={class:"title-area"},hke={class:"breadcrumb"},pke={class:"card filter-card no-print"},mke={class:"filter-row"},gke={class:"form-group"},vke={class:"input-wrapper"},bke={class:"form-group"},yke={class:"input-wrapper"},xke={class:"actions-group"},_ke=["disabled"],Ske={key:0,class:"fas fa-spinner fa-spin"},Eke={key:1},wke=["disabled"],Cke={key:0,class:"loading-state"},Ake={key:1,class:"alert-box error no-print"},kke={key:2,class:"report-content fade-in",id:"dre-print-area"},Tke={class:"report-header print-only"},Dke={class:"summary-grid"},Oke={class:"kpi-card green"},Rke={class:"kpi-content"},Mke={class:"kpi-value"},Ike={class:"kpi-card red"},Nke={class:"kpi-content"},Pke={class:"kpi-value"},$ke={class:"kpi-content"},Lke={class:"kpi-value"},Fke={class:"card table-card"},Vke={class:"dre-table"},Bke={class:"item-name"},Uke={class:"text-right text-success"},Hke={class:"subtotal-row revenue-bg"},zke={class:"text-right text-success"},jke={class:"item-name"},Wke={class:"text-right text-danger"},Gke={class:"subtotal-row expense-bg"},qke={class:"text-right text-danger"},Kke={key:3,class:"empty-state"},Yke=We({__name:"DREView",setup(t){const e=new Date,n=H(Et(yd(e),"yyyy-MM-dd")),s=H(Et(Wc(e),"yyyy-MM-dd")),i=H(null),r=H(!1),o=H(null);function a(f){return f==null?"R$ 0,00":f.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}function c(f){if(!f)return"-";try{return Et(new Date(f+"T00:00:00"),"dd/MM/yyyy",{locale:ys})}catch{return"Invlida"}}async function u(){if(r.value=!0,o.value=null,i.value=null,!n.value||!s.value){o.value="Por favor, selecione as datas de incio e fim.",r.value=!1;return}try{const f=await ce.get("/v1/financeiro/dre/",{params:{start_date:n.value,end_date:s.value}});i.value=f.data}catch(f){console.error("Erro ao gerar DRE:",f),o.value="No foi possvel gerar o relatrio. Verifique a conexo."}finally{r.value=!1}}function d(){window.print()}return(f,h)=>{const m=on("router-link");return O(),R("div",cke,[l("header",uke,[l("div",dke,[l("div",fke,[l("nav",hke,[be(m,{to:"/"},{default:Pe(()=>[...h[2]||(h[2]=[z("Incio",-1)])]),_:1}),h[4]||(h[4]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),be(m,{to:"/financeiro"},{default:Pe(()=>[...h[3]||(h[3]=[z("Financeiro",-1)])]),_:1}),h[5]||(h[5]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),h[6]||(h[6]=l("span",{class:"active"},"DRE",-1))]),h[7]||(h[7]=l("h1",null,"Demonstrativo de Resultados",-1))])])]),l("div",pke,[l("div",mke,[l("div",gke,[h[9]||(h[9]=l("label",{for:"start-date"},"Data de Incio",-1)),l("div",vke,[h[8]||(h[8]=l("i",{class:"far fa-calendar-alt input-icon"},null,-1)),Y(l("input",{type:"date",id:"start-date","onUpdate:modelValue":h[0]||(h[0]=g=>n.value=g),class:"form-input has-icon"},null,512),[[de,n.value]])])]),l("div",bke,[h[11]||(h[11]=l("label",{for:"end-date"},"Data de Fim",-1)),l("div",yke,[h[10]||(h[10]=l("i",{class:"far fa-calendar-alt input-icon"},null,-1)),Y(l("input",{type:"date",id:"end-date","onUpdate:modelValue":h[1]||(h[1]=g=>s.value=g),class:"form-input has-icon"},null,512),[[de,s.value]])])]),l("div",xke,[l("button",{onClick:u,class:"btn-primary",disabled:r.value},[r.value?(O(),R("i",Ske)):(O(),R("span",Eke,[...h[12]||(h[12]=[l("i",{class:"fas fa-search"},null,-1),z(" Gerar Relatrio",-1)])]))],8,_ke),l("button",{onClick:d,class:"btn-secondary",disabled:!i.value||r.value},[...h[13]||(h[13]=[l("i",{class:"fas fa-print"},null,-1),z(" Imprimir ",-1)])],8,wke)])])]),r.value&&!i.value?(O(),R("div",Cke,[...h[14]||(h[14]=[l("div",{class:"spinner"},null,-1),l("p",null,"Calculando resultados...",-1)])])):J("",!0),o.value?(O(),R("div",Ake,[h[15]||(h[15]=l("i",{class:"fas fa-exclamation-triangle"},null,-1)),z(" "+F(o.value),1)])):J("",!0),i.value?(O(),R("div",kke,[l("div",Tke,[h[16]||(h[16]=l("h2",null,"DRE - Demonstrativo de Resultados",-1)),l("p",null,"Perodo: "+F(c(n.value))+" a "+F(c(s.value)),1)]),l("div",Dke,[l("div",Oke,[l("div",Rke,[h[17]||(h[17]=l("span",{class:"kpi-label"},"Total Receitas",-1)),l("span",Mke,F(a(i.value.total_receitas)),1)]),h[18]||(h[18]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-arrow-up"})],-1))]),l("div",Ike,[l("div",Nke,[h[19]||(h[19]=l("span",{class:"kpi-label"},"Total Despesas",-1)),l("span",Pke,F(a(i.value.total_despesas)),1)]),h[20]||(h[20]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-arrow-down"})],-1))]),l("div",{class:te(["kpi-card",i.value.resultado_liquido>=0?"blue":"orange"])},[l("div",$ke,[h[21]||(h[21]=l("span",{class:"kpi-label"},"Resultado Lquido",-1)),l("span",Lke,F(a(i.value.resultado_liquido)),1)]),h[22]||(h[22]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-balance-scale"})],-1))],2)]),l("div",Fke,[l("table",Vke,[h[30]||(h[30]=l("thead",null,[l("tr",null,[l("th",null,"Categoria / Descrio"),l("th",{class:"text-right"},"Valor")])],-1)),l("tbody",null,[h[26]||(h[26]=l("tr",{class:"section-header revenue-header"},[l("td",{colspan:"2"},[l("i",{class:"fas fa-plus-circle"}),z(" Receitas Operacionais")])],-1)),(O(!0),R(Me,null,je(i.value.detalhes_receitas,g=>(O(),R("tr",{key:`rec-${g.categoria_id}`,class:"item-row"},[l("td",Bke,F(g.categoria_nome),1),l("td",Uke,F(a(g.total)),1)]))),128)),l("tr",Hke,[h[23]||(h[23]=l("td",null,[l("strong",null,"Total de Receitas")],-1)),l("td",zke,[l("strong",null,F(a(i.value.total_receitas)),1)])]),h[27]||(h[27]=l("tr",{class:"spacer-row"},[l("td",{colspan:"2"})],-1)),h[28]||(h[28]=l("tr",{class:"section-header expense-header"},[l("td",{colspan:"2"},[l("i",{class:"fas fa-minus-circle"}),z(" Despesas Operacionais")])],-1)),(O(!0),R(Me,null,je(i.value.detalhes_despesas,g=>(O(),R("tr",{key:`desp-${g.categoria_id}`,class:"item-row"},[l("td",jke,F(g.categoria_nome),1),l("td",Wke,F(a(g.total)),1)]))),128)),l("tr",Gke,[h[24]||(h[24]=l("td",null,[l("strong",null,"Total de Despesas")],-1)),l("td",qke,[l("strong",null,F(a(i.value.total_despesas)),1)])]),h[29]||(h[29]=l("tr",{class:"spacer-row"},[l("td",{colspan:"2"})],-1)),l("tr",{class:te(["resultado-final-row",i.value.resultado_liquido>=0?"bg-success-light":"bg-danger-light"])},[h[25]||(h[25]=l("td",null,[l("strong",null,"RESULTADO LQUIDO DO PERODO")],-1)),l("td",{class:te(["text-right big-number",i.value.resultado_liquido>=0?"text-success":"text-danger"])},F(a(i.value.resultado_liquido)),3)],2)])])])])):J("",!0),!i.value&&!r.value&&!o.value?(O(),R("div",Kke,[...h[31]||(h[31]=[l("div",{class:"empty-content"},[l("i",{class:"fas fa-chart-pie"}),l("h3",null,"Gerao de DRE"),l("p",null,'Selecione o perodo desejado acima e clique em "Gerar Relatrio".')],-1)])])):J("",!0)])}}}),Xke=tt(Yke,[["__scopeId","data-v-592c899b"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yp(t){return t+.5|0}const Sl=(t,e,n)=>Math.max(Math.min(t,n),e);function Yf(t){return Sl(Yp(t*2.55),0,255)}function Pl(t){return Sl(Yp(t*255),0,255)}function aa(t){return Sl(Yp(t/2.55)/100,0,1)}function FM(t){return Sl(Yp(t*100),0,100)}const Dr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},dE=[..."0123456789ABCDEF"],Jke=t=>dE[t&15],Qke=t=>dE[(t&240)>>4]+dE[t&15],Sg=t=>(t&240)>>4===(t&15),Zke=t=>Sg(t.r)&&Sg(t.g)&&Sg(t.b)&&Sg(t.a);function eTe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Dr[t[1]]*17,g:255&Dr[t[2]]*17,b:255&Dr[t[3]]*17,a:e===5?Dr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Dr[t[1]]<<4|Dr[t[2]],g:Dr[t[3]]<<4|Dr[t[4]],b:Dr[t[5]]<<4|Dr[t[6]],a:e===9?Dr[t[7]]<<4|Dr[t[8]]:255})),n}const tTe=(t,e)=>t<255?e(t):"";function nTe(t){var e=Zke(t)?Jke:Qke;return t?"#"+e(t.r)+e(t.g)+e(t.b)+tTe(t.a,e):void 0}const sTe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mB(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function iTe(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function rTe(t,e,n){const s=mB(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function oTe(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function dA(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let c,u,d;return r!==o&&(d=r-o,u=a>.5?d/(2-r-o):d/(r+o),c=oTe(n,s,i,d,r),c=c*60+.5),[c|0,u||0,a]}function fA(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Pl)}function hA(t,e,n){return fA(mB,t,e,n)}function aTe(t,e,n){return fA(rTe,t,e,n)}function lTe(t,e,n){return fA(iTe,t,e,n)}function gB(t){return(t%360+360)%360}function cTe(t){const e=sTe.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?Yf(+e[5]):Pl(+e[5]));const i=gB(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=aTe(i,r,o):e[1]==="hsv"?s=lTe(i,r,o):s=hA(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function uTe(t,e){var n=dA(t);n[0]=gB(n[0]+e),n=hA(n),t.r=n[0],t.g=n[1],t.b=n[2]}function dTe(t){if(!t)return;const e=dA(t),n=e[0],s=FM(e[1]),i=FM(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${aa(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const VM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},BM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fTe(){const t={},e=Object.keys(BM),n=Object.keys(VM);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,VM[r]);r=parseInt(BM[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Eg;function hTe(t){Eg||(Eg=fTe(),Eg.transparent=[0,0,0,0]);const e=Eg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const pTe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mTe(t){const e=pTe.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?Yf(o):Sl(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?Yf(s):Sl(s,0,255)),i=255&(e[4]?Yf(i):Sl(i,0,255)),r=255&(e[6]?Yf(r):Sl(r,0,255)),{r:s,g:i,b:r,a:n}}}function gTe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${aa(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const p_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Xu=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vTe(t,e,n){const s=Xu(aa(t.r)),i=Xu(aa(t.g)),r=Xu(aa(t.b));return{r:Pl(p_(s+n*(Xu(aa(e.r))-s))),g:Pl(p_(i+n*(Xu(aa(e.g))-i))),b:Pl(p_(r+n*(Xu(aa(e.b))-r))),a:t.a+n*(e.a-t.a)}}function wg(t,e,n){if(t){let s=dA(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=hA(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function vB(t,e){return t&&Object.assign(e||{},t)}function UM(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Pl(t[3]))):(e=vB(t,{r:0,g:0,b:0,a:1}),e.a=Pl(e.a)),e}function bTe(t){return t.charAt(0)==="r"?mTe(t):cTe(t)}class gp{constructor(e){if(e instanceof gp)return e;const n=typeof e;let s;n==="object"?s=UM(e):n==="string"&&(s=eTe(e)||hTe(e)||bTe(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=vB(this._rgb);return e&&(e.a=aa(e.a)),e}set rgb(e){this._rgb=UM(e)}rgbString(){return this._valid?gTe(this._rgb):void 0}hexString(){return this._valid?nTe(this._rgb):void 0}hslString(){return this._valid?dTe(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,c=s.a-i.a,u=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;r=1-u,s.r=255&u*s.r+r*i.r+.5,s.g=255&u*s.g+r*i.g+.5,s.b=255&u*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=vTe(this._rgb,e._rgb,n)),this}clone(){return new gp(this.rgb)}alpha(e){return this._rgb.a=Pl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Yp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return wg(this._rgb,2,e),this}darken(e){return wg(this._rgb,2,-e),this}saturate(e){return wg(this._rgb,1,e),this}desaturate(e){return wg(this._rgb,1,-e),this}rotate(e){return uTe(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Zo(){}const yTe=(()=>{let t=0;return()=>t++})();function Kt(t){return t==null}function Un(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function tn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ss(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ar(t,e){return ss(t)?t:e}function Dt(t,e){return typeof t>"u"?e:t}const xTe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,bB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function kn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function yn(t,e,n,s){let i,r,o;if(Un(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(tn(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function Jb(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Qb(t){if(Un(t))return t.map(Qb);if(tn(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=Qb(t[n[i]]);return e}return t}function yB(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _Te(t,e,n,s){if(!yB(t))return;const i=e[t],r=n[t];tn(i)&&tn(r)?vp(i,r,s):e[t]=Qb(r)}function vp(t,e,n){const s=Un(e)?e:[e],i=s.length;if(!tn(t))return t;n=n||{};const r=n.merger||_Te;let o;for(let a=0;a<i;++a){if(o=s[a],!tn(o))continue;const c=Object.keys(o);for(let u=0,d=c.length;u<d;++u)r(c[u],t,o,n)}return t}function Ah(t,e){return vp(t,e,{merger:STe})}function STe(t,e,n){if(!yB(t))return;const s=e[t],i=n[t];tn(s)&&tn(i)?Ah(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Qb(i))}const HM={"":t=>t,x:t=>t.x,y:t=>t.y};function ETe(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function wTe(t){const e=ETe(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function jl(t,e){return(HM[e]||(HM[e]=wTe(e)))(t)}function pA(t){return t.charAt(0).toUpperCase()+t.slice(1)}const bp=t=>typeof t<"u",Wl=t=>typeof t=="function",zM=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function CTe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const cn=Math.PI,Pn=2*cn,ATe=Pn+cn,Zb=Number.POSITIVE_INFINITY,kTe=cn/180,ps=cn/2,hc=cn/4,jM=cn*2/3,El=Math.log10,ko=Math.sign;function kh(t,e,n){return Math.abs(t-e)<n}function WM(t){const e=Math.round(t);t=kh(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(El(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function TTe(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function DTe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Xd(t){return!DTe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function OTe(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function xB(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function to(t){return t*(cn/180)}function mA(t){return t*(180/cn)}function GM(t){if(!ss(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function _B(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*cn&&(r+=Pn),{angle:r,distance:i}}function fE(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function RTe(t,e){return(t-e+ATe)%Pn-cn}function si(t){return(t%Pn+Pn)%Pn}function yp(t,e,n,s){const i=si(t),r=si(e),o=si(n),a=si(r-i),c=si(o-i),u=si(i-r),d=si(i-o);return i===r||i===o||s&&r===o||a>c&&u<d}function Ds(t,e,n){return Math.max(e,Math.min(n,t))}function MTe(t){return Ds(t,-32768,32767)}function ma(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function gA(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const ga=(t,e,n,s)=>gA(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),ITe=(t,e,n)=>gA(t,n,s=>t[s][e]>=n);function NTe(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const SB=["push","pop","shift","splice","unshift"];function PTe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),SB.forEach(n=>{const s="_onData"+pA(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function qM(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(SB.forEach(r=>{delete t[r]}),delete t._chartjs)}function EB(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const wB=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function CB(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,wB.call(window,()=>{s=!1,t.apply(e,n)}))}}function $Te(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const vA=t=>t==="start"?"left":t==="end"?"right":"center",Zs=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,LTe=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function AB(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:m,maxDefined:g}=o.getUserBounds();if(m){if(i=Math.min(ga(c,d,f).lo,n?s:ga(e,d,o.getPixelForValue(f)).lo),u){const y=c.slice(0,i+1).reverse().findIndex(b=>!Kt(b[a.axis]));i-=Math.max(0,y)}i=Ds(i,0,s-1)}if(g){let y=Math.max(ga(c,o.axis,h,!0).hi+1,n?0:ga(e,d,o.getPixelForValue(h),!0).hi+1);if(u){const b=c.slice(y-1).findIndex(x=>!Kt(x[a.axis]));y+=Math.max(0,b)}r=Ds(y,i,s)-i}else r=s-i}return{start:i,count:r}}function kB(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Cg=t=>t===0||t===1,KM=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Pn/n)),YM=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Pn/n)+1,Th={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ps)+1,easeOutSine:t=>Math.sin(t*ps),easeInOutSine:t=>-.5*(Math.cos(cn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Cg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Cg(t)?t:KM(t,.075,.3),easeOutElastic:t=>Cg(t)?t:YM(t,.075,.3),easeInOutElastic(t){return Cg(t)?t:t<.5?.5*KM(t*2,.1125,.45):.5+.5*YM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Th.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Th.easeInBounce(t*2)*.5:Th.easeOutBounce(t*2-1)*.5+.5};function bA(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function XM(t){return bA(t)?t:new gp(t)}function m_(t){return bA(t)?t:new gp(t).saturate(.5).darken(.1).hexString()}const FTe=["x","y","borderWidth","radius","tension"],VTe=["color","borderColor","backgroundColor"];function BTe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:VTe},numbers:{type:"number",properties:FTe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function UTe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JM=new Map;function HTe(t,e){e=e||{};const n=t+JSON.stringify(e);let s=JM.get(n);return s||(s=new Intl.NumberFormat(t,e),JM.set(n,s)),s}function Xp(t,e,n){return HTe(e,n).format(t)}const TB={values(t){return Un(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),r=zTe(t,n)}const o=El(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Xp(t,s,c)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(El(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?TB.numeric.call(this,t,e,n):""}};function zTe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var T1={formatters:TB};function jTe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:T1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bu=Object.create(null),hE=Object.create(null);function Dh(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function g_(t,e,n){return typeof e=="string"?vp(Dh(t,e),n):vp(Dh(t,""),e)}class WTe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>m_(i.backgroundColor),this.hoverBorderColor=(s,i)=>m_(i.borderColor),this.hoverColor=(s,i)=>m_(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return g_(this,e,n)}get(e){return Dh(this,e)}describe(e,n){return g_(hE,e,n)}override(e,n){return g_(bu,e,n)}route(e,n,s,i){const r=Dh(this,e),o=Dh(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const c=this[a],u=o[i];return tn(c)?Object.assign({},u,c):Dt(c,u)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}}var zn=new WTe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[BTe,UTe,jTe]);function GTe(t){return!t||Kt(t.size)||Kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ey(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function qTe(t,e,n,s){s=s||{};let i=s.data=s.data||{},r=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(i=s.data={},r=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const a=n.length;let c,u,d,f,h;for(c=0;c<a;c++)if(f=n[c],f!=null&&!Un(f))o=ey(t,i,r,o,f);else if(Un(f))for(u=0,d=f.length;u<d;u++)h=f[u],h!=null&&!Un(h)&&(o=ey(t,i,r,o,h));t.restore();const m=r.length/2;if(m>n.length){for(c=0;c<m;c++)delete i[r[c]];r.splice(0,m)}return o}function pc(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function QM(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function pE(t,e,n,s){DB(t,e,n,s,null)}function DB(t,e,n,s,i){let r,o,a,c,u,d,f,h;const m=e.pointStyle,g=e.rotation,y=e.radius;let b=(g||0)*kTe;if(m&&typeof m=="object"&&(r=m.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,s,i/2,y,0,0,Pn):t.arc(n,s,y,0,Pn),t.closePath();break;case"triangle":d=i?i/2:y,t.moveTo(n+Math.sin(b)*d,s-Math.cos(b)*y),b+=jM,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*y),b+=jM,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,o=Math.cos(b+hc)*c,f=Math.cos(b+hc)*(i?i/2-u:c),a=Math.sin(b+hc)*c,h=Math.sin(b+hc)*(i?i/2-u:c),t.arc(n-f,s-a,u,b-cn,b-ps),t.arc(n+h,s-o,u,b-ps,b),t.arc(n+f,s+a,u,b,b+ps),t.arc(n-h,s+o,u,b+ps,b+cn),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*y,d=i?i/2:c,t.rect(n-d,s-c,2*d,2*c);break}b+=hc;case"rectRot":f=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,h=Math.sin(b)*(i?i/2:y),t.moveTo(n-f,s-a),t.lineTo(n+h,s-o),t.lineTo(n+f,s+a),t.lineTo(n-h,s+o),t.closePath();break;case"crossRot":b+=hc;case"cross":f=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,h=Math.sin(b)*(i?i/2:y),t.moveTo(n-f,s-a),t.lineTo(n+f,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"star":f=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,h=Math.sin(b)*(i?i/2:y),t.moveTo(n-f,s-a),t.lineTo(n+f,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o),b+=hc,f=Math.cos(b)*(i?i/2:y),o=Math.cos(b)*y,a=Math.sin(b)*y,h=Math.sin(b)*(i?i/2:y),t.moveTo(n-f,s-a),t.lineTo(n+f,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"line":o=i?i/2:Math.cos(b)*y,a=Math.sin(b)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(b)*(i?i/2:y),s+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function va(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function D1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function O1(t){t.restore()}function KTe(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function YTe(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function XTe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function JTe(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,c=n-r.actualBoundingBoxAscent,u=n+r.actualBoundingBoxDescent,d=i.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function QTe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function yu(t,e,n,s,i,r={}){const o=Un(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let c,u;for(t.save(),t.font=i.string,XTe(t,r),c=0;c<o.length;++c)u=o[c],r.backdrop&&QTe(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),Kt(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(u,n,s,r.maxWidth)),t.fillText(u,n,s,r.maxWidth),JTe(t,n,s,u,r),s+=Number(i.lineHeight);t.restore()}function xp(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*cn,cn,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,cn,ps,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,ps,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-ps,!0),t.lineTo(n+o.topLeft,s)}const ZTe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,e2e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function t2e(t,e){const n=(""+t).match(ZTe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const n2e=t=>+t||0;function yA(t,e){const n={},s=tn(e),i=s?Object.keys(e):e,r=tn(t)?s?o=>Dt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=n2e(r(o));return n}function OB(t){return yA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Zc(t){return yA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function mi(t){const e=OB(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Cs(t,e){t=t||{},e=e||zn.font;let n=Dt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Dt(t.style,e.style);s&&!(""+s).match(e2e)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Dt(t.family,e.family),lineHeight:t2e(Dt(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Dt(t.weight,e.weight),string:""};return i.string=GTe(i),i}function Xf(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function s2e(t,e,n){const{min:s,max:i}=t,r=bB(e,(i-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function Zl(t,e){return Object.assign(Object.create(t),e)}function xA(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=NB("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>xA([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return MB(a,c,()=>d2e(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return eI(a).includes(c)},ownKeys(a){return eI(a)},set(a,c,u){const d=a._storage||(a._storage=i());return a[c]=d[c]=u,delete a._keys,!0}})}function Jd(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:RB(t,s),setContext:r=>Jd(t,r,n,s),override:r=>Jd(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return MB(r,o,()=>r2e(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function RB(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Wl(n)?n:()=>n,isIndexable:Wl(s)?s:()=>s}}const i2e=(t,e)=>t?t+pA(e):e,_A=(t,e)=>tn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function MB(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function r2e(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return Wl(a)&&o.isScriptable(e)&&(a=o2e(e,a,t,n)),Un(a)&&a.length&&(a=a2e(e,a,t,o.isIndexable)),_A(e,a)&&(a=Jd(a,i,r&&r[e],o)),a}function o2e(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(r,o||s);return a.delete(t),_A(t,c)&&(c=SA(i._scopes,i,t,c)),c}function a2e(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(tn(e[0])){const c=e,u=i._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=SA(u,i,t,d);e.push(Jd(f,r,o&&o[t],a))}}return e}function IB(t,e,n){return Wl(t)?t(e,n):t}const l2e=(t,e)=>t===!0?e:typeof t=="string"?jl(e,t):void 0;function c2e(t,e,n,s,i){for(const r of e){const o=l2e(n,r);if(o){t.add(o);const a=IB(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function SA(t,e,n,s){const i=e._rootScopes,r=IB(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let c=ZM(a,o,n,r||n,s);return c===null||typeof r<"u"&&r!==n&&(c=ZM(a,o,r,c,s),c===null)?!1:xA(Array.from(a),[""],i,r,()=>u2e(e,n,s))}function ZM(t,e,n,s,i){for(;n;)n=c2e(t,e,n,s,i);return n}function u2e(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return Un(i)&&tn(n)?n:i||{}}function d2e(t,e,n,s){let i;for(const r of e)if(i=NB(i2e(r,t),n),typeof i<"u")return _A(t,i)?SA(n,s,t,i):i}function NB(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function eI(t){let e=t._keys;return e||(e=t._keys=f2e(t._scopes)),e}function f2e(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}function PB(t,e,n,s){const{iScale:i}=t,{key:r="r"}=this._parsing,o=new Array(s);let a,c,u,d;for(a=0,c=s;a<c;++a)u=a+n,d=e[u],o[a]={r:i.parse(jl(d,r),u)};return o}const h2e=Number.EPSILON||1e-14,Qd=(t,e)=>e<t.length&&!t[e].skip&&t[e],$B=t=>t==="x"?"y":"x";function p2e(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=fE(r,i),c=fE(o,r);let u=a/(a+c),d=c/(a+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=s*u,h=s*d;return{previous:{x:r.x-f*(o.x-i.x),y:r.y-f*(o.y-i.y)},next:{x:r.x+h*(o.x-i.x),y:r.y+h*(o.y-i.y)}}}function m2e(t,e,n){const s=t.length;let i,r,o,a,c,u=Qd(t,0);for(let d=0;d<s-1;++d)if(c=u,u=Qd(t,d+1),!(!c||!u)){if(kh(e[d],0,h2e)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],r=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=r*o*e[d])}}function g2e(t,e,n="x"){const s=$B(n),i=t.length;let r,o,a,c=Qd(t,0);for(let u=0;u<i;++u){if(o=a,a=c,c=Qd(t,u+1),!a)continue;const d=a[n],f=a[s];o&&(r=(d-o[n])/3,a[`cp1${n}`]=d-r,a[`cp1${s}`]=f-r*e[u]),c&&(r=(c[n]-d)/3,a[`cp2${n}`]=d+r,a[`cp2${s}`]=f+r*e[u])}}function v2e(t,e="x"){const n=$B(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,c,u=Qd(t,0);for(o=0;o<s;++o)if(a=c,c=u,u=Qd(t,o+1),!!c){if(u){const d=u[e]-c[e];i[o]=d!==0?(u[n]-c[n])/d:0}r[o]=a?u?ko(i[o-1])!==ko(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}m2e(t,i,r),g2e(t,r,e)}function Ag(t,e,n){return Math.max(Math.min(t,n),e)}function b2e(t,e){let n,s,i,r,o,a=va(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&va(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=Ag(i.cp1x,e.left,e.right),i.cp1y=Ag(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Ag(i.cp2x,e.left,e.right),i.cp2y=Ag(i.cp2y,e.top,e.bottom)))}function y2e(t,e,n,s,i){let r,o,a,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")v2e(t,i);else{let u=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],c=p2e(u,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,u=a}e.capBezierPoints&&b2e(t,n)}function EA(){return typeof window<"u"&&typeof document<"u"}function wA(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ty(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const R1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function x2e(t,e){return R1(t).getPropertyValue(e)}const _2e=["top","right","bottom","left"];function eu(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=_2e[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const S2e=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function E2e(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,c;if(S2e(i,r,t.target))a=i,c=r;else{const u=e.getBoundingClientRect();a=s.clientX-u.left,c=s.clientY-u.top,o=!0}return{x:a,y:c,box:o}}function Ec(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=R1(n),r=i.boxSizing==="border-box",o=eu(i,"padding"),a=eu(i,"border","width"),{x:c,y:u,box:d}=E2e(t,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:m,height:g}=e;return r&&(m-=o.width+a.width,g-=o.height+a.height),{x:Math.round((c-f)/m*n.width/s),y:Math.round((u-h)/g*n.height/s)}}function w2e(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&wA(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=R1(r),c=eu(a,"border","width"),u=eu(a,"padding");e=o.width-u.width-c.width,n=o.height-u.height-c.height,s=ty(a.maxWidth,r,"clientWidth"),i=ty(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||Zb,maxHeight:i||Zb}}const wl=t=>Math.round(t*10)/10;function C2e(t,e,n,s){const i=R1(t),r=eu(i,"margin"),o=ty(i.maxWidth,t,"clientWidth")||Zb,a=ty(i.maxHeight,t,"clientHeight")||Zb,c=w2e(t,e,n);let{width:u,height:d}=c;if(i.boxSizing==="content-box"){const h=eu(i,"border","width"),m=eu(i,"padding");u-=m.width+h.width,d-=m.height+h.height}return u=Math.max(0,u-r.width),d=Math.max(0,s?u/s:d-r.height),u=wl(Math.min(u,o,c.maxWidth)),d=wl(Math.min(d,a,c.maxHeight)),u&&!d&&(d=wl(u/2)),(e!==void 0||n!==void 0)&&s&&c.height&&d>c.height&&(d=c.height,u=wl(Math.floor(d*s))),{width:u,height:d}}function tI(t,e,n){const s=e||1,i=wl(t.height*s),r=wl(t.width*s);t.height=wl(t.height),t.width=wl(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const A2e=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};EA()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function nI(t,e){const n=x2e(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function wc(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function k2e(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function T2e(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=wc(t,i,n),a=wc(i,r,n),c=wc(r,e,n),u=wc(o,a,n),d=wc(a,c,n);return wc(u,d,n)}const D2e=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},O2e=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function kd(t,e,n){return t?D2e(e,n):O2e()}function LB(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function FB(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function VB(t){return t==="angle"?{between:yp,compare:RTe,normalize:si}:{between:ma,compare:(e,n)=>e-n,normalize:e=>e}}function sI({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function R2e(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=VB(s),c=e.length;let{start:u,end:d,loop:f}=t,h,m;if(f){for(u+=c,d+=c,h=0,m=c;h<m&&o(a(e[u%c][s]),i,r);++h)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function BB(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:c,normalize:u}=VB(s),{start:d,end:f,loop:h,style:m}=R2e(t,e,n),g=[];let y=!1,b=null,x,E,C;const _=()=>c(i,C,x)&&a(i,C)!==0,T=()=>a(r,x)===0||c(r,C,x),k=()=>y||_(),$=()=>!y||T();for(let M=d,P=d;M<=f;++M)E=e[M%o],!E.skip&&(x=u(E[s]),x!==C&&(y=c(x,i,r),b===null&&k()&&(b=a(x,i)===0?M:P),b!==null&&$()&&(g.push(sI({start:b,end:M,loop:h,count:o,style:m})),b=null),P=M,C=x));return b!==null&&g.push(sI({start:b,end:f,loop:h,count:o,style:m})),g}function UB(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=BB(s[i],t.points,e);r.length&&n.push(...r)}return n}function M2e(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function I2e(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],c;for(c=e+1;c<=n;++c){const u=t[c%i];u.skip||u.stop?a.skip||(s=!1,r.push({start:e%i,end:(c-1)%i,loop:s}),e=o=u.stop?c:null):(o=c,a.skip&&(e=c)),a=u}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function N2e(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=M2e(n,i,r,s);if(s===!0)return iI(t,[{start:o,end:a,loop:r}],n,e);const c=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return iI(t,I2e(n,o,c,u),n,e)}function iI(t,e,n,s){return!s||!s.setContext||!n?e:P2e(t,e,n,s)}function P2e(t,e,n,s){const i=t._chart.getContext(),r=rI(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,u=[];let d=r,f=e[0].start,h=f;function m(g,y,b,x){const E=a?-1:1;if(g!==y){for(g+=c;n[g%c].skip;)g-=E;for(;n[y%c].skip;)y+=E;g%c!==y%c&&(u.push({start:g%c,end:y%c,loop:b,style:x}),d=x,f=y%c)}}for(const g of e){f=a?f:g.start;let y=n[f%c],b;for(h=f+1;h<=g.end;h++){const x=n[h%c];b=rI(s.setContext(Zl(i,{type:"segment",p0:y,p1:x,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),$2e(b,d)&&m(f,h-1,g.loop,d),y=x,d=b}f<h-1&&m(f,h-1,g.loop,d)}return u}function rI(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function $2e(t,e){if(!e)return!1;const n=[],s=function(i,r){return bA(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function kg(t,e,n){return t.options.clip?t[n]:e[n]}function L2e(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:kg(n,e,"left"),right:kg(n,e,"right"),top:kg(s,e,"top"),bottom:kg(s,e,"bottom")}:e}function HB(t,e){const n=e._clip;if(n.disabled)return!1;const s=L2e(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class F2e{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=wB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,c;for(;o>=0;--o)c=r[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var na=new F2e;const oI="transparent",V2e={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=XM(t||oI),i=s.valid&&XM(e||oI);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class B2e{constructor(e,n,s,i){const r=n[s];i=Xf([e.to,i,r,e.from]);const o=Xf([e.from,r,i]);this._active=!0,this._fn=e.fn||V2e[e.type||typeof o],this._easing=Th[e.easing]||Th.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Xf([e.to,n,i,e.from]),this._from=Xf([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let c;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(r,a,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class zB{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!tn(e))return;const n=Object.keys(zn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!tn(r))return;const o={};for(const a of n)o[a]=r[a];(Un(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=H2e(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&U2e(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let c;for(c=o.length-1;c>=0;--c){const u=o[c];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[u];let f=r[u];const h=s.get(u);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){e[u]=d;continue}r[u]=f=new B2e(h,e,u,d),i.push(f)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return na.add(this._chart,s),!0}}function U2e(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function H2e(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function aI(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function z2e(t,e,n){if(n===!1)return!1;const s=aI(t,n),i=aI(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function j2e(t){let e,n,s,i;return tn(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function jB(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function lI(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,c,u;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(c=+i[o],c===n){if(d=!0,s.all)continue;break}u=t.values[c],ss(u)&&(r||e===0||ko(e)===ko(u))&&(e+=u)}return!d&&!s.all?0:e}function W2e(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let c,u,d;for(c=0,u=o.length;c<u;++c)d=o[c],a[c]={[i]:d,[r]:t[d]};return a}function v_(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function G2e(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function q2e(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function K2e(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function cI(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function uI(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,c=r.axis,u=o.axis,d=G2e(r,o,s),f=e.length;let h;for(let m=0;m<f;++m){const g=e[m],{[c]:y,[u]:b}=g,x=g._stacks||(g._stacks={});h=x[u]=K2e(i,d,y),h[a]=b,h._top=cI(h,o,!0,s.type),h._bottom=cI(h,o,!1,s.type);const E=h._visualValues||(h._visualValues={});E[a]=b}}function b_(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function Y2e(t,e){return Zl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function X2e(t,e,n){return Zl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Nf(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const y_=t=>t==="reset"||t==="none",dI=(t,e)=>e?t:Object.assign({},t),J2e=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:jB(n,!0),values:null};class ec{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=v_(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Nf(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(f,h,m,g)=>f==="x"?h:f==="r"?g:m,r=n.xAxisID=Dt(s.xAxisID,b_(e,"x")),o=n.yAxisID=Dt(s.yAxisID,b_(e,"y")),a=n.rAxisID=Dt(s.rAxisID,b_(e,"r")),c=n.indexAxis,u=n.iAxisID=i(c,r,o,a),d=n.vAxisID=i(c,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&qM(this._data,this),e._stacked&&Nf(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(tn(n)){const i=this._cachedMeta;this._data=W2e(n,i)}else if(s!==n){if(s){qM(s,this);const i=this._cachedMeta;Nf(i),i._parsed=[]}n&&Object.isExtensible(n)&&PTe(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=v_(n.vScale,n),n.stack!==s.stack&&(i=!0,Nf(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(uI(this,n._parsed),n._stacked=v_(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let c=e===0&&n===i.length?!0:s._sorted,u=e>0&&s._parsed[e-1],d,f,h;if(this._parsing===!1)s._parsed=i,s._sorted=!0,h=i;else{Un(i[e])?h=this.parseArrayData(s,i,e,n):tn(i[e])?h=this.parseObjectData(s,i,e,n):h=this.parsePrimitiveData(s,i,e,n);const m=()=>f[a]===null||u&&f[a]<u[a];for(d=0;d<n;++d)s._parsed[d+e]=f=h[d],c&&(m()&&(c=!1),u=f);s._sorted=c}o&&uI(this,h)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,c=o.axis,u=r.getLabels(),d=r===o,f=new Array(i);let h,m,g;for(h=0,m=i;h<m;++h)g=h+s,f[h]={[a]:d||r.parse(u[g],g),[c]:o.parse(n[g],g)};return f}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let c,u,d,f;for(c=0,u=i;c<u;++c)d=c+s,f=n[d],a[c]={x:r.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=new Array(i);let d,f,h,m;for(d=0,f=i;d<f;++d)h=d+s,m=n[h],u[d]={x:r.parse(jl(m,a),h),y:o.parse(jl(m,c),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:jB(i,!0),values:n._stacks[e.axis]._visualValues};return lI(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=lI(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),c=J2e(n,s,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=q2e(a);let h,m;function g(){m=i[h];const y=m[a.axis];return!ss(m[e.axis])||d>y||f<y}for(h=0;h<o&&!(!g()&&(this.updateRangeFromParsed(u,e,m,c),r));++h);if(r){for(h=o-1;h>=0;--h)if(!g()){this.updateRangeFromParsed(u,e,m,c);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],ss(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=j2e(Dt(this.options.clip,z2e(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,c=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,c),d=a;d<a+c;++d){const f=i[d];f.hidden||(f.active&&u?o.push(f):f.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=X2e(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Y2e(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],c=this.enableOptionSharing&&bp(s);if(a)return dI(a,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),m=Object.keys(zn.elements[e]),g=()=>this.getContext(s,i,n),y=u.resolveNamedOptions(h,m,g,f);return y.$shared&&(y.$shared=c,r[o]=Object.freeze(dI(y,c))),y}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let c;if(i.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(e,s,n))}const u=new zB(i,c&&c.animations);return c&&c._cacheable&&(r[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||y_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){y_(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!y_(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,c,u]of this._syncList)this[a](c,u);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const c=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(c(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&c(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&Nf(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Q2e(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=EB(s.sort((i,r)=>i-r))}return t._cache.$bar}function Z2e(t){const e=t.iScale,n=Q2e(e,t.type);let s=e._length,i,r,o,a;const c=()=>{o===32767||o===-32768||(bp(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),c();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),c();return s}function eDe(t,e,n,s){const i=n.barThickness;let r,o;return Kt(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function tDe(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const c=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const u=r-(r-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:u}}function nDe(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let c=o,u=a;Math.abs(o)>Math.abs(a)&&(c=a,u=o),e[n.axis]=u,e._custom={barStart:c,barEnd:u,start:i,end:r,min:o,max:a}}function WB(t,e,n,s){return Un(t)?nDe(t,e,n,s):e[n.axis]=n.parse(t,s),e}function fI(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,c=[];let u,d,f,h;for(u=n,d=n+s;u<d;++u)h=e[u],f={},f[i.axis]=a||i.parse(o[u],u),c.push(WB(h,f,r,u));return c}function x_(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sDe(t,e,n){return t!==0?ko(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function iDe(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function rDe(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:c,top:u,bottom:d}=iDe(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=u:(n._bottom||0)===s?i=d:(r[hI(d,o,a,c)]=!0,i=u)),r[hI(i,o,a,c)]=!0,t.borderSkipped=r}function hI(t,e,n,s){return s?(t=oDe(t,e,n),t=pI(t,n,e)):t=pI(t,e,n),t}function oDe(t,e,n){return t===e?n:t===n?e:t}function pI(t,e,n){return t==="start"?e:t==="end"?n:t}function aDe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class lDe extends ec{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,s,i){return fI(e,n,s,i)}parseArrayData(e,n,s,i){return fI(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:c="y"}=this._parsing,u=r.axis==="x"?a:c,d=o.axis==="x"?a:c,f=[];let h,m,g,y;for(h=s,m=s+i;h<m;++h)y=n[h],g={},g[r.axis]=r.parse(jl(y,u),h),f.push(WB(jl(y,d),g,o,h));return f}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=x_(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,c=a.getBasePixel(),u=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let m=n;m<n+s;m++){const g=this.getParsed(m),y=r||Kt(g[a.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,d),x=(g._stacks||{})[a.axis],E={horizontal:u,base:y.base,enableBorderRadius:!x||x_(g._custom)||o===x._top||o===x._bottom,x:u?y.head:b.center,y:u?b.center:y.head,height:u?b.size:Math.abs(y.size),width:u?Math.abs(y.size):b.size};h&&(E.options=f||this.resolveDataElementOptions(m,e[m].active?"active":i));const C=E.options||e[m].options;rDe(E,C,x,o),aDe(E,C,d.ratio),this.updateElement(e[m],m,E,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),c=a&&a[s.axis],u=d=>{const f=d._parsed.find(m=>m[s.axis]===c),h=f&&f[d.vScale.axis];if(Kt(h)||isNaN(h))return!0};for(const d of i)if(!(n!==void 0&&u(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Dt(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||Z2e(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,c=this.getParsed(e),u=c._custom,d=x_(u);let f=c[n.axis],h=0,m=s?this.applyStack(n,c,s):f,g,y;m!==f&&(h=m-f,m=f),d&&(f=u.barStart,m=u.barEnd-u.barStart,f!==0&&ko(f)!==ko(u.barEnd)&&(h=0),h+=f);const b=!Kt(r)&&!d?r:h;let x=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(h+m):g=x,y=g-x,Math.abs(y)<o){y=sDe(y,n,a)*o,f===a&&(x-=y/2);const E=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),_=Math.min(E,C),T=Math.max(E,C);x=Math.max(Math.min(x,T),_),g=x+y,s&&!d&&(c._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(x))}if(x===n.getPixelForValue(a)){const E=ko(y)*n.getLineWidthForValue(a)/2;x+=E,y-=E}return{size:y,base:x,head:g,center:g+y/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=Dt(i.maxBarThickness,1/0);let a,c;const u=this._getAxisCount();if(n.grouped){const d=r?this._getStackCount(e):n.stackCount,f=i.barThickness==="flex"?tDe(e,n,i,d*u):eDe(e,n,i,d*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Dt(h,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+m;a=f.start+f.chunk*g+f.chunk/2,c=Math.min(o,f.chunk*f.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,n.min*n.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}class cDe extends ec{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,s,i){const r=super.parsePrimitiveData(e,n,s,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+s).radius;return r}parseArrayData(e,n,s,i){const r=super.parseArrayData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=Dt(a[2],this.resolveDataElementOptions(o+s).radius)}return r}parseObjectData(e,n,s,i){const r=super.parseObjectData(e,n,s,i);for(let o=0;o<r.length;o++){const a=n[s+o];r[o]._custom=Dt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size(this.resolveDataElementOptions(s))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),c=r.getLabelForValue(o.y),u=o._custom;return{label:s[e]||"",value:"("+a+", "+c+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(n,i),d=o.axis,f=a.axis;for(let h=n;h<n+s;h++){const m=e[h],g=!r&&this.getParsed(h),y={},b=y[d]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[d]),x=y[f]=r?a.getBasePixel():a.getPixelForValue(g[f]);y.skip=isNaN(b)||isNaN(x),u&&(y.options=c||this.resolveDataElementOptions(h,m.active?"active":i),r&&(y.options.radius=0)),this.updateElement(m,h,y,i)}}resolveDataElementOptions(e,n){const s=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Dt(s&&s._custom,r),i}}function uDe(t,e,n){let s=1,i=1,r=0,o=0;if(e<Pn){const a=t,c=a+e,u=Math.cos(a),d=Math.sin(a),f=Math.cos(c),h=Math.sin(c),m=(C,_,T)=>yp(C,a,c,!0)?1:Math.max(_,_*n,T,T*n),g=(C,_,T)=>yp(C,a,c,!0)?-1:Math.min(_,_*n,T,T*n),y=m(0,u,f),b=m(ps,d,h),x=g(cn,u,f),E=g(cn+ps,d,h);s=(y-x)/2,i=(b-E)/2,r=-(y+x)/2,o=-(b+E)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class CA extends ec{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((c,u)=>{const f=e.getDatasetMeta(0).controller.getStyle(u);return{text:c,fillStyle:f.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(u),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:i,pointStyle:s,borderRadius:o&&(a||f.borderRadius),index:u}}):[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=c=>+s[c];if(tn(s[e])){const{key:c="value"}=this._parsing;r=u=>+jl(s[u],c)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return to(this.options.rotation-90)}_getCircumference(){return to(this.options.circumference)}_getRotationExtents(){let e=Pn,n=-Pn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(xTe(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:g,offsetY:y}=uDe(f,d,c),b=(s.width-o)/h,x=(s.height-o)/m,E=Math.max(Math.min(b,x)/2,0),C=bB(this.options.radius,E),_=Math.max(C*c,0),T=(C-_)/this._getVisibleDatasetWeightTotal();this.offsetX=g*C,this.offsetY=y*C,i.total=this.calculateTotal(),this.outerRadius=C-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/Pn)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=r&&u.animateScale,m=h?0:this.innerRadius,g=h?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(n,i);let x=this._getRotation(),E;for(E=0;E<n;++E)x+=this._circumference(E,r);for(E=n;E<n+s;++E){const C=this._circumference(E,r),_=e[E],T={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+C,circumference:C,outerRadius:g,innerRadius:m};b&&(T.options=y||this.resolveDataElementOptions(E,_.active?"active":i)),x+=C,this.updateElement(_,E,T,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Pn*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Xp(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,c;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)c=a.resolveDataElementOptions(i),c.borderAlign!=="inner"&&(n=Math.max(n,c.borderWidth||0,c.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class dDe extends ec{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:c}=AB(n,i,o);this._drawStart=a,this._drawCount=c,kB(n)&&(a=0,c=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:u},e),this.updateElements(i,a,c,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,m=a.axis,{spanGaps:g,segment:y}=this.options,b=Xd(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||i==="none",E=n+s,C=e.length;let _=n>0&&this.getParsed(n-1);for(let T=0;T<C;++T){const k=e[T],$=x?k:{};if(T<n||T>=E){$.skip=!0;continue}const M=this.getParsed(T),P=Kt(M[m]),V=$[h]=o.getPixelForValue(M[h],T),I=$[m]=r||P?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,M,c):M[m],T);$.skip=isNaN(V)||isNaN(I)||P,$.stop=T>0&&Math.abs(M[h]-_[h])>b,y&&($.parsed=M,$.raw=u.data[T]),f&&($.options=d||this.resolveDataElementOptions(T,k.active?"active":i)),x||this.updateElement(k,T,$,i),_=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class GB extends ec{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:i,lineWidth:c.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Xp(n._parsed[e].r,s.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,n,s,i){return PB.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((s,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,s=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(i/2,0),o=Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,c=o.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*cn;let m=h,g;const y=360/this.countVisibleElements();for(g=0;g<n;++g)m+=this._computeAngle(g,i,y);for(g=n;g<n+s;g++){const b=e[g];let x=m,E=m+this._computeAngle(g,i,y),C=o.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;m=E,r&&(c.animateScale&&(C=0),c.animateRotate&&(x=E=h));const _={x:d,y:f,innerRadius:0,outerRadius:C,startAngle:x,endAngle:E,options:this.resolveDataElementOptions(g,b.active?"active":i)};this.updateElement(b,g,_,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((s,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,s){return this.chart.getDataVisibility(e)?to(this.resolveDataElementOptions(e,n).angle||s):0}}class fDe extends CA{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class hDe extends ec{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const n=this._cachedMeta.vScale,s=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(s[n.axis])}}parseObjectData(e,n,s,i){return PB.bind(this)(e,n,s,i)}update(e){const n=this._cachedMeta,s=n.dataset,i=n.data||[],r=n.iScale.getLabels();if(s.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(s,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,s,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+s;a++){const c=e[a],u=this.resolveDataElementOptions(a,c.active?"active":i),d=r.getPointPositionForValue(a,this.getParsed(a).r),f=o?r.xCenter:d.x,h=o?r.yCenter:d.y,m={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(c,a,m,i)}}}class pDe extends ec{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const n=this._cachedMeta,s=this.chart.data.labels||[],{xScale:i,yScale:r}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),c=r.getLabelForValue(o.y);return{label:s[e]||"",value:"("+a+", "+c+")"}}update(e){const n=this._cachedMeta,{data:s=[]}=n,i=this.chart._animationsDisabled;let{start:r,count:o}=AB(n,s,i);if(this._drawStart=r,this._drawCount=o,kB(n)&&(r=0,o=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:c}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!c._decimated,a.points=s;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:u},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(s,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(n,i),f=this.getSharedOptions(d),h=this.includeOptions(i,f),m=o.axis,g=a.axis,{spanGaps:y,segment:b}=this.options,x=Xd(y)?y:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||r||i==="none";let C=n>0&&this.getParsed(n-1);for(let _=n;_<n+s;++_){const T=e[_],k=this.getParsed(_),$=E?T:{},M=Kt(k[g]),P=$[m]=o.getPixelForValue(k[m],_),V=$[g]=r||M?a.getBasePixel():a.getPixelForValue(c?this.applyStack(a,k,c):k[g],_);$.skip=isNaN(P)||isNaN(V)||M,$.stop=_>0&&Math.abs(k[m]-C[m])>x,b&&($.parsed=k,$.raw=u.data[_]),h&&($.options=f||this.resolveDataElementOptions(_,T.active?"active":i)),E||this.updateElement(T,_,$,i),C=k}this.updateSharedOptions(f,i,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let c=n.length-1;c>=0;--c)a=Math.max(a,n[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}const s=e.dataset,i=s.options&&s.options.borderWidth||0;if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}}var mDe=Object.freeze({__proto__:null,BarController:lDe,BubbleController:cDe,DoughnutController:CA,LineController:dDe,PieController:fDe,PolarAreaController:GB,RadarController:hDe,ScatterController:pDe});function mc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class AA{static override(e){Object.assign(AA.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return mc()}parse(){return mc()}format(){return mc()}add(){return mc()}diff(){return mc()}startOf(){return mc()}endOf(){return mc()}}var gDe={_date:AA};function vDe(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const u=a._reversePixels?ITe:ga;if(s){if(i._sharedOptions){const d=r[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const h=u(r,e,n-f),m=u(r,e,n+f);return{lo:h.lo,hi:m.hi}}}}else{const d=u(r,e,n);if(c){const{vScale:f}=i._cachedMeta,{_parsed:h}=t,m=h.slice(0,d.lo+1).reverse().findIndex(y=>!Kt(y[f.axis]));d.lo-=Math.max(0,m);const g=h.slice(d.hi).findIndex(y=>!Kt(y[f.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:r.length-1}}function M1(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=r.length;a<c;++a){const{index:u,data:d}=r[a],{lo:f,hi:h}=vDe(r[a],e,o,i);for(let m=f;m<=h;++m){const g=d[m];g.skip||s(g,u,m)}}}function bDe(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function __(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||M1(t,n,e,function(a,c,u){!i&&!va(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:c,index:u})},!0),r}function yDe(t,e,n,s){let i=[];function r(o,a,c){const{startAngle:u,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:f}=_B(o,{x:e.x,y:e.y});yp(f,u,d)&&i.push({element:o,datasetIndex:a,index:c})}return M1(t,n,e,r),i}function xDe(t,e,n,s,i,r){let o=[];const a=bDe(n);let c=Number.POSITIVE_INFINITY;function u(d,f,h){const m=d.inRange(e.x,e.y,i);if(s&&!m)return;const g=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(g))&&!m)return;const b=a(e,g);b<c?(o=[{element:d,datasetIndex:f,index:h}],c=b):b===c&&o.push({element:d,datasetIndex:f,index:h})}return M1(t,n,e,u),o}function S_(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?yDe(t,e,n,i):xDe(t,e,n,s,i,r)}function mI(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return M1(t,n,e,(c,u,d)=>{c[o]&&c[o](e[n],i)&&(r.push({element:c,datasetIndex:u,index:d}),a=a||c.inRange(e.x,e.y,i))}),s&&!a?[]:r}var _De={modes:{index(t,e,n,s){const i=Ec(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?__(t,i,r,s,o):S_(t,i,r,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=a[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,n,s){const i=Ec(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?__(t,i,r,s,o):S_(t,i,r,!1,s,o);if(a.length>0){const c=a[0].datasetIndex,u=t.getDatasetMeta(c).data;a=[];for(let d=0;d<u.length;++d)a.push({element:u[d],datasetIndex:c,index:d})}return a},point(t,e,n,s){const i=Ec(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return __(t,i,r,s,o)},nearest(t,e,n,s){const i=Ec(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return S_(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Ec(e,t);return mI(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Ec(e,t);return mI(t,i,"y",n.intersect,s)}}};const qB=["left","top","right","bottom"];function Pf(t,e){return t.filter(n=>n.pos===e)}function gI(t,e){return t.filter(n=>qB.indexOf(n.pos)===-1&&n.box.axis===e)}function $f(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function SDe(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function EDe(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!qB.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function wDe(t,e){const n=EDe(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:c}=a.box,u=n[a.stack],d=u&&a.stackWeight/u.weight;a.horizontal?(a.width=d?d*s:c&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:c&&e.availableHeight)}return n}function CDe(t){const e=SDe(t),n=$f(e.filter(u=>u.box.fullSize),!0),s=$f(Pf(e,"left"),!0),i=$f(Pf(e,"right")),r=$f(Pf(e,"top"),!0),o=$f(Pf(e,"bottom")),a=gI(e,"x"),c=gI(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(c).concat(o).concat(a),chartArea:Pf(e,"chartArea"),vertical:s.concat(i).concat(c),horizontal:r.concat(o).concat(a)}}function vI(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function KB(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ADe(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!tn(i)){n.size&&(t[i]-=n.size);const f=s[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?r.height:r.width),n.size=f.size/f.count,t[i]+=n.size}r.getPadding&&KB(o,r.getPadding());const a=Math.max(0,e.outerWidth-vI(o,t,"left","right")),c=Math.max(0,e.outerHeight-vI(o,t,"top","bottom")),u=a!==t.w,d=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:u,other:d}:{same:d,other:u}}function kDe(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function TDe(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function Jf(t,e,n,s){const i=[];let r,o,a,c,u,d;for(r=0,o=t.length,u=0;r<o;++r){a=t[r],c=a.box,c.update(a.width||e.w,a.height||e.h,TDe(a.horizontal,e));const{same:f,other:h}=ADe(e,n,a,s);u|=f&&i.length,d=d||h,c.fullSize||i.push(a)}return u&&Jf(i,e,n,s)||d}function Tg(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function bI(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const c=a.box,u=s[a.stack]||{placed:0,weight:1},d=a.stackWeight/u.weight||1;if(a.horizontal){const f=e.w*d,h=u.size||c.height;bp(u.start)&&(o=u.start),c.fullSize?Tg(c,i.left,o,n.outerWidth-i.right-i.left,h):Tg(c,e.left+u.placed,o,f,h),u.start=o,u.placed+=f,o=c.bottom}else{const f=e.h*d,h=u.size||c.width;bp(u.start)&&(r=u.start),c.fullSize?Tg(c,r,i.top,h,n.outerHeight-i.bottom-i.top):Tg(c,r,e.top+u.placed,h,f),u.start=r,u.placed+=f,r=c.right}}e.x=r,e.y=o}var fi={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=mi(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=CDe(t.boxes),c=a.vertical,u=a.horizontal;yn(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},i);KB(h,mi(s));const m=Object.assign({maxPadding:h,w:r,h:o,x:i.left,y:i.top},i),g=wDe(c.concat(u),f);Jf(a.fullSize,m,f,g),Jf(c,m,f,g),Jf(u,m,f,g)&&Jf(c,m,f,g),kDe(m),bI(a.leftAndTop,m,f,g),m.x+=m.w,m.y+=m.h,bI(a.rightAndBottom,m,f,g),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},yn(a.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class YB{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class DDe extends YB{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const hv="$chartjs",ODe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yI=t=>t===null||t==="";function RDe(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[hv]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",yI(i)){const r=nI(t,"width");r!==void 0&&(t.width=r)}if(yI(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=nI(t,"height");r!==void 0&&(t.height=r)}return t}const XB=A2e?{passive:!0}:!1;function MDe(t,e,n){t&&t.addEventListener(e,n,XB)}function IDe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,XB)}function NDe(t,e){const n=ODe[t.type]||t.type,{x:s,y:i}=Ec(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function ny(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function PDe(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ny(a.addedNodes,s),o=o&&!ny(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function $De(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ny(a.removedNodes,s),o=o&&!ny(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const _p=new Map;let xI=0;function JB(){const t=window.devicePixelRatio;t!==xI&&(xI=t,_p.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function LDe(t,e){_p.size||window.addEventListener("resize",JB),_p.set(t,e)}function FDe(t){_p.delete(t),_p.size||window.removeEventListener("resize",JB)}function VDe(t,e,n){const s=t.canvas,i=s&&wA(s);if(!i)return;const r=CB((a,c)=>{const u=i.clientWidth;n(a,c),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const c=a[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||r(u,d)});return o.observe(i),LDe(t,r),o}function E_(t,e,n){n&&n.disconnect(),e==="resize"&&FDe(t)}function BDe(t,e,n){const s=t.canvas,i=CB(r=>{t.ctx!==null&&n(NDe(r,t))},t);return MDe(s,e,i),i}class UDe extends YB{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(RDe(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[hv])return!1;const s=n[hv].initial;["height","width"].forEach(r=>{const o=s[r];Kt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[hv],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:PDe,detach:$De,resize:VDe}[n]||BDe;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:E_,detach:E_,resize:E_}[n]||IDe)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return C2e(e,n,s,i)}isAttached(e){const n=e&&wA(e);return!!(n&&n.isConnected)}}function HDe(t){return!EA()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?DDe:UDe}let Fa=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Xd(this.x)&&Xd(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function zDe(t,e){const n=t.options.ticks,s=jDe(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?GDe(e):[],o=r.length,a=r[0],c=r[o-1],u=[];if(o>i)return qDe(e,u,r,o/i),u;const d=WDe(r,e,i);if(o>0){let f,h;const m=o>1?Math.round((c-a)/(o-1)):null;for(Dg(e,u,d,Kt(m)?0:a-m,a),f=0,h=o-1;f<h;f++)Dg(e,u,d,r[f],r[f+1]);return Dg(e,u,d,c,Kt(m)?e.length:c+m),u}return Dg(e,u,d),u}function jDe(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function WDe(t,e,n){const s=KDe(t),i=e.length/n;if(!s)return Math.max(i,1);const r=TTe(s);for(let o=0,a=r.length-1;o<a;o++){const c=r[o];if(c>i)return c}return Math.max(i,1)}function GDe(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function qDe(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function Dg(t,e,n,s,i){const r=Dt(s,0),o=Math.min(Dt(i,t.length),t.length);let a=0,c,u,d;for(n=Math.ceil(n),i&&(c=i-s,n=c/Math.floor(c/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(u=Math.max(r,0);u<o;u++)u===d&&(e.push(t[u]),a++,d=Math.round(r+a*n))}function KDe(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const YDe=t=>t==="left"?"right":t==="right"?"left":t,_I=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,SI=(t,e)=>Math.min(e||t,t);function EI(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function XDe(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let c=t.getPixelForTick(i),u;if(!(n&&(s===1?u=Math.max(c-r,o-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(i-1))/2,c+=i<e?u:-u,c<r-a||c>o+a)))return c}function JDe(t,e){yn(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Lf(t){return t.drawTicks?t.tickLength:0}function wI(t,e){if(!t.display)return 0;const n=Cs(t.font,e),s=mi(t.padding);return(Un(t.text)?t.text.length:1)*n.lineHeight+s.height}function QDe(t,e){return Zl(t,{scale:e,type:"scale"})}function ZDe(t,e,n){return Zl(t,{tick:n,index:e,type:"tick"})}function eOe(t,e,n){let s=vA(t);return(n&&e!=="right"||!n&&e==="right")&&(s=YDe(s)),s}function tOe(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,h,m,g;const y=o-i,b=a-r;if(t.isHorizontal()){if(m=Zs(s,r,a),tn(n)){const x=Object.keys(n)[0],E=n[x];g=d[x].getPixelForValue(E)+y-e}else n==="center"?g=(u.bottom+u.top)/2+y-e:g=_I(t,n,e);h=a-r}else{if(tn(n)){const x=Object.keys(n)[0],E=n[x];m=d[x].getPixelForValue(E)-b+e}else n==="center"?m=(u.left+u.right)/2-b+e:m=_I(t,n,e);g=Zs(s,o,i),f=n==="left"?-ps:ps}return{titleX:m,titleY:g,maxWidth:h,rotation:f}}class Au extends Fa{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=ar(e,Number.POSITIVE_INFINITY),n=ar(n,Number.NEGATIVE_INFINITY),s=ar(s,Number.POSITIVE_INFINITY),i=ar(i,Number.NEGATIVE_INFINITY),{min:ar(e,s),max:ar(n,i),minDefined:ss(e),maxDefined:ss(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let c=0,u=a.length;c<u;++c)o=a[c].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:ar(n,ar(s,n)),max:ar(s,ar(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){kn(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=s2e(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=a<this.ticks.length;this._convertTicksToLabels(c?EI(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=zDe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){kn(this.options.afterUpdate,[this])}beforeSetDimensions(){kn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){kn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),kn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){kn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=kn(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){kn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){kn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=SI(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,c,u;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,m=Ds(this.chart.width-f,0,this.maxWidth);a=e.offset?this.maxWidth/s:m/(s-1),f+6>a&&(a=m/(s-(e.offset?.5:1)),c=this.maxHeight-Lf(e.grid)-n.padding-wI(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),o=mA(Math.min(Math.asin(Ds((d.highest.height+6)/a,-1,1)),Math.asin(Ds(c/u,-1,1))-Math.asin(Ds(h/u,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){kn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){kn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const c=wI(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Lf(r)+c):(e.height=this.maxHeight,e.width=Lf(r)+c),s.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:h}=this._getLabelSizes(),m=s.padding*2,g=to(this.labelRotation),y=Math.cos(g),b=Math.sin(g);if(a){const x=s.mirror?0:b*f.width+y*h.height;e.height=Math.min(this.maxHeight,e.height+x+m)}else{const x=s.mirror?0:y*f.width+b*h.height;e.width=Math.min(this.maxWidth,e.width+x+m)}this._calculatePadding(u,d,b,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,c=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,m=0;c?u?(h=i*e.width,m=s*n.height):(h=s*e.height,m=i*n.width):r==="start"?m=n.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,m=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((m-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=e.height/2;r==="start"?(d=0,f=e.height):r==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){kn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)Kt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=EI(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],c=Math.floor(n/SI(n,s));let u=0,d=0,f,h,m,g,y,b,x,E,C,_,T;for(f=0;f<n;f+=c){if(g=e[f].label,y=this._resolveTickFontOptions(f),i.font=b=y.string,x=r[b]=r[b]||{data:{},gc:[]},E=y.lineHeight,C=_=0,!Kt(g)&&!Un(g))C=ey(i,x.data,x.gc,C,g),_=E;else if(Un(g))for(h=0,m=g.length;h<m;++h)T=g[h],!Kt(T)&&!Un(T)&&(C=ey(i,x.data,x.gc,C,T),_+=E);o.push(C),a.push(_),u=Math.max(C,u),d=Math.max(_,d)}JDe(r,n);const k=o.indexOf(u),$=a.indexOf(d),M=P=>({width:o[P]||0,height:a[P]||0});return{first:M(0),last:M(n-1),widest:M(k),highest:M($),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return MTe(this._alignToPixels?pc(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=ZDe(this.getContext(),e,s))}return this.$context||(this.$context=QDe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=to(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,c=r?r.highest.height+o:0;return this.isHorizontal()?c*s>a*i?a/s:c/i:c*i<a*s?c/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,c=r.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),h=Lf(r),m=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,b=y/2,x=function(N){return pc(s,N,y)};let E,C,_,T,k,$,M,P,V,I,w,D;if(o==="top")E=x(this.bottom),$=this.bottom-h,P=E-b,I=x(e.top)+b,D=e.bottom;else if(o==="bottom")E=x(this.top),I=e.top,D=x(e.bottom)-b,$=E+b,P=this.top+h;else if(o==="left")E=x(this.right),k=this.right-h,M=E-b,V=x(e.left)+b,w=e.right;else if(o==="right")E=x(this.left),V=e.left,w=x(e.right)-b,k=E+b,M=this.left+h;else if(n==="x"){if(o==="center")E=x((e.top+e.bottom)/2+.5);else if(tn(o)){const N=Object.keys(o)[0],q=o[N];E=x(this.chart.scales[N].getPixelForValue(q))}I=e.top,D=e.bottom,$=E+b,P=$+h}else if(n==="y"){if(o==="center")E=x((e.left+e.right)/2);else if(tn(o)){const N=Object.keys(o)[0],q=o[N];E=x(this.chart.scales[N].getPixelForValue(q))}k=E-b,M=k-h,V=e.left,w=e.right}const A=Dt(i.ticks.maxTicksLimit,f),B=Math.max(1,Math.ceil(f/A));for(C=0;C<f;C+=B){const N=this.getContext(C),q=r.setContext(N),W=a.setContext(N),Z=q.lineWidth,Le=q.color,ge=W.dash||[],qe=W.dashOffset,lt=q.tickWidth,Mt=q.tickColor,Oe=q.tickBorderDash||[],ae=q.tickBorderDashOffset;_=XDe(this,C,c),_!==void 0&&(T=pc(s,_,Z),u?k=M=V=w=T:$=P=I=D=T,m.push({tx1:k,ty1:$,tx2:M,ty2:P,x1:V,y1:I,x2:w,y2:D,width:Z,color:Le,borderDash:ge,borderDashOffset:qe,tickWidth:lt,tickColor:Mt,tickBorderDash:Oe,tickBorderDashOffset:ae}))}return this._ticksLength=f,this._borderValue=E,m}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=r,h=Lf(s.grid),m=h+d,g=f?-d:m,y=-to(this.labelRotation),b=[];let x,E,C,_,T,k,$,M,P,V,I,w,D="middle";if(i==="top")k=this.bottom-g,$=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+g,$=this._getXAxisLabelAlignment();else if(i==="left"){const B=this._getYAxisLabelAlignment(h);$=B.textAlign,T=B.x}else if(i==="right"){const B=this._getYAxisLabelAlignment(h);$=B.textAlign,T=B.x}else if(n==="x"){if(i==="center")k=(e.top+e.bottom)/2+m;else if(tn(i)){const B=Object.keys(i)[0],N=i[B];k=this.chart.scales[B].getPixelForValue(N)+m}$=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(e.left+e.right)/2-m;else if(tn(i)){const B=Object.keys(i)[0],N=i[B];T=this.chart.scales[B].getPixelForValue(N)}$=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const A=this._getLabelSizes();for(x=0,E=a.length;x<E;++x){C=a[x],_=C.label;const B=r.setContext(this.getContext(x));M=this.getPixelForTick(x)+r.labelOffset,P=this._resolveTickFontOptions(x),V=P.lineHeight,I=Un(_)?_.length:1;const N=I/2,q=B.color,W=B.textStrokeColor,Z=B.textStrokeWidth;let Le=$;o?(T=M,$==="inner"&&(x===E-1?Le=this.options.reverse?"left":"right":x===0?Le=this.options.reverse?"right":"left":Le="center"),i==="top"?u==="near"||y!==0?w=-I*V+V/2:u==="center"?w=-A.highest.height/2-N*V+V:w=-A.highest.height+V/2:u==="near"||y!==0?w=V/2:u==="center"?w=A.highest.height/2-N*V:w=A.highest.height-I*V,f&&(w*=-1),y!==0&&!B.showLabelBackdrop&&(T+=V/2*Math.sin(y))):(k=M,w=(1-I)*V/2);let ge;if(B.showLabelBackdrop){const qe=mi(B.backdropPadding),lt=A.heights[x],Mt=A.widths[x];let Oe=w-qe.top,ae=0-qe.left;switch(D){case"middle":Oe-=lt/2;break;case"bottom":Oe-=lt;break}switch($){case"center":ae-=Mt/2;break;case"right":ae-=Mt;break;case"inner":x===E-1?ae-=Mt:x>0&&(ae-=Mt/2);break}ge={left:ae,top:Oe,width:Mt+qe.width,height:lt+qe.height,color:B.backdropColor}}b.push({label:_,font:P,textOffset:w,options:{rotation:y,color:q,strokeColor:W,strokeWidth:Z,textAlign:Le,textBaseline:D,translation:[T,k],backdrop:ge}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-to(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,c=o.widest.width;let u,d;return n==="left"?i?(d=this.right+r,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-a,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?u="right":s==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+a,s==="near"?u="left":s==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(c,u,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(u.x,u.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const c=i[r];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,h;this.isHorizontal()?(u=pc(e,this.left,o)-o/2,d=pc(e,this.right,a)+a/2,f=h=c):(f=pc(e,this.top,o)-o/2,h=pc(e,this.bottom,a)+a/2,u=d=c),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(u,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&D1(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,c=o.font,u=o.label,d=o.textOffset;yu(s,u,0,d,c,a)}i&&O1(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Cs(s.font),o=mi(s.padding),a=s.align;let c=r.lineHeight/2;n==="bottom"||n==="center"||tn(n)?(c+=o.bottom,Un(s.text)&&(c+=r.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:u,titleY:d,maxWidth:f,rotation:h}=tOe(this,c,n,a);yu(e,s.text,0,0,r,{color:s.color,maxWidth:f,rotation:h,textAlign:eOe(a,n,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Dt(e.grid&&e.grid.z,-1),i=Dt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Au.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Cs(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Og{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;iOe(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,nOe(e,o,s),this.override&&zn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in zn[i]&&(delete zn[i][s],this.override&&delete bu[s])}}function nOe(t,e,n){const s=vp(Object.create(null),[n?zn.get(n):{},zn.get(e),t.defaults]);zn.set(e,s),t.defaultRoutes&&sOe(e,t.defaultRoutes),t.descriptors&&zn.describe(e,t.descriptors)}function sOe(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");zn.route(r,i,c,a)})}function iOe(t){return"id"in t&&"defaults"in t}class rOe{constructor(){this.controllers=new Og(ec,"datasets",!0),this.elements=new Og(Fa,"elements"),this.plugins=new Og(Object,"plugins"),this.scales=new Og(Au,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):yn(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=pA(e);kn(s["before"+i],[],s),n[e](s),kn(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var yo=new rOe;class oOe{constructor(){this._init=void 0}notify(e,n,s,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],c=[n,i,r.options];if(kn(a,c,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=Dt(s.options&&s.options.plugins,{}),r=aOe(s);return i===!1&&!n?[]:cOe(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function aOe(t){const e={},n=[],s=Object.keys(yo.plugins.items);for(let r=0;r<s.length;r++)n.push(yo.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function lOe(t,e){return!e&&t===!1?null:t===!0?{}:t}function cOe(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const c=a.id,u=lOe(s[c],i);u!==null&&r.push({plugin:a,options:uOe(t.config,{plugin:a,local:n[c]},u,o)})}return r}function uOe(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mE(t,e){const n=zn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function dOe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function fOe(t,e){return t===e?"_index_":"_value_"}function CI(t){if(t==="x"||t==="y"||t==="r")return t}function hOe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function gE(t,...e){if(CI(t))return t;for(const n of e){const s=n.axis||hOe(n.position)||t.length>1&&CI(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function AI(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function pOe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return AI(t,"x",n[0])||AI(t,"y",n[0])}return{}}function mOe(t,e){const n=bu[t.type]||{scales:{}},s=e.scales||{},i=mE(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!tn(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=gE(o,a,pOe(o,t),zn.scales[a.type]),u=fOe(c,i),d=n.scales||{};r[o]=Ah(Object.create(null),[{axis:c},a,d[c],d[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,c=o.indexAxis||mE(a,e),d=(bu[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=dOe(f,c),m=o[h+"AxisID"]||h;r[m]=r[m]||Object.create(null),Ah(r[m],[{axis:h},s[m],d[f]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ah(a,[zn.scales[a.type],zn.scale])}),r}function QB(t){const e=t.options||(t.options={});e.plugins=Dt(e.plugins,{}),e.scales=mOe(t,e)}function ZB(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gOe(t){return t=t||{},t.data=ZB(t.data),QB(t),t}const kI=new Map,e6=new Set;function Rg(t,e){let n=kI.get(t);return n||(n=e(),kI.set(t,n),e6.add(n)),n}const Ff=(t,e,n)=>{const s=jl(e,n);s!==void 0&&t.add(s)};class vOe{constructor(e){this._config=gOe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ZB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),QB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Rg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Rg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Rg(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const c=new Set;n.forEach(d=>{e&&(c.add(e),d.forEach(f=>Ff(c,e,f))),d.forEach(f=>Ff(c,i,f)),d.forEach(f=>Ff(c,bu[r]||{},f)),d.forEach(f=>Ff(c,zn,f)),d.forEach(f=>Ff(c,hE,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),e6.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,bu[n]||{},zn.datasets[n]||{},{type:n},zn,hE]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=TI(this._resolverCache,e,i);let c=o;if(yOe(o,n)){r.$shared=!1,s=Wl(s)?s():s;const u=this.createResolver(e,s,a);c=Jd(o,s,u)}for(const u of n)r[u]=c[u];return r}createResolver(e,n,s=[""],i){const{resolver:r}=TI(this._resolverCache,e,s);return tn(n)?Jd(r,n,void 0,i):r}}function TI(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:xA(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const bOe=t=>tn(t)&&Object.getOwnPropertyNames(t).some(e=>Wl(t[e]));function yOe(t,e){const{isScriptable:n,isIndexable:s}=RB(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(Wl(a)||bOe(a))||o&&Un(a))return!0}return!1}var xOe="4.5.1";const _Oe=["top","bottom","left","right","chartArea"];function DI(t,e){return t==="top"||t==="bottom"||_Oe.indexOf(t)===-1&&e==="x"}function OI(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function RI(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),kn(n&&n.onComplete,[t],e)}function SOe(t){const e=t.chart,n=e.options.animation;kn(n&&n.onProgress,[t],e)}function t6(t){return EA()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const pv={},MI=t=>{const e=t6(t);return Object.values(pv).filter(n=>n.canvas===e).pop()};function EOe(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function wOe(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}class tu{static defaults=zn;static instances=pv;static overrides=bu;static registry=yo;static version=xOe;static getChart=MI;static register(...e){yo.add(...e),II()}static unregister(...e){yo.remove(...e),II()}constructor(e,n){const s=this.config=new vOe(n),i=t6(e),r=MI(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||HDe(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),c=a&&a.canvas,u=c&&c.height,d=c&&c.width;if(this.id=yTe(),this.ctx=a,this.canvas=c,this.width=d,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oOe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$Te(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],pv[this.id]=this,!a||!c){console.error("Failed to create chart: can't acquire context from the given item");return}na.listen(this,"complete",RI),na.listen(this,"progress",SOe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return Kt(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return yo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return QM(this.canvas,this.ctx),this}stop(){return na.stop(this),this}resize(e,n){na.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,tI(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),kn(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};yn(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],c=gE(o,a),u=c==="r",d=c==="x";return{options:a,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),yn(r,o=>{const a=o.options,c=a.id,u=gE(c,a),d=Dt(a.type,o.dtype);(a.position===void 0||DI(a.position,u)!==DI(o.dposition))&&(a.position=o.dposition),i[c]=!0;let f=null;if(c in s&&s[c].type===d)f=s[c];else{const h=yo.getScale(d);f=new h({id:c,type:d,ctx:this.ctx,chart:this}),s[f.id]=f}f.init(a,e)}),yn(i,(o,a)=>{o||delete s[a]}),yn(s,o=>{fi.configure(this,o,o.options),fi.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(OI("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||mE(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=yo.getController(a),{datasetElementType:u,dataElementType:d}=zn.datasets[a];Object.assign(c,{dataElementType:yo.getElement(d),datasetElementType:u&&yo.getElement(u)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){yn(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&r.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||yn(r,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(OI("z","_idx"));const{_active:a,_lastEvent:c}=this;c?this._eventHandler(c,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){yn(this.scales,e=>{fi.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!zM(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;EOe(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!zM(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fi.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],yn(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Wl(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(na.has(this)?this.attached&&!na.running(this)&&na.start(this):(this.draw(),RI({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},i=HB(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&D1(n,i),e.controller.draw(),i&&O1(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return va(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=_De.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=Zl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);bp(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),na.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),QM(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete pv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};yn(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(c,u)=>{n.addEventListener(this,c,u),e[c]=u},i=(c,u)=>{e[c]&&(n.removeEventListener(this,c,u),delete e[c])},r=(c,u)=>{this.canvas&&this.resize(c,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){yn(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},yn(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,c;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,c=e.length;a<c;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Jb(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),c=CTe(e),u=wOe(e,this._lastEvent,s,c);s&&(this._lastEvent=null,kn(r.onHover,[e,a,this],this),c&&kn(r.onClick,[e,a,this],this));const d=!Jb(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}function II(){return yn(tu.instances,t=>t._plugins.invalidate())}function COe(t,e,n){const{startAngle:s,x:i,y:r,outerRadius:o,innerRadius:a,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/o,si(s-n));if(t.beginPath(),t.arc(i,r,o-u/2,s+f/2,n-f/2),a>0){const h=Math.min(u/a,si(s-n));t.arc(i,r,a+u/2,n-h/2,s+h/2,!0)}else{const h=Math.min(u/2,o*si(s-n));if(d==="round")t.arc(i,r,h,n-cn/2,s+cn/2,!0);else if(d==="bevel"){const m=2*h*h,g=-m*Math.cos(n+cn/2)+i,y=-m*Math.sin(n+cn/2)+r,b=m*Math.cos(s+cn/2)+i,x=m*Math.sin(s+cn/2)+r;t.lineTo(g,y),t.lineTo(b,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function AOe(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:c}=e;let u=i/a;t.beginPath(),t.arc(r,o,a,s-u,n+u),c>i?(u=i/c,t.arc(r,o,c,n+u,s-u,!0)):t.arc(r,o,i,n+ps,s-ps),t.closePath(),t.clip()}function kOe(t){return yA(t,["outerStart","outerEnd","innerStart","innerEnd"])}function TOe(t,e,n,s){const i=kOe(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=c=>{const u=(n-Math.min(r,c))*s/2;return Ds(c,0,Math.min(r,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ds(i.innerStart,0,o),innerEnd:Ds(i.innerEnd,0,o)}}function Ju(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function sy(t,e,n,s,i,r){const{x:o,y:a,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+s+n-u,0),h=d>0?d+s+n+u:0;let m=0;const g=i-c;if(s){const B=d>0?d-s:0,N=f>0?f-s:0,q=(B+N)/2,W=q!==0?g*q/(q+s):g;m=(g-W)/2}const y=Math.max(.001,g*f-n/cn)/f,b=(g-y)/2,x=c+b+m,E=i-b-m,{outerStart:C,outerEnd:_,innerStart:T,innerEnd:k}=TOe(e,h,f,E-x),$=f-C,M=f-_,P=x+C/$,V=E-_/M,I=h+T,w=h+k,D=x+T/I,A=E-k/w;if(t.beginPath(),r){const B=(P+V)/2;if(t.arc(o,a,f,P,B),t.arc(o,a,f,B,V),_>0){const Z=Ju(M,V,o,a);t.arc(Z.x,Z.y,_,V,E+ps)}const N=Ju(w,E,o,a);if(t.lineTo(N.x,N.y),k>0){const Z=Ju(w,A,o,a);t.arc(Z.x,Z.y,k,E+ps,A+Math.PI)}const q=(E-k/h+(x+T/h))/2;if(t.arc(o,a,h,E-k/h,q,!0),t.arc(o,a,h,q,x+T/h,!0),T>0){const Z=Ju(I,D,o,a);t.arc(Z.x,Z.y,T,D+Math.PI,x-ps)}const W=Ju($,x,o,a);if(t.lineTo(W.x,W.y),C>0){const Z=Ju($,P,o,a);t.arc(Z.x,Z.y,C,x-ps,P)}}else{t.moveTo(o,a);const B=Math.cos(P)*f+o,N=Math.sin(P)*f+a;t.lineTo(B,N);const q=Math.cos(V)*f+o,W=Math.sin(V)*f+a;t.lineTo(q,W)}t.closePath()}function DOe(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let c=e.endAngle;if(r){sy(t,e,n,s,c,i);for(let u=0;u<r;++u)t.fill();isNaN(a)||(c=o+(a%Pn||Pn))}return sy(t,e,n,s,c,i),t.fill(),c}function OOe(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:m}=c,g=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=h,g?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(r){sy(t,e,n,s,y,i);for(let b=0;b<r;++b)t.stroke();isNaN(a)||(y=o+(a%Pn||Pn))}g&&AOe(t,e,y),c.selfJoin&&y-o>=cn&&m===0&&d!=="miter"&&COe(t,e,y),r||(sy(t,e,n,s,y,i),t.stroke())}class ROe extends Fa{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.getProps(["x","y"],s),{angle:r,distance:o}=_B(i,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=(this.options.spacing+this.options.borderWidth)/2,m=Dt(f,c-a),g=yp(r,a,c)&&a!==c,y=m>=Pn||g,b=ma(o,u+h,d+h);return y&&b}getCenterPoint(e){const{x:n,y:s,startAngle:i,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:u}=this.options,d=(i+r)/2,f=(o+a+u+c)/2;return{x:n+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:s}=this,i=(n.offset||0)/4,r=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Pn?Math.floor(s/Pn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const c=1-Math.sin(Math.min(cn,s||0)),u=i*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,DOe(e,this,u,r,o),OOe(e,this,u,r,o),e.restore()}}function n6(t,e,n=e){t.lineCap=Dt(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Dt(n.borderDash,e.borderDash)),t.lineDashOffset=Dt(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Dt(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Dt(n.borderWidth,e.borderWidth),t.strokeStyle=Dt(n.borderColor,e.borderColor)}function MOe(t,e,n){t.lineTo(n.x,n.y)}function IOe(t){return t.stepped?KTe:t.tension||t.cubicInterpolationMode==="monotone"?YTe:MOe}function s6(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,c=Math.max(i,o),u=Math.min(r,a),d=i<o&&r<o||i>a&&r>a;return{count:s,start:c,loop:e.loop,ilen:u<c&&!d?s+u-c:u-c}}function NOe(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:c,ilen:u}=s6(i,n,s),d=IOe(r);let{move:f=!0,reverse:h}=s||{},m,g,y;for(m=0;m<=u;++m)g=i[(a+(h?u-m:m))%o],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):d(t,y,g,h,r.stepped),y=g);return c&&(g=i[(a+(h?u:0))%o],d(t,y,g,h,r.stepped)),!!c}function POe(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=s6(i,n,s),{move:c=!0,reverse:u}=s||{};let d=0,f=0,h,m,g,y,b,x;const E=_=>(o+(u?a-_:_))%r,C=()=>{y!==b&&(t.lineTo(d,b),t.lineTo(d,y),t.lineTo(d,x))};for(c&&(m=i[E(0)],t.moveTo(m.x,m.y)),h=0;h<=a;++h){if(m=i[E(h)],m.skip)continue;const _=m.x,T=m.y,k=_|0;k===g?(T<y?y=T:T>b&&(b=T),d=(f*d+_)/++f):(C(),t.lineTo(_,T),g=k,f=0,y=b=T),x=T}C()}function vE(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?POe:NOe}function $Oe(t){return t.stepped?k2e:t.tension||t.cubicInterpolationMode==="monotone"?T2e:wc}function LOe(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),n6(t,e.options),t.stroke(i)}function FOe(t,e,n,s){const{segments:i,options:r}=e,o=vE(e);for(const a of i)n6(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const VOe=typeof Path2D=="function";function BOe(t,e,n,s){VOe&&!e.options.segment?LOe(t,e,n,s):FOe(t,e,n,s)}class I1 extends Fa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;y2e(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=N2e(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=UB(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],c=$Oe(s);let u,d;for(u=0,d=o.length;u<d;++u){const{start:f,end:h}=o[u],m=r[f],g=r[h];if(m===g){a.push(m);continue}const y=Math.abs((i-m[n])/(g[n]-m[n])),b=c(m,g,y,s.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,s){return vE(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=vE(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),BOe(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function NI(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class UOe extends Fa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,s){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(n-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,n){return NI(this,e,"x",n)}inYRange(e,n){return NI(this,e,"y",n)}getCenterPoint(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const s=n&&e.borderWidth||0;return(n+s)*2}draw(e,n){const s=this.options;this.skip||s.radius<.1||!va(this,n,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,pE(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function i6(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,c,u,d,f;return t.horizontal?(f=o/2,a=Math.min(n,i),c=Math.max(n,i),u=s-f,d=s+f):(f=r/2,a=n-f,c=n+f,u=Math.min(s,i),d=Math.max(s,i)),{left:a,top:u,right:c,bottom:d}}function Cl(t,e,n,s){return t?0:Ds(e,n,s)}function HOe(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=OB(s);return{t:Cl(i.top,r.top,0,n),r:Cl(i.right,r.right,0,e),b:Cl(i.bottom,r.bottom,0,n),l:Cl(i.left,r.left,0,e)}}function zOe(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Zc(i),o=Math.min(e,n),a=t.borderSkipped,c=s||tn(i);return{topLeft:Cl(!c||a.top||a.left,r.topLeft,0,o),topRight:Cl(!c||a.top||a.right,r.topRight,0,o),bottomLeft:Cl(!c||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Cl(!c||a.bottom||a.right,r.bottomRight,0,o)}}function jOe(t){const e=i6(t),n=e.right-e.left,s=e.bottom-e.top,i=HOe(t,n/2,s/2),r=zOe(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function w_(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&i6(t,s);return a&&(i||ma(e,a.left,a.right))&&(r||ma(n,a.top,a.bottom))}function WOe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function GOe(t,e){t.rect(e.x,e.y,e.w,e.h)}function C_(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class qOe extends Fa{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=jOe(this),a=WOe(o.radius)?xp:GOe;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,C_(o,n,r)),e.clip(),a(e,C_(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,C_(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return w_(this,e,n,s)}inXRange(e,n){return w_(this,e,null,n)}inYRange(e,n){return w_(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var KOe=Object.freeze({__proto__:null,ArcElement:ROe,BarElement:qOe,LineElement:I1,PointElement:UOe});const bE=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],PI=bE.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function r6(t){return bE[t%bE.length]}function o6(t){return PI[t%PI.length]}function YOe(t,e){return t.borderColor=r6(e),t.backgroundColor=o6(e),++e}function XOe(t,e){return t.backgroundColor=t.data.map(()=>r6(e++)),e}function JOe(t,e){return t.backgroundColor=t.data.map(()=>o6(e++)),e}function QOe(t){let e=0;return(n,s)=>{const i=t.getDatasetMeta(s).controller;i instanceof CA?e=XOe(n,e):i instanceof GB?e=JOe(n,e):i&&(e=YOe(n,e))}}function $I(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function ZOe(t){return t&&(t.borderColor||t.backgroundColor)}function eRe(){return zn.borderColor!=="rgba(0,0,0,0.1)"||zn.backgroundColor!=="rgba(0,0,0,0.1)"}var tRe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:s},options:i}=t.config,{elements:r}=i,o=$I(s)||ZOe(i)||r&&$I(r)||eRe();if(!n.forceOverride&&o)return;const a=QOe(t);s.forEach(a)}};function nRe(t,e,n,s,i){const r=i.samples||s;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let c=0;const u=e+n-1;let d=e,f,h,m,g,y;for(o[c++]=t[d],f=0;f<r-2;f++){let b=0,x=0,E;const C=Math.floor((f+1)*a)+1+e,_=Math.min(Math.floor((f+2)*a)+1,n)+e,T=_-C;for(E=C;E<_;E++)b+=t[E].x,x+=t[E].y;b/=T,x/=T;const k=Math.floor(f*a)+1+e,$=Math.min(Math.floor((f+1)*a)+1,n)+e,{x:M,y:P}=t[d];for(m=g=-1,E=k;E<$;E++)g=.5*Math.abs((M-b)*(t[E].y-P)-(M-t[E].x)*(x-P)),g>m&&(m=g,h=t[E],y=E);o[c++]=h,d=y}return o[c++]=t[u],o}function sRe(t,e,n,s){let i=0,r=0,o,a,c,u,d,f,h,m,g,y;const b=[],x=e+n-1,E=t[e].x,_=t[x].x-E;for(o=e;o<e+n;++o){a=t[o],c=(a.x-E)/_*s,u=a.y;const T=c|0;if(T===d)u<g?(g=u,f=o):u>y&&(y=u,h=o),i=(r*i+a.x)/++r;else{const k=o-1;if(!Kt(f)&&!Kt(h)){const $=Math.min(f,h),M=Math.max(f,h);$!==m&&$!==k&&b.push({...t[$],x:i}),M!==m&&M!==k&&b.push({...t[M],x:i})}o>0&&k!==m&&b.push(t[k]),b.push(a),d=T,r=0,g=y=u,f=h=m=o}}return b}function a6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function LI(t){t.data.datasets.forEach(e=>{a6(e)})}function iRe(t,e){const n=e.length;let s=0,i;const{iScale:r}=t,{min:o,max:a,minDefined:c,maxDefined:u}=r.getUserBounds();return c&&(s=Ds(ga(e,r.axis,o).lo,0,n-1)),u?i=Ds(ga(e,r.axis,a).hi+1,s,n)-s:i=n-s,{start:s,count:i}}var rRe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){LI(t);return}const s=t.width;t.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:a}=i,c=t.getDatasetMeta(r),u=o||i.data;if(Xf([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:h}=iRe(c,u);const m=n.threshold||4*s;if(h<=m){a6(i);return}Kt(o)&&(i._data=u,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(n.algorithm){case"lttb":g=nRe(u,f,h,s,n);break;case"min-max":g=sRe(u,f,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(t){LI(t)}};function oRe(t,e,n){const s=t.segments,i=t.points,r=e.points,o=[];for(const a of s){let{start:c,end:u}=a;u=N1(c,u,i);const d=yE(n,i[c],i[u],a.loop);if(!e.segments){o.push({source:a,target:d,start:i[c],end:i[u]});continue}const f=UB(e,d);for(const h of f){const m=yE(n,r[h.start],r[h.end],h.loop),g=BB(a,i,m);for(const y of g)o.push({source:y,target:h,start:{[n]:FI(d,m,"start",Math.max)},end:{[n]:FI(d,m,"end",Math.min)}})}}return o}function yE(t,e,n,s){if(s)return;let i=e[t],r=n[t];return t==="angle"&&(i=si(i),r=si(r)),{property:t,start:i,end:r}}function aRe(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=N1(o,a,i);const c=i[o],u=i[a];s!==null?(r.push({x:c.x,y:s}),r.push({x:u.x,y:s})):n!==null&&(r.push({x:n,y:c.y}),r.push({x:n,y:u.y}))}),r}function N1(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function FI(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function l6(t,e){let n=[],s=!1;return Un(t)?(s=!0,n=t):n=aRe(t,e),n.length?new I1({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function VI(t){return t&&t.fill!==!1}function lRe(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!ss(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function cRe(t,e,n){const s=hRe(t);if(tn(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return ss(i)&&Math.floor(i)===i?uRe(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function uRe(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function dRe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:tn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function fRe(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:tn(t)?s=t.value:s=e.getBaseValue(),s}function hRe(t){const e=t.options,n=e.fill;let s=Dt(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function pRe(t){const{scale:e,index:n,line:s}=t,i=[],r=s.segments,o=s.points,a=mRe(e,n);a.push(l6({x:null,y:e.bottom},s));for(let c=0;c<r.length;c++){const u=r[c];for(let d=u.start;d<=u.end;d++)gRe(i,o[d],a)}return new I1({points:i,options:{}})}function mRe(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function gRe(t,e,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:c}=vRe(r,e,"x");if(!(!c||o&&a)){if(o)s.unshift(c);else if(t.push(c),!a)break}}t.push(...s)}function vRe(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],r=t.segments,o=t.points;let a=!1,c=!1;for(let u=0;u<r.length;u++){const d=r[u],f=o[d.start][n],h=o[d.end][n];if(ma(i,f,h)){a=i===f,c=i===h;break}}return{first:a,last:c,point:s}}class c6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:Pn},e.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,r=e.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function bRe(t){const{chart:e,fill:n,line:s}=t;if(ss(n))return yRe(e,n);if(n==="stack")return pRe(t);if(n==="shape")return!0;const i=xRe(t);return i instanceof c6?i:l6(i,s)}function yRe(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function xRe(t){return(t.scale||{}).getPointPositionForValue?SRe(t):_Re(t)}function _Re(t){const{scale:e={},fill:n}=t,s=dRe(n,e);if(ss(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function SRe(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=fRe(n,e,r),a=[];if(s.grid.circular){const c=e.getPointPositionForValue(0,r);return new c6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,o));return a}function A_(t,e,n){const s=bRe(e),{chart:i,index:r,line:o,scale:a,axis:c}=e,u=o.options,d=u.fill,f=u.backgroundColor,{above:h=f,below:m=f}=d||{},g=i.getDatasetMeta(r),y=HB(i,g);s&&o.points.length&&(D1(t,n),ERe(t,{line:o,target:s,above:h,below:m,area:n,scale:a,axis:c,clip:y}),O1(t))}function ERe(t,e){const{line:n,target:s,above:i,below:r,area:o,scale:a,clip:c}=e,u=n._loop?"angle":e.axis;t.save();let d=r;r!==i&&(u==="x"?(BI(t,s,o.top),k_(t,{line:n,target:s,color:i,scale:a,property:u,clip:c}),t.restore(),t.save(),BI(t,s,o.bottom)):u==="y"&&(UI(t,s,o.left),k_(t,{line:n,target:s,color:r,scale:a,property:u,clip:c}),t.restore(),t.save(),UI(t,s,o.right),d=i)),k_(t,{line:n,target:s,color:d,scale:a,property:u,clip:c}),t.restore()}function BI(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:c,end:u}=a,d=i[c],f=i[N1(c,u,i)];r?(t.moveTo(d.x,d.y),r=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(f.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function UI(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:c,end:u}=a,d=i[c],f=i[N1(c,u,i)];r?(t.moveTo(d.x,d.y),r=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,f.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function k_(t,e){const{line:n,target:s,property:i,color:r,scale:o,clip:a}=e,c=oRe(n,s,i);for(const{source:u,target:d,start:f,end:h}of c){const{style:{backgroundColor:m=r}={}}=u,g=s!==!0;t.save(),t.fillStyle=m,wRe(t,o,a,g&&yE(i,f,h)),t.beginPath();const y=!!n.pathSegment(t,u);let b;if(g){y?t.closePath():HI(t,s,h,i);const x=!!s.pathSegment(t,d,{move:y,reverse:!0});b=y&&x,b||HI(t,s,f,i)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function wRe(t,e,n,s){const i=e.chart.chartArea,{property:r,start:o,end:a}=s||{};if(r==="x"||r==="y"){let c,u,d,f;r==="x"?(c=o,u=i.top,d=a,f=i.bottom):(c=i.left,u=o,d=i.right,f=a),t.beginPath(),n&&(c=Math.max(c,n.left),d=Math.min(d,n.right),u=Math.max(u,n.top),f=Math.min(f,n.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function HI(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var CRe={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let r,o,a,c;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,c=null,a&&a.options&&a instanceof I1&&(c={visible:t.isDatasetVisible(o),index:o,fill:cRe(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=c,i.push(c);for(o=0;o<s;++o)c=i[o],!(!c||c.fill===!1)&&(c.fill=lRe(i,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&A_(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;VI(r)&&A_(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!VI(s)||n.drawTime!=="beforeDatasetDraw"||A_(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zI=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},ARe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class jI extends Fa{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=kn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Cs(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=zI(s,r);let u,d;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(o,r,a,c)+10):(d=this.maxHeight,u=this._fitCols(o,i,a,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+a;let f=e;r.textAlign="left",r.textBaseline="middle";let h=-1,m=-d;return this.legendItems.forEach((g,y)=>{const b=s+n/2+r.measureText(g.text).width;(y===0||u[u.length-1]+b+2*a>o)&&(f+=d,u[u.length-(y>0?0:1)]=0,m+=d,h++),c[y]={left:0,top:m,row:h,width:b,height:i},u[u.length-1]+=b+a}),f}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=o-e;let f=a,h=0,m=0,g=0,y=0;return this.legendItems.forEach((b,x)=>{const{itemWidth:E,itemHeight:C}=kRe(s,n,r,b,i);x>0&&m+C+2*a>d&&(f+=h+a,u.push({width:h,height:m}),g+=h+a,y++,h=m=0),c[x]={left:g,top:m,col:y,width:E,height:C},h=Math.max(h,E),m+=C+a}),f+=h,u.push({width:h,height:m}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=kd(r,this.left,this.width);if(this.isHorizontal()){let a=0,c=Zs(s,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,c=Zs(s,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(c),u.width),c+=u.width+i}else{let a=0,c=Zs(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,c=Zs(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=c,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),c+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;D1(e,this),this._draw(),O1(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=zn.color,c=kd(e.rtl,this.left,this.width),u=Cs(o.font),{padding:d}=o,f=u.size,h=f/2;let m;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:b}=zI(o,f),x=function(k,$,M){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;i.save();const P=Dt(M.lineWidth,1);if(i.fillStyle=Dt(M.fillStyle,a),i.lineCap=Dt(M.lineCap,"butt"),i.lineDashOffset=Dt(M.lineDashOffset,0),i.lineJoin=Dt(M.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=Dt(M.strokeStyle,a),i.setLineDash(Dt(M.lineDash,[])),o.usePointStyle){const V={radius:y*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:P},I=c.xPlus(k,g/2),w=$+h;DB(i,V,I,w,o.pointStyleWidth&&g)}else{const V=$+Math.max((f-y)/2,0),I=c.leftForLtr(k,g),w=Zc(M.borderRadius);i.beginPath(),Object.values(w).some(D=>D!==0)?xp(i,{x:I,y:V,w:g,h:y,radius:w}):i.rect(I,V,g,y),i.fill(),P!==0&&i.stroke()}i.restore()},E=function(k,$,M){yu(i,M.text,k,$+b/2,u,{strikethrough:M.hidden,textAlign:c.textAlign(M.textAlign)})},C=this.isHorizontal(),_=this._computeTitleHeight();C?m={x:Zs(r,this.left+d,this.right-s[0]),y:this.top+d+_,line:0}:m={x:this.left+d,y:Zs(r,this.top+_+d,this.bottom-n[0].height),line:0},LB(this.ctx,e.textDirection);const T=b+d;this.legendItems.forEach((k,$)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const M=i.measureText(k.text).width,P=c.textAlign(k.textAlign||(k.textAlign=o.textAlign)),V=g+h+M;let I=m.x,w=m.y;c.setWidth(this.width),C?$>0&&I+V+d>this.right&&(w=m.y+=T,m.line++,I=m.x=Zs(r,this.left+d,this.right-s[m.line])):$>0&&w+T>this.bottom&&(I=m.x=I+n[m.line].width+d,m.line++,w=m.y=Zs(r,this.top+_+d,this.bottom-n[m.line].height));const D=c.x(I);if(x(D,w,k),I=LTe(P,I+g+h,C?I+V:this.right,e.rtl),E(c.x(I),w,k),C)m.x+=V+d;else if(typeof k.text!="string"){const A=u.lineHeight;m.y+=u6(k,A)+d}else m.y+=T}),FB(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Cs(n.font),i=mi(n.padding);if(!n.display)return;const r=kd(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,u=i.top+c;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+u,f=Zs(e.align,f,this.right-h);else{const g=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);d=u+Zs(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const m=Zs(a,f,f+h);o.textAlign=r.textAlign(vA(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,yu(o,n.text,m,d,s)}_computeTitleHeight(){const e=this.options.title,n=Cs(e.font),s=mi(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(ma(e,this.left,this.right)&&ma(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],ma(e,i.left,i.left+i.width)&&ma(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!ORe(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=ARe(i,s);i&&!r&&kn(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&kn(n.onHover,[e,s,this],this)}else s&&kn(n.onClick,[e,s,this],this)}}function kRe(t,e,n,s,i){const r=TRe(s,t,e,n),o=DRe(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function TRe(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function DRe(t,e,n){let s=t;return typeof e.text!="string"&&(s=u6(e,n)),s}function u6(t,e){const n=t.text?t.text.length:0;return e*n}function ORe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var RRe={id:"legend",_element:jI,start(t,e,n){const s=t.legend=new jI({ctx:t.ctx,options:n,chart:t});fi.configure(t,s,n),fi.addBox(t,s)},stop(t){fi.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;fi.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(n?0:void 0),d=mi(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:s||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class kA extends Fa{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Un(s.text)?s.text.length:1;this._padding=mi(s.padding);const r=i*Cs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let c=0,u,d,f;return this.isHorizontal()?(d=Zs(a,s,r),f=n+e,u=r-s):(o.position==="left"?(d=s+e,f=Zs(a,i,n),c=cn*-.5):(d=r-e,f=Zs(a,n,i),c=cn*.5),u=i-n),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Cs(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:u}=this._drawArgs(r);yu(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:vA(n.align),textBaseline:"middle",translation:[o,a]})}}function MRe(t,e){const n=new kA({ctx:t.ctx,options:e,chart:t});fi.configure(t,n,e),fi.addBox(t,n),t.titleBlock=n}var IRe={id:"title",_element:kA,start(t,e,n){MRe(t,n)},stop(t){const e=t.titleBlock;fi.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;fi.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mg=new WeakMap;var NRe={id:"subtitle",start(t,e,n){const s=new kA({ctx:t.ctx,options:n,chart:t});fi.configure(t,s,n),fi.addBox(t,s),Mg.set(t,s)},stop(t){fi.removeBox(t,Mg.get(t)),Mg.delete(t)},beforeUpdate(t,e,n){const s=Mg.get(t);fi.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Qf={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const c=a.tooltipPosition();s.add(c.x),i+=c.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,c)=>a+c)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const c=t[r].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=fE(e,u);d<i&&(i=d,a=c)}}if(a){const c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function po(t,e){return e&&(Un(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function sa(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function PRe(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function WI(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,c=Cs(e.bodyFont),u=Cs(e.titleFont),d=Cs(e.footerFont),f=r.length,h=i.length,m=s.length,g=mi(e.padding);let y=g.height,b=0,x=s.reduce((_,T)=>_+T.before.length+T.lines.length+T.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const _=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=m*_+(x-m)*c.lineHeight+(x-1)*e.bodySpacing}h&&(y+=e.footerMarginTop+h*d.lineHeight+(h-1)*e.footerSpacing);let E=0;const C=function(_){b=Math.max(b,n.measureText(_).width+E)};return n.save(),n.font=u.string,yn(t.title,C),n.font=c.string,yn(t.beforeBody.concat(t.afterBody),C),E=e.displayColors?o+2+e.boxPadding:0,yn(s,_=>{yn(_.before,C),yn(_.lines,C),yn(_.after,C)}),E=0,n.font=d.string,yn(t.footer,C),n.restore(),b+=g.width,{width:b,height:y}}function $Re(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function LRe(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function FRe(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:c}}=t;let u="center";return s==="center"?u=i<=(a+c)/2?"left":"right":i<=r/2?u="left":i>=o-r/2&&(u="right"),LRe(u,t,e,n)&&(u="center"),u}function GI(t,e,n){const s=n.yAlign||e.yAlign||$Re(t,n);return{xAlign:n.xAlign||e.xAlign||FRe(t,e,n,s),yAlign:s}}function VRe(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function BRe(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function qI(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,u=i+r,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:m}=Zc(o);let g=VRe(e,a);const y=BRe(e,c,u);return c==="center"?a==="left"?g+=u:a==="right"&&(g-=u):a==="left"?g-=Math.max(d,h)+i:a==="right"&&(g+=Math.max(f,m)+i),{x:Ds(g,0,s.width-e.width),y:Ds(y,0,s.height-e.height)}}function Ig(t,e,n){const s=mi(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function KI(t){return po([],sa(t))}function URe(t,e,n){return Zl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function YI(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const d6={beforeTitle:Zo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Zo,beforeBody:Zo,beforeLabel:Zo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Kt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Zo,afterBody:Zo,beforeFooter:Zo,footer:Zo,afterFooter:Zo};function Fi(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?d6[e].call(n,s):i}class XI extends Fa{static positioners=Qf;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new zB(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=URe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Fi(s,"beforeTitle",this,e),r=Fi(s,"title",this,e),o=Fi(s,"afterTitle",this,e);let a=[];return a=po(a,sa(i)),a=po(a,sa(r)),a=po(a,sa(o)),a}getBeforeBody(e,n){return KI(Fi(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return yn(e,r=>{const o={before:[],lines:[],after:[]},a=YI(s,r);po(o.before,sa(Fi(a,"beforeLabel",this,r))),po(o.lines,Fi(a,"label",this,r)),po(o.after,sa(Fi(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return KI(Fi(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Fi(s,"beforeFooter",this,e),r=Fi(s,"footer",this,e),o=Fi(s,"afterFooter",this,e);let a=[];return a=po(a,sa(i)),a=po(a,sa(r)),a=po(a,sa(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],c,u;for(c=0,u=n.length;c<u;++c)a.push(PRe(this.chart,n[c]));return e.filter&&(a=a.filter((d,f,h)=>e.filter(d,f,h,s))),e.itemSort&&(a=a.sort((d,f)=>e.itemSort(d,f,s))),yn(a,d=>{const f=YI(e.callbacks,d);i.push(Fi(f,"labelColor",this,d)),r.push(Fi(f,"labelPointStyle",this,d)),o.push(Fi(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Qf[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=WI(this,s),u=Object.assign({},a,c),d=GI(this.chart,s,u),f=qI(s,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Zc(a),{x:h,y:m}=e,{width:g,height:y}=n;let b,x,E,C,_,T;return r==="center"?(_=m+y/2,i==="left"?(b=h,x=b-o,C=_+o,T=_-o):(b=h+g,x=b+o,C=_-o,T=_+o),E=b):(i==="left"?x=h+Math.max(c,d)+o:i==="right"?x=h+g-Math.max(u,f)-o:x=this.caretX,r==="top"?(C=m,_=C-o,b=x-o,E=x+o):(C=m+y,_=C+o,b=x+o,E=x-o),T=C),{x1:b,x2:x,x3:E,y1:C,y2:_,y3:T}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,c;if(r){const u=kd(s.rtl,this.x,this.width);for(e.x=Ig(this,s.titleAlign,s),n.textAlign=u.textAlign(s.titleAlign),n.textBaseline="middle",o=Cs(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,c=0;c<r;++c)n.fillText(i[c],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,c+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:c,boxWidth:u}=r,d=Cs(r.bodyFont),f=Ig(this,"left",r),h=i.x(f),m=c<d.lineHeight?(d.lineHeight-c)/2:0,g=n.y+m;if(r.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(h,u)+u/2,x=g+c/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,pE(e,y,b,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,pE(e,y,b,x)}else{e.lineWidth=tn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=i.leftForLtr(h,u),b=i.leftForLtr(i.xPlus(h,1),u-2),x=Zc(o.borderRadius);Object.values(x).some(E=>E!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,xp(e,{x:y,y:g,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),xp(e,{x:b,y:g+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,g,u,c),e.strokeRect(y,g,u,c),e.fillStyle=o.backgroundColor,e.fillRect(b,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:c,boxWidth:u,boxPadding:d}=s,f=Cs(s.bodyFont);let h=f.lineHeight,m=0;const g=kd(s.rtl,this.x,this.width),y=function(M){n.fillText(M,g.x(e.x+m),e.y+h/2),e.y+=h+r},b=g.textAlign(o);let x,E,C,_,T,k,$;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,e.x=Ig(this,b,s),n.fillStyle=s.bodyColor,yn(this.beforeBody,y),m=a&&b!=="right"?o==="center"?u/2+d:u+2+d:0,_=0,k=i.length;_<k;++_){for(x=i[_],E=this.labelTextColors[_],n.fillStyle=E,yn(x.before,y),C=x.lines,a&&C.length&&(this._drawColorBox(n,e,_,g,s),h=Math.max(f.lineHeight,c)),T=0,$=C.length;T<$;++T)y(C[T]),h=f.lineHeight;yn(x.after,y)}m=0,h=f.lineHeight,yn(this.afterBody,y),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const c=kd(s.rtl,this.x,this.width);for(e.x=Ig(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=c.textAlign(s.footerAlign),n.textBaseline="middle",o=Cs(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:c}=e,{width:u,height:d}=s,{topLeft:f,topRight:h,bottomLeft:m,bottomRight:g}=Zc(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,c),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+u-h,c),n.quadraticCurveTo(a+u,c,a+u,c+h),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+u,c+d-g),n.quadraticCurveTo(a+u,c+d,a+u-g,c+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+m,c+d),n.quadraticCurveTo(a,c+d,a,c+d-m),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,c+f),n.quadraticCurveTo(a,c,a+f,c),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Qf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=WI(this,e),c=Object.assign({},o,this._size),u=GI(n,e,c),d=qI(e,c,u,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=mi(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),LB(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),FB(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:c})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[c],index:c}}),r=!Jb(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),c=n||!Jb(o,r)||a;return c&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),c}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Qf[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}var HRe={id:"tooltip",_element:XI,positioners:Qf,afterInit(t,e,n){n&&(t.tooltip=new XI({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:d6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},zRe=Object.freeze({__proto__:null,Colors:tRe,Decimation:rRe,Filler:CRe,Legend:RRe,SubTitle:NRe,Title:IRe,Tooltip:HRe});const jRe=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function WRe(t,e,n,s){const i=t.indexOf(e);if(i===-1)return jRe(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const GRe=(t,e)=>t===null?null:Ds(Math.round(t),0,e);function JI(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class qRe extends Au{static id="category";static defaults={ticks:{callback:JI}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Kt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:WRe(s,e,Dt(n,e),this._addedLabels),GRe(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return JI.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function KRe(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:h}=t,m=r||1,g=d-1,{min:y,max:b}=e,x=!Kt(o),E=!Kt(a),C=!Kt(u),_=(b-y)/(f+1);let T=WM((b-y)/g/m)*m,k,$,M,P;if(T<1e-14&&!x&&!E)return[{value:y},{value:b}];P=Math.ceil(b/T)-Math.floor(y/T),P>g&&(T=WM(P*T/g/m)*m),Kt(c)||(k=Math.pow(10,c),T=Math.ceil(T*k)/k),i==="ticks"?($=Math.floor(y/T)*T,M=Math.ceil(b/T)*T):($=y,M=b),x&&E&&r&&OTe((a-o)/r,T/1e3)?(P=Math.round(Math.min((a-o)/T,d)),T=(a-o)/P,$=o,M=a):C?($=x?o:$,M=E?a:M,P=u-1,T=(M-$)/P):(P=(M-$)/T,kh(P,Math.round(P),T/1e3)?P=Math.round(P):P=Math.ceil(P));const V=Math.max(GM(T),GM($));k=Math.pow(10,Kt(c)?V:c),$=Math.round($*k)/k,M=Math.round(M*k)/k;let I=0;for(x&&(h&&$!==o?(n.push({value:o}),$<o&&I++,kh(Math.round(($+I*T)*k)/k,o,QI(o,_,t))&&I++):$<o&&I++);I<P;++I){const w=Math.round(($+I*T)*k)/k;if(E&&w>a)break;n.push({value:w})}return E&&h&&M!==a?n.length&&kh(n[n.length-1].value,a,QI(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!E||M===a)&&n.push({value:M}),n}function QI(t,e,{horizontal:n,minRotation:s}){const i=to(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class iy extends Au{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Kt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=c=>i=n?i:c,a=c=>r=s?r:c;if(e){const c=ko(i),u=ko(r);c<0&&u<0?a(0):c>0&&u>0&&o(0)}if(i===r){let c=r===0?1:Math.abs(r*.05);a(r+c),e||o(i-c)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=KRe(i,r);return e.bounds==="ticks"&&xB(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Xp(e,this.chart.options.locale,this.options.ticks.format)}}class YRe extends iy{static id="linear";static defaults={ticks:{callback:T1.formatters.numeric}};determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ss(e)?e:0,this.max=ss(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=to(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Sp=t=>Math.floor(El(t)),gc=(t,e)=>Math.pow(10,Sp(t)+e);function ZI(t){return t/Math.pow(10,Sp(t))===1}function eN(t,e,n){const s=Math.pow(10,n),i=Math.floor(t/s);return Math.ceil(e/s)-i}function XRe(t,e){const n=e-t;let s=Sp(n);for(;eN(t,e,s)>10;)s++;for(;eN(t,e,s)<10;)s--;return Math.min(s,Sp(t))}function JRe(t,{min:e,max:n}){e=ar(t.min,e);const s=[],i=Sp(e);let r=XRe(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),c=i>r?Math.pow(10,i):0,u=Math.round((e-c)*o)/o,d=Math.floor((e-c)/a/10)*a*10;let f=Math.floor((u-d)/Math.pow(10,r)),h=ar(t.min,Math.round((c+d+f*Math.pow(10,r))*o)/o);for(;h<n;)s.push({value:h,major:ZI(h),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(r++,f=2,o=r>=0?1:o),h=Math.round((c+d+f*Math.pow(10,r))*o)/o;const m=ar(t.max,h);return s.push({value:m,major:ZI(m),significand:f}),s}class QRe extends Au{static id="logarithmic";static defaults={ticks:{callback:T1.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const s=iy.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return ss(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ss(e)?Math.max(0,e):null,this.max=ss(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ss(this._userMin)&&(this.min=e===gc(this.min,0)?gc(this.min,-1):gc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let s=this.min,i=this.max;const r=a=>s=e?s:a,o=a=>i=n?i:a;s===i&&(s<=0?(r(1),o(10)):(r(gc(s,-1)),o(gc(i,1)))),s<=0&&r(gc(i,-1)),i<=0&&o(gc(s,1)),this.min=s,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},s=JRe(n,this);return e.bounds==="ticks"&&xB(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Xp(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=El(e),this._valueRange=El(this.max)-El(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(El(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}function xE(t){const e=t.ticks;if(e.display&&t.display){const n=mi(e.backdropPadding);return Dt(e.font&&e.font.size,zn.font.size)+n.height}return 0}function ZRe(t,e,n){return n=Un(n)?n:[n],{w:qTe(t,e.string,n),h:n.length*e.lineHeight}}function tN(t,e,n,s,i){return t===s||t===i?{start:e-n/2,end:e+n/2}:t<s||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function eMe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],i=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?cn/r:0;for(let c=0;c<r;c++){const u=o.setContext(t.getPointLabelContext(c));i[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+i[c],a),f=Cs(u.font),h=ZRe(t.ctx,f,t._pointLabels[c]);s[c]=h;const m=si(t.getIndexAngle(c)+a),g=Math.round(mA(m)),y=tN(g,d.x,h.w,0,180),b=tN(g,d.y,h.h,90,270);tMe(n,e,m,y,b)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=iMe(t,s,i)}function tMe(t,e,n,s,i){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,c=0;s.start<e.l?(a=(e.l-s.start)/r,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function nMe(t,e,n){const s=t.drawingArea,{extra:i,additionalAngle:r,padding:o,size:a}=n,c=t.getPointPosition(e,s+i+o,r),u=Math.round(mA(si(c.angle+ps))),d=aMe(c.y,a.h,u),f=rMe(u),h=oMe(c.x,a.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:h,top:d,right:h+a.w,bottom:d+a.h}}function sMe(t,e){if(!e)return!0;const{left:n,top:s,right:i,bottom:r}=t;return!(va({x:n,y:s},e)||va({x:n,y:r},e)||va({x:i,y:s},e)||va({x:i,y:r},e))}function iMe(t,e,n){const s=[],i=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,c={extra:xE(r)/2,additionalAngle:o?cn/i:0};let u;for(let d=0;d<i;d++){c.padding=n[d],c.size=e[d];const f=nMe(t,d,c);s.push(f),a==="auto"&&(f.visible=sMe(f,u),f.visible&&(u=f))}return s}function rMe(t){return t===0||t===180?"center":t<180?"left":"right"}function oMe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function aMe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function lMe(t,e,n){const{left:s,top:i,right:r,bottom:o}=n,{backdropColor:a}=e;if(!Kt(a)){const c=Zc(e.borderRadius),u=mi(e.backdropPadding);t.fillStyle=a;const d=s-u.left,f=i-u.top,h=r-s+u.width,m=o-i+u.height;Object.values(c).some(g=>g!==0)?(t.beginPath(),xp(t,{x:d,y:f,w:h,h:m,radius:c}),t.fill()):t.fillRect(d,f,h,m)}}function cMe(t,e){const{ctx:n,options:{pointLabels:s}}=t;for(let i=e-1;i>=0;i--){const r=t._pointLabelItems[i];if(!r.visible)continue;const o=s.setContext(t.getPointLabelContext(i));lMe(n,o,r);const a=Cs(o.font),{x:c,y:u,textAlign:d}=r;yu(n,t._pointLabels[i],c,u+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function f6(t,e,n,s){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,Pn);else{let r=t.getPointPosition(0,e);i.moveTo(r.x,r.y);for(let o=1;o<s;o++)r=t.getPointPosition(o,e),i.lineTo(r.x,r.y)}}function uMe(t,e,n,s,i){const r=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!s||!a||!c||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=c,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),f6(t,n,o,s),r.closePath(),r.stroke(),r.restore())}function dMe(t,e,n){return Zl(t,{label:n,index:e,type:"pointLabel"})}class fMe extends iy{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:T1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=mi(xE(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=ss(e)&&!isNaN(e)?e:0,this.max=ss(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xE(this.options))}generateTickLabels(e){iy.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{const i=kn(this.options.pointLabels.callback,[n,s],this);return i||i===0?i:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?eMe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,i))}getIndexAngle(e){const n=Pn/(this._pointLabels.length||1),s=this.options.startAngle||0;return si(e*n+to(s))}getDistanceFromCenterForValue(e){if(Kt(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Kt(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const s=n[e];return dMe(this.getContext(),e,s)}}getPointPosition(e,n,s=0){const i=this.getIndexAngle(e)-ps+s;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:s,right:i,bottom:r}=this._pointLabelItems[e];return{left:n,top:s,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),f6(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:s,grid:i,border:r}=n,o=this._pointLabels.length;let a,c,u;if(n.pointLabels.display&&cMe(this,o),i.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const h=this.getContext(f),m=i.setContext(h),g=r.setContext(h);uMe(this,m,c,o,g)}}),s.display){for(e.save(),a=o-1;a>=0;a--){const d=s.setContext(this.getPointLabelContext(a)),{color:f,lineWidth:h}=d;!h||!f||(e.lineWidth=h,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;const u=s.setContext(this.getContext(c)),d=Cs(u.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const f=mi(u.backdropPadding);e.fillRect(-o/2-f.left,-r-d.size/2-f.top,o+f.width,d.size+f.height)}yu(e,a.label,0,-r,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}const P1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wi=Object.keys(P1);function nN(t,e){return t-e}function sN(t,e){if(Kt(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),ss(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Xd(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function iN(t,e,n,s){const i=Wi.length;for(let r=Wi.indexOf(t);r<i-1;++r){const o=P1[Wi[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Wi[r]}return Wi[i-1]}function hMe(t,e,n,s,i){for(let r=Wi.length-1;r>=Wi.indexOf(n);r--){const o=Wi[r];if(P1[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Wi[n?Wi.indexOf(n):0]}function pMe(t){for(let e=Wi.indexOf(t)+1,n=Wi.length;e<n;++e)if(P1[Wi[e]].common)return Wi[e]}function rN(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=gA(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function mMe(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,c;for(a=r;a<=o;a=+i.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function oN(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:mMe(t,s,i,n)}class _E extends Au{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new gDe._date(e.adapters.date);i.init(n),Ah(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:sN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function c(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(r=Math.max(r,u.max))}(!o||!a)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),i=ss(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=ss(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=NTe(i,r,o);return this._unit=n.unit||(s.autoSkip?iN(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):hMe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:pMe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),oN(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ds(n,0,o),s=Ds(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||iN(r.minUnit,n,s,this._getLabelCapacity(n)),a=Dt(i.ticks.stepSize,1),c=o==="week"?r.isoWeekday:!1,u=Xd(c)||c===!0,d={};let f=n,h,m;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,m=0;h<s;h=+e.add(h,a,o),m++)rN(d,h,g);return(h===s||i.bounds==="ticks"||m===1)&&rN(d,h,g),Object.keys(d).sort(nN).map(y=>+y)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return kn(o,[e,n,s],this);const a=r.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&a[c],f=u&&a[u],h=s[n],m=u&&f&&h&&h.major;return this._adapter.format(e,i||(m?f:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=to(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,oN(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(sN(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return EB(e.sort(nN))}}function Ng(t,e,n){let s=0,i=t.length-1,r,o,a,c;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=ga(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:c}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=ga(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:c}=t[i]);const u=o-r;return u?a+(c-a)*(e-r)/u:a}class gMe extends _E{static id="timeseries";static defaults=_E.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ng(n,this.min),this._tableRange=Ng(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,c,u,d;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=s&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],c=i[o-1],u=i[o],Math.round((d+c)/2)!==u&&r.push({time:u,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Ng(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Ng(this._table,s*this._tableRange+this._minPos,!0)}}var vMe=Object.freeze({__proto__:null,CategoryScale:qRe,LinearScale:YRe,LogarithmicScale:QRe,RadialLinearScale:fMe,TimeScale:_E,TimeSeriesScale:gMe});const bMe=[mDe,KOe,zRe,vMe];tu.register(...bMe);const yMe={class:"page-container"},xMe={class:"page-header"},_Me={class:"header-main"},SMe={class:"actions-area"},EMe={key:0,class:"loading-state"},wMe={key:1,class:"error-state"},CMe={key:2,class:"dashboard-content"},AMe={class:"kpi-grid"},kMe={class:"kpi-card green"},TMe={class:"kpi-content"},DMe={class:"kpi-value"},OMe={class:"kpi-sublabel"},RMe={class:"kpi-card orange"},MMe={class:"kpi-content"},IMe={class:"kpi-value"},NMe={class:"kpi-sublabel"},PMe={class:"kpi-card blue"},$Me={class:"kpi-content"},LMe={class:"kpi-card purple"},FMe={class:"kpi-content"},VMe={class:"kpi-value"},BMe={class:"content-wrapper"},UMe={class:"charts-grid"},HMe={class:"chart-card"},zMe={class:"chart-body"},jMe={class:"chart-card"},WMe={class:"chart-body"},GMe={class:"chart-card"},qMe={class:"chart-body"},KMe=We({__name:"FinanceiroDashboard",setup(t){const e=H(null),n=H(null),s=H(!0),i=H(null),r=H(null),o=H(null),a=H(null);let c=[];const u=we(()=>e.value?e.value.a_receber.pago_mes_atual-e.value.a_pagar.pago_mes_atual:0),d=y=>y==null?"R$ 0,00":Number(y).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});async function f(){s.value=!0,i.value=null;try{const y=await ce.get("/v1/financeiro/transacoes/stats/");e.value=y.data;const b=await ce.get("/v1/financeiro/transacoes/dashboard-general-stats/");n.value=b.data,setTimeout(()=>{g()},100)}catch(y){console.error("Erro ao buscar dados:",y),i.value="Erro ao carregar dashboard. Verifique sua conexo."}finally{s.value=!1}}function h(){c.forEach(y=>y.destroy()),c=[]}const m={duration:1500,easing:"easeOutQuart"};function g(){if(h(),!(!e.value||!n.value)){if(r.value){const y=n.value.balanco_diario||[];let b=0,x=0;const E=y.map(_=>(b+=Number(_.receitas||0),b)),C=y.map(_=>(x+=Number(_.despesas||0),x));c.push(new tu(r.value,{type:"line",data:{labels:y.map(_=>_.dia),datasets:[{label:"Receitas (Acumulado)",data:E,borderColor:"#10b981",borderWidth:2,pointRadius:0,pointHoverRadius:6,fill:!1,tension:.4},{label:"Despesas (Acumulado)",data:C,borderColor:"#ef4444",borderWidth:2,pointRadius:0,pointHoverRadius:6,fill:!1,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},animation:m,plugins:{legend:{position:"top",align:"end",labels:{usePointStyle:!0,boxWidth:8,font:{size:11}}},tooltip:{backgroundColor:"#1f2937",padding:12,cornerRadius:8,callbacks:{label:function(_){let T=_.dataset.label||"";return T&&(T+=": "),_.parsed.y!==null&&(T+=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.parsed.y)),T}}}},scales:{y:{beginAtZero:!0,grid:{color:"#f3f4f6",borderDash:[5,5]},ticks:{font:{size:10},color:"#94a3b8",callback:function(_){return typeof _=="number"&&_>=1e3?(_/1e3).toFixed(0)+"k":_}},border:{display:!1}},x:{grid:{display:!1},ticks:{font:{size:10},color:"#94a3b8",maxTicksLimit:12,maxRotation:0},border:{display:!1}}}}}))}if(o.value){const y=n.value.despesas_categoria;c.push(new tu(o.value,{type:"doughnut",data:{labels:y.map(b=>b.label),datasets:[{data:y.map(b=>b.value),backgroundColor:["#3b82f6","#8b5cf6","#f59e0b","#ef4444","#10b981"],borderWidth:0,hoverOffset:10}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"80%",plugins:{legend:{position:"right",labels:{boxWidth:8,usePointStyle:!0,font:{size:11}}}}}}))}if(a.value){const y=n.value.ranking_imoveis;c.push(new tu(a.value,{type:"bar",data:{labels:y.map(b=>b.label.length>15?b.label.substring(0,15)+"...":b.label),datasets:[{label:"Despesas (R$)",data:y.map(b=>b.value),backgroundColor:"rgba(59, 130, 246, 0.8)",borderRadius:4,barThickness:16}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,animation:m,plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{grid:{display:!1},border:{display:!1}}}}}))}}}return it(()=>{f()}),Yl(()=>{h()}),(y,b)=>{const x=on("router-link");return O(),R("div",yMe,[l("header",xMe,[l("div",_Me,[b[3]||(b[3]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Financeiro"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Dashboard")]),l("h1",null,"Painel Financeiro")],-1)),l("div",SMe,[be(x,{to:{name:"dre"},class:"btn-white-thin",title:"Demonstrativo de Resultado"},{default:Pe(()=>[...b[0]||(b[0]=[l("i",{class:"fas fa-file-invoice-dollar"},null,-1),z(" DRE ",-1)])]),_:1}),be(x,{to:{name:"transacao-nova",query:{tipo:"DESPESA"}},class:"btn-danger-thin"},{default:Pe(()=>[...b[1]||(b[1]=[l("i",{class:"fas fa-minus-circle"},null,-1),z(" Despesa ",-1)])]),_:1}),be(x,{to:{name:"transacao-nova",query:{tipo:"RECEITA"}},class:"btn-success-thin"},{default:Pe(()=>[...b[2]||(b[2]=[l("i",{class:"fas fa-plus-circle"},null,-1),z(" Receita ",-1)])]),_:1}),l("button",{class:"btn-icon-thin",onClick:f,title:"Atualizar"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":s.value}])},null,2)])])])]),s.value&&!e.value?(O(),R("div",EMe,[...b[4]||(b[4]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando indicadores...",-1)])])):i.value?(O(),R("div",wMe,[b[5]||(b[5]=l("i",{class:"fas fa-exclamation-triangle"},null,-1)),z(" "+F(i.value),1)])):e.value?(O(),R("div",CMe,[l("div",AMe,[l("div",kMe,[l("div",TMe,[l("span",DMe,F(d(e.value.a_receber.pago_mes_atual)),1),b[6]||(b[6]=l("span",{class:"kpi-label"},"Receitas (Ms)",-1)),l("span",OMe,"Pendente: "+F(d(e.value.a_receber.pendente)),1)]),b[7]||(b[7]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-arrow-up"})],-1))]),l("div",RMe,[l("div",MMe,[l("span",IMe,F(d(e.value.a_pagar.pago_mes_atual)),1),b[8]||(b[8]=l("span",{class:"kpi-label"},"Despesas (Ms)",-1)),l("span",NMe,"Pendente: "+F(d(e.value.a_pagar.pendente)),1)]),b[9]||(b[9]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-arrow-down"})],-1))]),l("div",PMe,[l("div",$Me,[l("span",{class:te(["kpi-value",u.value>=0?"text-blue":"text-red-internal"])},F(d(u.value)),3),b[10]||(b[10]=l("span",{class:"kpi-label"},"Saldo em Caixa",-1)),b[11]||(b[11]=l("span",{class:"kpi-sublabel"},"Realizado",-1))]),b[12]||(b[12]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-wallet"})],-1))]),l("div",LMe,[l("div",FMe,[l("span",VMe,F(d(e.value.saldo_previsto)),1),b[13]||(b[13]=l("span",{class:"kpi-label"},"Saldo Previsto",-1)),b[14]||(b[14]=l("span",{class:"kpi-sublabel"},"Com pendncias",-1))]),b[15]||(b[15]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-chart-line"})],-1))])]),l("main",BMe,[l("div",UMe,[l("div",HMe,[b[16]||(b[16]=l("div",{class:"chart-header"},[l("h3",null,[l("i",{class:"fas fa-chart-line"}),z(" Evoluo Financeira Acumulada")])],-1)),l("div",zMe,[l("canvas",{ref_key:"lineChartCanvas",ref:r},null,512)])]),l("div",jMe,[b[17]||(b[17]=l("div",{class:"chart-header"},[l("h3",null,[l("i",{class:"fas fa-chart-pie"}),z(" Despesas por Categoria")])],-1)),l("div",WMe,[l("canvas",{ref_key:"doughnutChartCanvas",ref:o},null,512)])]),l("div",GMe,[b[18]||(b[18]=l("div",{class:"chart-header"},[l("h3",null,[l("i",{class:"fas fa-building"}),z(" Top Imveis (Despesas)")])],-1)),l("div",qMe,[l("canvas",{ref_key:"rankingChartCanvas",ref:a},null,512)])])])])])):J("",!0)])}}}),YMe=tt(KMe,[["__scopeId","data-v-d5334b37"]]),XMe={class:"page-container"},JMe={class:"header-section"},QMe={class:"page-title"},ZMe={key:0,class:"loading-state"},eIe={key:1,class:"form-card"},tIe={class:"form-group"},nIe={class:"form-group"},sIe={class:"form-group checkbox-group"},iIe={key:0,class:"error-message"},rIe={class:"actions"},oIe=We({__name:"FormaPagamentoFormView",setup(t){const e=ms(),n=an(),s=H({nome:"",slug:"",ativo:!0}),i=H(!1),r=H(null),o=we(()=>!!e.params.id),a=we(()=>o.value?"Editar Forma de Pagamento":"Adicionar Nova Forma de Pagamento"),c=async d=>{i.value=!0,r.value=null;try{const f=await ce.get(`/v1/financeiro/formas-pagamento/${d}/`);s.value=f.data}catch(f){console.error("Erro ao buscar forma de pagamento:",f),r.value="Falha ao carregar os dados da forma de pagamento."}finally{i.value=!1}},u=async()=>{try{o.value?await ce.put(`/v1/financeiro/formas-pagamento/${s.value.id}/`,s.value):await ce.post("/v1/financeiro/formas-pagamento/",s.value),n.push({name:"lista-formas-pagamento"})}catch(d){console.error("Erro ao salvar forma de pagamento:",d),d.response&&d.response.data?r.value=JSON.stringify(d.response.data):r.value="Falha ao salvar a forma de pagamento. Verifique os dados e tente novamente."}};return it(()=>{o.value&&c(Number(e.params.id))}),(d,f)=>{const h=on("router-link");return O(),R("div",XMe,[l("div",JMe,[l("h1",QMe,F(a.value),1)]),i.value?(O(),R("div",ZMe,[...f[3]||(f[3]=[l("p",null,"A carregar...",-1)])])):(O(),R("div",eIe,[l("form",{onSubmit:wt(u,["prevent"])},[l("div",tIe,[f[4]||(f[4]=l("label",{for:"nome",class:"form-label"},"Nome da Forma de Pagamento:",-1)),Y(l("input",{type:"text",id:"nome","onUpdate:modelValue":f[0]||(f[0]=m=>s.value.nome=m),class:"form-input",required:""},null,512),[[de,s.value.nome]])]),l("div",nIe,[f[5]||(f[5]=l("label",{for:"slug",class:"form-label"},"Slug (identificador nico):",-1)),Y(l("input",{type:"text",id:"slug","onUpdate:modelValue":f[1]||(f[1]=m=>s.value.slug=m),class:"form-input",required:""},null,512),[[de,s.value.slug]])]),l("div",sIe,[Y(l("input",{type:"checkbox",id:"ativo","onUpdate:modelValue":f[2]||(f[2]=m=>s.value.ativo=m)},null,512),[[Zt,s.value.ativo]]),f[6]||(f[6]=l("label",{for:"ativo",class:"form-label"},"Ativo",-1))]),r.value?(O(),R("div",iIe,F(r.value),1)):J("",!0),l("div",rIe,[f[8]||(f[8]=l("button",{type:"submit",class:"submit-button"},"Salvar",-1)),be(h,{to:{name:"lista-formas-pagamento"},class:"cancel-link"},{default:Pe(()=>[...f[7]||(f[7]=[z("Cancelar",-1)])]),_:1})])],32)]))])}}}),aN=tt(oIe,[["__scopeId","data-v-7b1f8c1b"]]);var mv={exports:{}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(s){aIe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function gv(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gv=function(e){return typeof e}:gv=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function aIe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hr(){return Hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Hr.apply(this,arguments)}function lIe(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cIe(t,e){if(t==null)return{};var n=lIe(t,e),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function uIe(t){return dIe(t)||fIe(t)||hIe(t)||pIe()}function dIe(t){if(Array.isArray(t))return SE(t)}function fIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hIe(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function pIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mIe="1.14.0";function wa(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Va=wa(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Jp=wa(/Edge/i),cN=wa(/firefox/i),Oh=wa(/safari/i)&&!wa(/chrome/i)&&!wa(/android/i),h6=wa(/iP(ad|od|hone)/i),gIe=wa(/chrome/i)&&wa(/android/i),p6={capture:!1,passive:!1};function en(t,e,n){t.addEventListener(e,n,!Va&&p6)}function zt(t,e,n){t.removeEventListener(e,n,!Va&&p6)}function ry(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function vIe(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Xr(t,e,n,s){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&ry(t,e):ry(t,e))||s&&t===n)return t;if(t===n)break}while(t=vIe(t))}return null}var uN=/\s+/g;function Wn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(uN," ").replace(" "+e+" "," ");t.className=(s+(n?" "+e:"")).replace(uN," ")}}function et(t,e,n){var s=t&&t.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=n+(typeof n=="string"?"":"px")}}function nu(t,e){var n="";if(typeof t=="string")n=t;else do{var s=et(t,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function m6(t,e,n){if(t){var s=t.getElementsByTagName(e),i=0,r=s.length;if(n)for(;i<r;i++)n(s[i],i);return s}return[]}function To(){var t=document.scrollingElement;return t||document.documentElement}function Vn(t,e,n,s,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,o,a,c,u,d,f;if(t!==window&&t.parentNode&&t!==To()?(r=t.getBoundingClientRect(),o=r.top,a=r.left,c=r.bottom,u=r.right,d=r.height,f=r.width):(o=0,a=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Va))do if(i&&i.getBoundingClientRect&&(et(i,"transform")!=="none"||n&&et(i,"position")!=="static")){var h=i.getBoundingClientRect();o-=h.top+parseInt(et(i,"border-top-width")),a-=h.left+parseInt(et(i,"border-left-width")),c=o+r.height,u=a+r.width;break}while(i=i.parentNode);if(s&&t!==window){var m=nu(i||t),g=m&&m.a,y=m&&m.d;m&&(o/=y,a/=g,f/=g,d/=y,c=o+d,u=a+f)}return{top:o,left:a,bottom:c,right:u,width:f,height:d}}}function dN(t,e,n){for(var s=Al(t,!0),i=Vn(t)[e];s;){var r=Vn(s)[n],o=void 0;if(o=i>=r,!o)return s;if(s===To())break;s=Al(s,!1)}return!1}function Zd(t,e,n,s){for(var i=0,r=0,o=t.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==yt.ghost&&(s||o[r]!==yt.dragged)&&Xr(o[r],n.draggable,t,!1)){if(i===e)return o[r];i++}r++}return null}function TA(t,e){for(var n=t.lastElementChild;n&&(n===yt.ghost||et(n,"display")==="none"||e&&!ry(n,e));)n=n.previousElementSibling;return n||null}function es(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==yt.clone&&(!e||ry(t,e))&&n++;return n}function fN(t){var e=0,n=0,s=To();if(t)do{var i=nu(t),r=i.a,o=i.d;e+=t.scrollLeft*r,n+=t.scrollTop*o}while(t!==s&&(t=t.parentNode));return[e,n]}function bIe(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[n][s])return Number(n)}return-1}function Al(t,e){if(!t||!t.getBoundingClientRect)return To();var n=t,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=et(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return To();if(s||e)return n;s=!0}}while(n=n.parentNode);return To()}function yIe(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function T_(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Rh;function g6(t,e){return function(){if(!Rh){var n=arguments,s=this;n.length===1?t.call(s,n[0]):t.apply(s,n),Rh=setTimeout(function(){Rh=void 0},e)}}}function xIe(){clearTimeout(Rh),Rh=void 0}function v6(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function DA(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function hN(t,e){et(t,"position","absolute"),et(t,"top",e.top),et(t,"left",e.left),et(t,"width",e.width),et(t,"height",e.height)}function D_(t){et(t,"position",""),et(t,"top",""),et(t,"left",""),et(t,"width",""),et(t,"height","")}var ci="Sortable"+new Date().getTime();function _Ie(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(i){if(!(et(i,"display")==="none"||i===yt.ghost)){t.push({target:i,rect:Vn(i)});var r=Io({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=nu(i,!0);o&&(r.top-=o.f,r.left-=o.e)}i.fromRect=r}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(bIe(t,{target:s}),1)},animateAll:function(s){var i=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var r=!1,o=0;t.forEach(function(a){var c=0,u=a.target,d=u.fromRect,f=Vn(u),h=u.prevFromRect,m=u.prevToRect,g=a.rect,y=nu(u,!0);y&&(f.top-=y.f,f.left-=y.e),u.toRect=f,u.thisAnimationDuration&&T_(h,f)&&!T_(d,f)&&(g.top-f.top)/(g.left-f.left)===(d.top-f.top)/(d.left-f.left)&&(c=EIe(g,h,m,i.options)),T_(f,d)||(u.prevFromRect=d,u.prevToRect=f,c||(c=i.options.animation),i.animate(u,g,f,c)),c&&(r=!0,o=Math.max(o,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof s=="function"&&s()},o):typeof s=="function"&&s(),t=[]},animate:function(s,i,r,o){if(o){et(s,"transition",""),et(s,"transform","");var a=nu(this.el),c=a&&a.a,u=a&&a.d,d=(i.left-r.left)/(c||1),f=(i.top-r.top)/(u||1);s.animatingX=!!d,s.animatingY=!!f,et(s,"transform","translate3d("+d+"px,"+f+"px,0)"),this.forRepaintDummy=SIe(s),et(s,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),et(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){et(s,"transition",""),et(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},o)}}}}function SIe(t){return t.offsetWidth}function EIe(t,e,n,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*s.animation}var Qu=[],O_={initializeByDefault:!0},Qp={mount:function(e){for(var n in O_)O_.hasOwnProperty(n)&&!(n in e)&&(e[n]=O_[n]);Qu.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Qu.push(e)},pluginEvent:function(e,n,s){var i=this;this.eventCanceled=!1,s.cancel=function(){i.eventCanceled=!0};var r=e+"Global";Qu.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][r]&&n[o.pluginName][r](Io({sortable:n},s)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Io({sortable:n},s)))})},initializePlugins:function(e,n,s,i){Qu.forEach(function(a){var c=a.pluginName;if(!(!e.options[c]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[c]=u,Hr(s,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,n){var s={};return Qu.forEach(function(i){typeof i.eventProperties=="function"&&Hr(s,i.eventProperties.call(n[i.pluginName],e))}),s},modifyOption:function(e,n,s){var i;return Qu.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(i=r.optionListeners[n].call(e[r.pluginName],s))}),i}};function Zf(t){var e=t.sortable,n=t.rootEl,s=t.name,i=t.targetEl,r=t.cloneEl,o=t.toEl,a=t.fromEl,c=t.oldIndex,u=t.newIndex,d=t.oldDraggableIndex,f=t.newDraggableIndex,h=t.originalEvent,m=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[ci],!!e){var y,b=e.options,x="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Va&&!Jp?y=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(s,!0,!0)),y.to=o||n,y.from=a||n,y.item=i||n,y.clone=r,y.oldIndex=c,y.newIndex=u,y.oldDraggableIndex=d,y.newDraggableIndex=f,y.originalEvent=h,y.pullMode=m?m.lastPutMode:void 0;var E=Io(Io({},g),Qp.getEventProperties(s,e));for(var C in E)y[C]=E[C];n&&n.dispatchEvent(y),b[x]&&b[x].call(e,y)}}var wIe=["evt"],Vi=function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.evt,r=cIe(s,wIe);Qp.pluginEvent.bind(yt)(e,n,Io({dragEl:Fe,parentEl:Jn,ghostEl:It,rootEl:Ln,nextEl:Cc,lastDownEl:vv,cloneEl:Qn,cloneHidden:pl,dragStarted:eh,putSortable:Fs,activeSortable:yt.active,originalEvent:i,oldIndex:hd,oldDraggableIndex:Mh,newIndex:or,newDraggableIndex:dl,hideGhostForTarget:_6,unhideGhostForTarget:S6,cloneNowHidden:function(){pl=!0},cloneNowShown:function(){pl=!1},dispatchSortableEvent:function(a){Si({sortable:n,name:a,originalEvent:i})}},r))};function Si(t){Zf(Io({putSortable:Fs,cloneEl:Qn,targetEl:Fe,rootEl:Ln,oldIndex:hd,oldDraggableIndex:Mh,newIndex:or,newDraggableIndex:dl},t))}var Fe,Jn,It,Ln,Cc,vv,Qn,pl,hd,or,Mh,dl,Pg,Fs,cd=!1,oy=!1,ay=[],vc,qr,R_,M_,pN,mN,eh,Zu,Ih,Nh=!1,$g=!1,bv,Qs,I_=[],EE=!1,ly=[],$1=typeof document<"u",Lg=h6,gN=Jp||Va?"cssFloat":"float",CIe=$1&&!gIe&&!h6&&"draggable"in document.createElement("div"),b6=(function(){if($1){if(Va)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),y6=function(e,n){var s=et(e),i=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),r=Zd(e,0,n),o=Zd(e,1,n),a=r&&et(r),c=o&&et(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Vn(r).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+Vn(o).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var f=a.float==="left"?"left":"right";return o&&(c.clear==="both"||c.clear===f)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&s[gN]==="none"||o&&s[gN]==="none"&&u+d>i)?"vertical":"horizontal"},AIe=function(e,n,s){var i=s?e.left:e.top,r=s?e.right:e.bottom,o=s?e.width:e.height,a=s?n.left:n.top,c=s?n.right:n.bottom,u=s?n.width:n.height;return i===a||r===c||i+o/2===a+u/2},kIe=function(e,n){var s;return ay.some(function(i){var r=i[ci].options.emptyInsertThreshold;if(!(!r||TA(i))){var o=Vn(i),a=e>=o.left-r&&e<=o.right+r,c=n>=o.top-r&&n<=o.bottom+r;if(a&&c)return s=i}}),s},x6=function(e){function n(r,o){return function(a,c,u,d){var f=a.options.group.name&&c.options.group.name&&a.options.group.name===c.options.group.name;if(r==null&&(o||f))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return n(r(a,c,u,d),o)(a,c,u,d);var h=(o?a:c).options.group.name;return r===!0||typeof r=="string"&&r===h||r.join&&r.indexOf(h)>-1}}var s={},i=e.group;(!i||gv(i)!="object")&&(i={name:i}),s.name=i.name,s.checkPull=n(i.pull,!0),s.checkPut=n(i.put),s.revertClone=i.revertClone,e.group=s},_6=function(){!b6&&It&&et(It,"display","none")},S6=function(){!b6&&It&&et(It,"display","")};$1&&document.addEventListener("click",function(t){if(oy)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),oy=!1,!1},!0);var bc=function(e){if(Fe){e=e.touches?e.touches[0]:e;var n=kIe(e.clientX,e.clientY);if(n){var s={};for(var i in e)e.hasOwnProperty(i)&&(s[i]=e[i]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[ci]._onDragOver(s)}}},TIe=function(e){Fe&&Fe.parentNode[ci]._isOutsideThisEl(e.target)};function yt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Hr({},e),t[ci]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return y6(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:yt.supportPointer!==!1&&"PointerEvent"in window&&!Oh,emptyInsertThreshold:5};Qp.initializePlugins(this,t,n);for(var s in n)!(s in e)&&(e[s]=n[s]);x6(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:CIe,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?en(t,"pointerdown",this._onTapStart):(en(t,"mousedown",this._onTapStart),en(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(en(t,"dragover",this),en(t,"dragenter",this)),ay.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Hr(this,_Ie())}yt.prototype={constructor:yt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Zu=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Fe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,s=this.el,i=this.options,r=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,d=i.filter;if($Ie(s),!Fe&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Oh&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Xr(c,i.draggable,s,!1),!(c&&c.animated)&&vv!==c)){if(hd=es(c),Mh=es(c,i.draggable),typeof d=="function"){if(d.call(this,e,c,this)){Si({sortable:n,rootEl:u,name:"filter",targetEl:c,toEl:s,fromEl:s}),Vi("filter",n,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(f){if(f=Xr(u,f.trim(),s,!1),f)return Si({sortable:n,rootEl:f,name:"filter",targetEl:c,fromEl:s,toEl:s}),Vi("filter",n,{evt:e}),!0}),d)){r&&e.cancelable&&e.preventDefault();return}i.handle&&!Xr(u,i.handle,s,!1)||this._prepareDragStart(e,a,c)}}},_prepareDragStart:function(e,n,s){var i=this,r=i.el,o=i.options,a=r.ownerDocument,c;if(s&&!Fe&&s.parentNode===r){var u=Vn(s);if(Ln=r,Fe=s,Jn=Fe.parentNode,Cc=Fe.nextSibling,vv=s,Pg=o.group,yt.dragged=Fe,vc={target:Fe,clientX:(n||e).clientX,clientY:(n||e).clientY},pN=vc.clientX-u.left,mN=vc.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Fe.style["will-change"]="all",c=function(){if(Vi("delayEnded",i,{evt:e}),yt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!cN&&i.nativeDraggable&&(Fe.draggable=!0),i._triggerDragStart(e,n),Si({sortable:i,name:"choose",originalEvent:e}),Wn(Fe,o.chosenClass,!0)},o.ignore.split(",").forEach(function(d){m6(Fe,d.trim(),N_)}),en(a,"dragover",bc),en(a,"mousemove",bc),en(a,"touchmove",bc),en(a,"mouseup",i._onDrop),en(a,"touchend",i._onDrop),en(a,"touchcancel",i._onDrop),cN&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Fe.draggable=!0),Vi("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Jp||Va))){if(yt.eventCanceled){this._onDrop();return}en(a,"mouseup",i._disableDelayedDrag),en(a,"touchend",i._disableDelayedDrag),en(a,"touchcancel",i._disableDelayedDrag),en(a,"mousemove",i._delayedDragTouchMoveHandler),en(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&en(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,o.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Fe&&N_(Fe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;zt(e,"mouseup",this._disableDelayedDrag),zt(e,"touchend",this._disableDelayedDrag),zt(e,"touchcancel",this._disableDelayedDrag),zt(e,"mousemove",this._delayedDragTouchMoveHandler),zt(e,"touchmove",this._delayedDragTouchMoveHandler),zt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?en(document,"pointermove",this._onTouchMove):n?en(document,"touchmove",this._onTouchMove):en(document,"mousemove",this._onTouchMove):(en(Fe,"dragend",this),en(Ln,"dragstart",this._onDragStart));try{document.selection?yv(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(cd=!1,Ln&&Fe){Vi("dragStarted",this,{evt:n}),this.nativeDraggable&&en(document,"dragover",TIe);var s=this.options;!e&&Wn(Fe,s.dragClass,!1),Wn(Fe,s.ghostClass,!0),yt.active=this,e&&this._appendGhost(),Si({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(qr){this._lastX=qr.clientX,this._lastY=qr.clientY,_6();for(var e=document.elementFromPoint(qr.clientX,qr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(qr.clientX,qr.clientY),e!==n);)n=e;if(Fe.parentNode[ci]._isOutsideThisEl(e),n)do{if(n[ci]){var s=void 0;if(s=n[ci]._onDragOver({clientX:qr.clientX,clientY:qr.clientY,target:e,rootEl:n}),s&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);S6()}},_onTouchMove:function(e){if(vc){var n=this.options,s=n.fallbackTolerance,i=n.fallbackOffset,r=e.touches?e.touches[0]:e,o=It&&nu(It,!0),a=It&&o&&o.a,c=It&&o&&o.d,u=Lg&&Qs&&fN(Qs),d=(r.clientX-vc.clientX+i.x)/(a||1)+(u?u[0]-I_[0]:0)/(a||1),f=(r.clientY-vc.clientY+i.y)/(c||1)+(u?u[1]-I_[1]:0)/(c||1);if(!yt.active&&!cd){if(s&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(It){o?(o.e+=d-(R_||0),o.f+=f-(M_||0)):o={a:1,b:0,c:0,d:1,e:d,f};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");et(It,"webkitTransform",h),et(It,"mozTransform",h),et(It,"msTransform",h),et(It,"transform",h),R_=d,M_=f,qr=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!It){var e=this.options.fallbackOnBody?document.body:Ln,n=Vn(Fe,!0,Lg,!0,e),s=this.options;if(Lg){for(Qs=e;et(Qs,"position")==="static"&&et(Qs,"transform")==="none"&&Qs!==document;)Qs=Qs.parentNode;Qs!==document.body&&Qs!==document.documentElement?(Qs===document&&(Qs=To()),n.top+=Qs.scrollTop,n.left+=Qs.scrollLeft):Qs=To(),I_=fN(Qs)}It=Fe.cloneNode(!0),Wn(It,s.ghostClass,!1),Wn(It,s.fallbackClass,!0),Wn(It,s.dragClass,!0),et(It,"transition",""),et(It,"transform",""),et(It,"box-sizing","border-box"),et(It,"margin",0),et(It,"top",n.top),et(It,"left",n.left),et(It,"width",n.width),et(It,"height",n.height),et(It,"opacity","0.8"),et(It,"position",Lg?"absolute":"fixed"),et(It,"zIndex","100000"),et(It,"pointerEvents","none"),yt.ghost=It,e.appendChild(It),et(It,"transform-origin",pN/parseInt(It.style.width)*100+"% "+mN/parseInt(It.style.height)*100+"%")}},_onDragStart:function(e,n){var s=this,i=e.dataTransfer,r=s.options;if(Vi("dragStart",this,{evt:e}),yt.eventCanceled){this._onDrop();return}Vi("setupClone",this),yt.eventCanceled||(Qn=DA(Fe),Qn.draggable=!1,Qn.style["will-change"]="",this._hideClone(),Wn(Qn,this.options.chosenClass,!1),yt.clone=Qn),s.cloneId=yv(function(){Vi("clone",s),!yt.eventCanceled&&(s.options.removeCloneOnHide||Ln.insertBefore(Qn,Fe),s._hideClone(),Si({sortable:s,name:"clone"}))}),!n&&Wn(Fe,r.dragClass,!0),n?(oy=!0,s._loopId=setInterval(s._emulateDragOver,50)):(zt(document,"mouseup",s._onDrop),zt(document,"touchend",s._onDrop),zt(document,"touchcancel",s._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(s,i,Fe)),en(document,"drop",s),et(Fe,"transform","translateZ(0)")),cd=!0,s._dragStartId=yv(s._dragStarted.bind(s,n,e)),en(document,"selectstart",s),eh=!0,Oh&&et(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,s=e.target,i,r,o,a=this.options,c=a.group,u=yt.active,d=Pg===c,f=a.sort,h=Fs||u,m,g=this,y=!1;if(EE)return;function b(W,Z){Vi(W,g,Io({evt:e,isOwner:d,axis:m?"vertical":"horizontal",revert:o,dragRect:i,targetRect:r,canSort:f,fromSortable:h,target:s,completed:E,onMove:function(ge,qe){return Fg(Ln,n,Fe,i,ge,Vn(ge),e,qe)},changed:C},Z))}function x(){b("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function E(W){return b("dragOverCompleted",{insertion:W}),W&&(d?u._hideClone():u._showClone(g),g!==h&&(Wn(Fe,Fs?Fs.options.ghostClass:u.options.ghostClass,!1),Wn(Fe,a.ghostClass,!0)),Fs!==g&&g!==yt.active?Fs=g:g===yt.active&&Fs&&(Fs=null),h===g&&(g._ignoreWhileAnimating=s),g.animateAll(function(){b("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===Fe&&!Fe.animated||s===n&&!s.animated)&&(Zu=null),!a.dragoverBubble&&!e.rootEl&&s!==document&&(Fe.parentNode[ci]._isOutsideThisEl(e.target),!W&&bc(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function C(){or=es(Fe),dl=es(Fe,a.draggable),Si({sortable:g,name:"change",toEl:n,newIndex:or,newDraggableIndex:dl,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=Xr(s,a.draggable,n,!0),b("dragOver"),yt.eventCanceled)return y;if(Fe.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||g._ignoreWhileAnimating===s)return E(!1);if(oy=!1,u&&!a.disabled&&(d?f||(o=Jn!==Ln):Fs===this||(this.lastPutMode=Pg.checkPull(this,u,Fe,e))&&c.checkPut(this,u,Fe,e))){if(m=this._getDirection(e,s)==="vertical",i=Vn(Fe),b("dragOverValid"),yt.eventCanceled)return y;if(o)return Jn=Ln,x(),this._hideClone(),b("revert"),yt.eventCanceled||(Cc?Ln.insertBefore(Fe,Cc):Ln.appendChild(Fe)),E(!0);var _=TA(n,a.draggable);if(!_||MIe(e,m,this)&&!_.animated){if(_===Fe)return E(!1);if(_&&n===e.target&&(s=_),s&&(r=Vn(s)),Fg(Ln,n,Fe,i,s,r,e,!!s)!==!1)return x(),n.appendChild(Fe),Jn=n,C(),E(!0)}else if(_&&RIe(e,m,this)){var T=Zd(n,0,a,!0);if(T===Fe)return E(!1);if(s=T,r=Vn(s),Fg(Ln,n,Fe,i,s,r,e,!1)!==!1)return x(),n.insertBefore(Fe,T),Jn=n,C(),E(!0)}else if(s.parentNode===n){r=Vn(s);var k=0,$,M=Fe.parentNode!==n,P=!AIe(Fe.animated&&Fe.toRect||i,s.animated&&s.toRect||r,m),V=m?"top":"left",I=dN(s,"top","top")||dN(Fe,"top","top"),w=I?I.scrollTop:void 0;Zu!==s&&($=r[V],Nh=!1,$g=!P&&a.invertSwap||M),k=IIe(e,s,r,m,P?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,$g,Zu===s);var D;if(k!==0){var A=es(Fe);do A-=k,D=Jn.children[A];while(D&&(et(D,"display")==="none"||D===It))}if(k===0||D===s)return E(!1);Zu=s,Ih=k;var B=s.nextElementSibling,N=!1;N=k===1;var q=Fg(Ln,n,Fe,i,s,r,e,N);if(q!==!1)return(q===1||q===-1)&&(N=q===1),EE=!0,setTimeout(OIe,30),x(),N&&!B?n.appendChild(Fe):s.parentNode.insertBefore(Fe,N?B:s),I&&v6(I,0,w-I.scrollTop),Jn=Fe.parentNode,$!==void 0&&!$g&&(bv=Math.abs($-Vn(s)[V])),C(),E(!0)}if(n.contains(Fe))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){zt(document,"mousemove",this._onTouchMove),zt(document,"touchmove",this._onTouchMove),zt(document,"pointermove",this._onTouchMove),zt(document,"dragover",bc),zt(document,"mousemove",bc),zt(document,"touchmove",bc)},_offUpEvents:function(){var e=this.el.ownerDocument;zt(e,"mouseup",this._onDrop),zt(e,"touchend",this._onDrop),zt(e,"pointerup",this._onDrop),zt(e,"touchcancel",this._onDrop),zt(document,"selectstart",this)},_onDrop:function(e){var n=this.el,s=this.options;if(or=es(Fe),dl=es(Fe,s.draggable),Vi("drop",this,{evt:e}),Jn=Fe&&Fe.parentNode,or=es(Fe),dl=es(Fe,s.draggable),yt.eventCanceled){this._nulling();return}cd=!1,$g=!1,Nh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),wE(this.cloneId),wE(this._dragStartId),this.nativeDraggable&&(zt(document,"drop",this),zt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oh&&et(document.body,"user-select",""),et(Fe,"transform",""),e&&(eh&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),It&&It.parentNode&&It.parentNode.removeChild(It),(Ln===Jn||Fs&&Fs.lastPutMode!=="clone")&&Qn&&Qn.parentNode&&Qn.parentNode.removeChild(Qn),Fe&&(this.nativeDraggable&&zt(Fe,"dragend",this),N_(Fe),Fe.style["will-change"]="",eh&&!cd&&Wn(Fe,Fs?Fs.options.ghostClass:this.options.ghostClass,!1),Wn(Fe,this.options.chosenClass,!1),Si({sortable:this,name:"unchoose",toEl:Jn,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ln!==Jn?(or>=0&&(Si({rootEl:Jn,name:"add",toEl:Jn,fromEl:Ln,originalEvent:e}),Si({sortable:this,name:"remove",toEl:Jn,originalEvent:e}),Si({rootEl:Jn,name:"sort",toEl:Jn,fromEl:Ln,originalEvent:e}),Si({sortable:this,name:"sort",toEl:Jn,originalEvent:e})),Fs&&Fs.save()):or!==hd&&or>=0&&(Si({sortable:this,name:"update",toEl:Jn,originalEvent:e}),Si({sortable:this,name:"sort",toEl:Jn,originalEvent:e})),yt.active&&((or==null||or===-1)&&(or=hd,dl=Mh),Si({sortable:this,name:"end",toEl:Jn,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Vi("nulling",this),Ln=Fe=Jn=It=Cc=Qn=vv=pl=vc=qr=eh=or=dl=hd=Mh=Zu=Ih=Fs=Pg=yt.dragged=yt.ghost=yt.clone=yt.active=null,ly.forEach(function(e){e.checked=!0}),ly.length=R_=M_=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Fe&&(this._onDragOver(e),DIe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,s=this.el.children,i=0,r=s.length,o=this.options;i<r;i++)n=s[i],Xr(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||PIe(n));return e},sort:function(e,n){var s={},i=this.el;this.toArray().forEach(function(r,o){var a=i.children[o];Xr(a,this.options.draggable,i,!1)&&(s[r]=a)},this),n&&this.captureAnimationState(),e.forEach(function(r){s[r]&&(i.removeChild(s[r]),i.appendChild(s[r]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Xr(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var s=this.options;if(n===void 0)return s[e];var i=Qp.modifyOption(this,e,n);typeof i<"u"?s[e]=i:s[e]=n,e==="group"&&x6(s)},destroy:function(){Vi("destroy",this);var e=this.el;e[ci]=null,zt(e,"mousedown",this._onTapStart),zt(e,"touchstart",this._onTapStart),zt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(zt(e,"dragover",this),zt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ay.splice(ay.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!pl){if(Vi("hideClone",this),yt.eventCanceled)return;et(Qn,"display","none"),this.options.removeCloneOnHide&&Qn.parentNode&&Qn.parentNode.removeChild(Qn),pl=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(pl){if(Vi("showClone",this),yt.eventCanceled)return;Fe.parentNode==Ln&&!this.options.group.revertClone?Ln.insertBefore(Qn,Fe):Cc?Ln.insertBefore(Qn,Cc):Ln.appendChild(Qn),this.options.group.revertClone&&this.animate(Fe,Qn),et(Qn,"display",""),pl=!1}}};function DIe(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Fg(t,e,n,s,i,r,o,a){var c,u=t[ci],d=u.options.onMove,f;return window.CustomEvent&&!Va&&!Jp?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=n,c.draggedRect=s,c.related=i||e,c.relatedRect=r||Vn(e),c.willInsertAfter=a,c.originalEvent=o,t.dispatchEvent(c),d&&(f=d.call(u,c,o)),f}function N_(t){t.draggable=!1}function OIe(){EE=!1}function RIe(t,e,n){var s=Vn(Zd(n.el,0,n.options,!0)),i=10;return e?t.clientX<s.left-i||t.clientY<s.top&&t.clientX<s.right:t.clientY<s.top-i||t.clientY<s.bottom&&t.clientX<s.left}function MIe(t,e,n){var s=Vn(TA(n.el,n.options.draggable)),i=10;return e?t.clientX>s.right+i||t.clientX<=s.right&&t.clientY>s.bottom&&t.clientX>=s.left:t.clientX>s.right&&t.clientY>s.top||t.clientX<=s.right&&t.clientY>s.bottom+i}function IIe(t,e,n,s,i,r,o,a){var c=s?t.clientY:t.clientX,u=s?n.height:n.width,d=s?n.top:n.left,f=s?n.bottom:n.right,h=!1;if(!o){if(a&&bv<u*i){if(!Nh&&(Ih===1?c>d+u*r/2:c<f-u*r/2)&&(Nh=!0),Nh)h=!0;else if(Ih===1?c<d+bv:c>f-bv)return-Ih}else if(c>d+u*(1-i)/2&&c<f-u*(1-i)/2)return NIe(e)}return h=h||o,h&&(c<d+u*r/2||c>f-u*r/2)?c>d+u/2?1:-1:0}function NIe(t){return es(Fe)<es(t)?1:-1}function PIe(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,s=0;n--;)s+=e.charCodeAt(n);return s.toString(36)}function $Ie(t){ly.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var s=e[n];s.checked&&ly.push(s)}}function yv(t){return setTimeout(t,0)}function wE(t){return clearTimeout(t)}$1&&en(document,"touchmove",function(t){(yt.active||cd)&&t.cancelable&&t.preventDefault()});yt.utils={on:en,off:zt,css:et,find:m6,is:function(e,n){return!!Xr(e,n,e,!1)},extend:yIe,throttle:g6,closest:Xr,toggleClass:Wn,clone:DA,index:es,nextTick:yv,cancelNextTick:wE,detectDirection:y6,getChild:Zd};yt.get=function(t){return t[ci]};yt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(yt.utils=Io(Io({},yt.utils),s.utils)),Qp.mount(s)})};yt.create=function(t,e){return new yt(t,e)};yt.version=mIe;var gs=[],th,CE,AE=!1,P_,$_,cy,nh;function LIe(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var s=n.originalEvent;this.sortable.nativeDraggable?en(document,"dragover",this._handleAutoScroll):this.options.supportPointer?en(document,"pointermove",this._handleFallbackAutoScroll):s.touches?en(document,"touchmove",this._handleFallbackAutoScroll):en(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var s=n.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?zt(document,"dragover",this._handleAutoScroll):(zt(document,"pointermove",this._handleFallbackAutoScroll),zt(document,"touchmove",this._handleFallbackAutoScroll),zt(document,"mousemove",this._handleFallbackAutoScroll)),vN(),xv(),xIe()},nulling:function(){cy=CE=th=AE=nh=P_=$_=null,gs.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var i=this,r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(r,o);if(cy=n,s||this.options.forceAutoScrollFallback||Jp||Va||Oh){L_(n,this.options,a,s);var c=Al(a,!0);AE&&(!nh||r!==P_||o!==$_)&&(nh&&vN(),nh=setInterval(function(){var u=Al(document.elementFromPoint(r,o),!0);u!==c&&(c=u,xv()),L_(n,i.options,u,s)},10),P_=r,$_=o)}else{if(!this.options.bubbleScroll||Al(a,!0)===To()){xv();return}L_(n,this.options,Al(a,!1),!1)}}},Hr(t,{pluginName:"scroll",initializeByDefault:!0})}function xv(){gs.forEach(function(t){clearInterval(t.pid)}),gs=[]}function vN(){clearInterval(nh)}var L_=g6(function(t,e,n,s){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,c=To(),u=!1,d;CE!==n&&(CE=n,xv(),th=e.scroll,d=e.scrollFn,th===!0&&(th=Al(n,!0)));var f=0,h=th;do{var m=h,g=Vn(m),y=g.top,b=g.bottom,x=g.left,E=g.right,C=g.width,_=g.height,T=void 0,k=void 0,$=m.scrollWidth,M=m.scrollHeight,P=et(m),V=m.scrollLeft,I=m.scrollTop;m===c?(T=C<$&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),k=_<M&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(T=C<$&&(P.overflowX==="auto"||P.overflowX==="scroll"),k=_<M&&(P.overflowY==="auto"||P.overflowY==="scroll"));var w=T&&(Math.abs(E-i)<=o&&V+C<$)-(Math.abs(x-i)<=o&&!!V),D=k&&(Math.abs(b-r)<=o&&I+_<M)-(Math.abs(y-r)<=o&&!!I);if(!gs[f])for(var A=0;A<=f;A++)gs[A]||(gs[A]={});(gs[f].vx!=w||gs[f].vy!=D||gs[f].el!==m)&&(gs[f].el=m,gs[f].vx=w,gs[f].vy=D,clearInterval(gs[f].pid),(w!=0||D!=0)&&(u=!0,gs[f].pid=setInterval((function(){s&&this.layer===0&&yt.active._onTouchMove(cy);var B=gs[this.layer].vy?gs[this.layer].vy*a:0,N=gs[this.layer].vx?gs[this.layer].vx*a:0;typeof d=="function"&&d.call(yt.dragged.parentNode[ci],N,B,t,cy,gs[this.layer].el)!=="continue"||v6(gs[this.layer].el,N,B)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&h!==c&&(h=Al(h,!1)));AE=u}},30),E6=function(e){var n=e.originalEvent,s=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(n){var u=s||r;a();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(d.clientX,d.clientY);c(),u&&!u.el.contains(f)&&(o("spill"),this.onSpill({dragEl:i,putSortable:s}))}};function OA(){}OA.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var i=Zd(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),s&&s.animateAll()},drop:E6};Hr(OA,{pluginName:"revertOnSpill"});function RA(){}RA.prototype={onSpill:function(e){var n=e.dragEl,s=e.putSortable,i=s||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:E6};Hr(RA,{pluginName:"removeOnSpill"});var Or;function FIe(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){var s=n.dragEl;Or=s},dragOverValid:function(n){var s=n.completed,i=n.target,r=n.onMove,o=n.activeSortable,a=n.changed,c=n.cancel;if(o.options.swap){var u=this.sortable.el,d=this.options;if(i&&i!==u){var f=Or;r(i)!==!1?(Wn(i,d.swapClass,!0),Or=i):Or=null,f&&f!==Or&&Wn(f,d.swapClass,!1)}a(),s(!0),c()}},drop:function(n){var s=n.activeSortable,i=n.putSortable,r=n.dragEl,o=i||this.sortable,a=this.options;Or&&Wn(Or,a.swapClass,!1),Or&&(a.swap||i&&i.options.swap)&&r!==Or&&(o.captureAnimationState(),o!==s&&s.captureAnimationState(),VIe(r,Or),o.animateAll(),o!==s&&s.animateAll())},nulling:function(){Or=null}},Hr(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Or}}})}function VIe(t,e){var n=t.parentNode,s=e.parentNode,i,r;!n||!s||n.isEqualNode(e)||s.isEqualNode(t)||(i=es(t),r=es(e),n.isEqualNode(s)&&i<r&&r++,n.insertBefore(e,n.children[i]),s.insertBefore(t,s.children[r]))}var Tt=[],ir=[],Vf,Kr,Bf=!1,Bi=!1,ed=!1,Cn,Uf,Vg;function BIe(){function t(e){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));e.options.supportPointer?en(document,"pointerup",this._deselectMultiDrag):(en(document,"mouseup",this._deselectMultiDrag),en(document,"touchend",this._deselectMultiDrag)),en(document,"keydown",this._checkKeyDown),en(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,r){var o="";Tt.length&&Kr===e?Tt.forEach(function(a,c){o+=(c?", ":"")+a.textContent}):o=r.textContent,i.setData("Text",o)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var s=n.dragEl;Cn=s},delayEnded:function(){this.isMultiDrag=~Tt.indexOf(Cn)},setupClone:function(n){var s=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var r=0;r<Tt.length;r++)ir.push(DA(Tt[r])),ir[r].sortableIndex=Tt[r].sortableIndex,ir[r].draggable=!1,ir[r].style["will-change"]="",Wn(ir[r],this.options.selectedClass,!1),Tt[r]===Cn&&Wn(ir[r],this.options.chosenClass,!1);s._hideClone(),i()}},clone:function(n){var s=n.sortable,i=n.rootEl,r=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Tt.length&&Kr===s&&(bN(!0,i),r("clone"),o()))},showClone:function(n){var s=n.cloneNowShown,i=n.rootEl,r=n.cancel;this.isMultiDrag&&(bN(!1,i),ir.forEach(function(o){et(o,"display","")}),s(),Vg=!1,r())},hideClone:function(n){var s=this;n.sortable;var i=n.cloneNowHidden,r=n.cancel;this.isMultiDrag&&(ir.forEach(function(o){et(o,"display","none"),s.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Vg=!0,r())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Kr&&Kr.multiDrag._deselectMultiDrag(),Tt.forEach(function(s){s.sortableIndex=es(s)}),Tt=Tt.sort(function(s,i){return s.sortableIndex-i.sortableIndex}),ed=!0},dragStarted:function(n){var s=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){Tt.forEach(function(o){o!==Cn&&et(o,"position","absolute")});var r=Vn(Cn,!1,!0,!0);Tt.forEach(function(o){o!==Cn&&hN(o,r)}),Bi=!0,Bf=!0}i.animateAll(function(){Bi=!1,Bf=!1,s.options.animation&&Tt.forEach(function(o){D_(o)}),s.options.sort&&Bg()})}},dragOver:function(n){var s=n.target,i=n.completed,r=n.cancel;Bi&&~Tt.indexOf(s)&&(i(!1),r())},revert:function(n){var s=n.fromSortable,i=n.rootEl,r=n.sortable,o=n.dragRect;Tt.length>1&&(Tt.forEach(function(a){r.addAnimationState({target:a,rect:Bi?Vn(a):o}),D_(a),a.fromRect=o,s.removeAnimationState(a)}),Bi=!1,UIe(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var s=n.sortable,i=n.isOwner,r=n.insertion,o=n.activeSortable,a=n.parentEl,c=n.putSortable,u=this.options;if(r){if(i&&o._hideClone(),Bf=!1,u.animation&&Tt.length>1&&(Bi||!i&&!o.options.sort&&!c)){var d=Vn(Cn,!1,!0,!0);Tt.forEach(function(h){h!==Cn&&(hN(h,d),a.appendChild(h))}),Bi=!0}if(!i)if(Bi||Bg(),Tt.length>1){var f=Vg;o._showClone(s),o.options.animation&&!Vg&&f&&ir.forEach(function(h){o.addAnimationState({target:h,rect:Uf}),h.fromRect=Uf,h.thisAnimationDuration=null})}else o._showClone(s)}},dragOverAnimationCapture:function(n){var s=n.dragRect,i=n.isOwner,r=n.activeSortable;if(Tt.forEach(function(a){a.thisAnimationDuration=null}),r.options.animation&&!i&&r.multiDrag.isMultiDrag){Uf=Hr({},s);var o=nu(Cn,!0);Uf.top-=o.f,Uf.left-=o.e}},dragOverAnimationComplete:function(){Bi&&(Bi=!1,Bg())},drop:function(n){var s=n.originalEvent,i=n.rootEl,r=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,c=n.oldIndex,u=n.putSortable,d=u||this.sortable;if(s){var f=this.options,h=r.children;if(!ed)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Wn(Cn,f.selectedClass,!~Tt.indexOf(Cn)),~Tt.indexOf(Cn))Tt.splice(Tt.indexOf(Cn),1),Vf=null,Zf({sortable:o,rootEl:i,name:"deselect",targetEl:Cn});else{if(Tt.push(Cn),Zf({sortable:o,rootEl:i,name:"select",targetEl:Cn}),s.shiftKey&&Vf&&o.el.contains(Vf)){var m=es(Vf),g=es(Cn);if(~m&&~g&&m!==g){var y,b;for(g>m?(b=m,y=g):(b=g,y=m+1);b<y;b++)~Tt.indexOf(h[b])||(Wn(h[b],f.selectedClass,!0),Tt.push(h[b]),Zf({sortable:o,rootEl:i,name:"select",targetEl:h[b]}))}}else Vf=Cn;Kr=d}if(ed&&this.isMultiDrag){if(Bi=!1,(r[ci].options.sort||r!==i)&&Tt.length>1){var x=Vn(Cn),E=es(Cn,":not(."+this.options.selectedClass+")");if(!Bf&&f.animation&&(Cn.thisAnimationDuration=null),d.captureAnimationState(),!Bf&&(f.animation&&(Cn.fromRect=x,Tt.forEach(function(_){if(_.thisAnimationDuration=null,_!==Cn){var T=Bi?Vn(_):x;_.fromRect=T,d.addAnimationState({target:_,rect:T})}})),Bg(),Tt.forEach(function(_){h[E]?r.insertBefore(_,h[E]):r.appendChild(_),E++}),c===es(Cn))){var C=!1;Tt.forEach(function(_){if(_.sortableIndex!==es(_)){C=!0;return}}),C&&a("update")}Tt.forEach(function(_){D_(_)}),d.animateAll()}Kr=d}(i===r||u&&u.lastPutMode!=="clone")&&ir.forEach(function(_){_.parentNode&&_.parentNode.removeChild(_)})}},nullingGlobal:function(){this.isMultiDrag=ed=!1,ir.length=0},destroyGlobal:function(){this._deselectMultiDrag(),zt(document,"pointerup",this._deselectMultiDrag),zt(document,"mouseup",this._deselectMultiDrag),zt(document,"touchend",this._deselectMultiDrag),zt(document,"keydown",this._checkKeyDown),zt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof ed<"u"&&ed)&&Kr===this.sortable&&!(n&&Xr(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Tt.length;){var s=Tt[0];Wn(s,this.options.selectedClass,!1),Tt.shift(),Zf({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Hr(t,{pluginName:"multiDrag",utils:{select:function(n){var s=n.parentNode[ci];!s||!s.options.multiDrag||~Tt.indexOf(n)||(Kr&&Kr!==s&&(Kr.multiDrag._deselectMultiDrag(),Kr=s),Wn(n,s.options.selectedClass,!0),Tt.push(n))},deselect:function(n){var s=n.parentNode[ci],i=Tt.indexOf(n);!s||!s.options.multiDrag||!~i||(Wn(n,s.options.selectedClass,!1),Tt.splice(i,1))}},eventProperties:function(){var n=this,s=[],i=[];return Tt.forEach(function(r){s.push({multiDragElement:r,index:r.sortableIndex});var o;Bi&&r!==Cn?o=-1:Bi?o=es(r,":not(."+n.options.selectedClass+")"):o=es(r),i.push({multiDragElement:r,index:o})}),{items:uIe(Tt),clones:[].concat(ir),oldIndicies:s,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function UIe(t,e){Tt.forEach(function(n,s){var i=e.children[n.sortableIndex+(t?Number(s):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function bN(t,e){ir.forEach(function(n,s){var i=e.children[n.sortableIndex+(t?Number(s):0)];i?e.insertBefore(n,i):e.appendChild(n)})}function Bg(){Tt.forEach(function(t){t!==Cn&&t.parentNode&&t.parentNode.removeChild(t)})}yt.mount(new LIe);yt.mount(RA,OA);const HIe=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:BIe,Sortable:yt,Swap:FIe,default:yt},Symbol.toStringTag,{value:"Module"})),zIe=Uy(HIe);var jIe=mv.exports,yN;function WIe(){return yN||(yN=1,(function(t,e){(function(s,i){t.exports=i(D3(),zIe)})(typeof self<"u"?self:jIe,function(n,s){return(function(i){var r={};function o(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return i[a].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=i,o.c=r,o.d=function(a,c,u){o.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,c){if(c&1&&(a=o(a)),c&8||c&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),c&2&&typeof a!="string")for(var d in a)o.d(u,d,(function(f){return a[f]}).bind(null,d));return u},o.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(c,"a",c),c},o.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},o.p="",o(o.s="fb15")})({"00ee":(function(i,r,o){var a=o("b622"),c=a("toStringTag"),u={};u[c]="z",i.exports=String(u)==="[object z]"}),"0366":(function(i,r,o){var a=o("1c0b");i.exports=function(c,u,d){if(a(c),u===void 0)return c;switch(d){case 0:return function(){return c.call(u)};case 1:return function(f){return c.call(u,f)};case 2:return function(f,h){return c.call(u,f,h)};case 3:return function(f,h,m){return c.call(u,f,h,m)}}return function(){return c.apply(u,arguments)}}}),"057f":(function(i,r,o){var a=o("fc6a"),c=o("241c").f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(h){try{return c(h)}catch{return d.slice()}};i.exports.f=function(m){return d&&u.call(m)=="[object Window]"?f(m):c(a(m))}}),"06cf":(function(i,r,o){var a=o("83ab"),c=o("d1e7"),u=o("5c6c"),d=o("fc6a"),f=o("c04e"),h=o("5135"),m=o("0cfb"),g=Object.getOwnPropertyDescriptor;r.f=a?g:function(b,x){if(b=d(b),x=f(x,!0),m)try{return g(b,x)}catch{}if(h(b,x))return u(!c.f.call(b,x),b[x])}}),"0cfb":(function(i,r,o){var a=o("83ab"),c=o("d039"),u=o("cc12");i.exports=!a&&!c(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})}),"13d5":(function(i,r,o){var a=o("23e7"),c=o("d58f").left,u=o("a640"),d=o("ae40"),f=u("reduce"),h=d("reduce",{1:0});a({target:"Array",proto:!0,forced:!f||!h},{reduce:function(g){return c(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})}),"14c3":(function(i,r,o){var a=o("c6b6"),c=o("9263");i.exports=function(u,d){var f=u.exec;if(typeof f=="function"){var h=f.call(u,d);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return c.call(u,d)}}),"159b":(function(i,r,o){var a=o("da84"),c=o("fdbc"),u=o("17c2"),d=o("9112");for(var f in c){var h=a[f],m=h&&h.prototype;if(m&&m.forEach!==u)try{d(m,"forEach",u)}catch{m.forEach=u}}}),"17c2":(function(i,r,o){var a=o("b727").forEach,c=o("a640"),u=o("ae40"),d=c("forEach"),f=u("forEach");i.exports=!d||!f?function(m){return a(this,m,arguments.length>1?arguments[1]:void 0)}:[].forEach}),"1be4":(function(i,r,o){var a=o("d066");i.exports=a("document","documentElement")}),"1c0b":(function(i,r){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}}),"1c7e":(function(i,r,o){var a=o("b622"),c=a("iterator"),u=!1;try{var d=0,f={next:function(){return{done:!!d++}},return:function(){u=!0}};f[c]=function(){return this},Array.from(f,function(){throw 2})}catch{}i.exports=function(h,m){if(!m&&!u)return!1;var g=!1;try{var y={};y[c]=function(){return{next:function(){return{done:g=!0}}}},h(y)}catch{}return g}}),"1d80":(function(i,r){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}}),"1dde":(function(i,r,o){var a=o("d039"),c=o("b622"),u=o("2d00"),d=c("species");i.exports=function(f){return u>=51||!a(function(){var h=[],m=h.constructor={};return m[d]=function(){return{foo:1}},h[f](Boolean).foo!==1})}}),"23cb":(function(i,r,o){var a=o("a691"),c=Math.max,u=Math.min;i.exports=function(d,f){var h=a(d);return h<0?c(h+f,0):u(h,f)}}),"23e7":(function(i,r,o){var a=o("da84"),c=o("06cf").f,u=o("9112"),d=o("6eeb"),f=o("ce4e"),h=o("e893"),m=o("94ca");i.exports=function(g,y){var b=g.target,x=g.global,E=g.stat,C,_,T,k,$,M;if(x?_=a:E?_=a[b]||f(b,{}):_=(a[b]||{}).prototype,_)for(T in y){if($=y[T],g.noTargetGet?(M=c(_,T),k=M&&M.value):k=_[T],C=m(x?T:b+(E?".":"#")+T,g.forced),!C&&k!==void 0){if(typeof $==typeof k)continue;h($,k)}(g.sham||k&&k.sham)&&u($,"sham",!0),d(_,T,$,g)}}}),"241c":(function(i,r,o){var a=o("ca84"),c=o("7839"),u=c.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(f){return a(f,u)}}),"25f0":(function(i,r,o){var a=o("6eeb"),c=o("825a"),u=o("d039"),d=o("ad6d"),f="toString",h=RegExp.prototype,m=h[f],g=u(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),y=m.name!=f;(g||y)&&a(RegExp.prototype,f,function(){var x=c(this),E=String(x.source),C=x.flags,_=String(C===void 0&&x instanceof RegExp&&!("flags"in h)?d.call(x):C);return"/"+E+"/"+_},{unsafe:!0})}),"2ca0":(function(i,r,o){var a=o("23e7"),c=o("06cf").f,u=o("50c4"),d=o("5a34"),f=o("1d80"),h=o("ab13"),m=o("c430"),g="".startsWith,y=Math.min,b=h("startsWith"),x=!m&&!b&&!!(function(){var E=c(String.prototype,"startsWith");return E&&!E.writable})();a({target:"String",proto:!0,forced:!x&&!b},{startsWith:function(C){var _=String(f(this));d(C);var T=u(y(arguments.length>1?arguments[1]:void 0,_.length)),k=String(C);return g?g.call(_,k,T):_.slice(T,T+k.length)===k}})}),"2d00":(function(i,r,o){var a=o("da84"),c=o("342f"),u=a.process,d=u&&u.versions,f=d&&d.v8,h,m;f?(h=f.split("."),m=h[0]+h[1]):c&&(h=c.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=c.match(/Chrome\/(\d+)/),h&&(m=h[1]))),i.exports=m&&+m}),"342f":(function(i,r,o){var a=o("d066");i.exports=a("navigator","userAgent")||""}),"35a1":(function(i,r,o){var a=o("f5df"),c=o("3f8c"),u=o("b622"),d=u("iterator");i.exports=function(f){if(f!=null)return f[d]||f["@@iterator"]||c[a(f)]}}),"37e8":(function(i,r,o){var a=o("83ab"),c=o("9bf2"),u=o("825a"),d=o("df75");i.exports=a?Object.defineProperties:function(h,m){u(h);for(var g=d(m),y=g.length,b=0,x;y>b;)c.f(h,x=g[b++],m[x]);return h}}),"3bbe":(function(i,r,o){var a=o("861d");i.exports=function(c){if(!a(c)&&c!==null)throw TypeError("Can't set "+String(c)+" as a prototype");return c}}),"3ca3":(function(i,r,o){var a=o("6547").charAt,c=o("69f3"),u=o("7dd0"),d="String Iterator",f=c.set,h=c.getterFor(d);u(String,"String",function(m){f(this,{type:d,string:String(m),index:0})},function(){var g=h(this),y=g.string,b=g.index,x;return b>=y.length?{value:void 0,done:!0}:(x=a(y,b),g.index+=x.length,{value:x,done:!1})})}),"3f8c":(function(i,r){i.exports={}}),4160:(function(i,r,o){var a=o("23e7"),c=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=c},{forEach:c})}),"428f":(function(i,r,o){var a=o("da84");i.exports=a}),"44ad":(function(i,r,o){var a=o("d039"),c=o("c6b6"),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return c(d)=="String"?u.call(d,""):Object(d)}:Object}),"44d2":(function(i,r,o){var a=o("b622"),c=o("7c73"),u=o("9bf2"),d=a("unscopables"),f=Array.prototype;f[d]==null&&u.f(f,d,{configurable:!0,value:c(null)}),i.exports=function(h){f[d][h]=!0}}),"44e7":(function(i,r,o){var a=o("861d"),c=o("c6b6"),u=o("b622"),d=u("match");i.exports=function(f){var h;return a(f)&&((h=f[d])!==void 0?!!h:c(f)=="RegExp")}}),4930:(function(i,r,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})}),"4d64":(function(i,r,o){var a=o("fc6a"),c=o("50c4"),u=o("23cb"),d=function(f){return function(h,m,g){var y=a(h),b=c(y.length),x=u(g,b),E;if(f&&m!=m){for(;b>x;)if(E=y[x++],E!=E)return!0}else for(;b>x;x++)if((f||x in y)&&y[x]===m)return f||x||0;return!f&&-1}};i.exports={includes:d(!0),indexOf:d(!1)}}),"4de4":(function(i,r,o){var a=o("23e7"),c=o("b727").filter,u=o("1dde"),d=o("ae40"),f=u("filter"),h=d("filter");a({target:"Array",proto:!0,forced:!f||!h},{filter:function(g){return c(this,g,arguments.length>1?arguments[1]:void 0)}})}),"4df4":(function(i,r,o){var a=o("0366"),c=o("7b0b"),u=o("9bdd"),d=o("e95a"),f=o("50c4"),h=o("8418"),m=o("35a1");i.exports=function(y){var b=c(y),x=typeof this=="function"?this:Array,E=arguments.length,C=E>1?arguments[1]:void 0,_=C!==void 0,T=m(b),k=0,$,M,P,V,I,w;if(_&&(C=a(C,E>2?arguments[2]:void 0,2)),T!=null&&!(x==Array&&d(T)))for(V=T.call(b),I=V.next,M=new x;!(P=I.call(V)).done;k++)w=_?u(V,C,[P.value,k],!0):P.value,h(M,k,w);else for($=f(b.length),M=new x($);$>k;k++)w=_?C(b[k],k):b[k],h(M,k,w);return M.length=k,M}}),"4fad":(function(i,r,o){var a=o("23e7"),c=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(d){return c(d)}})}),"50c4":(function(i,r,o){var a=o("a691"),c=Math.min;i.exports=function(u){return u>0?c(a(u),9007199254740991):0}}),5135:(function(i,r){var o={}.hasOwnProperty;i.exports=function(a,c){return o.call(a,c)}}),5319:(function(i,r,o){var a=o("d784"),c=o("825a"),u=o("7b0b"),d=o("50c4"),f=o("a691"),h=o("1d80"),m=o("8aa5"),g=o("14c3"),y=Math.max,b=Math.min,x=Math.floor,E=/\$([$&'`]|\d\d?|<[^>]*>)/g,C=/\$([$&'`]|\d\d?)/g,_=function(T){return T===void 0?T:String(T)};a("replace",2,function(T,k,$,M){var P=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,V=M.REPLACE_KEEPS_$0,I=P?"$":"$0";return[function(A,B){var N=h(this),q=A?.[T];return q!==void 0?q.call(A,N,B):k.call(String(N),A,B)},function(D,A){if(!P&&V||typeof A=="string"&&A.indexOf(I)===-1){var B=$(k,D,this,A);if(B.done)return B.value}var N=c(D),q=String(this),W=typeof A=="function";W||(A=String(A));var Z=N.global;if(Z){var Le=N.unicode;N.lastIndex=0}for(var ge=[];;){var qe=g(N,q);if(qe===null||(ge.push(qe),!Z))break;var lt=String(qe[0]);lt===""&&(N.lastIndex=m(q,d(N.lastIndex),Le))}for(var Mt="",Oe=0,ae=0;ae<ge.length;ae++){qe=ge[ae];for(var se=String(qe[0]),xe=y(b(f(qe.index),q.length),0),Ie=[],Je=1;Je<qe.length;Je++)Ie.push(_(qe[Je]));var mt=qe.groups;if(W){var Ut=[se].concat(Ie,xe,q);mt!==void 0&&Ut.push(mt);var K=String(A.apply(void 0,Ut))}else K=w(se,q,xe,Ie,mt,A);xe>=Oe&&(Mt+=q.slice(Oe,xe)+K,Oe=xe+se.length)}return Mt+q.slice(Oe)}];function w(D,A,B,N,q,W){var Z=B+D.length,Le=N.length,ge=C;return q!==void 0&&(q=u(q),ge=E),k.call(W,ge,function(qe,lt){var Mt;switch(lt.charAt(0)){case"$":return"$";case"&":return D;case"`":return A.slice(0,B);case"'":return A.slice(Z);case"<":Mt=q[lt.slice(1,-1)];break;default:var Oe=+lt;if(Oe===0)return qe;if(Oe>Le){var ae=x(Oe/10);return ae===0?qe:ae<=Le?N[ae-1]===void 0?lt.charAt(1):N[ae-1]+lt.charAt(1):qe}Mt=N[Oe-1]}return Mt===void 0?"":Mt})}})}),5692:(function(i,r,o){var a=o("c430"),c=o("c6cd");(i.exports=function(u,d){return c[u]||(c[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),"56ef":(function(i,r,o){var a=o("d066"),c=o("241c"),u=o("7418"),d=o("825a");i.exports=a("Reflect","ownKeys")||function(h){var m=c.f(d(h)),g=u.f;return g?m.concat(g(h)):m}}),"5a34":(function(i,r,o){var a=o("44e7");i.exports=function(c){if(a(c))throw TypeError("The method doesn't accept regular expressions");return c}}),"5c6c":(function(i,r){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}}),"5db7":(function(i,r,o){var a=o("23e7"),c=o("a2bf"),u=o("7b0b"),d=o("50c4"),f=o("1c0b"),h=o("65f0");a({target:"Array",proto:!0},{flatMap:function(g){var y=u(this),b=d(y.length),x;return f(g),x=h(y,0),x.length=c(x,y,y,b,0,1,g,arguments.length>1?arguments[1]:void 0),x}})}),6547:(function(i,r,o){var a=o("a691"),c=o("1d80"),u=function(d){return function(f,h){var m=String(c(f)),g=a(h),y=m.length,b,x;return g<0||g>=y?d?"":void 0:(b=m.charCodeAt(g),b<55296||b>56319||g+1===y||(x=m.charCodeAt(g+1))<56320||x>57343?d?m.charAt(g):b:d?m.slice(g,g+2):(b-55296<<10)+(x-56320)+65536)}};i.exports={codeAt:u(!1),charAt:u(!0)}}),"65f0":(function(i,r,o){var a=o("861d"),c=o("e8b5"),u=o("b622"),d=u("species");i.exports=function(f,h){var m;return c(f)&&(m=f.constructor,typeof m=="function"&&(m===Array||c(m.prototype))?m=void 0:a(m)&&(m=m[d],m===null&&(m=void 0))),new(m===void 0?Array:m)(h===0?0:h)}}),"69f3":(function(i,r,o){var a=o("7f9a"),c=o("da84"),u=o("861d"),d=o("9112"),f=o("5135"),h=o("f772"),m=o("d012"),g=c.WeakMap,y,b,x,E=function(P){return x(P)?b(P):y(P,{})},C=function(P){return function(V){var I;if(!u(V)||(I=b(V)).type!==P)throw TypeError("Incompatible receiver, "+P+" required");return I}};if(a){var _=new g,T=_.get,k=_.has,$=_.set;y=function(P,V){return $.call(_,P,V),V},b=function(P){return T.call(_,P)||{}},x=function(P){return k.call(_,P)}}else{var M=h("state");m[M]=!0,y=function(P,V){return d(P,M,V),V},b=function(P){return f(P,M)?P[M]:{}},x=function(P){return f(P,M)}}i.exports={set:y,get:b,has:x,enforce:E,getterFor:C}}),"6eeb":(function(i,r,o){var a=o("da84"),c=o("9112"),u=o("5135"),d=o("ce4e"),f=o("8925"),h=o("69f3"),m=h.get,g=h.enforce,y=String(String).split("String");(i.exports=function(b,x,E,C){var _=C?!!C.unsafe:!1,T=C?!!C.enumerable:!1,k=C?!!C.noTargetGet:!1;if(typeof E=="function"&&(typeof x=="string"&&!u(E,"name")&&c(E,"name",x),g(E).source=y.join(typeof x=="string"?x:"")),b===a){T?b[x]=E:d(x,E);return}else _?!k&&b[x]&&(T=!0):delete b[x];T?b[x]=E:c(b,x,E)})(Function.prototype,"toString",function(){return typeof this=="function"&&m(this).source||f(this)})}),"6f53":(function(i,r,o){var a=o("83ab"),c=o("df75"),u=o("fc6a"),d=o("d1e7").f,f=function(h){return function(m){for(var g=u(m),y=c(g),b=y.length,x=0,E=[],C;b>x;)C=y[x++],(!a||d.call(g,C))&&E.push(h?[C,g[C]]:g[C]);return E}};i.exports={entries:f(!0),values:f(!1)}}),"73d9":(function(i,r,o){var a=o("44d2");a("flatMap")}),7418:(function(i,r){r.f=Object.getOwnPropertySymbols}),"746f":(function(i,r,o){var a=o("428f"),c=o("5135"),u=o("e538"),d=o("9bf2").f;i.exports=function(f){var h=a.Symbol||(a.Symbol={});c(h,f)||d(h,f,{value:u.f(f)})}}),7839:(function(i,r){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"7b0b":(function(i,r,o){var a=o("1d80");i.exports=function(c){return Object(a(c))}}),"7c73":(function(i,r,o){var a=o("825a"),c=o("37e8"),u=o("7839"),d=o("d012"),f=o("1be4"),h=o("cc12"),m=o("f772"),g=">",y="<",b="prototype",x="script",E=m("IE_PROTO"),C=function(){},_=function(P){return y+x+g+P+y+"/"+x+g},T=function(P){P.write(_("")),P.close();var V=P.parentWindow.Object;return P=null,V},k=function(){var P=h("iframe"),V="java"+x+":",I;return P.style.display="none",f.appendChild(P),P.src=String(V),I=P.contentWindow.document,I.open(),I.write(_("document.F=Object")),I.close(),I.F},$,M=function(){try{$=document.domain&&new ActiveXObject("htmlfile")}catch{}M=$?T($):k();for(var P=u.length;P--;)delete M[b][u[P]];return M()};d[E]=!0,i.exports=Object.create||function(V,I){var w;return V!==null?(C[b]=a(V),w=new C,C[b]=null,w[E]=V):w=M(),I===void 0?w:c(w,I)}}),"7dd0":(function(i,r,o){var a=o("23e7"),c=o("9ed3"),u=o("e163"),d=o("d2bb"),f=o("d44e"),h=o("9112"),m=o("6eeb"),g=o("b622"),y=o("c430"),b=o("3f8c"),x=o("ae93"),E=x.IteratorPrototype,C=x.BUGGY_SAFARI_ITERATORS,_=g("iterator"),T="keys",k="values",$="entries",M=function(){return this};i.exports=function(P,V,I,w,D,A,B){c(I,V,w);var N=function(ae){if(ae===D&&ge)return ge;if(!C&&ae in Z)return Z[ae];switch(ae){case T:return function(){return new I(this,ae)};case k:return function(){return new I(this,ae)};case $:return function(){return new I(this,ae)}}return function(){return new I(this)}},q=V+" Iterator",W=!1,Z=P.prototype,Le=Z[_]||Z["@@iterator"]||D&&Z[D],ge=!C&&Le||N(D),qe=V=="Array"&&Z.entries||Le,lt,Mt,Oe;if(qe&&(lt=u(qe.call(new P)),E!==Object.prototype&&lt.next&&(!y&&u(lt)!==E&&(d?d(lt,E):typeof lt[_]!="function"&&h(lt,_,M)),f(lt,q,!0,!0),y&&(b[q]=M))),D==k&&Le&&Le.name!==k&&(W=!0,ge=function(){return Le.call(this)}),(!y||B)&&Z[_]!==ge&&h(Z,_,ge),b[V]=ge,D)if(Mt={values:N(k),keys:A?ge:N(T),entries:N($)},B)for(Oe in Mt)(C||W||!(Oe in Z))&&m(Z,Oe,Mt[Oe]);else a({target:V,proto:!0,forced:C||W},Mt);return Mt}}),"7f9a":(function(i,r,o){var a=o("da84"),c=o("8925"),u=a.WeakMap;i.exports=typeof u=="function"&&/native code/.test(c(u))}),"825a":(function(i,r,o){var a=o("861d");i.exports=function(c){if(!a(c))throw TypeError(String(c)+" is not an object");return c}}),"83ab":(function(i,r,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),8418:(function(i,r,o){var a=o("c04e"),c=o("9bf2"),u=o("5c6c");i.exports=function(d,f,h){var m=a(f);m in d?c.f(d,m,u(0,h)):d[m]=h}}),"861d":(function(i,r){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}}),8875:(function(i,r,o){var a,c,u;(function(d,f){c=[],a=f,u=typeof a=="function"?a.apply(r,c):a,u!==void 0&&(i.exports=u)})(typeof self<"u"?self:this,function(){function d(){var f=Object.getOwnPropertyDescriptor(document,"currentScript");if(!f&&"currentScript"in document&&document.currentScript||f&&f.get!==d&&document.currentScript)return document.currentScript;try{throw new Error}catch($){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,m=/@([^@]*):(\d+):(\d+)\s*$/ig,g=h.exec($.stack)||m.exec($.stack),y=g&&g[1]||!1,b=g&&g[2]||!1,x=document.location.href.replace(document.location.hash,""),E,C,_,T=document.getElementsByTagName("script");y===x&&(E=document.documentElement.outerHTML,C=new RegExp("(?:[^\\n]+?\\n){0,"+(b-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),_=E.replace(C,"$1").trim());for(var k=0;k<T.length;k++)if(T[k].readyState==="interactive"||T[k].src===y||y===x&&T[k].innerHTML&&T[k].innerHTML.trim()===_)return T[k];return null}}return d})}),8925:(function(i,r,o){var a=o("c6cd"),c=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return c.call(u)}),i.exports=a.inspectSource}),"8aa5":(function(i,r,o){var a=o("6547").charAt;i.exports=function(c,u,d){return u+(d?a(c,u).length:1)}}),"8bbf":(function(i,r){i.exports=n}),"90e3":(function(i,r){var o=0,a=Math.random();i.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++o+a).toString(36)}}),9112:(function(i,r,o){var a=o("83ab"),c=o("9bf2"),u=o("5c6c");i.exports=a?function(d,f,h){return c.f(d,f,u(1,h))}:function(d,f,h){return d[f]=h,d}}),9263:(function(i,r,o){var a=o("ad6d"),c=o("9f7f"),u=RegExp.prototype.exec,d=String.prototype.replace,f=u,h=(function(){var b=/a/,x=/b*/g;return u.call(b,"a"),u.call(x,"a"),b.lastIndex!==0||x.lastIndex!==0})(),m=c.UNSUPPORTED_Y||c.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,y=h||g||m;y&&(f=function(x){var E=this,C,_,T,k,$=m&&E.sticky,M=a.call(E),P=E.source,V=0,I=x;return $&&(M=M.replace("y",""),M.indexOf("g")===-1&&(M+="g"),I=String(x).slice(E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&x[E.lastIndex-1]!==`
`)&&(P="(?: "+P+")",I=" "+I,V++),_=new RegExp("^(?:"+P+")",M)),g&&(_=new RegExp("^"+P+"$(?!\\s)",M)),h&&(C=E.lastIndex),T=u.call($?_:E,I),$?T?(T.input=T.input.slice(V),T[0]=T[0].slice(V),T.index=E.lastIndex,E.lastIndex+=T[0].length):E.lastIndex=0:h&&T&&(E.lastIndex=E.global?T.index+T[0].length:C),g&&T&&T.length>1&&d.call(T[0],_,function(){for(k=1;k<arguments.length-2;k++)arguments[k]===void 0&&(T[k]=void 0)}),T}),i.exports=f}),"94ca":(function(i,r,o){var a=o("d039"),c=/#|\.prototype\./,u=function(g,y){var b=f[d(g)];return b==m?!0:b==h?!1:typeof y=="function"?a(y):!!y},d=u.normalize=function(g){return String(g).replace(c,".").toLowerCase()},f=u.data={},h=u.NATIVE="N",m=u.POLYFILL="P";i.exports=u}),"99af":(function(i,r,o){var a=o("23e7"),c=o("d039"),u=o("e8b5"),d=o("861d"),f=o("7b0b"),h=o("50c4"),m=o("8418"),g=o("65f0"),y=o("1dde"),b=o("b622"),x=o("2d00"),E=b("isConcatSpreadable"),C=9007199254740991,_="Maximum allowed index exceeded",T=x>=51||!c(function(){var P=[];return P[E]=!1,P.concat()[0]!==P}),k=y("concat"),$=function(P){if(!d(P))return!1;var V=P[E];return V!==void 0?!!V:u(P)},M=!T||!k;a({target:"Array",proto:!0,forced:M},{concat:function(V){var I=f(this),w=g(I,0),D=0,A,B,N,q,W;for(A=-1,N=arguments.length;A<N;A++)if(W=A===-1?I:arguments[A],$(W)){if(q=h(W.length),D+q>C)throw TypeError(_);for(B=0;B<q;B++,D++)B in W&&m(w,D,W[B])}else{if(D>=C)throw TypeError(_);m(w,D++,W)}return w.length=D,w}})}),"9bdd":(function(i,r,o){var a=o("825a");i.exports=function(c,u,d,f){try{return f?u(a(d)[0],d[1]):u(d)}catch(m){var h=c.return;throw h!==void 0&&a(h.call(c)),m}}}),"9bf2":(function(i,r,o){var a=o("83ab"),c=o("0cfb"),u=o("825a"),d=o("c04e"),f=Object.defineProperty;r.f=a?f:function(m,g,y){if(u(m),g=d(g,!0),u(y),c)try{return f(m,g,y)}catch{}if("get"in y||"set"in y)throw TypeError("Accessors not supported");return"value"in y&&(m[g]=y.value),m}}),"9ed3":(function(i,r,o){var a=o("ae93").IteratorPrototype,c=o("7c73"),u=o("5c6c"),d=o("d44e"),f=o("3f8c"),h=function(){return this};i.exports=function(m,g,y){var b=g+" Iterator";return m.prototype=c(a,{next:u(1,y)}),d(m,b,!1,!0),f[b]=h,m}}),"9f7f":(function(i,r,o){var a=o("d039");function c(u,d){return RegExp(u,d)}r.UNSUPPORTED_Y=a(function(){var u=c("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),r.BROKEN_CARET=a(function(){var u=c("^r","gy");return u.lastIndex=2,u.exec("str")!=null})}),a2bf:(function(i,r,o){var a=o("e8b5"),c=o("50c4"),u=o("0366"),d=function(f,h,m,g,y,b,x,E){for(var C=y,_=0,T=x?u(x,E,3):!1,k;_<g;){if(_ in m){if(k=T?T(m[_],_,h):m[_],b>0&&a(k))C=d(f,h,k,c(k.length),C,b-1)-1;else{if(C>=9007199254740991)throw TypeError("Exceed the acceptable array length");f[C]=k}C++}_++}return C};i.exports=d}),a352:(function(i,r){i.exports=s}),a434:(function(i,r,o){var a=o("23e7"),c=o("23cb"),u=o("a691"),d=o("50c4"),f=o("7b0b"),h=o("65f0"),m=o("8418"),g=o("1dde"),y=o("ae40"),b=g("splice"),x=y("splice",{ACCESSORS:!0,0:0,1:2}),E=Math.max,C=Math.min,_=9007199254740991,T="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!b||!x},{splice:function($,M){var P=f(this),V=d(P.length),I=c($,V),w=arguments.length,D,A,B,N,q,W;if(w===0?D=A=0:w===1?(D=0,A=V-I):(D=w-2,A=C(E(u(M),0),V-I)),V+D-A>_)throw TypeError(T);for(B=h(P,A),N=0;N<A;N++)q=I+N,q in P&&m(B,N,P[q]);if(B.length=A,D<A){for(N=I;N<V-A;N++)q=N+A,W=N+D,q in P?P[W]=P[q]:delete P[W];for(N=V;N>V-A+D;N--)delete P[N-1]}else if(D>A)for(N=V-A;N>I;N--)q=N+A-1,W=N+D-1,q in P?P[W]=P[q]:delete P[W];for(N=0;N<D;N++)P[N+I]=arguments[N+2];return P.length=V-A+D,B}})}),a4d3:(function(i,r,o){var a=o("23e7"),c=o("da84"),u=o("d066"),d=o("c430"),f=o("83ab"),h=o("4930"),m=o("fdbf"),g=o("d039"),y=o("5135"),b=o("e8b5"),x=o("861d"),E=o("825a"),C=o("7b0b"),_=o("fc6a"),T=o("c04e"),k=o("5c6c"),$=o("7c73"),M=o("df75"),P=o("241c"),V=o("057f"),I=o("7418"),w=o("06cf"),D=o("9bf2"),A=o("d1e7"),B=o("9112"),N=o("6eeb"),q=o("5692"),W=o("f772"),Z=o("d012"),Le=o("90e3"),ge=o("b622"),qe=o("e538"),lt=o("746f"),Mt=o("d44e"),Oe=o("69f3"),ae=o("b727").forEach,se=W("hidden"),xe="Symbol",Ie="prototype",Je=ge("toPrimitive"),mt=Oe.set,Ut=Oe.getterFor(xe),K=Object[Ie],X=c.Symbol,ue=u("JSON","stringify"),Ee=w.f,ve=D.f,Ae=V.f,Ue=A.f,Ne=q("symbols"),De=q("op-symbols"),ke=q("string-to-symbol-registry"),Ze=q("symbol-to-string-registry"),He=q("wks"),Ye=c.QObject,at=!Ye||!Ye[Ie]||!Ye[Ie].findChild,Ct=f&&g(function(){return $(ve({},"a",{get:function(){return ve(this,"a",{value:7}).a}})).a!=7})?function(dt,Qe,ct){var Ht=Ee(K,Qe);Ht&&delete K[Qe],ve(dt,Qe,ct),Ht&&dt!==K&&ve(K,Qe,Ht)}:ve,Vt=function(dt,Qe){var ct=Ne[dt]=$(X[Ie]);return mt(ct,{type:xe,tag:dt,description:Qe}),f||(ct.description=Qe),ct},ie=m?function(dt){return typeof dt=="symbol"}:function(dt){return Object(dt)instanceof X},le=function(Qe,ct,Ht){Qe===K&&le(De,ct,Ht),E(Qe);var Xt=T(ct,!0);return E(Ht),y(Ne,Xt)?(Ht.enumerable?(y(Qe,se)&&Qe[se][Xt]&&(Qe[se][Xt]=!1),Ht=$(Ht,{enumerable:k(0,!1)})):(y(Qe,se)||ve(Qe,se,k(1,{})),Qe[se][Xt]=!0),Ct(Qe,Xt,Ht)):ve(Qe,Xt,Ht)},fe=function(Qe,ct){E(Qe);var Ht=_(ct),Xt=M(Ht).concat(bt(Ht));return ae(Xt,function(Ks){(!f||Be.call(Ht,Ks))&&le(Qe,Ks,Ht[Ks])}),Qe},Ce=function(Qe,ct){return ct===void 0?$(Qe):fe($(Qe),ct)},Be=function(Qe){var ct=T(Qe,!0),Ht=Ue.call(this,ct);return this===K&&y(Ne,ct)&&!y(De,ct)?!1:Ht||!y(this,ct)||!y(Ne,ct)||y(this,se)&&this[se][ct]?Ht:!0},st=function(Qe,ct){var Ht=_(Qe),Xt=T(ct,!0);if(!(Ht===K&&y(Ne,Xt)&&!y(De,Xt))){var Ks=Ee(Ht,Xt);return Ks&&y(Ne,Xt)&&!(y(Ht,se)&&Ht[se][Xt])&&(Ks.enumerable=!0),Ks}},_t=function(Qe){var ct=Ae(_(Qe)),Ht=[];return ae(ct,function(Xt){!y(Ne,Xt)&&!y(Z,Xt)&&Ht.push(Xt)}),Ht},bt=function(Qe){var ct=Qe===K,Ht=Ae(ct?De:_(Qe)),Xt=[];return ae(Ht,function(Ks){y(Ne,Ks)&&(!ct||y(K,Ks))&&Xt.push(Ne[Ks])}),Xt};if(h||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var Qe=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ct=Le(Qe),Ht=function(Xt){this===K&&Ht.call(De,Xt),y(this,se)&&y(this[se],ct)&&(this[se][ct]=!1),Ct(this,ct,k(1,Xt))};return f&&at&&Ct(K,ct,{configurable:!0,set:Ht}),Vt(ct,Qe)},N(X[Ie],"toString",function(){return Ut(this).tag}),N(X,"withoutSetter",function(dt){return Vt(Le(dt),dt)}),A.f=Be,D.f=le,w.f=st,P.f=V.f=_t,I.f=bt,qe.f=function(dt){return Vt(ge(dt),dt)},f&&(ve(X[Ie],"description",{configurable:!0,get:function(){return Ut(this).description}}),d||N(K,"propertyIsEnumerable",Be,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:X}),ae(M(He),function(dt){lt(dt)}),a({target:xe,stat:!0,forced:!h},{for:function(dt){var Qe=String(dt);if(y(ke,Qe))return ke[Qe];var ct=X(Qe);return ke[Qe]=ct,Ze[ct]=Qe,ct},keyFor:function(Qe){if(!ie(Qe))throw TypeError(Qe+" is not a symbol");if(y(Ze,Qe))return Ze[Qe]},useSetter:function(){at=!0},useSimple:function(){at=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!f},{create:Ce,defineProperty:le,defineProperties:fe,getOwnPropertyDescriptor:st}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:_t,getOwnPropertySymbols:bt}),a({target:"Object",stat:!0,forced:g(function(){I.f(1)})},{getOwnPropertySymbols:function(Qe){return I.f(C(Qe))}}),ue){var Yt=!h||g(function(){var dt=X();return ue([dt])!="[null]"||ue({a:dt})!="{}"||ue(Object(dt))!="{}"});a({target:"JSON",stat:!0,forced:Yt},{stringify:function(Qe,ct,Ht){for(var Xt=[Qe],Ks=1,cf;arguments.length>Ks;)Xt.push(arguments[Ks++]);if(cf=ct,!(!x(ct)&&Qe===void 0||ie(Qe)))return b(ct)||(ct=function(V1,ku){if(typeof cf=="function"&&(ku=cf.call(this,V1,ku)),!ie(ku))return ku}),Xt[1]=ct,ue.apply(null,Xt)}})}X[Ie][Je]||B(X[Ie],Je,X[Ie].valueOf),Mt(X,xe),Z[se]=!0}),a630:(function(i,r,o){var a=o("23e7"),c=o("4df4"),u=o("1c7e"),d=!u(function(f){Array.from(f)});a({target:"Array",stat:!0,forced:d},{from:c})}),a640:(function(i,r,o){var a=o("d039");i.exports=function(c,u){var d=[][c];return!!d&&a(function(){d.call(null,u||function(){throw 1},1)})}}),a691:(function(i,r){var o=Math.ceil,a=Math.floor;i.exports=function(c){return isNaN(c=+c)?0:(c>0?a:o)(c)}}),ab13:(function(i,r,o){var a=o("b622"),c=a("match");i.exports=function(u){var d=/./;try{"/./"[u](d)}catch{try{return d[c]=!1,"/./"[u](d)}catch{}}return!1}}),ac1f:(function(i,r,o){var a=o("23e7"),c=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})}),ad6d:(function(i,r,o){var a=o("825a");i.exports=function(){var c=a(this),u="";return c.global&&(u+="g"),c.ignoreCase&&(u+="i"),c.multiline&&(u+="m"),c.dotAll&&(u+="s"),c.unicode&&(u+="u"),c.sticky&&(u+="y"),u}}),ae40:(function(i,r,o){var a=o("83ab"),c=o("d039"),u=o("5135"),d=Object.defineProperty,f={},h=function(m){throw m};i.exports=function(m,g){if(u(f,m))return f[m];g||(g={});var y=[][m],b=u(g,"ACCESSORS")?g.ACCESSORS:!1,x=u(g,0)?g[0]:h,E=u(g,1)?g[1]:void 0;return f[m]=!!y&&!c(function(){if(b&&!a)return!0;var C={length:-1};b?d(C,1,{enumerable:!0,get:h}):C[1]=1,y.call(C,x,E)})}}),ae93:(function(i,r,o){var a=o("e163"),c=o("9112"),u=o("5135"),d=o("b622"),f=o("c430"),h=d("iterator"),m=!1,g=function(){return this},y,b,x;[].keys&&(x=[].keys(),"next"in x?(b=a(a(x)),b!==Object.prototype&&(y=b)):m=!0),y==null&&(y={}),!f&&!u(y,h)&&c(y,h,g),i.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:m}}),b041:(function(i,r,o){var a=o("00ee"),c=o("f5df");i.exports=a?{}.toString:function(){return"[object "+c(this)+"]"}}),b0c0:(function(i,r,o){var a=o("83ab"),c=o("9bf2").f,u=Function.prototype,d=u.toString,f=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&c(u,h,{configurable:!0,get:function(){try{return d.call(this).match(f)[1]}catch{return""}}})}),b622:(function(i,r,o){var a=o("da84"),c=o("5692"),u=o("5135"),d=o("90e3"),f=o("4930"),h=o("fdbf"),m=c("wks"),g=a.Symbol,y=h?g:g&&g.withoutSetter||d;i.exports=function(b){return u(m,b)||(f&&u(g,b)?m[b]=g[b]:m[b]=y("Symbol."+b)),m[b]}}),b64b:(function(i,r,o){var a=o("23e7"),c=o("7b0b"),u=o("df75"),d=o("d039"),f=d(function(){u(1)});a({target:"Object",stat:!0,forced:f},{keys:function(m){return u(c(m))}})}),b727:(function(i,r,o){var a=o("0366"),c=o("44ad"),u=o("7b0b"),d=o("50c4"),f=o("65f0"),h=[].push,m=function(g){var y=g==1,b=g==2,x=g==3,E=g==4,C=g==6,_=g==5||C;return function(T,k,$,M){for(var P=u(T),V=c(P),I=a(k,$,3),w=d(V.length),D=0,A=M||f,B=y?A(T,w):b?A(T,0):void 0,N,q;w>D;D++)if((_||D in V)&&(N=V[D],q=I(N,D,P),g)){if(y)B[D]=q;else if(q)switch(g){case 3:return!0;case 5:return N;case 6:return D;case 2:h.call(B,N)}else if(E)return!1}return C?-1:x||E?E:B}};i.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}}),c04e:(function(i,r,o){var a=o("861d");i.exports=function(c,u){if(!a(c))return c;var d,f;if(u&&typeof(d=c.toString)=="function"&&!a(f=d.call(c))||typeof(d=c.valueOf)=="function"&&!a(f=d.call(c))||!u&&typeof(d=c.toString)=="function"&&!a(f=d.call(c)))return f;throw TypeError("Can't convert object to primitive value")}}),c430:(function(i,r){i.exports=!1}),c6b6:(function(i,r){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}}),c6cd:(function(i,r,o){var a=o("da84"),c=o("ce4e"),u="__core-js_shared__",d=a[u]||c(u,{});i.exports=d}),c740:(function(i,r,o){var a=o("23e7"),c=o("b727").findIndex,u=o("44d2"),d=o("ae40"),f="findIndex",h=!0,m=d(f);f in[]&&Array(1)[f](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!m},{findIndex:function(y){return c(this,y,arguments.length>1?arguments[1]:void 0)}}),u(f)}),c8ba:(function(i,r){var o;o=(function(){return this})();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o}),c975:(function(i,r,o){var a=o("23e7"),c=o("4d64").indexOf,u=o("a640"),d=o("ae40"),f=[].indexOf,h=!!f&&1/[1].indexOf(1,-0)<0,m=u("indexOf"),g=d("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!m||!g},{indexOf:function(b){return h?f.apply(this,arguments)||0:c(this,b,arguments.length>1?arguments[1]:void 0)}})}),ca84:(function(i,r,o){var a=o("5135"),c=o("fc6a"),u=o("4d64").indexOf,d=o("d012");i.exports=function(f,h){var m=c(f),g=0,y=[],b;for(b in m)!a(d,b)&&a(m,b)&&y.push(b);for(;h.length>g;)a(m,b=h[g++])&&(~u(y,b)||y.push(b));return y}}),caad:(function(i,r,o){var a=o("23e7"),c=o("4d64").includes,u=o("44d2"),d=o("ae40"),f=d("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!f},{includes:function(m){return c(this,m,arguments.length>1?arguments[1]:void 0)}}),u("includes")}),cc12:(function(i,r,o){var a=o("da84"),c=o("861d"),u=a.document,d=c(u)&&c(u.createElement);i.exports=function(f){return d?u.createElement(f):{}}}),ce4e:(function(i,r,o){var a=o("da84"),c=o("9112");i.exports=function(u,d){try{c(a,u,d)}catch{a[u]=d}return d}}),d012:(function(i,r){i.exports={}}),d039:(function(i,r){i.exports=function(o){try{return!!o()}catch{return!0}}}),d066:(function(i,r,o){var a=o("428f"),c=o("da84"),u=function(d){return typeof d=="function"?d:void 0};i.exports=function(d,f){return arguments.length<2?u(a[d])||u(c[d]):a[d]&&a[d][f]||c[d]&&c[d][f]}}),d1e7:(function(i,r,o){var a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u=c&&!a.call({1:2},1);r.f=u?function(f){var h=c(this,f);return!!h&&h.enumerable}:a}),d28b:(function(i,r,o){var a=o("746f");a("iterator")}),d2bb:(function(i,r,o){var a=o("825a"),c=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u=!1,d={},f;try{f=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,f.call(d,[]),u=d instanceof Array}catch{}return function(m,g){return a(m),c(g),u?f.call(m,g):m.__proto__=g,m}})():void 0)}),d3b7:(function(i,r,o){var a=o("00ee"),c=o("6eeb"),u=o("b041");a||c(Object.prototype,"toString",u,{unsafe:!0})}),d44e:(function(i,r,o){var a=o("9bf2").f,c=o("5135"),u=o("b622"),d=u("toStringTag");i.exports=function(f,h,m){f&&!c(f=m?f:f.prototype,d)&&a(f,d,{configurable:!0,value:h})}}),d58f:(function(i,r,o){var a=o("1c0b"),c=o("7b0b"),u=o("44ad"),d=o("50c4"),f=function(h){return function(m,g,y,b){a(g);var x=c(m),E=u(x),C=d(x.length),_=h?C-1:0,T=h?-1:1;if(y<2)for(;;){if(_ in E){b=E[_],_+=T;break}if(_+=T,h?_<0:C<=_)throw TypeError("Reduce of empty array with no initial value")}for(;h?_>=0:C>_;_+=T)_ in E&&(b=g(b,E[_],_,x));return b}};i.exports={left:f(!1),right:f(!0)}}),d784:(function(i,r,o){o("ac1f");var a=o("6eeb"),c=o("d039"),u=o("b622"),d=o("9263"),f=o("9112"),h=u("species"),m=!c(function(){var E=/./;return E.exec=function(){var C=[];return C.groups={a:"7"},C},"".replace(E,"$<a>")!=="7"}),g=(function(){return"a".replace(/./,"$0")==="$0"})(),y=u("replace"),b=(function(){return/./[y]?/./[y]("a","$0")==="":!1})(),x=!c(function(){var E=/(?:)/,C=E.exec;E.exec=function(){return C.apply(this,arguments)};var _="ab".split(E);return _.length!==2||_[0]!=="a"||_[1]!=="b"});i.exports=function(E,C,_,T){var k=u(E),$=!c(function(){var D={};return D[k]=function(){return 7},""[E](D)!=7}),M=$&&!c(function(){var D=!1,A=/a/;return E==="split"&&(A={},A.constructor={},A.constructor[h]=function(){return A},A.flags="",A[k]=/./[k]),A.exec=function(){return D=!0,null},A[k](""),!D});if(!$||!M||E==="replace"&&!(m&&g&&!b)||E==="split"&&!x){var P=/./[k],V=_(k,""[E],function(D,A,B,N,q){return A.exec===d?$&&!q?{done:!0,value:P.call(A,B,N)}:{done:!0,value:D.call(B,A,N)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),I=V[0],w=V[1];a(String.prototype,E,I),a(RegExp.prototype,k,C==2?function(D,A){return w.call(D,this,A)}:function(D){return w.call(D,this)})}T&&f(RegExp.prototype[k],"sham",!0)}}),d81d:(function(i,r,o){var a=o("23e7"),c=o("b727").map,u=o("1dde"),d=o("ae40"),f=u("map"),h=d("map");a({target:"Array",proto:!0,forced:!f||!h},{map:function(g){return c(this,g,arguments.length>1?arguments[1]:void 0)}})}),da84:(function(i,r,o){(function(a){var c=function(u){return u&&u.Math==Math&&u};i.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))}),dbb4:(function(i,r,o){var a=o("23e7"),c=o("83ab"),u=o("56ef"),d=o("fc6a"),f=o("06cf"),h=o("8418");a({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(g){for(var y=d(g),b=f.f,x=u(y),E={},C=0,_,T;x.length>C;)T=b(y,_=x[C++]),T!==void 0&&h(E,_,T);return E}})}),dbf1:(function(i,r,o){(function(a){o.d(r,"a",function(){return u});function c(){return typeof window<"u"?window.console:a.console}var u=c()}).call(this,o("c8ba"))}),ddb0:(function(i,r,o){var a=o("da84"),c=o("fdbc"),u=o("e260"),d=o("9112"),f=o("b622"),h=f("iterator"),m=f("toStringTag"),g=u.values;for(var y in c){var b=a[y],x=b&&b.prototype;if(x){if(x[h]!==g)try{d(x,h,g)}catch{x[h]=g}if(x[m]||d(x,m,y),c[y]){for(var E in u)if(x[E]!==u[E])try{d(x,E,u[E])}catch{x[E]=u[E]}}}}}),df75:(function(i,r,o){var a=o("ca84"),c=o("7839");i.exports=Object.keys||function(d){return a(d,c)}}),e01a:(function(i,r,o){var a=o("23e7"),c=o("83ab"),u=o("da84"),d=o("5135"),f=o("861d"),h=o("9bf2").f,m=o("e893"),g=u.Symbol;if(c&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var y={},b=function(){var k=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),$=this instanceof b?new g(k):k===void 0?g():g(k);return k===""&&(y[$]=!0),$};m(b,g);var x=b.prototype=g.prototype;x.constructor=b;var E=x.toString,C=String(g("test"))=="Symbol(test)",_=/^Symbol\((.*)\)[^)]+$/;h(x,"description",{configurable:!0,get:function(){var k=f(this)?this.valueOf():this,$=E.call(k);if(d(y,k))return"";var M=C?$.slice(7,-1):$.replace(_,"$1");return M===""?void 0:M}}),a({global:!0,forced:!0},{Symbol:b})}}),e163:(function(i,r,o){var a=o("5135"),c=o("7b0b"),u=o("f772"),d=o("e177"),f=u("IE_PROTO"),h=Object.prototype;i.exports=d?Object.getPrototypeOf:function(m){return m=c(m),a(m,f)?m[f]:typeof m.constructor=="function"&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?h:null}}),e177:(function(i,r,o){var a=o("d039");i.exports=!a(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})}),e260:(function(i,r,o){var a=o("fc6a"),c=o("44d2"),u=o("3f8c"),d=o("69f3"),f=o("7dd0"),h="Array Iterator",m=d.set,g=d.getterFor(h);i.exports=f(Array,"Array",function(y,b){m(this,{type:h,target:a(y),index:0,kind:b})},function(){var y=g(this),b=y.target,x=y.kind,E=y.index++;return!b||E>=b.length?(y.target=void 0,{value:void 0,done:!0}):x=="keys"?{value:E,done:!1}:x=="values"?{value:b[E],done:!1}:{value:[E,b[E]],done:!1}},"values"),u.Arguments=u.Array,c("keys"),c("values"),c("entries")}),e439:(function(i,r,o){var a=o("23e7"),c=o("d039"),u=o("fc6a"),d=o("06cf").f,f=o("83ab"),h=c(function(){d(1)}),m=!f||h;a({target:"Object",stat:!0,forced:m,sham:!f},{getOwnPropertyDescriptor:function(y,b){return d(u(y),b)}})}),e538:(function(i,r,o){var a=o("b622");r.f=a}),e893:(function(i,r,o){var a=o("5135"),c=o("56ef"),u=o("06cf"),d=o("9bf2");i.exports=function(f,h){for(var m=c(h),g=d.f,y=u.f,b=0;b<m.length;b++){var x=m[b];a(f,x)||g(f,x,y(h,x))}}}),e8b5:(function(i,r,o){var a=o("c6b6");i.exports=Array.isArray||function(u){return a(u)=="Array"}}),e95a:(function(i,r,o){var a=o("b622"),c=o("3f8c"),u=a("iterator"),d=Array.prototype;i.exports=function(f){return f!==void 0&&(c.Array===f||d[u]===f)}}),f5df:(function(i,r,o){var a=o("00ee"),c=o("c6b6"),u=o("b622"),d=u("toStringTag"),f=c((function(){return arguments})())=="Arguments",h=function(m,g){try{return m[g]}catch{}};i.exports=a?c:function(m){var g,y,b;return m===void 0?"Undefined":m===null?"Null":typeof(y=h(g=Object(m),d))=="string"?y:f?c(g):(b=c(g))=="Object"&&typeof g.callee=="function"?"Arguments":b}}),f772:(function(i,r,o){var a=o("5692"),c=o("90e3"),u=a("keys");i.exports=function(d){return u[d]||(u[d]=c(d))}}),fb15:(function(i,r,o){if(o.r(r),typeof window<"u"){var a=window.document.currentScript;{var c=o("8875");a=c(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:c})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(o.p=u[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function d(ie,le,fe){return le in ie?Object.defineProperty(ie,le,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ie[le]=fe,ie}function f(ie,le){var fe=Object.keys(ie);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(ie);le&&(Ce=Ce.filter(function(Be){return Object.getOwnPropertyDescriptor(ie,Be).enumerable})),fe.push.apply(fe,Ce)}return fe}function h(ie){for(var le=1;le<arguments.length;le++){var fe=arguments[le]!=null?arguments[le]:{};le%2?f(Object(fe),!0).forEach(function(Ce){d(ie,Ce,fe[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(fe)):f(Object(fe)).forEach(function(Ce){Object.defineProperty(ie,Ce,Object.getOwnPropertyDescriptor(fe,Ce))})}return ie}function m(ie){if(Array.isArray(ie))return ie}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function g(ie,le){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ie)))){var fe=[],Ce=!0,Be=!1,st=void 0;try{for(var _t=ie[Symbol.iterator](),bt;!(Ce=(bt=_t.next()).done)&&(fe.push(bt.value),!(le&&fe.length===le));Ce=!0);}catch(Yt){Be=!0,st=Yt}finally{try{!Ce&&_t.return!=null&&_t.return()}finally{if(Be)throw st}}return fe}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function y(ie,le){(le==null||le>ie.length)&&(le=ie.length);for(var fe=0,Ce=new Array(le);fe<le;fe++)Ce[fe]=ie[fe];return Ce}function b(ie,le){if(ie){if(typeof ie=="string")return y(ie,le);var fe=Object.prototype.toString.call(ie).slice(8,-1);if(fe==="Object"&&ie.constructor&&(fe=ie.constructor.name),fe==="Map"||fe==="Set")return Array.from(ie);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return y(ie,le)}}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(ie,le){return m(ie)||g(ie,le)||b(ie,le)||x()}function C(ie){if(Array.isArray(ie))return y(ie)}function _(ie){if(typeof Symbol<"u"&&Symbol.iterator in Object(ie))return Array.from(ie)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(ie){return C(ie)||_(ie)||b(ie)||T()}var $=o("a352"),M=o.n($);function P(ie){ie.parentElement!==null&&ie.parentElement.removeChild(ie)}function V(ie,le,fe){var Ce=fe===0?ie.children[0]:ie.children[fe-1].nextSibling;ie.insertBefore(le,Ce)}var I=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function w(ie){var le=Object.create(null);return function(Ce){var Be=le[Ce];return Be||(le[Ce]=ie(Ce))}}var D=/-(\w)/g,A=w(function(ie){return ie.replace(D,function(le,fe){return fe.toUpperCase()})});o("5db7"),o("73d9");var B=["Start","Add","Remove","Update","End"],N=["Choose","Unchoose","Sort","Filter","Clone"],q=["Move"],W=[q,B,N].flatMap(function(ie){return ie}).map(function(ie){return"on".concat(ie)}),Z={manage:q,manageAndEmit:B,emit:N};function Le(ie){return W.indexOf(ie)!==-1}o("caad"),o("2ca0");var ge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function qe(ie){return ge.includes(ie)}function lt(ie){return["transition-group","TransitionGroup"].includes(ie)}function Mt(ie){return["id","class","role","style"].includes(ie)||ie.startsWith("data-")||ie.startsWith("aria-")||ie.startsWith("on")}function Oe(ie){return ie.reduce(function(le,fe){var Ce=E(fe,2),Be=Ce[0],st=Ce[1];return le[Be]=st,le},{})}function ae(ie){var le=ie.$attrs,fe=ie.componentData,Ce=fe===void 0?{}:fe,Be=Oe(Object.entries(le).filter(function(st){var _t=E(st,2),bt=_t[0];return _t[1],Mt(bt)}));return h(h({},Be),Ce)}function se(ie){var le=ie.$attrs,fe=ie.callBackBuilder,Ce=Oe(xe(le));Object.entries(fe).forEach(function(st){var _t=E(st,2),bt=_t[0],Yt=_t[1];Z[bt].forEach(function(dt){Ce["on".concat(dt)]=Yt(dt)})});var Be="[data-draggable]".concat(Ce.draggable||"");return h(h({},Ce),{},{draggable:Be})}function xe(ie){return Object.entries(ie).filter(function(le){var fe=E(le,2),Ce=fe[0];return fe[1],!Mt(Ce)}).map(function(le){var fe=E(le,2),Ce=fe[0],Be=fe[1];return[A(Ce),Be]}).filter(function(le){var fe=E(le,2),Ce=fe[0];return fe[1],!Le(Ce)})}o("c740");function Ie(ie,le){if(!(ie instanceof le))throw new TypeError("Cannot call a class as a function")}function Je(ie,le){for(var fe=0;fe<le.length;fe++){var Ce=le[fe];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(ie,Ce.key,Ce)}}function mt(ie,le,fe){return le&&Je(ie.prototype,le),ie}var Ut=function(le){var fe=le.el;return fe},K=function(le,fe){return le.__draggable_context=fe},X=function(le){return le.__draggable_context},ue=(function(){function ie(le){var fe=le.nodes,Ce=fe.header,Be=fe.default,st=fe.footer,_t=le.root,bt=le.realList;Ie(this,ie),this.defaultNodes=Be,this.children=[].concat(k(Ce),k(Be),k(st)),this.externalComponent=_t.externalComponent,this.rootTransition=_t.transition,this.tag=_t.tag,this.realList=bt}return mt(ie,[{key:"render",value:function(fe,Ce){var Be=this.tag,st=this.children,_t=this._isRootComponent,bt=_t?{default:function(){return st}}:st;return fe(Be,Ce,bt)}},{key:"updated",value:function(){var fe=this.defaultNodes,Ce=this.realList;fe.forEach(function(Be,st){K(Ut(Be),{element:Ce[st],index:st})})}},{key:"getUnderlyingVm",value:function(fe){return X(fe)}},{key:"getVmIndexFromDomIndex",value:function(fe,Ce){var Be=this.defaultNodes,st=Be.length,_t=Ce.children,bt=_t.item(fe);if(bt===null)return st;var Yt=X(bt);if(Yt)return Yt.index;if(st===0)return 0;var dt=Ut(Be[0]),Qe=k(_t).findIndex(function(ct){return ct===dt});return fe<Qe?0:st}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),ie})(),Ee=o("8bbf");function ve(ie,le){var fe=ie[le];return fe?fe():[]}function Ae(ie){var le=ie.$slots,fe=ie.realList,Ce=ie.getKey,Be=fe||[],st=["header","footer"].map(function(ct){return ve(le,ct)}),_t=E(st,2),bt=_t[0],Yt=_t[1],dt=le.item;if(!dt)throw new Error("draggable element must have an item slot");var Qe=Be.flatMap(function(ct,Ht){return dt({element:ct,index:Ht}).map(function(Xt){return Xt.key=Ce(ct),Xt.props=h(h({},Xt.props||{}),{},{"data-draggable":!0}),Xt})});if(Qe.length!==Be.length)throw new Error("Item slot must have only one child");return{header:bt,footer:Yt,default:Qe}}function Ue(ie){var le=lt(ie),fe=!qe(ie)&&!le;return{transition:le,externalComponent:fe,tag:fe?Object(Ee.resolveComponent)(ie):le?Ee.TransitionGroup:ie}}function Ne(ie){var le=ie.$slots,fe=ie.tag,Ce=ie.realList,Be=ie.getKey,st=Ae({$slots:le,realList:Ce,getKey:Be}),_t=Ue(fe);return new ue({nodes:st,root:_t,realList:Ce})}function De(ie,le){var fe=this;Object(Ee.nextTick)(function(){return fe.$emit(ie.toLowerCase(),le)})}function ke(ie){var le=this;return function(fe,Ce){if(le.realList!==null)return le["onDrag".concat(ie)](fe,Ce)}}function Ze(ie){var le=this,fe=ke.call(this,ie);return function(Ce,Be){fe.call(le,Ce,Be),De.call(le,ie,Ce)}}var He=null,Ye={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(le){return le}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},at=["update:modelValue","change"].concat(k([].concat(k(Z.manageAndEmit),k(Z.emit)).map(function(ie){return ie.toLowerCase()}))),Ct=Object(Ee.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ye,emits:at,data:function(){return{error:!1}},render:function(){try{this.error=!1;var le=this.$slots,fe=this.$attrs,Ce=this.tag,Be=this.componentData,st=this.realList,_t=this.getKey,bt=Ne({$slots:le,tag:Ce,realList:st,getKey:_t});this.componentStructure=bt;var Yt=ae({$attrs:fe,componentData:Be});return bt.render(Ee.h,Yt)}catch(dt){return this.error=!0,Object(Ee.h)("pre",{style:{color:"red"}},dt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&I.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var le=this;if(!this.error){var fe=this.$attrs,Ce=this.$el,Be=this.componentStructure;Be.updated();var st=se({$attrs:fe,callBackBuilder:{manageAndEmit:function(Yt){return Ze.call(le,Yt)},emit:function(Yt){return De.bind(le,Yt)},manage:function(Yt){return ke.call(le,Yt)}}}),_t=Ce.nodeType===1?Ce:Ce.parentElement;this._sortable=new M.a(_t,st),this.targetDomElement=_t,_t.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var le=this.list;return le||this.modelValue},getKey:function(){var le=this.itemKey;return typeof le=="function"?le:function(fe){return fe[le]}}},watch:{$attrs:{handler:function(le){var fe=this._sortable;fe&&xe(le).forEach(function(Ce){var Be=E(Ce,2),st=Be[0],_t=Be[1];fe.option(st,_t)})},deep:!0}},methods:{getUnderlyingVm:function(le){return this.componentStructure.getUnderlyingVm(le)||null},getUnderlyingPotencialDraggableComponent:function(le){return le.__draggable_component__},emitChanges:function(le){var fe=this;Object(Ee.nextTick)(function(){return fe.$emit("change",le)})},alterList:function(le){if(this.list){le(this.list);return}var fe=k(this.modelValue);le(fe),this.$emit("update:modelValue",fe)},spliceList:function(){var le=arguments,fe=function(Be){return Be.splice.apply(Be,k(le))};this.alterList(fe)},updatePosition:function(le,fe){var Ce=function(st){return st.splice(fe,0,st.splice(le,1)[0])};this.alterList(Ce)},getRelatedContextFromMoveEvent:function(le){var fe=le.to,Ce=le.related,Be=this.getUnderlyingPotencialDraggableComponent(fe);if(!Be)return{component:Be};var st=Be.realList,_t={list:st,component:Be};if(fe!==Ce&&st){var bt=Be.getUnderlyingVm(Ce)||{};return h(h({},bt),_t)}return _t},getVmIndexFromDomIndex:function(le){return this.componentStructure.getVmIndexFromDomIndex(le,this.targetDomElement)},onDragStart:function(le){this.context=this.getUnderlyingVm(le.item),le.item._underlying_vm_=this.clone(this.context.element),He=le.item},onDragAdd:function(le){var fe=le.item._underlying_vm_;if(fe!==void 0){P(le.item);var Ce=this.getVmIndexFromDomIndex(le.newIndex);this.spliceList(Ce,0,fe);var Be={element:fe,newIndex:Ce};this.emitChanges({added:Be})}},onDragRemove:function(le){if(V(this.$el,le.item,le.oldIndex),le.pullMode==="clone"){P(le.clone);return}var fe=this.context,Ce=fe.index,Be=fe.element;this.spliceList(Ce,1);var st={element:Be,oldIndex:Ce};this.emitChanges({removed:st})},onDragUpdate:function(le){P(le.item),V(le.from,le.item,le.oldIndex);var fe=this.context.index,Ce=this.getVmIndexFromDomIndex(le.newIndex);this.updatePosition(fe,Ce);var Be={element:this.context.element,oldIndex:fe,newIndex:Ce};this.emitChanges({moved:Be})},computeFutureIndex:function(le,fe){if(!le.element)return 0;var Ce=k(fe.to.children).filter(function(bt){return bt.style.display!=="none"}),Be=Ce.indexOf(fe.related),st=le.component.getVmIndexFromDomIndex(Be),_t=Ce.indexOf(He)!==-1;return _t||!fe.willInsertAfter?st:st+1},onDragMove:function(le,fe){var Ce=this.move,Be=this.realList;if(!Ce||!Be)return!0;var st=this.getRelatedContextFromMoveEvent(le),_t=this.computeFutureIndex(st,le),bt=h(h({},this.context),{},{futureIndex:_t}),Yt=h(h({},le),{},{relatedContext:st,draggedContext:bt});return Ce(Yt,fe)},onDragEnd:function(){He=null}}}),Vt=Ct;r.default=Vt}),fb6a:(function(i,r,o){var a=o("23e7"),c=o("861d"),u=o("e8b5"),d=o("23cb"),f=o("50c4"),h=o("fc6a"),m=o("8418"),g=o("b622"),y=o("1dde"),b=o("ae40"),x=y("slice"),E=b("slice",{ACCESSORS:!0,0:0,1:2}),C=g("species"),_=[].slice,T=Math.max;a({target:"Array",proto:!0,forced:!x||!E},{slice:function($,M){var P=h(this),V=f(P.length),I=d($,V),w=d(M===void 0?V:M,V),D,A,B;if(u(P)&&(D=P.constructor,typeof D=="function"&&(D===Array||u(D.prototype))?D=void 0:c(D)&&(D=D[C],D===null&&(D=void 0)),D===Array||D===void 0))return _.call(P,I,w);for(A=new(D===void 0?Array:D)(T(w-I,0)),B=0;I<w;I++,B++)I in P&&m(A,B,P[I]);return A.length=B,A}})}),fc6a:(function(i,r,o){var a=o("44ad"),c=o("1d80");i.exports=function(u){return a(c(u))}}),fdbc:(function(i,r){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),fdbf:(function(i,r,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"})}).default})})(mv)),mv.exports}var GIe=WIe();const w6=WJ(GIe),qIe={class:"page-container"},KIe={class:"page-header"},YIe={class:"header-main"},XIe={class:"actions-area"},JIe={class:"kpi-grid"},QIe={class:"kpi-card orange"},ZIe={class:"kpi-content"},eNe={class:"kpi-value"},tNe={class:"kpi-card green"},nNe={class:"kpi-content"},sNe={class:"kpi-value"},iNe={class:"kpi-card purple"},rNe={class:"kpi-content"},oNe={class:"kpi-value"},aNe={class:"toolbar-row"},lNe={class:"filter-group search-group"},cNe={class:"input-with-icon"},uNe={class:"filter-group"},dNe={class:"custom-select"},fNe=["value"],hNe={class:"filter-group small-btn"},pNe=["title"],mNe={class:"btn-label"},gNe={class:"kanban-main-wrapper"},vNe={key:0,class:"loading-state"},bNe={key:1,class:"empty-state-funil"},yNe={key:2,class:"kanban-scroll-viewport"},xNe={class:"header-top"},_Ne=["title"],SNe={class:"column-badge"},ENe={key:0,class:"column-summary"},wNe={class:"column-body"},CNe=["onClick"],ANe={class:"card-content"},kNe={class:"card-top"},TNe={class:"card-id"},DNe={class:"card-title"},ONe={class:"card-details"},RNe={key:0,class:"detail-row"},MNe={class:"truncate"},INe={class:"card-footer"},NNe={class:"card-price"},PNe={key:0,class:"card-avatar"},$Ne=We({__name:"FunilVendasView",setup(t){const e=an(),n=["#3b82f6","#06b6d4","#eab308","#f97316","#8b5cf6","#22c55e","#64748b","#ec4899"],s=H([]),i=H([]),r=H({}),o=H(!0),a=H([]),c=H(!1),u=H({search:"",responsavel:""}),d=we(()=>i.value.filter(M=>{const P=s.value.find(V=>V.id===M.fase);return P?P.probabilidade_fechamento>0&&P.probabilidade_fechamento<100:!0}).length),f=we(()=>{let M=0,P=0;i.value.forEach(I=>{const w=s.value.find(D=>D.id===I.fase);w&&(w.probabilidade_fechamento===100&&M++,w.probabilidade_fechamento===0&&P++)});const V=M+P;return V===0?"0.0":(M/V*100).toFixed(1)}),h=we(()=>i.value.length===0?"0.0":(i.value.reduce((P,V)=>P+(V.probabilidade||0),0)/i.value.length).toFixed(1));function m(M){return n[M%n.length]}function g(M){return M==null?"bg-gray-300":M>=90?"bg-emerald-500":M>=50?"bg-blue-500":M>=20?"bg-orange-400":"bg-red-400"}function y(M){return M?M.charAt(0).toUpperCase():"U"}function b(){c.value=!c.value}async function x(){o.value=!0;try{const M=await ce.get("/v1/fases-funil/");s.value=M.data.results||M.data;const P={search:u.value.search||void 0,responsavel:u.value.responsavel||void 0},V=await ce.get("/v1/oportunidades/",{params:P});i.value=V.data.results||V.data;const I=new Map;i.value.forEach(w=>{w.responsavel&&typeof w.responsavel=="object"&&(I.has(w.responsavel.id)||I.set(w.responsavel.id,w.responsavel))}),a.value=Array.from(I.values()),C()}catch(M){console.error("Erro API:",M)}finally{o.value=!1}}const E=uA.debounce(x,400);function C(){const M={};s.value.forEach(V=>M[V.id]=[]);const P=[];if(i.value.forEach(V=>{const I=typeof V.fase=="object"?V.fase?.id:V.fase;I&&M[I]?M[I].push(V):P.push(V)}),P.length>0&&s.value.length>0){const V=s.value[0].id;M[V]=[...M[V],...P]}r.value=M}const _=async(M,P)=>{if(M.added){const V=M.added.element.id,I=i.value.findIndex(w=>w.id===V);if(I!==-1){i.value[I].fase=P;const w=s.value.find(D=>D.id===P);w&&(i.value[I].probabilidade=w.probabilidade_fechamento)}try{await ce.patch(`/v1/oportunidades/${V}/`,{fase:P})}catch(w){console.error("Erro ao mover:",w),x()}}},T=M=>{const P=typeof M=="string"?parseFloat(M):M;return!P&&P!==0?"R$ 0,00":P.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},k=M=>M?M.toLocaleString("pt-BR",{style:"currency",currency:"BRL",notation:"compact"}):"R$ 0";function $(M){return(r.value[M]||[]).reduce((P,V)=>P+(parseFloat(V.valor_estimado)||0),0)}return it(x),(M,P)=>{const V=on("router-link");return O(),R("div",qIe,[l("header",KIe,[l("div",YIe,[P[4]||(P[4]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Vendas"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Funil")]),l("h1",null,"Funil de Vendas")],-1)),l("div",XIe,[l("button",{class:"btn-icon-thin",onClick:x,title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":o.value}])},null,2)]),be(V,{to:"/oportunidades/nova",class:"btn-primary-thin"},{default:Pe(()=>[...P[3]||(P[3]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Oportunidade ",-1)])]),_:1})])])]),l("div",JIe,[l("div",QIe,[l("div",ZIe,[l("span",eNe,F(d.value),1),P[5]||(P[5]=l("span",{class:"kpi-label"},"Qtd. Ativas",-1))]),P[6]||(P[6]=l("div",{class:"kpi-icon-bg text-orange-500 bg-orange-50"},[l("i",{class:"fas fa-filter"})],-1))]),l("div",tNe,[l("div",nNe,[l("span",sNe,F(f.value)+"%",1),P[7]||(P[7]=l("span",{class:"kpi-label"},"Converso",-1))]),P[8]||(P[8]=l("div",{class:"kpi-icon-bg text-emerald-500 bg-emerald-50"},[l("i",{class:"fas fa-chart-line"})],-1))]),l("div",iNe,[l("div",rNe,[l("span",oNe,F(h.value)+"%",1),P[9]||(P[9]=l("span",{class:"kpi-label"},"Probabilidade",-1))]),P[10]||(P[10]=l("div",{class:"kpi-icon-bg text-purple-500 bg-purple-50"},[l("i",{class:"fas fa-percentage"})],-1))])]),l("div",aNe,[l("div",lNe,[P[12]||(P[12]=l("label",null,"Buscar",-1)),l("div",cNe,[P[11]||(P[11]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":P[0]||(P[0]=I=>u.value.search=I),placeholder:"Buscar oportunidade...",class:"form-control",onInput:P[1]||(P[1]=(...I)=>Ve(E)&&Ve(E)(...I))},null,544),[[de,u.value.search]])])]),l("div",uNe,[P[15]||(P[15]=l("label",null,"Responsvel",-1)),l("div",dNe,[Y(l("select",{"onUpdate:modelValue":P[2]||(P[2]=I=>u.value.responsavel=I),onChange:x,class:"form-control"},[P[13]||(P[13]=l("option",{value:""},"Todos os Corretores",-1)),(O(!0),R(Me,null,je(a.value,I=>(O(),R("option",{key:I.id,value:I.id},F(I.first_name),9,fNe))),128))],544),[[xt,u.value.responsavel]]),P[14]||(P[14]=l("i",{class:"fas fa-chevron-down select-icon"},null,-1))])]),l("div",hNe,[P[16]||(P[16]=l("label",null,"",-1)),l("button",{class:"btn-toggle",onClick:b,title:c.value?"Modo Expandido":"Modo Resumido"},[l("i",{class:te(c.value?"fas fa-columns":"fas fa-list")},null,2),l("span",mNe,F(c.value?"Expandir":"Resumir"),1)],8,pNe)])]),l("main",gNe,[o.value?(O(),R("div",vNe,[...P[17]||(P[17]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando funil...",-1)])])):s.value.length===0?(O(),R("div",bNe,[...P[18]||(P[18]=[l("i",{class:"fas fa-layer-group fa-3x mb-3 text-gray-300"},null,-1),l("h3",null,"Funil no configurado",-1),l("p",null,"Nenhuma etapa cadastrada.",-1)])])):(O(),R("div",yNe,[l("div",{class:te(["kanban-board",{"collapsed-mode":c.value}])},[(O(!0),R(Me,null,je(s.value,(I,w)=>(O(),R("div",{key:I.id,class:"kanban-column"},[l("div",{class:"column-header sticky-header",style:Ws({borderTopColor:m(w)})},[l("div",xNe,[l("span",{class:"column-title",title:I.titulo},F(c.value?I.titulo.substring(0,3).toUpperCase():I.titulo),9,_Ne),l("span",SNe,F(r.value[I.id]?.length||0),1)]),$(I.id)>0?(O(),R("div",ENe,F(k($(I.id))),1)):J("",!0)],4),l("div",wNe,[be(Ve(w6),{modelValue:r.value[I.id],"onUpdate:modelValue":D=>r.value[I.id]=D,group:{name:"oportunidades"},onChange:D=>_(D,I.id),"item-key":"id",class:"draggable-area","ghost-class":"sortable-ghost","drag-class":"sortable-drag"},{item:Pe(({element:D})=>[l("div",{class:"kanban-card",onClick:A=>Ve(e).push(`/oportunidades/editar/${D.id}`)},[l("div",{class:te(["card-status-strip",g(D.probabilidade)])},null,2),l("div",ANe,[l("div",kNe,[l("span",TNe,"#"+F(D.id),1)]),l("h4",DNe,F(D.titulo),1),l("div",ONe,[D.cliente?(O(),R("div",RNe,[P[19]||(P[19]=l("i",{class:"far fa-user"},null,-1)),l("span",MNe,F(D.cliente_detalhe?.nome||D.cliente?.nome||"Cliente"),1)])):J("",!0)]),l("div",INe,[l("span",NNe,F(T(D.valor_estimado)),1),D.responsavel?(O(),R("div",PNe,F(y(D.responsavel_nome||D.responsavel.first_name)),1)):J("",!0)])])],8,CNe)]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])])]))),128))],2)]))])])}}}),LNe=tt($Ne,[["__scopeId","data-v-c7e5c598"]]),FNe={class:"page-container"},VNe={class:"page-header"},BNe={class:"header-main"},UNe={class:"actions-area"},HNe={key:0,class:"kpi-grid"},zNe={class:"kpi-content"},jNe={class:"kpi-value"},WNe={class:"kpi-content"},GNe={class:"kpi-value"},qNe={class:"kpi-content"},KNe={class:"kpi-value"},YNe={class:"kpi-content"},XNe={class:"kpi-value"},JNe={class:"toolbar-row"},QNe={class:"filter-group search-group"},ZNe={class:"input-with-icon"},ePe={class:"filter-group"},tPe=["value"],nPe={class:"filter-group"},sPe=["value"],iPe={class:"filter-group"},rPe={class:"filter-group",style:{"min-width":"80px"}},oPe={class:"report-main-wrapper"},aPe={key:0,class:"loading-state"},lPe={key:1,class:"empty-state"},cPe={key:2,class:"report-scroll-viewport"},uPe={class:"report-table"},dPe=["onClick"],fPe={class:"ref-badge"},hPe={class:"cell-imovel-main"},pPe={class:"imovel-thumb"},mPe=["src"],gPe={class:"imovel-texts"},vPe=["title"],bPe={class:"imovel-type"},yPe={class:"cell-local"},xPe={class:"local-bairro"},_Pe={class:"local-cidade"},SPe=["title"],EPe={class:"cell-specs"},wPe={key:0,title:"rea Total"},CPe={key:1,title:"Quartos"},APe={key:2,title:"Sutes"},kPe={key:3,title:"Vagas"},TPe={class:"cell-valor"},DPe={class:"valor-main"},OPe={key:0,class:"valor-sub"},RPe={key:0,class:"exclusividade-tag"},MPe={class:"actions-flex"},IPe=["onClick"],NPe=["onClick"],PPe=["onClick"],$Pe=["onClick"],LPe="https://via.placeholder.com/150x150.png?text=Sem+Foto",FPe=We({__name:"ImoveisView",setup(t){const e=an(),n=H([]),s=H(!0),i=H(""),r=H({tipo:"",finalidade:"",status:"",cidade:"",bairro:"",quartos:""}),o=H(null);async function a(){s.value=!0;try{const k=await ce.get("/v1/imoveis/");n.value=k.data,d(n.value)}catch(k){console.error("Erro ao carregar imveis:",k)}finally{s.value=!1}}async function c(k){try{await ce.patch(`/v1/imoveis/${k}/`,{status:"DESATIVADO"});const $=n.value.findIndex(M=>M.id===k);$!==-1&&(n.value[$].status="DESATIVADO"),d(n.value),alert("Imvel inativado com sucesso!")}catch{alert("Ocorreu um erro ao inativar o imvel.")}}async function u(k){try{const $=await ce.get(`/v1/imoveis/${k}/gerar-autorizacao-pdf/`,{responseType:"blob"}),M=new Blob([$.data],{type:"application/pdf"}),P=URL.createObjectURL(M);window.open(P,"_blank"),setTimeout(()=>URL.revokeObjectURL(P),1e4)}catch{alert("Falha ao gerar o PDF da Autorizao.")}}function d(k){const $=k.filter(V=>V.status==="A_VENDA").length,M=k.filter(V=>V.status==="PARA_ALUGAR").length,P=k.filter(V=>V.status==="VENDIDO"||V.status==="ALUGADO").length;o.value={a_venda:$,para_alugar:M,vendidos_e_alugados:P}}function f(k,$){r.value[k]===$?r.value[k]="":r.value[k]=$}function h(){i.value="",r.value={tipo:"",finalidade:"",status:"",cidade:"",bairro:"",quartos:""}}const m=we(()=>{const k=n.value.map($=>$.cidade).filter($=>$);return[...new Set(k)].sort()}),g=we(()=>{let k=n.value;r.value.cidade&&(k=k.filter(M=>M.cidade===r.value.cidade));const $=k.map(M=>M.bairro).filter(M=>M);return[...new Set($)].sort()}),y=we(()=>n.value.filter(k=>{const $=i.value.toLowerCase(),M=i.value?k.codigo_referencia?.toLowerCase().includes($)||k.titulo_anuncio?.toLowerCase().includes($)||k.cidade?.toLowerCase().includes($):!0;let P=!0;r.value.status!==""&&(r.value.status==="VENDIDO_OU_ALUGADO"?P=k.status==="VENDIDO"||k.status==="ALUGADO":P=k.status===r.value.status);const V=(r.value.tipo===""||k.tipo===r.value.tipo)&&(r.value.finalidade===""||k.finalidade===r.value.finalidade)&&(r.value.cidade===""||k.cidade===r.value.cidade)&&(r.value.bairro===""||k.bairro===r.value.bairro)&&(r.value.quartos===""||k.quartos>=parseInt(r.value.quartos))&&P;return M&&V}));function b(k){if(!k||k.length===0)return LPe;const $=k.find(M=>M.principal);return $?$.imagem:k[0].imagem}function x(k){switch(k){case"A_VENDA":case"PARA_ALUGAR":return"status-ativo";case"VENDIDO":case"ALUGADO":return"status-concluido";case"EM_CONSTRUCAO":return"status-pendente";case"DESATIVADO":return"status-inativo";default:return"status-default"}}const E=k=>{switch(k){case"A_VENDA":return" Venda";case"PARA_ALUGAR":return"Alugar";case"VENDIDO":return"Vendido";case"ALUGADO":return"Alugado";case"EM_CONSTRUCAO":return"Em Obra";case"DESATIVADO":return"Inativo";default:return k}};function C(){e.push({name:"imovel-novo"})}function _(k){e.push({name:"imovel-editar",params:{id:k}})}function T(k){confirm("Tem certeza que deseja INATIVAR este imvel?")&&c(k)}return it(()=>{a()}),(k,$)=>(O(),R("div",FNe,[l("header",VNe,[l("div",BNe,[$[11]||($[11]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Imveis"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Gerenciar Carteira")]),l("h1",null,"Gerenciar Imveis")],-1)),l("div",UNe,[l("button",{class:"btn-icon-thin",onClick:a,title:"Atualizar Lista"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":s.value}])},null,2)]),l("button",{onClick:C,class:"btn-primary-thin"},[...$[10]||($[10]=[l("i",{class:"fas fa-plus"},null,-1),z(" Novo Imvel ",-1)])])])])]),o.value?(O(),R("div",HNe,[l("div",{class:te(["kpi-card blue",{active:r.value.status==="A_VENDA"}]),onClick:$[0]||($[0]=M=>f("status","A_VENDA"))},[l("div",zNe,[l("span",jNe,F(o.value.a_venda),1),$[12]||($[12]=l("span",{class:"kpi-label"}," Venda",-1))]),$[13]||($[13]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-hand-holding-usd"})],-1))],2),l("div",{class:te(["kpi-card orange",{active:r.value.status==="PARA_ALUGAR"}]),onClick:$[1]||($[1]=M=>f("status","PARA_ALUGAR"))},[l("div",WNe,[l("span",GNe,F(o.value.para_alugar),1),$[14]||($[14]=l("span",{class:"kpi-label"},"Para Alugar",-1))]),$[15]||($[15]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-key"})],-1))],2),l("div",{class:te(["kpi-card green",{active:r.value.status==="VENDIDO_OU_ALUGADO"}]),onClick:$[2]||($[2]=M=>f("status","VENDIDO_OU_ALUGADO"))},[l("div",qNe,[l("span",KNe,F(o.value.vendidos_e_alugados),1),$[16]||($[16]=l("span",{class:"kpi-label"},"Fechados (Ms)",-1))]),$[17]||($[17]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-check-circle"})],-1))],2),l("div",{class:te(["kpi-card purple",{active:r.value.status===""}]),onClick:$[3]||($[3]=M=>f("status",""))},[l("div",YNe,[l("span",XNe,F(n.value.length),1),$[18]||($[18]=l("span",{class:"kpi-label"},"Total Carteira",-1))]),$[19]||($[19]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-warehouse"})],-1))],2)])):J("",!0),l("div",JNe,[l("div",QNe,[$[21]||($[21]=l("label",null,"Buscar",-1)),l("div",ZNe,[$[20]||($[20]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":$[4]||($[4]=M=>i.value=M),placeholder:"Cdigo, ttulo, cidade...",class:"form-control"},null,512),[[de,i.value]])])]),l("div",ePe,[$[23]||($[23]=l("label",null,"Cidade",-1)),Y(l("select",{"onUpdate:modelValue":$[5]||($[5]=M=>r.value.cidade=M),class:"form-control"},[$[22]||($[22]=l("option",{value:""},"Todas",-1)),(O(!0),R(Me,null,je(m.value,M=>(O(),R("option",{key:M,value:M},F(M),9,tPe))),128))],512),[[xt,r.value.cidade]])]),l("div",nPe,[$[25]||($[25]=l("label",null,"Bairro",-1)),Y(l("select",{"onUpdate:modelValue":$[6]||($[6]=M=>r.value.bairro=M),class:"form-control"},[$[24]||($[24]=l("option",{value:""},"Todos",-1)),(O(!0),R(Me,null,je(g.value,M=>(O(),R("option",{key:M,value:M},F(M),9,sPe))),128))],512),[[xt,r.value.bairro]])]),l("div",iPe,[$[27]||($[27]=l("label",null,"Tipo",-1)),Y(l("select",{"onUpdate:modelValue":$[7]||($[7]=M=>r.value.tipo=M),class:"form-control"},[...$[26]||($[26]=[hi('<option value="" data-v-07e43065>Todos</option><option value="CASA" data-v-07e43065>Casa</option><option value="APARTAMENTO" data-v-07e43065>Apartamento</option><option value="TERRENO" data-v-07e43065>Terreno</option><option value="SALA_COMERCIAL" data-v-07e43065>Sala</option><option value="GALPAO" data-v-07e43065>Galpo</option><option value="RURAL" data-v-07e43065>Rural</option>',7)])],512),[[xt,r.value.tipo]])]),l("div",rPe,[$[29]||($[29]=l("label",null,"Quartos",-1)),Y(l("select",{"onUpdate:modelValue":$[8]||($[8]=M=>r.value.quartos=M),class:"form-control"},[...$[28]||($[28]=[hi('<option value="" data-v-07e43065>Qtd</option><option value="1" data-v-07e43065>1+</option><option value="2" data-v-07e43065>2+</option><option value="3" data-v-07e43065>3+</option><option value="4" data-v-07e43065>4+</option>',5)])],512),[[xt,r.value.quartos]])]),l("div",{class:"filter-group small-btn"},[$[31]||($[31]=l("label",null,"",-1)),l("button",{onClick:h,class:"btn-clear",title:"Limpar Filtros"},[...$[30]||($[30]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",oPe,[s.value?(O(),R("div",aPe,[...$[32]||($[32]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando imveis...",-1)])])):y.value.length===0?(O(),R("div",lPe,[...$[33]||($[33]=[l("i",{class:"fas fa-filter"},null,-1),l("p",null,"Nenhum imvel encontrado com os filtros selecionados.",-1)])])):(O(),R("div",cPe,[l("table",uPe,[$[43]||($[43]=l("thead",null,[l("tr",null,[l("th",{width:"8%"},"Ref."),l("th",{width:"25%"},"Imvel"),l("th",{width:"20%"},"Localizao"),l("th",{width:"15%"},"Detalhes"),l("th",{width:"12%"},"Valor"),l("th",{width:"10%"},"Status"),l("th",{width:"10%",class:"text-right"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(y.value,M=>(O(),R("tr",{key:M.id,class:"clickable-row",onClick:P=>_(M.id)},[l("td",null,[l("span",fPe,"#"+F(M.codigo_referencia||M.id),1)]),l("td",null,[l("div",hPe,[l("div",pPe,[l("img",{src:b(M.imagens),alt:"Imvel",loading:"lazy"},null,8,mPe)]),l("div",gPe,[l("span",{class:"imovel-title",title:M.titulo_anuncio},F(M.titulo_anuncio||"Sem ttulo"),9,vPe),l("span",bPe,F(M.tipo)+"  "+F(M.finalidade),1)])])]),l("td",null,[l("div",yPe,[l("span",xPe,F(M.bairro||"Bairro N/D"),1),l("span",_Pe,F(M.cidade),1),l("span",{class:"local-end text-muted",title:M.logradouro},F(M.logradouro),9,SPe)])]),l("td",null,[l("div",EPe,[M.area_total?(O(),R("span",wPe,[$[34]||($[34]=l("i",{class:"fas fa-ruler-combined"},null,-1)),z(" "+F(M.area_total)+"m",1)])):J("",!0),M.quartos?(O(),R("span",CPe,[$[35]||($[35]=l("i",{class:"fas fa-bed"},null,-1)),z(" "+F(M.quartos),1)])):J("",!0),M.suites?(O(),R("span",APe,[$[36]||($[36]=l("i",{class:"fas fa-bath"},null,-1)),z(" "+F(M.suites),1)])):J("",!0),M.vagas?(O(),R("span",kPe,[$[37]||($[37]=l("i",{class:"fas fa-car"},null,-1)),z(" "+F(M.vagas),1)])):J("",!0)])]),l("td",null,[l("div",TPe,[l("span",DPe,F(M.finalidade==="VENDA"?Ve(Ad)(M.valor_venda):Ve(Ad)(M.valor_aluguel)),1),M.condominio&&M.condominio>0?(O(),R("span",OPe," Cond: "+F(Ve(Ad)(M.condominio)),1)):J("",!0)])]),l("td",null,[l("span",{class:te(["badge-status",x(M.status)])},F(E(M.status)),3),M.possui_exclusividade?(O(),R("div",RPe,[...$[38]||($[38]=[l("i",{class:"fas fa-lock"},null,-1),z(" Exclusivo ",-1)])])):J("",!0)]),l("td",{class:"text-right",onClick:$[9]||($[9]=wt(()=>{},["stop"]))},[l("div",MPe,[l("button",{class:"btn-action edit",onClick:P=>_(M.id),title:"Editar"},[...$[39]||($[39]=[l("i",{class:"fas fa-pen"},null,-1)])],8,IPe),l("button",{class:"btn-action photos",onClick:P=>Ve(e).push({name:"imovel-imagens",params:{id:M.id}}),title:"Fotos"},[...$[40]||($[40]=[l("i",{class:"fas fa-camera"},null,-1)])],8,NPe),l("button",{class:"btn-action pdf",onClick:P=>u(M.id),title:"Autorizao (PDF)"},[...$[41]||($[41]=[l("i",{class:"fas fa-file-pdf"},null,-1)])],8,PPe),l("button",{class:"btn-action delete",onClick:P=>T(M.id),title:"Inativar/Excluir"},[...$[42]||($[42]=[l("i",{class:"fas fa-trash"},null,-1)])],8,$Pe)])])],8,dPe))),128))])])]))])]))}}),VPe=tt(FPe,[["__scopeId","data-v-07e43065"]]),BPe={class:"image-manager"},UPe={class:"upload-area"},HPe=["disabled"],zPe={key:0,class:"loading-message"},jPe={key:0},WPe=["src","alt"],GPe={class:"image-actions"},qPe=["onClick"],KPe={key:0,class:"principal-badge"},YPe={key:1,class:"no-images-message"},XPe=We({__name:"ImovelImagensView",props:{imovelId:{type:[String,Number],required:!0}},setup(t){const e=t,n=H(null),s=H([]),i=H([]),r=H(!0),o=H(!1);function a(){n.value?.click()}function c(m){const g=m.target;g.files&&i.value.push(...Array.from(g.files))}async function u(){if(!i.value.length||o.value)return;o.value=!0;const m=new FormData;m.append("imovel",e.imovelId.toString()),i.value.forEach(g=>{m.append("imagem",g)});try{await ce.post("/v1/imoveis/imagens/",m,{headers:{"Content-Type":"multipart/form-data"}}),i.value=[],await d()}catch(g){console.error("Erro ao fazer upload:",g.response?.data||g),alert(`Falha no upload. Erro: ${JSON.stringify(g.response?.data||g.message)}`)}finally{o.value=!1}}async function d(){if(!e.imovelId){r.value=!1;return}r.value=!0;try{const m=await ce.get(`/v1/imoveis/${e.imovelId}/`);s.value=(m.data.imagens||[]).sort((g,y)=>g.ordem-y.ordem)}catch(m){console.error("Erro ao carregar imagens:",m)}finally{r.value=!1}}async function f(m){if(confirm("Tem a certeza que deseja excluir esta imagem?"))try{await ce.delete(`/v1/imoveis/imagens/${m}/`),await d()}catch(g){console.error("Erro ao excluir imagem:",g),alert("No foi possvel excluir a imagem.")}}async function h(){s.value.forEach((g,y)=>{g.ordem=y,g.principal=y===0});const m=s.value.map(g=>g.id);try{await ce.post("/v1/imoveis/imagens/reordenar/",{ordem_ids:m,imovel_id:e.imovelId})}catch(g){console.error("Erro ao salvar a nova ordem:",g),alert("No foi possvel salvar a nova ordem das imagens. A pgina ser recarregada."),await d()}}return Rn(()=>e.imovelId,m=>{m&&d()},{immediate:!0}),it(()=>{e.imovelId||(r.value=!1)}),(m,g)=>(O(),R("div",BPe,[l("div",UPe,[l("input",{type:"file",ref_key:"fileInput",ref:n,multiple:"",onChange:c,style:{display:"none"},accept:"image/*"},null,544),l("div",{class:"upload-prompt",onClick:a},[...g[1]||(g[1]=[l("i",{class:"fas fa-cloud-upload-alt"},null,-1),l("p",null,"Clique para selecionar as imagens",-1)])]),l("button",{onClick:u,disabled:!i.value.length||o.value,class:"btn-upload"},F(o.value?"A Carregar...":`Fazer Upload (${i.value.length})`),9,HPe)]),r.value?(O(),R("div",zPe,[...g[2]||(g[2]=[l("p",null,"A carregar imagens...",-1)])])):(O(),R(Me,{key:1},[s.value.length>0?(O(),R("div",jPe,[g[4]||(g[4]=l("div",{class:"info-drag"},[l("i",{class:"fas fa-info-circle"}),z(" Arraste as imagens para reordenar. A primeira imagem  sempre a principal. ")],-1)),be(Ve(w6),{modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=y=>s.value=y),onEnd:h,"item-key":"id",class:"image-preview-grid"},{item:Pe(({element:y})=>[l("div",{class:te(["image-container",{"is-principal":y.ordem===0}])},[l("img",{src:y.imagem,alt:`Imagem ${y.ordem}`,class:"preview-image"},null,8,WPe),l("div",GPe,[l("button",{onClick:wt(b=>f(y.id),["stop"]),class:"delete-btn",title:"Excluir Imagem"},[...g[3]||(g[3]=[l("i",{class:"fas fa-trash"},null,-1)])],8,qPe)]),y.ordem===0?(O(),R("div",KPe,"Principal")):J("",!0)],2)]),_:1},8,["modelValue"])])):(O(),R("div",YPe,[...g[5]||(g[5]=[l("p",null,"Nenhuma imagem cadastrada para este imvel.",-1)])]))],64))]))}}),C6=tt(XPe,[["__scopeId","data-v-b1695efe"]]),JPe=["value"],QPe=We({__name:"CepInput",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=e,i=H(null),r=H(""),o=c=>c?(c=c.replace(/\D/g,""),c=c.slice(0,8),c.length>5&&(c=c.replace(/^(\d{5})(\d)/,"$1-$2")),c):"";Rn(()=>n.modelValue,c=>{r.value=o(c||"")});const a=c=>{const u=c.target,d=u.value,f=o(d);r.value=f,u.value=f;const h=f.replace(/\D/g,"");s("update:modelValue",h)};return it(()=>{r.value=o(n.modelValue||"")}),(c,u)=>(O(),R("input",{ref_key:"inputRef",ref:i,type:"text",value:r.value,onInput:a,class:"form-control",placeholder:"00000-000",maxlength:"9",inputmode:"numeric"},null,40,JPe))}}),ZPe=tt(QPe,[["__scopeId","data-v-96ce47c5"]]),e$e={class:"min-h-screen bg-gray-50 p-4 md:p-8 font-sans text-slate-700"},t$e={class:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4"},n$e={class:"flex flex-col gap-2"},s$e={class:"flex items-center gap-2 text-xs font-medium text-slate-400 uppercase tracking-wide"},i$e={class:"text-primary-600 font-bold"},r$e={class:"text-2xl md:text-3xl font-light text-slate-800 tracking-tight m-0"},o$e={key:0,class:"flex flex-col items-center justify-center py-16 text-slate-400"},a$e={class:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col min-h-[600px]"},l$e={class:"flex flex-wrap bg-slate-50 border-b border-slate-200"},c$e=["onClick","disabled"],u$e={class:"p-6 md:p-8 flex-1"},d$e={class:"animate-fade-in flex flex-col gap-8"},f$e={class:"flex flex-col gap-5"},h$e={class:"flex flex-col gap-1.5"},p$e={class:"relative"},m$e={class:"grid grid-cols-1 md:grid-cols-3 gap-5"},g$e={class:"flex flex-col gap-1.5"},v$e={class:"relative"},b$e={class:"flex flex-col gap-1.5 md:col-span-2"},y$e={class:"flex flex-col gap-1.5"},x$e={class:"flex flex-col gap-1.5 md:col-span-2"},_$e={class:"flex flex-col gap-1.5"},S$e={class:"flex flex-col gap-1.5"},E$e={class:"flex flex-col gap-1.5"},w$e={class:"animate-fade-in flex flex-col gap-8"},C$e={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5"},A$e={class:"flex flex-col gap-1.5"},k$e={class:"flex flex-col gap-1.5"},T$e={class:"flex flex-col gap-1.5"},D$e={class:"flex flex-col gap-1.5"},O$e={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-5"},R$e={class:"flex flex-col gap-1.5"},M$e={class:"flex flex-col gap-1.5"},I$e={class:"flex flex-col gap-1.5"},N$e={class:"flex flex-col gap-1.5"},P$e={class:"flex flex-col gap-1.5"},$$e={class:"flex flex-col gap-1.5"},L$e={class:"animate-fade-in flex flex-col gap-8"},F$e={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},V$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},B$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},U$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},H$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},z$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},j$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},W$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},G$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},q$e={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3"},K$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},Y$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},X$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},J$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},Q$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},Z$e={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},eLe={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},tLe={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},nLe={class:"flex flex-col gap-4"},sLe={class:"flex flex-col gap-1.5"},iLe={class:"flex justify-between items-center mb-1"},rLe=["disabled"],oLe={class:"flex flex-col gap-1.5"},aLe={class:"animate-fade-in"},lLe={key:0},cLe={key:1,class:"flex flex-col items-center justify-center py-16 text-slate-400 bg-slate-50 rounded-lg border border-dashed border-slate-200"},uLe={class:"animate-fade-in flex flex-col gap-8"},dLe={class:"flex flex-col gap-1.5 mb-6"},fLe={class:"relative"},hLe=["disabled"],pLe={class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400"},mLe={key:0,class:"i-fas-spinner animate-spin"},gLe={key:1,class:"i-fas-search"},vLe={key:0,class:"absolute top-full left-0 right-0 bg-white border border-slate-200 rounded-lg mt-1 shadow-lg z-20 max-h-60 overflow-y-auto list-none p-0 m-0"},bLe=["onClick"],yLe={class:"text-sm font-bold text-slate-800"},xLe={class:"text-xs text-slate-500"},_Le={key:0,class:"mt-2 flex items-center justify-between bg-primary-50 border border-primary-200 text-primary-700 px-3 py-2 rounded-lg text-sm"},SLe={class:"flex items-center gap-2"},ELe={class:"font-medium"},wLe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-5"},CLe={class:"flex flex-col gap-1.5"},ALe={class:"flex flex-col gap-1.5"},kLe={class:"flex flex-col gap-1.5"},TLe={class:"flex flex-col gap-1.5"},DLe={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},OLe={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},RLe={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},MLe={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},ILe={class:"flex items-center gap-2 cursor-pointer p-2 rounded hover:bg-slate-50 transition-colors text-sm text-slate-600"},NLe={class:"flex flex-col gap-1.5 mt-6"},PLe={key:0,class:"mt-6"},$Le={class:"animate-fade-in"},LLe={class:"text-sm font-bold text-slate-700 mb-3"},FLe={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},VLe=["id","onUpdate:modelValue"],BLe={class:"bg-slate-50 border-t border-slate-200 p-4 md:px-8 flex justify-between items-center"},ULe={class:"flex gap-3"},HLe=["disabled"],zLe=["disabled"],jLe={key:0,class:"i-fas-spinner animate-spin"},WLe={key:1},GLe={class:"flex flex-col gap-6"},qLe={class:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 border-l-4 border-l-primary-500"},KLe={class:"flex flex-col gap-4"},YLe={class:"flex flex-col gap-1.5"},XLe={class:"flex flex-col gap-1.5"},JLe={class:"flex flex-col gap-1.5"},QLe={class:"flex flex-col gap-1.5"},ZLe={class:"bg-white rounded-xl border border-slate-200 shadow-sm p-5 border-l-4 border-l-emerald-500"},e3e={class:"flex items-center gap-3"},t3e={class:"relative inline-flex items-center cursor-pointer"},n3e=We({__name:"ImovelFormView",setup(t){const e=ms(),n=an(),s=we(()=>e.params.id),i=we(()=>!!s.value),r=H("geral"),o=[{id:"geral",label:"Dados Bsicos",icon:"i-fas-info-circle"},{id:"valores",label:"Valores",icon:"i-fas-dollar-sign"},{id:"caracteristicas",label:"Detalhes",icon:"i-fas-list"},{id:"imagens",label:"Imagens",icon:"i-fas-camera",disabled:!i.value},{id:"autorizacao",label:"Autorizao",icon:"i-fas-file-signature"},{id:"publico",label:"Site",icon:"i-fas-globe"}],a=H(!1),c=H(!1),u=H(!1),d=H([]),f=H(""),h=H(!1),m=we(()=>b.value&&b.value.proprietario_detalhes?b.value.proprietario_detalhes.nome||b.value.proprietario_detalhes.razao_social:null),g={Geral:{titulo_anuncio:"Ttulo",tipo:"Tipo",finalidade:"Finalidade",status:"Status"},Financeiro:{valor_venda:"Valor Venda",valor_aluguel:"Valor Aluguel",valor_condominio:"Condomnio",valor_iptu:"IPTU"},Localizao:{logradouro:"Logradouro",numero:"Nmero",bairro:"Bairro",cidade:"Cidade"},Dimenses:{area_util:"rea til",area_total:"rea Total",quartos:"Quartos",suites:"Sutes",vagas_garagem:"Vagas"},Detalhes:{descricao_completa:"Descrio",piscina_privativa:"Piscina",churrasqueira_privativa:"Churrasqueira",portaria_24h:"Portaria 24h",elevador:"Elevador",aceita_pet:"Aceita Pet"}},y=()=>({id:null,titulo_anuncio:"",codigo_referencia:"",tipo:"CASA",finalidade:"RESIDENCIAL",status:"A_VENDA",situacao:null,publicado_no_site:!0,valor_venda:null,valor_aluguel:null,valor_condominio:null,valor_iptu:null,logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",cep:"",quartos:0,suites:0,banheiros:0,vagas_garagem:0,area_total:0,area_util:0,lavabo:!1,escritorio:!1,varanda:!1,mobiliado:!1,ar_condicionado:!1,moveis_planejados:!1,piscina_privativa:!1,churrasqueira_privativa:!1,portaria_24h:!1,elevador:!1,piscina_condominio:!1,academia:!1,salao_festas:!1,playground:!1,quadra_esportiva:!1,espaco_pet:!1,financiavel:!1,quitado:!1,documentacao_ok:!1,aceita_pet:!1,proprietario:null,numero_matricula:"",data_captacao:null,data_fim_autorizacao:null,possui_exclusividade:!1,comissao_percentual:null,informacoes_adicionais_autorizacao:"",outras_caracteristicas:"",descricao_completa:"",configuracao_publica:Object.values(g).flatMap(B=>Object.keys(B)).reduce((B,N)=>(B[N]=!0,B),{}),proprietario_detalhes:null}),b=H(y()),x=D=>{if(D==null||D==="")return null;const A=Number(D);return isNaN(A)?null:A};async function E(D){if(D){a.value=!0;try{const{data:A}=await ce.get(`/v1/imoveis/${D}/`),B=y();b.value={...B,...A,valor_venda:x(A.valor_venda),valor_aluguel:x(A.valor_aluguel),valor_condominio:x(A.valor_condominio),valor_iptu:x(A.valor_iptu),comissao_percentual:x(A.comissao_percentual),proprietario:A.proprietario_detalhes?.id||null,proprietario_detalhes:A.proprietario_detalhes||null,configuracao_publica:{...B.configuracao_publica,...A.configuracao_publica}}}catch(A){console.error(A)}finally{a.value=!1}}}const C=async D=>{if(!D||D.length<3){d.value=[];return}h.value=!0;try{const A=await ce.get("/v1/clientes/",{params:{search:D,status:"ativo"}});d.value=A.data}catch(A){console.error(A)}finally{h.value=!1}},_=uA.debounce(C,300);function T(D){b.value.proprietario=D.id,b.value.proprietario_detalhes=D,d.value=[],f.value=""}function k(){b.value.proprietario=null,b.value.proprietario_detalhes=null}async function $(){if(!b.value.id||!b.value.proprietario){alert("Selecione um 'Proprietrio' para editar a autorizao.");return}await P()&&n.push({name:"imovel-editor-autorizacao",params:{id:b.value.id}})}async function M(){if(!i.value||!b.value.id){alert("Salve o imvel antes.");return}u.value=!0;try{const D=await ce.post(`/v1/imoveis/${b.value.id}/gerar-descricao-ia/`);D.data?.descricao&&(b.value.descricao_completa=D.data.descricao,alert("Gerado!"))}catch(D){alert(`Erro: ${D.response?.data?.error||"Desconhecido"}`)}finally{u.value=!1}}async function P(){c.value=!0;const D={...b.value};delete D.id,delete D.proprietario_detalhes,Object.keys(D).forEach(A=>{A!=="proprietario"&&(D[A]===null||D[A]===void 0)&&delete D[A]});try{let A;return i.value?A=await ce.put(`/v1/imoveis/${s.value}/`,D):A=await ce.post("/v1/imoveis/",D),A}catch(A){return console.error(A),alert("Erro ao salvar. Verifique os campos."),null}finally{c.value=!1}}async function V(){(await P())?.data&&n.push({name:"imoveis"})}async function I(){const D=await P();if(D?.data){const A=!i.value;b.value.id=D.data.id,E(String(D.data.id)),A?(n.replace({name:"imovel-editar",params:{id:D.data.id},query:{tab:"imagens"}}),r.value="imagens"):alert("Salvo com sucesso!")}}function w(){n.push({name:"imoveis"})}return Rn(s,D=>{D&&E(D)},{immediate:!0}),Rn(()=>e.query.tab,D=>{D&&(r.value=D)}),(D,A)=>{const B=on("router-link");return O(),R("div",e$e,[l("header",t$e,[l("div",n$e,[l("nav",s$e,[be(B,{to:"/",class:"hover:text-primary-600 transition-colors decoration-none"},{default:Pe(()=>[...A[52]||(A[52]=[z("Incio",-1)])]),_:1}),A[54]||(A[54]=l("div",{class:"i-fas-chevron-right text-[10px]"},null,-1)),be(B,{to:"/imoveis",class:"hover:text-primary-600 transition-colors decoration-none"},{default:Pe(()=>[...A[53]||(A[53]=[z("Imveis",-1)])]),_:1}),A[55]||(A[55]=l("div",{class:"i-fas-chevron-right text-[10px]"},null,-1)),l("span",i$e,F(i.value?"Editar":"Novo"),1)]),l("h1",r$e,F(i.value?"Editar Imvel":"Cadastrar Novo Imvel"),1)])]),a.value?(O(),R("div",o$e,[...A[56]||(A[56]=[l("div",{class:"w-10 h-10 border-3 border-slate-200 border-t-primary-500 rounded-full animate-spin mb-4"},null,-1),l("p",{class:"text-sm font-medium"},"A carregar dados do imvel...",-1)])])):(O(),R("form",{key:1,onSubmit:wt(V,["prevent"]),class:"grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-6 items-start"},[l("div",a$e,[l("div",l$e,[(O(),R(Me,null,je(o,N=>l("button",{key:N.id,type:"button",onClick:q=>r.value=N.id,disabled:N.disabled,class:te(["flex-1 min-w-[110px] py-4 px-2 text-sm font-medium text-slate-500 hover:text-slate-700 hover:bg-slate-100 transition-colors border-b-2 border-transparent flex items-center justify-center gap-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",{"!text-primary-600 !border-primary-600 !bg-white font-bold":r.value===N.id}])},[l("div",{class:te(N.icon)},null,2),z(" "+F(N.label),1)],10,c$e)),64))]),l("div",u$e,[Y(l("div",d$e,[l("div",f$e,[l("div",h$e,[A[58]||(A[58]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Ttulo do Anncio "),l("span",{class:"text-red-500"},"*")],-1)),l("div",p$e,[A[57]||(A[57]=l("div",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 i-fas-heading text-sm pointer-events-none"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=N=>b.value.titulo_anuncio=N),required:"",class:"w-full pl-9 pr-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",placeholder:"Ex: Apartamento Vista Mar no Centro"},null,512),[[de,b.value.titulo_anuncio]])])]),l("div",null,[A[67]||(A[67]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pb-2 border-b border-dashed border-slate-200"},"Localizao",-1)),l("div",m$e,[l("div",g$e,[A[60]||(A[60]=l("label",{class:"text-sm font-bold text-slate-600"},"CEP",-1)),l("div",v$e,[A[59]||(A[59]=l("div",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 i-fas-map-marker-alt text-sm pointer-events-none z-10"},null,-1)),be(ZPe,{modelValue:b.value.cep,"onUpdate:modelValue":A[1]||(A[1]=N=>b.value.cep=N),class:"w-full pl-9 pr-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,8,["modelValue"])])]),l("div",b$e,[A[61]||(A[61]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Logradouro "),l("span",{class:"text-red-500"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[2]||(A[2]=N=>b.value.logradouro=N),required:"",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.logradouro]])]),l("div",y$e,[A[62]||(A[62]=l("label",{class:"text-sm font-bold text-slate-600"},"Nmero",-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[3]||(A[3]=N=>b.value.numero=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.numero]])]),l("div",x$e,[A[63]||(A[63]=l("label",{class:"text-sm font-bold text-slate-600"},"Complemento",-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[4]||(A[4]=N=>b.value.complemento=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.complemento]])]),l("div",_$e,[A[64]||(A[64]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Bairro "),l("span",{class:"text-red-500"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[5]||(A[5]=N=>b.value.bairro=N),required:"",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.bairro]])]),l("div",S$e,[A[65]||(A[65]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Cidade "),l("span",{class:"text-red-500"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[6]||(A[6]=N=>b.value.cidade=N),required:"",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.cidade]])]),l("div",E$e,[A[66]||(A[66]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Estado (UF) "),l("span",{class:"text-red-500"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[7]||(A[7]=N=>b.value.estado=N),maxlength:"2",required:"",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white uppercase"},null,512),[[de,b.value.estado]])])])])])],512),[[Hs,r.value==="geral"]]),Y(l("div",w$e,[l("div",null,[A[72]||(A[72]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pb-2 border-b border-dashed border-slate-200"},"Financeiro",-1)),l("div",C$e,[l("div",A$e,[A[68]||(A[68]=l("label",{class:"text-sm font-bold text-slate-600"},"Valor de Venda",-1)),be(da,{modelValue:b.value.valor_venda,"onUpdate:modelValue":A[8]||(A[8]=N=>b.value.valor_venda=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",prefix:"R$ "},null,8,["modelValue"])]),l("div",k$e,[A[69]||(A[69]=l("label",{class:"text-sm font-bold text-slate-600"},"Valor de Aluguel",-1)),be(da,{modelValue:b.value.valor_aluguel,"onUpdate:modelValue":A[9]||(A[9]=N=>b.value.valor_aluguel=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",prefix:"R$ "},null,8,["modelValue"])]),l("div",T$e,[A[70]||(A[70]=l("label",{class:"text-sm font-bold text-slate-600"},"Condomnio",-1)),be(da,{modelValue:b.value.valor_condominio,"onUpdate:modelValue":A[10]||(A[10]=N=>b.value.valor_condominio=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",prefix:"R$ "},null,8,["modelValue"])]),l("div",D$e,[A[71]||(A[71]=l("label",{class:"text-sm font-bold text-slate-600"},"IPTU (Anual)",-1)),be(da,{modelValue:b.value.valor_iptu,"onUpdate:modelValue":A[11]||(A[11]=N=>b.value.valor_iptu=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",prefix:"R$ "},null,8,["modelValue"])])])]),l("div",null,[A[79]||(A[79]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pb-2 border-b border-dashed border-slate-200"},"Medidas e Divises",-1)),l("div",O$e,[l("div",R$e,[A[73]||(A[73]=l("label",{class:"text-sm font-bold text-slate-600"},"rea Total",-1)),Y(l("input",{type:"number",step:"0.01","onUpdate:modelValue":A[12]||(A[12]=N=>b.value.area_total=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",placeholder:"m"},null,512),[[de,b.value.area_total,void 0,{number:!0}]])]),l("div",M$e,[A[74]||(A[74]=l("label",{class:"text-sm font-bold text-slate-600"},"rea til",-1)),Y(l("input",{type:"number",step:"0.01","onUpdate:modelValue":A[13]||(A[13]=N=>b.value.area_util=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",placeholder:"m"},null,512),[[de,b.value.area_util,void 0,{number:!0}]])]),l("div",I$e,[A[75]||(A[75]=l("label",{class:"text-sm font-bold text-slate-600"},"Quartos",-1)),Y(l("input",{type:"number","onUpdate:modelValue":A[14]||(A[14]=N=>b.value.quartos=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.quartos,void 0,{number:!0}]])]),l("div",N$e,[A[76]||(A[76]=l("label",{class:"text-sm font-bold text-slate-600"},"Sutes",-1)),Y(l("input",{type:"number","onUpdate:modelValue":A[15]||(A[15]=N=>b.value.suites=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.suites,void 0,{number:!0}]])]),l("div",P$e,[A[77]||(A[77]=l("label",{class:"text-sm font-bold text-slate-600"},"Banheiros",-1)),Y(l("input",{type:"number","onUpdate:modelValue":A[16]||(A[16]=N=>b.value.banheiros=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.banheiros,void 0,{number:!0}]])]),l("div",$$e,[A[78]||(A[78]=l("label",{class:"text-sm font-bold text-slate-600"},"Vagas",-1)),Y(l("input",{type:"number","onUpdate:modelValue":A[17]||(A[17]=N=>b.value.vagas_garagem=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.vagas_garagem,void 0,{number:!0}]])])])])],512),[[Hs,r.value==="valores"]]),Y(l("div",L$e,[l("div",null,[A[88]||(A[88]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pb-2 border-b border-dashed border-slate-200"},"Comodidades do Imvel",-1)),l("div",F$e,[l("label",V$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[18]||(A[18]=N=>b.value.lavabo=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.lavabo]]),A[80]||(A[80]=l("span",null,"Lavabo",-1))]),l("label",B$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[19]||(A[19]=N=>b.value.escritorio=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.escritorio]]),A[81]||(A[81]=l("span",null,"Escritrio",-1))]),l("label",U$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[20]||(A[20]=N=>b.value.varanda=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.varanda]]),A[82]||(A[82]=l("span",null,"Varanda / Sacada",-1))]),l("label",H$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[21]||(A[21]=N=>b.value.mobiliado=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.mobiliado]]),A[83]||(A[83]=l("span",null,"Mobiliado",-1))]),l("label",z$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[22]||(A[22]=N=>b.value.ar_condicionado=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.ar_condicionado]]),A[84]||(A[84]=l("span",null,"Ar Condicionado",-1))]),l("label",j$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[23]||(A[23]=N=>b.value.moveis_planejados=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.moveis_planejados]]),A[85]||(A[85]=l("span",null,"Mveis Planejados",-1))]),l("label",W$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[24]||(A[24]=N=>b.value.piscina_privativa=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.piscina_privativa]]),A[86]||(A[86]=l("span",null,"Piscina Privativa",-1))]),l("label",G$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[25]||(A[25]=N=>b.value.churrasqueira_privativa=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.churrasqueira_privativa]]),A[87]||(A[87]=l("span",null,"Churrasqueira",-1))])])]),l("div",null,[A[97]||(A[97]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pb-2 border-b border-dashed border-slate-200"},"Infraestrutura do Condomnio",-1)),l("div",q$e,[l("label",K$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[26]||(A[26]=N=>b.value.portaria_24h=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.portaria_24h]]),A[89]||(A[89]=l("span",null,"Portaria 24h",-1))]),l("label",Y$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[27]||(A[27]=N=>b.value.elevador=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.elevador]]),A[90]||(A[90]=l("span",null,"Elevador",-1))]),l("label",X$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[28]||(A[28]=N=>b.value.piscina_condominio=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.piscina_condominio]]),A[91]||(A[91]=l("span",null,"Piscina",-1))]),l("label",J$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[29]||(A[29]=N=>b.value.academia=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.academia]]),A[92]||(A[92]=l("span",null,"Academia",-1))]),l("label",Q$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[30]||(A[30]=N=>b.value.salao_festas=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.salao_festas]]),A[93]||(A[93]=l("span",null,"Salo de Festas",-1))]),l("label",Z$e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[31]||(A[31]=N=>b.value.playground=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.playground]]),A[94]||(A[94]=l("span",null,"Playground",-1))]),l("label",eLe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[32]||(A[32]=N=>b.value.quadra_esportiva=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.quadra_esportiva]]),A[95]||(A[95]=l("span",null,"Quadra Esportiva",-1))]),l("label",tLe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[33]||(A[33]=N=>b.value.espaco_pet=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.espaco_pet]]),A[96]||(A[96]=l("span",null,"Espao Pet",-1))])])]),l("div",null,[A[100]||(A[100]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pb-2 border-b border-dashed border-slate-200"},"Descrio e Observaes",-1)),l("div",nLe,[l("div",sLe,[l("div",iLe,[A[98]||(A[98]=l("label",{class:"text-sm font-bold text-slate-600"},"Descrio Completa (Site)",-1)),l("button",{type:"button",onClick:wt(M,["prevent"]),disabled:u.value||!i.value,class:"text-xs font-bold text-primary-600 hover:text-primary-700 flex items-center gap-1.5 transition-colors cursor-pointer disabled:opacity-50"},[l("div",{class:te(u.value?"i-fas-spinner animate-spin":"i-fas-magic")},null,2),z(" "+F(u.value?"Gerando...":"Gerar com IA"),1)],8,rLe)]),Y(l("textarea",{"onUpdate:modelValue":A[34]||(A[34]=N=>b.value.descricao_completa=N),rows:"6",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white resize-y min-h-[100px]"},null,512),[[de,b.value.descricao_completa]])]),l("div",oLe,[A[99]||(A[99]=l("label",{class:"text-sm font-bold text-slate-600"},"Outras Caractersticas",-1)),Y(l("textarea",{"onUpdate:modelValue":A[35]||(A[35]=N=>b.value.outras_caracteristicas=N),rows:"3",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white resize-y min-h-[80px]"},null,512),[[de,b.value.outras_caracteristicas]])])])])],512),[[Hs,r.value==="caracteristicas"]]),Y(l("div",aLe,[i.value&&b.value.id?(O(),R("div",lLe,[be(C6,{"imovel-id":Number(b.value.id)},null,8,["imovel-id"])])):(O(),R("div",cLe,[...A[101]||(A[101]=[l("div",{class:"i-fas-save text-3xl mb-3 opacity-50"},null,-1),l("h3",{class:"text-base font-bold text-slate-600 mb-1"},"Salve o imvel primeiro",-1),l("p",{class:"text-sm"},"Voc precisa salvar os dados bsicos antes de fazer upload das imagens.",-1)])]))],512),[[Hs,r.value==="imagens"]]),Y(l("div",uLe,[l("div",null,[l("div",dLe,[A[104]||(A[104]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Proprietrio "),l("span",{class:"text-red-500"},"*")],-1)),l("div",fLe,[Y(l("input",{type:"text","onUpdate:modelValue":A[36]||(A[36]=N=>f.value=N),onInput:A[37]||(A[37]=N=>Ve(_)(N.target.value)),placeholder:"Buscar proprietrio por nome, email ou CPF...",class:"w-full pl-3 pr-10 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",autocomplete:"off",disabled:a.value||h.value},null,40,hLe),[[de,f.value]]),l("div",pLe,[h.value?(O(),R("div",mLe)):(O(),R("div",gLe))]),f.value&&d.value.length?(O(),R("ul",vLe,[(O(!0),R(Me,null,je(d.value,N=>(O(),R("li",{key:N.id,onClick:q=>T(N),class:"px-4 py-3 hover:bg-slate-50 cursor-pointer border-b border-slate-50 last:border-none transition-colors"},[l("div",yLe,F(N.nome||N.razao_social),1),l("div",xLe,F(N.documento)+" - "+F(N.email),1)],8,bLe))),128))])):J("",!0)]),m.value?(O(),R("div",_Le,[l("div",SLe,[A[102]||(A[102]=l("div",{class:"i-fas-user-check"},null,-1)),l("span",ELe,F(m.value),1)]),l("button",{type:"button",onClick:k,class:"text-primary-400 hover:text-primary-700 cursor-pointer bg-transparent border-none flex items-center",title:"Remover"},[...A[103]||(A[103]=[l("div",{class:"i-fas-times"},null,-1)])])])):J("",!0)]),l("div",wLe,[l("div",CLe,[A[105]||(A[105]=l("label",{class:"text-sm font-bold text-slate-600"},"Matrcula",-1)),Y(l("input",{type:"text","onUpdate:modelValue":A[38]||(A[38]=N=>b.value.numero_matricula=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.numero_matricula]])]),l("div",ALe,[A[106]||(A[106]=l("label",{class:"text-sm font-bold text-slate-600"},"Comisso (%)",-1)),be(da,{modelValue:b.value.comissao_percentual,"onUpdate:modelValue":A[39]||(A[39]=N=>b.value.comissao_percentual=N),prefix:"",suffix:"%",precision:2,class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,8,["modelValue"])]),l("div",kLe,[A[107]||(A[107]=l("label",{class:"text-sm font-bold text-slate-600"},"Data Captao",-1)),Y(l("input",{type:"date","onUpdate:modelValue":A[40]||(A[40]=N=>b.value.data_captacao=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.data_captacao]])]),l("div",TLe,[A[108]||(A[108]=l("label",{class:"text-sm font-bold text-slate-600"},"Fim Autorizao",-1)),Y(l("input",{type:"date","onUpdate:modelValue":A[41]||(A[41]=N=>b.value.data_fim_autorizacao=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,b.value.data_fim_autorizacao]])])])]),l("div",null,[A[115]||(A[115]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pb-2 border-b border-dashed border-slate-200"},"Status da Documentao",-1)),l("div",DLe,[l("label",OLe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[42]||(A[42]=N=>b.value.possui_exclusividade=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.possui_exclusividade]]),A[109]||(A[109]=l("span",null,"Contrato de Exclusividade",-1))]),l("label",RLe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[43]||(A[43]=N=>b.value.financiavel=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.financiavel]]),A[110]||(A[110]=l("span",null,"Aceita Financiamento",-1))]),l("label",MLe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[44]||(A[44]=N=>b.value.quitado=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.quitado]]),A[111]||(A[111]=l("span",null,"Quitado",-1))]),l("label",ILe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[45]||(A[45]=N=>b.value.documentacao_ok=N),class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,512),[[Zt,b.value.documentacao_ok]]),A[112]||(A[112]=l("span",null,"Documentao OK",-1))])]),l("div",NLe,[A[113]||(A[113]=l("label",{class:"text-sm font-bold text-slate-600"},"Obs. Contratuais",-1)),Y(l("textarea",{"onUpdate:modelValue":A[46]||(A[46]=N=>b.value.informacoes_adicionais_autorizacao=N),rows:"3",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white",placeholder:"Informaes internas sobre a autorizao..."},null,512),[[de,b.value.informacoes_adicionais_autorizacao]])]),i.value&&b.value.id?(O(),R("div",PLe,[l("button",{type:"button",onClick:$,class:"w-full px-4 py-2.5 rounded-lg text-sm font-medium text-slate-600 bg-white border border-slate-300 hover:bg-slate-50 transition-colors cursor-pointer flex items-center justify-center gap-2"},[...A[114]||(A[114]=[l("div",{class:"i-fas-file-contract text-blue-600"},null,-1),z(" Editar e Gerar Autorizao ",-1)])])])):J("",!0)])],512),[[Hs,r.value==="autorizacao"]]),Y(l("div",$Le,[A[116]||(A[116]=l("div",{class:"bg-amber-50 border border-amber-200 text-amber-800 p-3 rounded-lg flex items-start gap-3 mb-6"},[l("div",{class:"i-fas-info-circle text-lg mt-0.5"}),l("p",{class:"text-sm m-0"},"Controle quais campos aparecem publicamente no site da imobiliria.")],-1)),(O(),R(Me,null,je(g,(N,q)=>l("div",{key:q,class:"mb-6 pb-6 border-b border-slate-100 last:border-none last:mb-0 last:pb-0"},[l("h4",LLe,F(q),1),l("div",FLe,[(O(!0),R(Me,null,je(N,(W,Z)=>(O(),R("label",{key:Z,class:"flex items-center gap-2 cursor-pointer text-sm text-slate-600"},[Y(l("input",{type:"checkbox",id:Z,"onUpdate:modelValue":Le=>b.value.configuracao_publica[Z]=Le,class:"w-4 h-4 accent-primary-600 cursor-pointer"},null,8,VLe),[[Zt,b.value.configuracao_publica[Z]]]),l("span",null,F(W),1)]))),128))])])),64))],512),[[Hs,r.value==="publico"]])]),l("div",BLe,[l("button",{type:"button",onClick:w,class:"px-4 py-2 rounded-md text-sm font-medium text-slate-700 bg-white border border-slate-300 hover:bg-slate-50 transition-all cursor-pointer shadow-sm"}," Cancelar "),l("div",ULe,[l("button",{type:"button",onClick:I,class:"px-4 py-2 rounded-md text-sm font-medium text-blue-600 bg-white border border-blue-600 hover:bg-blue-50 transition-all flex items-center gap-2 cursor-pointer shadow-sm",disabled:c.value},[...A[117]||(A[117]=[l("div",{class:"i-fas-save"},null,-1),z(" Salvar e Continuar ",-1)])],8,HLe),l("button",{type:"submit",class:"flex items-center justify-center gap-2 px-6 py-2 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-sm hover:shadow transition-all disabled:opacity-70 disabled:cursor-not-allowed border-none cursor-pointer",disabled:c.value},[c.value?(O(),R("div",jLe)):(O(),R("span",WLe,"Salvar e Sair"))],8,zLe)])])]),l("div",GLe,[l("div",qLe,[A[126]||(A[126]=l("div",{class:"mb-4 pb-2 border-b border-slate-100"},[l("h3",{class:"text-sm font-bold text-slate-700 m-0 flex items-center gap-2"},[l("div",{class:"i-fas-cog text-primary-600"}),z(" Configuraes ")])],-1)),l("div",KLe,[l("div",YLe,[A[119]||(A[119]=l("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Tipo de Imvel",-1)),Y(l("select",{"onUpdate:modelValue":A[47]||(A[47]=N=>b.value.tipo=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},[...A[118]||(A[118]=[hi('<option value="CASA" data-v-79d28a28>Casa</option><option value="APARTAMENTO" data-v-79d28a28>Apartamento</option><option value="TERRENO" data-v-79d28a28>Terreno</option><option value="SALA_COMERCIAL" data-v-79d28a28>Sala Comercial</option><option value="GALPAO" data-v-79d28a28>Galpo</option><option value="RURAL" data-v-79d28a28>Rural</option><option value="OUTRO" data-v-79d28a28>Outro</option>',7)])],512),[[xt,b.value.tipo]])]),l("div",XLe,[A[121]||(A[121]=l("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Finalidade",-1)),Y(l("select",{"onUpdate:modelValue":A[48]||(A[48]=N=>b.value.finalidade=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},[...A[120]||(A[120]=[l("option",{value:"RESIDENCIAL"},"Residencial",-1),l("option",{value:"COMERCIAL"},"Comercial",-1),l("option",{value:"INDUSTRIAL"},"Industrial",-1),l("option",{value:"RURAL"},"Rural",-1)])],512),[[xt,b.value.finalidade]])]),l("div",JLe,[A[123]||(A[123]=l("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Situao",-1)),Y(l("select",{"onUpdate:modelValue":A[49]||(A[49]=N=>b.value.situacao=N),class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white"},[...A[122]||(A[122]=[l("option",{value:null},"No informado",-1),l("option",{value:"NOVO"},"Novo",-1),l("option",{value:"USADO"},"Usado",-1),l("option",{value:"NA_PLANTA"},"Na Planta",-1)])],512),[[xt,b.value.situacao]])]),l("div",QLe,[A[125]||(A[125]=l("label",{class:"text-xs font-bold text-slate-500 uppercase"},"Status Atual",-1)),Y(l("select",{"onUpdate:modelValue":A[50]||(A[50]=N=>b.value.status=N),class:te(["w-full px-3 py-2 text-sm border border-slate-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-100 outline-none transition-all text-slate-700 bg-white font-medium",{"text-emerald-600":b.value.status==="A_VENDA","text-amber-600":b.value.status==="EM_CONSTRUCAO"}])},[...A[124]||(A[124]=[hi('<option value="A_VENDA" data-v-79d28a28> Venda</option><option value="PARA_ALUGAR" data-v-79d28a28>Para Alugar</option><option value="VENDIDO" data-v-79d28a28>Vendido</option><option value="ALUGADO" data-v-79d28a28>Alugado</option><option value="EM_CONSTRUCAO" data-v-79d28a28>Em Construo</option><option value="DESATIVADO" data-v-79d28a28>Desativado</option>',6)])],2),[[xt,b.value.status]])])])]),l("div",ZLe,[A[128]||(A[128]=l("div",{class:"mb-4 pb-2 border-b border-slate-100"},[l("h3",{class:"text-sm font-bold text-slate-700 m-0 flex items-center gap-2"},[l("div",{class:"i-fas-globe text-emerald-500"}),z(" Visibilidade ")])],-1)),l("div",e3e,[l("label",t3e,[Y(l("input",{type:"checkbox","onUpdate:modelValue":A[51]||(A[51]=N=>b.value.publicado_no_site=N),class:"sr-only peer"},null,512),[[Zt,b.value.publicado_no_site]]),A[127]||(A[127]=l("div",{class:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"},null,-1))]),l("span",{class:te(["text-sm font-bold",b.value.publicado_no_site?"text-emerald-600":"text-slate-400"])},F(b.value.publicado_no_site?"Publicado":"Oculto"),3)]),A[129]||(A[129]=l("p",{class:"text-xs text-slate-400 mt-3 italic"},"Se desativado, o imvel no aparecer no site, independente das outras configuraes.",-1))])])],32))])}}}),xN=tt(n3e,[["__scopeId","data-v-79d28a28"]]),s3e={class:"page-container"},i3e={class:"page-header"},r3e={class:"header-main"},o3e={class:"actions-area"},a3e={class:"integration-grid"},l3e={class:"card integration-card"},c3e={class:"card-content"},u3e={class:"info-wrapper"},d3e={key:0,class:"status-badge active"},f3e={key:1,class:"status-badge inactive"},h3e={class:"card-actions"},p3e=We({__name:"IntegracoesView",setup(t){const e=Ji.useToast(),n=$o(),s=H(!1),i=H(!1),r=async()=>{s.value=!0;try{const c=await ce.get("/v1/core/usuarios/me/");i.value=!!c.data.google_calendar_token}catch(c){console.error("Erro ao atualizar status:",c),e.error("No foi possvel verificar o status da integrao.")}finally{s.value=!1}},o=()=>{const c=n.token||localStorage.getItem("authToken");let u="http://155.138.233.124:8080/api";u.endsWith("/")&&(u=u.slice(0,-1)),u.endsWith("/api")&&(u=u.slice(0,-4));const d=`${u}/api/v1/google-calendar-auth/?token=${c}`;console.log("Redirecionando para:",d),window.location.href=d},a=async()=>{if(confirm("Deseja realmente desconectar o Google Calendar?"))try{await ce.post("/v1/core/usuarios/disconnect-google/"),i.value=!1,e.success("Desconectado com sucesso.")}catch{e.error("Erro ao desconectar. Tente novamente.")}};return it(()=>{r()}),(c,u)=>(O(),R("div",s3e,[l("header",i3e,[l("div",r3e,[u[0]||(u[0]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Gesto"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Integraes")]),l("h1",null,"Central de Conectividade")],-1)),l("div",o3e,[l("button",{class:"btn-icon-thin",onClick:r,title:"Atualizar Status"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":s.value}])},null,2)])])])]),l("div",a3e,[l("div",l3e,[l("div",{class:te(["card-status-bar",i.value?"bg-green":"bg-gray"])},null,2),l("div",c3e,[u[5]||(u[5]=l("div",{class:"icon-wrapper google"},[l("i",{class:"fab fa-google"})],-1)),l("div",u3e,[u[3]||(u[3]=l("h3",null,"Google Calendar",-1)),u[4]||(u[4]=l("p",null,"Sincronize tarefas e visitas do CRM com sua agenda pessoal.",-1)),i.value?(O(),R("div",d3e,[...u[1]||(u[1]=[l("i",{class:"fas fa-check-circle"},null,-1),z(" Conectado ",-1)])])):(O(),R("div",f3e,[...u[2]||(u[2]=[l("i",{class:"fas fa-times-circle"},null,-1),z(" Desconectado ",-1)])]))])]),l("div",h3e,[i.value?(O(),R("button",{key:1,onClick:a,class:"btn-danger-thin full"}," Desconectar ")):(O(),R("button",{key:0,onClick:o,class:"btn-primary-thin full"}," Conectar Conta "))])])]),u[6]||(u[6]=l("div",{class:"info-footer"},[l("p",null,[l("i",{class:"fas fa-info-circle"}),z(" Outras integraes (Redes Sociais, IA, Bancos) so gerenciadas exclusivamente pelo painel administrativo.")])],-1))]))}}),m3e=tt(p3e,[["__scopeId","data-v-fa085efa"]]),g3e={class:"page-container"},v3e={class:"page-header"},b3e={class:"header-main"},y3e={class:"actions-area"},x3e={class:"kpi-grid"},_3e={class:"kpi-card blue"},S3e={class:"kpi-content"},E3e={class:"kpi-value"},w3e={class:"kpi-card green"},C3e={class:"kpi-content"},A3e={class:"kpi-value"},k3e={class:"kpi-card red"},T3e={class:"kpi-content"},D3e={class:"kpi-value"},O3e={class:"kpi-card purple"},R3e={class:"kpi-content"},M3e={class:"kpi-value text-sm"},I3e={class:"toolbar-grid"},N3e={class:"filter-cell search-cell"},P3e={class:"input-with-icon"},$3e={class:"filter-cell"},L3e={class:"report-main-wrapper"},F3e={key:0,class:"loading-state"},V3e={key:1,class:"empty-state"},B3e={key:2,class:"report-scroll-viewport"},U3e={class:"report-table"},H3e={class:"text-center"},z3e={class:"font-bold text-slate-700"},j3e={class:"text-muted text-sm italic"},W3e={class:"text-right"},G3e={class:"actions-flex"},q3e=["onClick"],K3e=["onClick"],Y3e=We({__name:"ListaCategoriasView",setup(t){const e=H([]),n=H(!0),s=H(""),i=H(""),r=Ji.useToast(),o=async()=>{n.value=!0;try{const m=await ce.get("/v1/financeiro/categorias/");e.value=m.data.results||m.data}catch{r.error("Erro ao carregar categorias.")}finally{n.value=!1}},a=we(()=>({receitas:e.value.filter(m=>m.tipo==="RECEITA").length,despesas:e.value.filter(m=>m.tipo==="DESPESA").length,mais_usada:e.value[0]?.nome||""})),c=we(()=>e.value.filter(m=>{const g=m.nome.toLowerCase().includes(s.value.toLowerCase()),y=i.value===""||m.tipo===i.value;return g&&y})),u=()=>{s.value="",i.value=""},d=()=>{},f=m=>{},h=async m=>{if(confirm("Deseja realmente excluir esta categoria?"))try{await ce.delete(`/v1/financeiro/categorias/${m}/`),r.success("Categoria removida."),o()}catch{r.error("No foi possvel excluir (pode haver transaes vinculadas).")}};return it(o),(m,g)=>(O(),R("div",g3e,[l("header",v3e,[l("div",b3e,[g[3]||(g[3]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Financeiro"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Plano de Contas")]),l("h1",null,"Categorias Financeiras")],-1)),l("div",y3e,[l("button",{class:"btn-icon-thin",onClick:o,title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":n.value}])},null,2)]),l("button",{class:"btn-primary-thin",onClick:d},[...g[2]||(g[2]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Categoria ",-1)])])])])]),l("div",x3e,[l("div",_3e,[l("div",S3e,[l("span",E3e,F(e.value.length),1),g[4]||(g[4]=l("span",{class:"kpi-label"},"Categorias Totais",-1))]),g[5]||(g[5]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-tags"})],-1))]),l("div",w3e,[l("div",C3e,[l("span",A3e,F(a.value.receitas),1),g[6]||(g[6]=l("span",{class:"kpi-label"},"Tipos de Receita",-1))]),g[7]||(g[7]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-arrow-circle-up"})],-1))]),l("div",k3e,[l("div",T3e,[l("span",D3e,F(a.value.despesas),1),g[8]||(g[8]=l("span",{class:"kpi-label"},"Tipos de Despesa",-1))]),g[9]||(g[9]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-arrow-circle-down"})],-1))]),l("div",O3e,[l("div",R3e,[l("span",M3e,F(a.value.mais_usada||"S/D"),1),g[10]||(g[10]=l("span",{class:"kpi-label"},"Mais Utilizada",-1))]),g[11]||(g[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-chart-pie"})],-1))])]),l("div",I3e,[l("div",N3e,[g[13]||(g[13]=l("label",null,"Buscar Categoria",-1)),l("div",P3e,[g[12]||(g[12]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=y=>s.value=y),placeholder:"Nome da categoria ou descrio...",class:"form-control"},null,512),[[de,s.value]])])]),l("div",$3e,[g[15]||(g[15]=l("label",null,"Tipo",-1)),Y(l("select",{"onUpdate:modelValue":g[1]||(g[1]=y=>i.value=y),class:"form-control"},[...g[14]||(g[14]=[l("option",{value:""},"Todas",-1),l("option",{value:"RECEITA"},"Apenas Receitas",-1),l("option",{value:"DESPESA"},"Apenas Despesas",-1)])],512),[[xt,i.value]])]),l("div",{class:"filter-cell clear-cell"},[g[17]||(g[17]=l("label",null,"",-1)),l("button",{onClick:u,class:"btn-clear",title:"Limpar Filtros"},[...g[16]||(g[16]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",L3e,[n.value?(O(),R("div",F3e,[...g[18]||(g[18]=[l("div",{class:"spinner"},null,-1),l("p",null,"A carregar categorias...",-1)])])):c.value.length===0?(O(),R("div",V3e,[...g[19]||(g[19]=[l("i",{class:"fas fa-tag empty-icon"},null,-1),l("p",null,"Nenhuma categoria encontrada com os filtros aplicados.",-1)])])):(O(),R("div",B3e,[l("table",U3e,[g[22]||(g[22]=l("thead",null,[l("tr",null,[l("th",{width:"8%",class:"text-center"},"cone"),l("th",{width:"35%"},"Nome da Categoria"),l("th",{width:"20%"},"Tipo de Fluxo"),l("th",{width:"25%"},"Descrio"),l("th",{width:"12%",class:"text-right"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(c.value,y=>(O(),R("tr",{key:y.id},[l("td",H3e,[l("div",{class:te(["cat-icon-wrapper",y.tipo==="RECEITA"?"bg-success":"bg-danger"])},[l("i",{class:te(y.icone||"fas fa-tag")},null,2)],2)]),l("td",null,[l("span",z3e,F(y.nome),1)]),l("td",null,[l("span",{class:te(["type-badge",y.tipo==="RECEITA"?"badge-in":"badge-out"])},F(y.tipo==="RECEITA"?"Receita":"Despesa"),3)]),l("td",j3e,F(y.descricao||"Sem descrio cadastrada"),1),l("td",W3e,[l("div",G3e,[l("button",{onClick:b=>f(),class:"btn-action primary",title:"Editar"},[...g[20]||(g[20]=[l("i",{class:"fas fa-pen"},null,-1)])],8,q3e),l("button",{onClick:b=>h(y.id),class:"btn-action danger",title:"Excluir"},[...g[21]||(g[21]=[l("i",{class:"fas fa-trash"},null,-1)])],8,K3e)])])]))),128))])])]))])]))}}),X3e=tt(Y3e,[["__scopeId","data-v-34add2f0"]]),J3e={class:"page-container"},Q3e={class:"page-header"},Z3e={class:"header-main"},e4e={class:"actions-area"},t4e={class:"kpi-grid"},n4e={class:"kpi-card blue"},s4e={class:"kpi-content"},i4e={class:"kpi-value"},r4e={class:"kpi-card purple"},o4e={class:"kpi-content"},a4e={class:"kpi-value"},l4e={class:"kpi-card orange"},c4e={class:"kpi-content"},u4e={class:"kpi-value"},d4e={class:"kpi-card green"},f4e={class:"kpi-content"},h4e={class:"kpi-value text-compact"},p4e={class:"toolbar-grid"},m4e={class:"filter-cell search-cell"},g4e={class:"input-with-icon"},v4e={class:"filter-cell"},b4e={class:"content-wrapper"},y4e={key:0,class:"loading-state"},x4e={key:1,class:"error-state"},_4e={key:2,class:"empty-state"},S4e={key:3,class:"items-grid"},E4e={class:"item-visual"},w4e={class:"type-tag"},C4e={class:"item-details"},A4e={class:"item-header"},k4e={class:"item-title"},T4e={key:0,class:"fas fa-star text-yellow-500 star-mini",title:"Conta Principal"},D4e={class:"item-subtitle"},O4e={class:"item-info-grid"},R4e={class:"info-group"},M4e={class:"info-value"},I4e={class:"info-group"},N4e={class:"info-value"},P4e={class:"item-price-area"},$4e={class:"item-actions"},L4e=["onClick"],F4e=["onClick"],V4e=We({__name:"ListaContasView",setup(t){const e=H([]),n=H(!0),s=H(null),i=H(""),r=H("");Ji.useToast();const o=async()=>{n.value=!0,s.value=null;try{const b=await ce.get("/v1/financeiro/contas/");e.value=b.data.results||(Array.isArray(b.data)?b.data:[])}catch{s.value="No foi possvel carregar os dados financeiros."}finally{n.value=!1}},a=we(()=>{if(!e.value.length)return{saldo_total:0,qtd_bancos:0,qtd_caixas:0,conta_padrao:""};const b=e.value.reduce((E,C)=>E+Number(C.saldo||0),0),x=e.value.find(E=>E.is_padrao)?.nome||"";return{saldo_total:b,qtd_bancos:e.value.filter(E=>E.tipo!=="CAIXA").length,qtd_caixas:e.value.filter(E=>E.tipo==="CAIXA").length,conta_padrao:x}}),c=we(()=>(e.value||[]).filter(b=>{const x=(b.nome||"").toLowerCase().includes(i.value.toLowerCase()),E=(b.banco_nome||"").toLowerCase().includes(i.value.toLowerCase()),C=r.value===""||b.tipo===r.value;return(x||E)&&C})),u=b=>(b||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),d=b=>({CORRENTE:"C. Corrente",POUPANCA:"Poupana",CAIXA:"Caixa",INVESTIMENTO:"Investimento"})[b]||b,f=b=>b==="CAIXA"?"fas fa-wallet":b==="INVESTIMENTO"?"fas fa-chart-line":"fas fa-university",h=()=>{i.value="",r.value=""},m=()=>{},g=b=>{},y=b=>{};return it(o),(b,x)=>(O(),R("div",J3e,[l("header",Q3e,[l("div",Z3e,[x[3]||(x[3]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Financeiro"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Contas e Caixas")]),l("h1",null,"Gerenciar Contas")],-1)),l("div",e4e,[l("button",{class:"btn-icon-thin",onClick:o,title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":n.value}])},null,2)]),l("button",{class:"btn-primary-thin",onClick:m},[...x[2]||(x[2]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Conta ",-1)])])])])]),l("div",t4e,[l("div",n4e,[l("div",s4e,[l("span",i4e,F(u(a.value.saldo_total)),1),x[4]||(x[4]=l("span",{class:"kpi-label"},"Saldo Consolidado",-1))]),x[5]||(x[5]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-vault"})],-1))]),l("div",r4e,[l("div",o4e,[l("span",a4e,F(a.value.qtd_bancos),1),x[6]||(x[6]=l("span",{class:"kpi-label"},"Contas Bancrias",-1))]),x[7]||(x[7]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-university"})],-1))]),l("div",l4e,[l("div",c4e,[l("span",u4e,F(a.value.qtd_caixas),1),x[8]||(x[8]=l("span",{class:"kpi-label"},"Caixas Internos",-1))]),x[9]||(x[9]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-wallet"})],-1))]),l("div",d4e,[l("div",f4e,[l("span",h4e,F(a.value.conta_padrao||"Nenhuma"),1),x[10]||(x[10]=l("span",{class:"kpi-label"},"Conta Principal",-1))]),x[11]||(x[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-star"})],-1))])]),l("div",p4e,[l("div",m4e,[x[13]||(x[13]=l("label",null,"Buscar Conta",-1)),l("div",g4e,[x[12]||(x[12]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":x[0]||(x[0]=E=>i.value=E),placeholder:"Nome da conta, banco ou agncia...",class:"form-control"},null,512),[[de,i.value]])])]),l("div",v4e,[x[15]||(x[15]=l("label",null,"Tipo",-1)),Y(l("select",{"onUpdate:modelValue":x[1]||(x[1]=E=>r.value=E),class:"form-control"},[...x[14]||(x[14]=[hi('<option value="" data-v-588264fe>Todos os Tipos</option><option value="CORRENTE" data-v-588264fe>Conta Corrente</option><option value="POUPANCA" data-v-588264fe>Poupana</option><option value="CAIXA" data-v-588264fe>Caixa Interno</option><option value="INVESTIMENTO" data-v-588264fe>Investimento</option>',5)])],512),[[xt,r.value]])]),l("div",{class:"filter-cell clear-cell"},[x[17]||(x[17]=l("label",null,"",-1)),l("button",{onClick:h,class:"btn-clear",title:"Limpar Filtros"},[...x[16]||(x[16]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",b4e,[n.value?(O(),R("div",y4e,[...x[18]||(x[18]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando contas bancrias...",-1)])])):s.value?(O(),R("div",x4e,[x[19]||(x[19]=l("i",{class:"fas fa-exclamation-circle text-red-500"},null,-1)),l("p",null,F(s.value),1)])):c.value.length===0?(O(),R("div",_4e,[...x[20]||(x[20]=[l("i",{class:"fas fa-university empty-icon"},null,-1),l("p",null,"Nenhuma conta encontrada.",-1)])])):(O(),R("div",S4e,[(O(!0),R(Me,null,je(c.value,E=>(O(),R("div",{key:E.id,class:"item-card"},[l("div",E4e,[l("div",{class:te(["bank-avatar",E.tipo])},[l("i",{class:te(f(E.tipo))},null,2)],2),l("div",w4e,F(d(E.tipo)),1)]),l("div",C4e,[l("div",A4e,[l("h3",k4e,[z(F(E.nome)+" ",1),E.is_padrao?(O(),R("i",T4e)):J("",!0)]),l("span",D4e,F(E.banco_nome||"Gesto Interna"),1)]),l("div",O4e,[l("div",R4e,[x[21]||(x[21]=l("span",{class:"info-label"},"Agncia",-1)),l("span",M4e,F(E.agencia||""),1)]),l("div",I4e,[x[22]||(x[22]=l("span",{class:"info-label"},"N Conta",-1)),l("span",N4e,F(E.numero_conta||""),1)])]),l("div",P4e,[x[23]||(x[23]=l("span",{class:"price-label"},"Saldo Atual",-1)),l("span",{class:te(["price-value",E.saldo>=0?"text-success":"text-danger"])},F(u(E.saldo)),3)])]),l("div",$4e,[l("button",{onClick:C=>g(),class:"btn-action-circle primary",title:"Editar"},[...x[24]||(x[24]=[l("i",{class:"fas fa-pen"},null,-1)])],8,L4e),l("button",{onClick:C=>y(E.id),class:"btn-action-circle danger",title:"Excluir"},[...x[25]||(x[25]=[l("i",{class:"fas fa-trash"},null,-1)])],8,F4e)])]))),128))]))])]))}}),B4e=tt(V4e,[["__scopeId","data-v-588264fe"]]),U4e={class:"page-container"},H4e={key:0,class:"loading-state"},z4e={key:1,class:"error-message"},j4e={key:2,class:"table-card"},W4e={key:0,class:"empty-state"},G4e={key:1,class:"data-table"},q4e={class:"actions-column"},K4e=["onClick"],Y4e=["onClick"],X4e=We({__name:"ListaFormasPagamentoView",setup(t){const e=an(),n=H([]),s=H(!0),i=H(null);async function r(){s.value=!0,i.value=null;try{const c=await ce.get("/v1/financeiro/formas-pagamento/");n.value=c.data}catch(c){console.error("Erro ao buscar formas de pagamento:",c),i.value="No foi possvel carregar as formas de pagamento."}finally{s.value=!1}}function o(c){e.push({name:"forma-pagamento-editar",params:{id:c}})}async function a(c){if(window.confirm("Tem certeza que deseja excluir esta forma de pagamento?"))try{await ce.delete(`/v1/financeiro/formas-pagamento/${c}/`),alert("Forma de pagamento excluda com sucesso!"),r()}catch(u){console.error("Erro ao excluir forma de pagamento:",u),alert("No foi possvel excluir a forma de pagamento.")}}return it(()=>{r()}),(c,u)=>(O(),R("div",U4e,[s.value?(O(),R("div",H4e,[...u[0]||(u[0]=[l("p",null,"A carregar formas de pagamento...",-1)])])):i.value?(O(),R("div",z4e,[l("p",null,F(i.value),1)])):(O(),R("div",j4e,[n.value.length===0?(O(),R("div",W4e,[...u[1]||(u[1]=[l("p",null,"Nenhuma forma de pagamento cadastrada.",-1)])])):(O(),R("table",G4e,[u[2]||(u[2]=l("thead",null,[l("tr",null,[l("th",null,"Nome"),l("th",null,"Slug"),l("th",null,"Ativo"),l("th",{class:"actions-column"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(n.value,d=>(O(),R("tr",{key:d.id},[l("td",null,F(d.nome),1),l("td",null,F(d.slug),1),l("td",null,F(d.ativo?"Sim":"No"),1),l("td",q4e,[l("button",{onClick:f=>o(d.id),class:"action-button btn-edit"},"Editar",8,K4e),l("button",{onClick:f=>a(d.id),class:"action-button btn-delete"},"Excluir",8,Y4e)])]))),128))])]))]))]))}}),J4e=tt(X4e,[["__scopeId","data-v-9e46b079"]]),Q4e={class:"page-container"},Z4e={class:"page-header"},e5e={class:"header-main"},t5e={class:"actions-area"},n5e={class:"quick-actions"},s5e={key:0,class:"filters-summary"},i5e={class:"summary-text"},r5e={key:0,class:"filter-tag"},o5e={key:1,class:"filter-tag status"},a5e={key:2,class:"filter-tag search"},l5e={class:"toolbar-grid-container"},c5e={class:"filter-area search-area"},u5e={class:"input-with-icon"},d5e={class:"autocomplete-wrapper"},f5e={class:"input-with-icon"},h5e={key:0,class:"dropdown-list"},p5e=["onClick"],m5e={class:"imovel-code"},g5e={class:"imovel-title"},v5e={key:1,class:"dropdown-list"},b5e={class:"filter-area date-area"},y5e={class:"date-group-row"},x5e={class:"filter-area type-area"},_5e={class:"filter-area status-area"},S5e={class:"report-main-wrapper"},E5e={key:0,class:"loading-state"},w5e={key:1,class:"empty-state"},C5e={key:2,class:"empty-state"},A5e={key:3,class:"report-scroll-viewport"},k5e={class:"report-table"},T5e={key:0,class:"fas fa-sort-up"},D5e={key:1,class:"fas fa-sort-down"},O5e={key:2,class:"fas fa-sort sort-icon-muted"},R5e={key:0,class:"fas fa-sort-up"},M5e={key:1,class:"fas fa-sort-down"},I5e={key:2,class:"fas fa-sort sort-icon-muted"},N5e={key:0,class:"fas fa-sort-up"},P5e={key:1,class:"fas fa-sort-down"},$5e={key:2,class:"fas fa-sort sort-icon-muted"},L5e={key:0,class:"fas fa-sort-up"},F5e={key:1,class:"fas fa-sort-down"},V5e={key:2,class:"fas fa-sort sort-icon-muted"},B5e={key:0,class:"fas fa-sort-up"},U5e={key:1,class:"fas fa-sort-down"},H5e={key:2,class:"fas fa-sort sort-icon-muted"},z5e={key:0,class:"fas fa-sort-up"},j5e={key:1,class:"fas fa-sort-down"},W5e={key:2,class:"fas fa-sort sort-icon-muted"},G5e={class:"date-cell"},q5e={class:"date-day"},K5e={class:"date-month"},Y5e={class:"text-center"},X5e={class:"desc-col"},J5e=["title"],Q5e={key:0,class:"desc-sub"},Z5e={key:1,class:"desc-sub"},eFe={class:"desc-col"},tFe={class:"info-text"},nFe={class:"info-sub"},sFe={class:"text-center"},iFe={class:"text-right"},rFe={class:"actions-flex"},oFe=["onClick"],aFe={key:4,class:"table-footer"},lFe={class:"footer-info"},cFe=We({__name:"ListaTransacoes",setup(t){const e=H([]),n=H(0),s=H(!0),i=H(null),r=Ji.useToast(),o=H("-data_vencimento"),a=H({search:"",data_inicio:Et(yd(new Date),"yyyy-MM-dd"),data_fim:Et(Wc(new Date),"yyyy-MM-dd"),tipo:"",status:"",imovel:""}),c=H([]),u=H(""),d=H(!1),f=H(null),h=we(()=>{if(!u.value)return c.value.slice(0,10);const I=u.value.toLowerCase();return c.value.filter(w=>{const D=(w.titulo_anuncio||w.logradouro||"").toLowerCase(),A=(w.codigo_referencia||"").toLowerCase();return D.includes(I)||A.includes(I)}).slice(0,10)}),m=I=>I==null?"R$ 0,00":I.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),g=I=>{if(!I)return"--/--";try{return Et(new Date(I+"T00:00:00"),"dd/MM/yyyy",{locale:ys})}catch{return"Data Invlida"}},y=I=>{switch(I){case"PAGO":return"Pago";case"PENDENTE":return"Pendente";case"ATRASADO":return"Atrasado";default:return I}},b=I=>{switch(I){case"PENDENTE":return"status-orange";case"ATRASADO":return"status-red";case"PAGO":return"status-green";default:return"status-gray"}},x=I=>{o.value===I?o.value=`-${I}`:(o.value,`${I}`,o.value=I),P()},E=I=>{const w=new Date;let D,A;if(I==="currentMonth")D=yd(w),A=Wc(w);else{const B=_te(w);D=yd(B),A=Wc(B)}a.value.data_inicio=Et(D,"yyyy-MM-dd"),a.value.data_fim=Et(A,"yyyy-MM-dd"),P()},C=()=>{a.value.search="",a.value.tipo="",a.value.status="",o.value="-data_vencimento",k(),E("currentMonth")},_=()=>{d.value=!0,a.value.imovel&&u.value===""&&(a.value.imovel="",P())},T=I=>{a.value.imovel=I.id.toString(),u.value=`${I.codigo_referencia?"#"+I.codigo_referencia+" - ":""}${I.titulo_anuncio||I.logradouro}`,d.value=!1,P()},k=()=>{a.value.imovel="",u.value="",P()},$=I=>{f.value&&!f.value.contains(I.target)&&(d.value=!1,a.value.imovel&&u.value===""&&k())},M=async()=>{try{const I=await ce.get("/v1/imoveis/");c.value=I.data.results||I.data}catch(I){console.error("Erro ao carregar imveis",I)}},P=async()=>{s.value=!0,i.value=null;try{const I={...a.value,ordenacao:o.value},w=await ce.get("/v1/financeiro/transacoes/",{params:I}),D=w.data.results||w.data;e.value=D,n.value=w.data.count||D.length}catch(I){console.error(I),i.value="Erro ao carregar transaes."}finally{s.value=!1}},V=async I=>{if(confirm("Tem certeza que deseja excluir esta transao?"))try{await ce.delete(`/v1/financeiro/transacoes/${I}/`),r.success("Transao excluda."),P()}catch{r.error("Erro ao excluir transao.")}};return it(()=>{M(),P(),document.addEventListener("click",$)}),Po(()=>{document.removeEventListener("click",$)}),(I,w)=>{const D=on("router-link");return O(),R("div",Q4e,[l("header",Z4e,[l("div",e5e,[w[17]||(w[17]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Financeiro"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Transaes")]),l("h1",null,"Extrato de Transaes")],-1)),l("div",t5e,[l("div",n5e,[l("button",{onClick:w[0]||(w[0]=A=>E("currentMonth")),class:"btn-text",title:"Este Ms"},"Ms Atual"),w[15]||(w[15]=l("span",{class:"divider"},"|",-1)),l("button",{onClick:w[1]||(w[1]=A=>E("lastMonth")),class:"btn-text",title:"Ms Passado"},"Ms Anterior")]),l("button",{class:"btn-icon-thin",onClick:P,title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":s.value}])},null,2)]),be(D,{to:{name:"transacao-nova"},class:"btn-primary-thin"},{default:Pe(()=>[...w[16]||(w[16]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Transao ",-1)])]),_:1})])])]),s.value?J("",!0):(O(),R("div",s5e,[l("div",i5e,[w[18]||(w[18]=l("i",{class:"fas fa-filter"},null,-1)),w[19]||(w[19]=z(" Exibindo dados de ",-1)),l("b",null,F(g(a.value.data_inicio)),1),w[20]||(w[20]=z(" at ",-1)),l("b",null,F(g(a.value.data_fim)),1),a.value.tipo?(O(),R("span",r5e,F(a.value.tipo==="RECEITA"?"Apenas Receitas":"Apenas Despesas"),1)):J("",!0),a.value.status?(O(),R("span",o5e,F(y(a.value.status)),1)):J("",!0),a.value.search?(O(),R("span",a5e,'Busca: "'+F(a.value.search)+'"',1)):J("",!0)])])),l("div",l5e,[l("div",c5e,[w[22]||(w[22]=l("label",null,"Buscar (Geral)",-1)),l("div",u5e,[w[21]||(w[21]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":w[2]||(w[2]=A=>a.value.search=A),placeholder:"Descrio, Cliente, Valor...",class:"form-control",onKeyup:Op(P,["enter"])},null,544),[[de,a.value.search]])])]),l("div",{class:"filter-area imovel-area",ref_key:"imovelDropdownRef",ref:f},[w[25]||(w[25]=l("label",null,"Imvel",-1)),l("div",d5e,[l("div",f5e,[w[23]||(w[23]=l("i",{class:"fas fa-home"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":w[3]||(w[3]=A=>u.value=A),placeholder:"Pesquisar imvel...",class:"form-control",onFocus:w[4]||(w[4]=A=>d.value=!0),onInput:_},null,544),[[de,u.value]]),a.value.imovel||u.value?(O(),R("i",{key:0,class:"fas fa-times clear-input-icon",onClick:k,title:"Limpar seleo"})):J("",!0)]),d.value&&h.value.length>0?(O(),R("ul",h5e,[(O(!0),R(Me,null,je(h.value,A=>(O(),R("li",{key:A.id,onClick:B=>T(A)},[l("span",m5e,"#"+F(A.codigo_referencia),1),l("span",g5e,F(A.titulo_anuncio||A.logradouro),1)],8,p5e))),128))])):d.value&&u.value?(O(),R("ul",v5e,[...w[24]||(w[24]=[l("li",{class:"no-results"},"Nenhum imvel encontrado.",-1)])])):J("",!0)])],512),l("div",b5e,[w[27]||(w[27]=l("label",null,"Vencimento",-1)),l("div",y5e,[Y(l("input",{type:"date","onUpdate:modelValue":w[5]||(w[5]=A=>a.value.data_inicio=A),onChange:P,class:"form-control date-input"},null,544),[[de,a.value.data_inicio]]),w[26]||(w[26]=l("span",{class:"date-sep"},"a",-1)),Y(l("input",{type:"date","onUpdate:modelValue":w[6]||(w[6]=A=>a.value.data_fim=A),onChange:P,class:"form-control date-input"},null,544),[[de,a.value.data_fim]])])]),l("div",x5e,[w[29]||(w[29]=l("label",null,"Tipo",-1)),Y(l("select",{"onUpdate:modelValue":w[7]||(w[7]=A=>a.value.tipo=A),onChange:P,class:"form-control"},[...w[28]||(w[28]=[l("option",{value:""},"Todos",-1),l("option",{value:"RECEITA"},"Receitas",-1),l("option",{value:"DESPESA"},"Despesas",-1)])],544),[[xt,a.value.tipo]])]),l("div",_5e,[w[31]||(w[31]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":w[8]||(w[8]=A=>a.value.status=A),onChange:P,class:"form-control"},[...w[30]||(w[30]=[l("option",{value:""},"Todos",-1),l("option",{value:"PAGO"},"Pago",-1),l("option",{value:"PENDENTE"},"Pendente",-1),l("option",{value:"ATRASADO"},"Atrasado",-1)])],544),[[xt,a.value.status]])]),l("div",{class:"filter-area clear-area"},[w[33]||(w[33]=l("label",null,"",-1)),l("button",{onClick:C,class:"btn-clear",title:"Limpar Filtros"},[...w[32]||(w[32]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",S5e,[s.value?(O(),R("div",E5e,[...w[34]||(w[34]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando transaes...",-1)])])):i.value?(O(),R("div",w5e,[w[35]||(w[35]=l("i",{class:"fas fa-exclamation-triangle empty-icon text-red"},null,-1)),l("p",null,F(i.value),1)])):e.value.length===0?(O(),R("div",C5e,[...w[36]||(w[36]=[l("i",{class:"fas fa-folder-open empty-icon"},null,-1),l("p",null,"Nenhuma transao encontrada com os filtros atuais.",-1)])])):(O(),R("div",A5e,[l("table",k5e,[l("thead",null,[l("tr",null,[l("th",{width:"10%",onClick:w[9]||(w[9]=A=>x("data_vencimento")),class:"sortable-header"},[w[37]||(w[37]=z(" Data ",-1)),o.value==="data_vencimento"?(O(),R("i",T5e)):o.value==="-data_vencimento"?(O(),R("i",D5e)):(O(),R("i",O5e))]),l("th",{width:"8%",class:"text-center sortable-header",onClick:w[10]||(w[10]=A=>x("tipo"))},[w[38]||(w[38]=z(" Tipo ",-1)),o.value==="tipo"?(O(),R("i",R5e)):o.value==="-tipo"?(O(),R("i",M5e)):(O(),R("i",I5e))]),l("th",{width:"25%",onClick:w[11]||(w[11]=A=>x("descricao")),class:"sortable-header"},[w[39]||(w[39]=z(" Descrio / Imvel ",-1)),o.value==="descricao"?(O(),R("i",N5e)):o.value==="-descricao"?(O(),R("i",P5e)):(O(),R("i",$5e))]),l("th",{width:"20%",onClick:w[12]||(w[12]=A=>x("categoria__nome")),class:"sortable-header"},[w[40]||(w[40]=z(" Conta / Categoria ",-1)),o.value==="categoria__nome"?(O(),R("i",L5e)):o.value==="-categoria__nome"?(O(),R("i",F5e)):(O(),R("i",V5e))]),l("th",{width:"15%",class:"text-right sortable-header",onClick:w[13]||(w[13]=A=>x("valor"))},[w[41]||(w[41]=z(" Valor ",-1)),o.value==="valor"?(O(),R("i",B5e)):o.value==="-valor"?(O(),R("i",U5e)):(O(),R("i",H5e))]),l("th",{width:"10%",class:"text-center sortable-header",onClick:w[14]||(w[14]=A=>x("status"))},[w[42]||(w[42]=z(" Status ",-1)),o.value==="status"?(O(),R("i",z5e)):o.value==="-status"?(O(),R("i",j5e)):(O(),R("i",W5e))]),w[43]||(w[43]=l("th",{width:"12%",class:"text-right"},"Aes",-1))])]),l("tbody",null,[(O(!0),R(Me,null,je(e.value,A=>(O(),R("tr",{key:A.id},[l("td",null,[l("div",G5e,[l("span",q5e,F(g(A.data_pagamento||A.data_vencimento).split("/")[0]),1),l("span",K5e,F(g(A.data_pagamento||A.data_vencimento).substring(3)),1)])]),l("td",Y5e,[l("span",{class:te(["type-badge",A.tipo==="RECEITA"?"type-in":"type-out"])},[l("i",{class:te(A.tipo==="RECEITA"?"fas fa-arrow-up":"fas fa-arrow-down")},null,2)],2)]),l("td",null,[l("div",X5e,[l("span",{class:"desc-main",title:A.descricao},F(A.descricao),9,J5e),A.imovel_titulo?(O(),R("span",Q5e,[w[44]||(w[44]=l("i",{class:"fas fa-home"},null,-1)),z(" "+F(A.imovel_titulo),1)])):A.cliente_nome?(O(),R("span",Z5e,[w[45]||(w[45]=l("i",{class:"fas fa-user"},null,-1)),z(" "+F(A.cliente_nome),1)])):J("",!0)])]),l("td",null,[l("div",eFe,[l("span",tFe,F(A.conta_nome||"-"),1),l("span",nFe,[w[46]||(w[46]=l("i",{class:"fas fa-tag"},null,-1)),z(" "+F(A.categoria_nome||"Sem categoria"),1)])])]),l("td",{class:te(["text-right font-bold",A.tipo==="RECEITA"?"text-success":"text-danger"])},F(A.tipo==="DESPESA"?"- ":"")+F(m(A.valor)),3),l("td",sFe,[l("span",{class:te(["status-pill",b(A.status)])},F(y(A.status)),3)]),l("td",iFe,[l("div",rFe,[be(D,{to:{name:"transacao-editar",params:{id:A.id}},class:"btn-action primary",title:"Editar"},{default:Pe(()=>[...w[47]||(w[47]=[l("i",{class:"fas fa-pen"},null,-1)])]),_:1},8,["to"]),l("button",{onClick:B=>V(A.id),class:"btn-action danger",title:"Excluir"},[...w[48]||(w[48]=[l("i",{class:"fas fa-trash"},null,-1)])],8,oFe)])])]))),128))])])])),n.value>e.value.length?(O(),R("div",aFe,[l("span",lFe,"Exibindo "+F(e.value.length)+" de "+F(n.value)+" registros. Utilize os filtros para ver mais.",1)])):J("",!0)])])}}}),uFe=tt(cFe,[["__scopeId","data-v-47dd1462"]]),dFe={class:"lock-screen"},fFe={class:"lock-content"},hFe={class:"icon-container"},pFe={class:"message"},mFe={class:"sub-message"},gFe={class:"actions"},vFe={key:0,href:"https://wa.me/5500000000000?text=Ola,%20gostaria%20de%20assinar%20um%20plano",target:"_blank",class:"btn-primary"},bFe={key:1,href:"https://wa.me/5500000000000?text=Ola,%20preciso%20de%20ajuda%20com%20minha%20fatura",target:"_blank",class:"btn-whatsapp"},yFe=We({__name:"LockScreenView",setup(t){const e=an(),n=ms(),s=$o(),i=we(()=>n.query.reason==="trial"),r=we(()=>i.value?"Perodo de Teste Finalizado":"Acesso Suspenso"),o=we(()=>i.value?"Esperamos que tenha gostado dos seus 7 dias gratuitos!":"Identificamos uma pendncia financeira na sua assinatura."),a=we(()=>i.value?"Para continuar gerenciando seus imveis e no perder seus dados cadastrados, escolha um plano e assine agora.":"Para restabelecer o acesso imediato ao sistema, por favor regularize o pagamento ou entre em contato com nosso suporte."),c=()=>{s.logout(),e.push("/login")};return(u,d)=>(O(),R("div",dFe,[l("div",fFe,[l("div",hFe,[l("i",{class:te(i.value?"fas fa-stopwatch":"fas fa-lock")},null,2)]),l("h1",null,F(r.value),1),l("p",pFe,F(o.value),1),l("p",mFe,F(a.value),1),l("div",gFe,[i.value?(O(),R("a",vFe,[...d[0]||(d[0]=[l("i",{class:"fas fa-star"},null,-1),z(" Assinar Agora ",-1)])])):(O(),R("a",bFe,[...d[1]||(d[1]=[l("i",{class:"fab fa-whatsapp"},null,-1),z(" Regularizar Pagamento ",-1)])])),l("button",{onClick:c,class:"btn-logout"},[...d[2]||(d[2]=[l("i",{class:"fas fa-sign-out-alt"},null,-1),z(" Sair da Conta ",-1)])])])])]))}}),xFe=tt(yFe,[["__scopeId","data-v-b7e31f26"]]),_Fe={class:"login-container"},SFe={class:"login-card"},EFe={class:"form-group"},wFe={class:"input-wrapper"},CFe=["disabled"],AFe={class:"form-group"},kFe={class:"input-wrapper"},TFe=["type","disabled"],DFe={key:0,class:"error-banner"},OFe=["disabled"],RFe={key:0,class:"loader"},MFe={key:1},IFe={class:"register-link"},NFe=We({__name:"LoginView",setup(t){const e=an(),n=ms(),s=$o(),i=H(""),r=H(""),o=H(!1),a=H(!1),c=H(""),u=async()=>{a.value=!0,c.value="";try{await s.login({username:i.value,password:r.value});const d=n.query.next||"/dashboard";e.push(d)}catch(d){console.error("Erro no login:",d),d.response?d.response.status===401?c.value="Usurio ou senha incorretos.":d.response.status===403?c.value=d.response.data.detail||"Acesso negado.":c.value="Erro ao conectar ao servidor.":c.value="Verifique sua conexo com a internet."}finally{a.value=!1}};return(d,f)=>{const h=on("router-link");return O(),R("div",_Fe,[l("div",SFe,[f[11]||(f[11]=l("div",{class:"brand-section"},[l("div",{class:"logo-circle"},[l("i",{class:"fas fa-laptop-house"})]),l("h1",null,"ImobHome"),l("p",null,"Gesto Imobiliria Inteligente")],-1)),l("form",{onSubmit:wt(u,["prevent"]),class:"login-form"},[l("div",EFe,[f[4]||(f[4]=l("label",{for:"username"},"Usurio ou E-mail",-1)),l("div",wFe,[f[3]||(f[3]=l("i",{class:"fas fa-user input-icon"},null,-1)),Y(l("input",{id:"username","onUpdate:modelValue":f[0]||(f[0]=m=>i.value=m),type:"text",placeholder:"Seu usurio de acesso",required:"",disabled:a.value},null,8,CFe),[[de,i.value]])])]),l("div",AFe,[f[6]||(f[6]=l("label",{for:"password"},"Senha",-1)),l("div",kFe,[f[5]||(f[5]=l("i",{class:"fas fa-lock input-icon"},null,-1)),Y(l("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=m=>r.value=m),type:o.value?"text":"password",placeholder:"Sua senha segura",required:"",disabled:a.value},null,8,TFe),[[ow,r.value]]),l("i",{class:te(["fas toggle-password",o.value?"fa-eye-slash":"fa-eye"]),onClick:f[2]||(f[2]=m=>o.value=!o.value)},null,2)])]),f[10]||(f[10]=hi('<div class="form-actions" data-v-492bea48><div class="remember-me" data-v-492bea48><input type="checkbox" id="remember" data-v-492bea48><label for="remember" data-v-492bea48>Lembrar-me</label></div><a href="#" class="forgot-password" data-v-492bea48>Esqueceu a senha?</a></div>',1)),c.value?(O(),R("div",DFe,[f[7]||(f[7]=l("i",{class:"fas fa-exclamation-circle"},null,-1)),l("span",null,F(c.value),1)])):J("",!0),l("button",{type:"submit",class:"btn-login",disabled:a.value},[a.value?(O(),R("span",RFe)):(O(),R("span",MFe,"Entrar no Sistema"))],8,OFe),l("div",IFe,[f[9]||(f[9]=z(" Ainda no tem conta? ",-1)),be(h,{to:"/cadastro"},{default:Pe(()=>[...f[8]||(f[8]=[z("Teste 7 dias grtis",-1)])]),_:1})])],32)])])}}}),PFe=tt(NFe,[["__scopeId","data-v-492bea48"]]),$Fe={class:"page-container"},LFe={class:"page-header"},FFe={class:"header-main"},VFe={class:"title-area"},BFe={class:"breadcrumb"},UFe={class:"active"},HFe={class:"actions-area"},zFe=["disabled"],jFe={key:0,class:"loading-state"},WFe={key:1,class:"form-wrapper"},GFe={class:"form-column main-col"},qFe={class:"card"},KFe={class:"card-body"},YFe={class:"form-group"},XFe={class:"form-grid-2 mt-4"},JFe={class:"form-group"},QFe={class:"select-option"},ZFe={key:0,class:"text-muted"},eVe={class:"form-group"},tVe={class:"select-option"},nVe={class:"text-muted"},sVe={class:"form-grid-2 mt-4"},iVe={class:"form-group"},rVe={class:"form-group"},oVe={class:"form-group mt-4"},aVe={class:"form-column side-col"},lVe={class:"card mb-4"},cVe={class:"card-body"},uVe={class:"form-group"},dVe={class:"status-steps"},fVe=["onClick"],hVe={class:"step-label"},pVe={class:"form-group mt-4"},mVe={key:0,class:"card highlight-border"},gVe={class:"card-body"},vVe={class:"form-group"},bVe={class:"card mt-4"},yVe={class:"card-body"},xVe={class:"form-group"},_Ve=We({__name:"OportunidadeFormView",setup(t){const e=ms(),n=an(),s=$o(),i=Ji.useToast(),r=H(!1),o=H(!1),a=H(!0),c=H([]),u=H([]),d=H([]),f=H([]),h=H({titulo:"",cliente:null,imovel:null,fase:null,valor_estimado:null,probabilidade:50,descricao:"",fonte:"",data_fechamento_prevista:"",responsavel:null}),m=we(()=>{const T=s.user;return T?.is_superuser||T?.is_admin}),g=()=>{const T=new Date;return T.setMonth(T.getMonth()+3),T.toISOString().split("T")[0]};it(async()=>{try{await Promise.all([y(),b(),x(),m.value?E():Promise.resolve()]),e.params.id?(r.value=!0,await C(Number(e.params.id))):(s.user&&(h.value.responsavel=s.user.id),d.value.length>0&&(h.value.fase=d.value[0].id),h.value.data_fechamento_prevista=g())}catch(T){console.error("Erro ao inicializar formulrio",T),i.error("Erro ao carregar dados iniciais.")}finally{a.value=!1}});const y=async()=>{const{data:T}=await ce.get("/v1/clientes/lista-simples/");c.value=T},b=async()=>{try{const{data:T}=await ce.get("/v1/imoveis/lista-simples/");u.value=T.map(k=>({...k,titulo_formatado:`${k.codigo_referencia||"S/REF"} - ${k.titulo_anuncio||"Sem Ttulo"}`}))}catch(T){console.error("Erro ao buscar imveis",T)}},x=async()=>{const{data:T}=await ce.get("/v1/fases-funil/");d.value=T.results||T},E=async()=>{const{data:T}=await ce.get("/v1/core/usuarios/?page_size=100&is_active=true");f.value=T.results||T},C=async T=>{try{const{data:k}=await ce.get(`/v1/oportunidades/${T}/`);h.value={titulo:k.titulo,cliente:k.cliente?.id||k.cliente,imovel:k.imovel?.id||k.imovel,fase:k.fase?.id||k.fase,valor_estimado:k.valor_estimado,probabilidade:k.probabilidade,descricao:k.descricao||"",fonte:k.fonte||"",data_fechamento_prevista:k.data_fechamento_prevista||"",responsavel:typeof k.responsavel=="object"&&k.responsavel?k.responsavel.id:k.responsavel}}catch{i.error("Erro ao carregar oportunidade."),n.push({name:"funil-vendas"})}},_=async()=>{if(!h.value.titulo||!h.value.cliente||!h.value.fase)return i.warning("Preencha os campos obrigatrios (Ttulo, Cliente, Etapa).");if(!h.value.data_fechamento_prevista)return i.warning("A Previso de Fechamento  obrigatria.");o.value=!0;try{const T={...h.value};r.value?(await ce.patch(`/v1/oportunidades/${e.params.id}/`,T),i.success("Oportunidade atualizada!")):(await ce.post("/v1/oportunidades/",T),i.success("Oportunidade criada!")),n.push({name:"funil-vendas"})}catch(T){console.error(T),i.error("Erro ao salvar oportunidade.")}finally{o.value=!1}};return(T,k)=>{const $=on("router-link");return O(),R("div",$Fe,[l("header",LFe,[l("div",FFe,[l("div",VFe,[l("nav",BFe,[k[11]||(k[11]=l("span",null,"Comercial",-1)),k[12]||(k[12]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),be($,{to:{name:"funil-vendas"}},{default:Pe(()=>[...k[10]||(k[10]=[z("Funil",-1)])]),_:1}),k[13]||(k[13]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),l("span",UFe,F(r.value?"Editar Oportunidade":"Nova Oportunidade"),1)]),l("h1",null,F(r.value?"Editar Negcio":"Criar Novo Negcio"),1)]),l("div",HFe,[l("button",{onClick:k[0]||(k[0]=M=>T.$router.back()),class:"btn-secondary-thin"},[...k[14]||(k[14]=[l("i",{class:"fas fa-arrow-left"},null,-1),z(" Voltar ",-1)])]),l("button",{onClick:_,class:"btn-primary-thin",disabled:o.value},[l("i",{class:te(["fas fa-save",{"fa-spin":o.value}])},null,2),z(" "+F(o.value?"Salvando...":"Salvar Negcio"),1)],8,zFe)])])]),a.value?(O(),R("div",jFe,[...k[15]||(k[15]=[l("div",{class:"spinner"},null,-1)])])):(O(),R("main",WFe,[l("form",{onSubmit:wt(_,["prevent"])},[l("div",GFe,[l("section",qFe,[k[23]||(k[23]=l("div",{class:"card-header"},[l("h3",null,[l("i",{class:"fas fa-info-circle"}),z(" Informaes do Negcio")])],-1)),l("div",KFe,[l("div",YFe,[k[16]||(k[16]=l("label",null,[z("Ttulo da Oportunidade "),l("span",{class:"req"},"*")],-1)),Y(l("input",{type:"text","onUpdate:modelValue":k[1]||(k[1]=M=>h.value.titulo=M),required:"",class:"form-control",placeholder:"Ex: Venda Apartamento Centro"},null,512),[[de,h.value.titulo]])]),l("div",XFe,[l("div",JFe,[k[18]||(k[18]=l("label",null,[z("Cliente / Lead "),l("span",{class:"req"},"*")],-1)),be(Ve(Co),{modelValue:h.value.cliente,"onUpdate:modelValue":k[2]||(k[2]=M=>h.value.cliente=M),options:c.value,reduce:M=>M.id,label:"nome_display",placeholder:"Buscar cliente...",class:"style-chooser"},{"no-options":Pe(()=>[...k[17]||(k[17]=[z("Digite para buscar...",-1)])]),option:Pe(M=>[l("div",QFe,[l("span",null,F(M.nome),1),M.razao_social?(O(),R("small",ZFe,F(M.razao_social),1)):J("",!0)])]),_:1},8,["modelValue","options","reduce"])]),l("div",eVe,[k[19]||(k[19]=l("label",null,"Imvel de Interesse",-1)),be(Ve(Co),{modelValue:h.value.imovel,"onUpdate:modelValue":k[3]||(k[3]=M=>h.value.imovel=M),options:u.value,reduce:M=>M.id,label:"titulo_formatado",placeholder:"Buscar imvel...",class:"style-chooser"},{option:Pe(M=>[l("div",tVe,[l("span",null,F(M.codigo_referencia)+" - "+F(M.titulo_anuncio),1),l("small",nVe,F(M.bairro||"Bairro no inf.")+" - "+F(M.cidade),1)])]),_:1},8,["modelValue","options","reduce"])])]),l("div",sVe,[l("div",iVe,[k[20]||(k[20]=l("label",null,"Valor Estimado (R$)",-1)),Y(l("input",{type:"number",step:"0.01","onUpdate:modelValue":k[4]||(k[4]=M=>h.value.valor_estimado=M),class:"form-control",placeholder:"0,00"},null,512),[[de,h.value.valor_estimado]])]),l("div",rVe,[k[21]||(k[21]=l("label",null,"Probabilidade de Fechamento (%)",-1)),Y(l("input",{type:"number",min:"0",max:"100","onUpdate:modelValue":k[5]||(k[5]=M=>h.value.probabilidade=M),class:"form-control",placeholder:"Ex: 50"},null,512),[[de,h.value.probabilidade]])])]),l("div",oVe,[k[22]||(k[22]=l("label",null,"Descrio / Observaes",-1)),Y(l("textarea",{"onUpdate:modelValue":k[6]||(k[6]=M=>h.value.descricao=M),rows:"4",class:"form-control",placeholder:"Detalhes sobre a negociao..."},null,512),[[de,h.value.descricao]])])])])]),l("div",aVe,[l("section",lVe,[k[28]||(k[28]=l("div",{class:"card-header"},[l("h3",null,[l("i",{class:"fas fa-tasks"}),z(" Andamento")])],-1)),l("div",cVe,[l("div",uVe,[k[25]||(k[25]=l("label",null,[z("Etapa do Funil "),l("span",{class:"req"},"*")],-1)),l("div",dVe,[(O(!0),R(Me,null,je(d.value,M=>(O(),R("div",{key:M.id,class:te(["step-item",{active:h.value.fase===M.id}]),onClick:P=>h.value.fase=M.id},[k[24]||(k[24]=l("div",{class:"step-circle"},null,-1)),l("span",hVe,F(M.titulo),1)],10,fVe))),128))])]),l("div",pVe,[k[26]||(k[26]=l("label",null,[z("Previso de Fechamento "),l("span",{class:"req"},"*")],-1)),Y(l("input",{type:"date","onUpdate:modelValue":k[7]||(k[7]=M=>h.value.data_fechamento_prevista=M),required:"",class:"form-control"},null,512),[[de,h.value.data_fechamento_prevista]]),k[27]||(k[27]=l("small",{class:"help-text"},"Data estimada para concluso do negcio.",-1))])])]),m.value?(O(),R("section",mVe,[k[31]||(k[31]=l("div",{class:"card-header bg-orange-light"},[l("h3",{class:"text-orange"},[l("i",{class:"fas fa-user-tie"}),z(" Responsvel")])],-1)),l("div",gVe,[l("div",vVe,[k[29]||(k[29]=l("label",{class:"text-orange-dark font-bold"},"Corretor Responsvel",-1)),be(Ve(Co),{modelValue:h.value.responsavel,"onUpdate:modelValue":k[8]||(k[8]=M=>h.value.responsavel=M),options:f.value,reduce:M=>M.id,"get-option-label":M=>`${M.first_name} ${M.last_name||""} (${M.username})`,placeholder:"Selecione o corretor...",class:"style-chooser"},null,8,["modelValue","options","reduce","get-option-label"]),k[30]||(k[30]=l("small",{class:"help-text mt-2"},[l("i",{class:"fas fa-info-circle"}),z(" Ao alterar, o novo corretor ser notificado e a oportunidade aparecer no funil dele. ")],-1))])])])):J("",!0),l("section",bVe,[k[34]||(k[34]=l("div",{class:"card-header"},[l("h3",null,[l("i",{class:"fas fa-bullhorn"}),z(" Origem")])],-1)),l("div",yVe,[l("div",xVe,[k[33]||(k[33]=l("label",null,"Fonte do Lead",-1)),Y(l("select",{"onUpdate:modelValue":k[9]||(k[9]=M=>h.value.fonte=M),class:"form-control"},[...k[32]||(k[32]=[hi('<option value="" data-v-44963fba>Selecione...</option><option value="SITE" data-v-44963fba>Site da Imobiliria</option><option value="PORTAL" data-v-44963fba>Portal Imobilirio</option><option value="INDICACAO" data-v-44963fba>Indicao</option><option value="REDES_SOCIAIS" data-v-44963fba>Redes Sociais</option><option value="TELEFONE" data-v-44963fba>Telefone Ativo</option><option value="OUTRO" data-v-44963fba>Outro</option>',7)])],512),[[xt,h.value.fonte]])])])])])],32)]))])}}}),_N=tt(_Ve,[["__scopeId","data-v-44963fba"]]),SVe=["src"],EVe={class:"image-counter"},wVe={class:"card-badges"},CVe={class:"badge-id"},AVe={class:"card-content"},kVe={class:"card-header"},TVe=["title"],DVe={class:"card-location"},OVe={class:"card-specs"},RVe={key:0,class:"spec-item",title:"Quartos"},MVe={key:1,class:"spec-item",title:"Sutes"},IVe={key:2,class:"spec-item",title:"Vagas"},NVe={key:3,class:"spec-item",title:"rea til"},PVe={class:"card-footer"},$Ve={class:"price-info"},LVe=We({__name:"ImovelPublicCard",props:{imovel:{type:Object,required:!0}},setup(t){const e=t,n=an(),s=H(!1),i=H(0),r=H(!1),o=we(()=>{const y=e.imovel.imagens||[];return y.length===0?[]:[...y].sort((b,x)=>(x.principal===!0?1:0)-(b.principal===!0?1:0))}),a=we(()=>s.value||o.value.length===0?"https://via.placeholder.com/400x300.png?text=Sem+Foto":o.value[i.value].imagem);function c(){o.value.length>1&&(i.value=(i.value+1)%o.value.length)}function u(){o.value.length>1&&(i.value=(i.value-1+o.value.length)%o.value.length)}function d(){s.value=!0}function f(){e.imovel&&e.imovel.id&&n.push({name:"public-imovel-detail",params:{id:e.imovel.id}})}const h=we(()=>{const y=e.imovel.valor_venda||e.imovel.valor_aluguel;return y?parseFloat(y).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):"R$ Sob Consulta"});function m(y){return{A_VENDA:"Venda",PARA_ALUGAR:"Aluguel",VENDIDO:"Vendido",ALUGADO:"Alugado"}[y]||y}function g(y){return y==="A_VENDA"?"badge-blue":y==="PARA_ALUGAR"?"badge-green":y==="VENDIDO"||y==="ALUGADO"?"badge-red":"badge-gray"}return(y,b)=>(O(),R("div",{class:"imovel-card",onClick:f},[l("div",{class:"card-image-wrapper",onMouseenter:b[0]||(b[0]=x=>r.value=!0),onMouseleave:b[1]||(b[1]=x=>r.value=!1)},[l("img",{src:a.value,onError:d,alt:"Imagem do Imvel",class:"card-image"},null,40,SVe),b[4]||(b[4]=l("div",{class:"card-overlay"},null,-1)),o.value.length>1?(O(),R("div",{key:0,class:te(["carousel-controls",{visible:r.value}])},[l("button",{class:"nav-btn prev",onClick:wt(u,["stop"])},[...b[2]||(b[2]=[l("i",{class:"fas fa-chevron-left"},null,-1)])]),l("button",{class:"nav-btn next",onClick:wt(c,["stop"])},[...b[3]||(b[3]=[l("i",{class:"fas fa-chevron-right"},null,-1)])]),l("div",EVe,F(i.value+1)+" / "+F(o.value.length),1)],2)):J("",!0),l("div",wVe,[l("span",{class:te(["badge-status",g(t.imovel.status)])},F(m(t.imovel.status)),3),l("span",CVe,"Ref: "+F(t.imovel.codigo_referencia),1)])],32),l("div",AVe,[l("div",kVe,[l("h3",{class:"card-title",title:t.imovel.titulo_anuncio},F(t.imovel.titulo_anuncio||"Imvel sem ttulo"),9,TVe),l("p",DVe,[b[5]||(b[5]=l("i",{class:"fas fa-map-marker-alt"},null,-1)),z(" "+F(t.imovel.bairro||"Bairro no informado")+", "+F(t.imovel.cidade||"Cidade"),1)])]),l("div",OVe,[t.imovel.quartos?(O(),R("div",RVe,[b[6]||(b[6]=l("i",{class:"fas fa-bed"},null,-1)),z(" "+F(t.imovel.quartos),1)])):J("",!0),t.imovel.suites?(O(),R("div",MVe,[b[7]||(b[7]=l("i",{class:"fas fa-bath"},null,-1)),z(" "+F(t.imovel.suites),1)])):J("",!0),t.imovel.vagas_garagem?(O(),R("div",IVe,[b[8]||(b[8]=l("i",{class:"fas fa-car"},null,-1)),z(" "+F(t.imovel.vagas_garagem),1)])):J("",!0),t.imovel.area_util?(O(),R("div",NVe,[b[9]||(b[9]=l("i",{class:"fas fa-ruler-combined"},null,-1)),z(" "+F(t.imovel.area_util)+"m ",1)])):J("",!0)]),l("div",PVe,[l("div",$Ve,[l("small",null,F(t.imovel.status==="A_VENDA"?"Valor de Venda":"Valor de Aluguel"),1),l("strong",null,F(h.value),1)]),b[10]||(b[10]=l("div",{class:"action-arrow"},[l("i",{class:"fas fa-chevron-right"})],-1))])])]))}}),A6=tt(LVe,[["__scopeId","data-v-522e4258"]]),FVe={class:"modal-container"},VVe={class:"modal-body"},BVe={class:"editor-column"},UVe={class:"form-section"},HVe={class:"section-header"},zVe={class:"badge-count"},jVe={key:0,class:"image-grid"},WVe=["onClick"],GVe=["src"],qVe={class:"selection-overlay"},KVe={class:"checkbox-circle"},YVe={key:0},XVe={key:1,class:"empty-state"},JVe={class:"form-section"},QVe={class:"section-header"},ZVe=["disabled"],eBe={key:0,class:"fas fa-circle-notch fa-spin"},tBe={key:1,class:"fas fa-hourglass-half"},nBe={key:2,class:"fas fa-magic"},sBe={key:3},iBe={key:4},rBe={key:5},oBe={class:"textarea-wrapper"},aBe={class:"char-count"},lBe={class:"form-section schedule-section"},cBe={class:"switch-container"},uBe={class:"switch"},dBe={key:0,class:"date-picker-container"},fBe={class:"input-icon-wrapper"},hBe={class:"preview-column"},pBe={class:"phone-mockup"},mBe={class:"instagram-feed"},gBe={class:"insta-image-container"},vBe=["src"],bBe={key:1,class:"image-placeholder"},yBe={key:2,class:"photo-tag"},xBe={class:"insta-caption-area"},_Be={class:"caption-text"},SBe={key:0,class:"caption-content"},EBe={key:1,class:"caption-placeholder"},wBe={class:"modal-footer"},CBe=["disabled"],ABe={key:0,class:"fas fa-circle-notch fa-spin"},kBe={key:1},TBe={key:0,class:"fas fa-rocket"},DBe={key:1,class:"fas fa-calendar-check"},OBe=We({__name:"AgendarPostModal",props:{isOpen:Boolean,imovel:Object},emits:["close","success"],setup(t,{emit:e}){const n=t,s=e,i=H(""),r=H(""),o=H(!1),a=H([]),c=H([]),u=H(!1),d=H(!1),f=H(0);Rn(()=>n.imovel,async C=>{if(C&&C.id)if(C.imagens&&C.imagens.length>0)a.value=C.imagens,h();else try{const _=await ce.get(`/v1/imoveis/${C.id}/`);a.value=_.data.imagens||[],h()}catch{a.value=[]}},{immediate:!0});function h(){c.value=[],i.value="",o.value=!1,a.value.length>0&&c.value.push(a.value[0].id)}const m=we(()=>{if(c.value.length===0)return null;const C=c.value[0],_=a.value.find(T=>T.id===C);return _?_.imagem:null});function g(C){const _=c.value.indexOf(C);_===-1?c.value.push(C):c.value.splice(_,1)}function y(){f.value=15;const C=setInterval(()=>{f.value--,f.value<=0&&clearInterval(C)},1e3)}async function b(){if(n.imovel&&!(f.value>0)){u.value=!0;try{const C=await ce.post("/v1/publicacoes/gerar-texto/",{imovel_id:n.imovel.id});i.value=C.data.texto_sugerido}catch(C){C.response&&C.response.status===429?(alert("Muitas tentativas! O sistema entrou em pausa automtica."),f.value=30):alert("Erro na IA: "+(C.response?.data?.error||"Verifique o servidor."))}finally{u.value=!1,y()}}}async function x(){if(c.value.length===0)return alert("Selecione pelo menos uma imagem.");if(!o.value&&!r.value)return alert("Selecione uma data para agendar.");d.value=!0;let C=null;if(!o.value)try{const[_,T]=r.value.split("T");C=`${_}T${T}:00`}catch{return d.value=!1,alert("Erro interno na formatao da data.")}try{await ce.post("/v1/publicacoes/agendar/",{imovel_id:n.imovel?.id,texto:i.value,imagens_ids:c.value,publicar_agora:o.value,data_agendamento:o.value?null:C}),alert(o.value?"Publicao iniciada!":"Agendado com sucesso!"),s("success"),E()}catch(_){alert("Erro: "+(_.response?.data?.error||_.message))}finally{d.value=!1}}function E(){s("close")}return(C,_)=>(O(),is($l,{name:"modal-fade"},{default:Pe(()=>[t.isOpen?(O(),R("div",{key:0,class:"modal-backdrop",onClick:wt(E,["self"])},[l("div",FVe,[l("header",{class:"modal-header"},[_[4]||(_[4]=l("div",{class:"header-title"},[l("i",{class:"fab fa-instagram text-gradient"}),l("h2",null,"Nova Publicao")],-1)),l("button",{onClick:E,class:"btn-close",title:"Fechar"},[..._[3]||(_[3]=[l("i",{class:"fas fa-times"},null,-1)])])]),l("div",VVe,[l("div",BVe,[l("div",UVe,[l("div",HVe,[_[5]||(_[5]=l("label",null,"Selecionar Mdia (Carrossel)",-1)),l("span",zVe,F(c.value.length)+" selecionadas",1)]),a.value.length>0?(O(),R("div",jVe,[(O(!0),R(Me,null,je(a.value,T=>(O(),R("div",{key:T.id,class:te(["image-item",{"is-selected":c.value.includes(T.id)}]),onClick:k=>g(T.id)},[l("img",{src:T.imagem,alt:"Foto do imvel"},null,8,GVe),l("div",qVe,[l("div",KVe,[c.value.includes(T.id)?(O(),R("span",YVe,F(c.value.indexOf(T.id)+1),1)):J("",!0)])])],10,WVe))),128))])):(O(),R("div",XVe,[..._[6]||(_[6]=[l("i",{class:"fas fa-images"},null,-1),l("p",null,"Sem imagens disponveis.",-1)])]))]),l("div",JVe,[l("div",QVe,[_[7]||(_[7]=l("label",null,"Legenda",-1)),l("button",{onClick:b,disabled:u.value||f.value>0,class:te(["btn-ai",{"btn-disabled":f.value>0}])},[u.value?(O(),R("i",eBe)):f.value>0?(O(),R("i",tBe)):(O(),R("i",nBe)),u.value?(O(),R("span",sBe," Escrevendo...")):f.value>0?(O(),R("span",iBe," Aguarde "+F(f.value)+"s",1)):(O(),R("span",rBe," Gerar com IA"))],10,ZVe)]),l("div",oBe,[Y(l("textarea",{"onUpdate:modelValue":_[0]||(_[0]=T=>i.value=T),rows:"5",placeholder:"Escreva uma legenda..."},null,512),[[de,i.value]]),l("div",aBe,F(i.value.length)+" caracteres",1)])]),l("div",lBe,[l("div",cBe,[l("label",uBe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":_[1]||(_[1]=T=>o.value=T)},null,512),[[Zt,o.value]]),_[8]||(_[8]=l("span",{class:"slider round"},null,-1))]),_[9]||(_[9]=l("span",{class:"switch-label"},"Publicar Imediatamente",-1))]),o.value?J("",!0):(O(),R("div",dBe,[_[11]||(_[11]=l("label",null,"Data e Hora de Agendamento",-1)),l("div",fBe,[_[10]||(_[10]=l("i",{class:"far fa-calendar-alt"},null,-1)),Y(l("input",{type:"datetime-local","onUpdate:modelValue":_[2]||(_[2]=T=>r.value=T)},null,512),[[de,r.value]])]),_[12]||(_[12]=l("p",{class:"help-text"},"O post ser agendado para este horrio.",-1))]))])]),l("div",hBe,[l("div",pBe,[_[17]||(_[17]=l("div",{class:"phone-notch"},null,-1)),l("div",mBe,[_[15]||(_[15]=l("div",{class:"insta-header"},[l("div",{class:"user-info"},[l("div",{class:"avatar-circle"}),l("span",{class:"username"},"sua_imobiliaria")]),l("i",{class:"fas fa-ellipsis-h"})],-1)),l("div",gBe,[m.value?(O(),R("img",{key:0,src:m.value,class:"insta-main-image"},null,8,vBe)):(O(),R("div",bBe,[..._[13]||(_[13]=[l("i",{class:"fas fa-camera"},null,-1),l("span",null,"Selecione uma foto",-1)])])),c.value.length>1?(O(),R("div",yBe,"1/"+F(c.value.length),1)):J("",!0)]),_[16]||(_[16]=l("div",{class:"insta-actions"},[l("div",{class:"left-actions"},[l("i",{class:"far fa-heart"}),l("i",{class:"far fa-comment"}),l("i",{class:"far fa-paper-plane"})]),l("i",{class:"far fa-bookmark"})],-1)),l("div",xBe,[l("div",_Be,[_[14]||(_[14]=l("span",{class:"username"},"sua_imobiliaria",-1)),i.value?(O(),R("span",SBe,F(i.value),1)):(O(),R("span",EBe,"Sua legenda aparecer aqui..."))])])])]),_[18]||(_[18]=l("p",{class:"preview-label"},"Pr-visualizao",-1))])]),l("footer",wBe,[l("button",{onClick:E,class:"btn-cancel"},"Cancelar"),l("button",{onClick:x,disabled:d.value,class:te(["btn-confirm",{"btn-instant":o.value}])},[d.value?(O(),R("i",ABe)):(O(),R("span",kBe,[o.value?(O(),R("i",TBe)):(O(),R("i",DBe)),z(" "+F(o.value?"Publicar Agora":"Confirmar Agendamento"),1)]))],10,CBe)])])])):J("",!0)]),_:1}))}}),RBe=tt(OBe,[["__scopeId","data-v-81bb9ed6"]]),MBe={class:"page-container"},IBe={class:"page-header"},NBe={class:"header-main"},PBe={class:"actions-area"},$Be={class:"kpi-grid"},LBe={class:"kpi-content"},FBe={class:"kpi-value"},VBe={class:"kpi-content"},BBe={class:"kpi-value"},UBe={class:"kpi-content"},HBe={class:"kpi-value text-sm-kpi"},zBe={class:"kpi-content"},jBe={class:"kpi-value"},WBe={class:"toolbar-row"},GBe={class:"filter-group search-group"},qBe={class:"input-with-icon"},KBe={class:"filter-group"},YBe={class:"content-wrapper"},XBe={key:0,class:"imoveis-grid"},JBe={key:1,class:"empty-state"},QBe={key:2,class:"imoveis-grid"},ZBe=["onClick"],e6e={class:"card-body"},t6e={class:"card-footer-action"},n6e=["onClick"],s6e={key:3,class:"pagination-controls"},i6e=["disabled"],r6e={class:"page-info"},o6e=["disabled"],a6e=We({__name:"PublicacoesView",setup(t){const e=an(),n=H([]),s=H(!0),i=H(null),r=H(""),o=H(""),a=H(1),c=H(8),u=H(12),d=H(null),f=H(!1),h=H(null);function m(){e.push({name:"calendario-publicacoes"})}function g(w){e.push({name:"imovel-editar",params:{id:w}})}function y(w){h.value=w,f.value=!0}function b(){f.value=!1,h.value=null}function x(){console.log("Post agendado!")}function E(w){if(!w)return"-";try{return Et(new Date(w),"dd/MM HH:mm",{locale:ys})}catch{return"-"}}async function C(){s.value=!0,i.value=null;try{const w=await ce.get("/v1/imoveis/");n.value=w.data.map(D=>({...D,isPublished:!1}))}catch(w){console.error("Erro:",w),i.value="Erro ao carregar dados."}finally{s.value=!1}}const _=we(()=>n.value.filter(w=>w.status==="DESATIVADO"||w.status==="RASCUNHO").length),T=w=>{o.value=o.value===w?"":w},k=()=>{r.value="",o.value="",a.value=1},$=we(()=>{let w=n.value;if(r.value){const D=r.value.toLowerCase().trim();w=w.filter(A=>A.titulo_anuncio?.toLowerCase().includes(D)||A.codigo_referencia?.toLowerCase().includes(D))}return o.value&&(w=w.filter(D=>D.status===o.value)),w.sort((D,A)=>A.id-D.id),w}),M=we(()=>Math.ceil($.value.length/c.value)),P=we(()=>{const w=(a.value-1)*c.value;return $.value.slice(w,w+c.value)});function V(){a.value<M.value&&a.value++,window.scrollTo({top:0,behavior:"smooth"})}function I(){a.value>1&&a.value--,window.scrollTo({top:0,behavior:"smooth"})}return it(()=>{C()}),(w,D)=>(O(),R("div",MBe,[l("header",IBe,[l("div",NBe,[D[5]||(D[5]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Marketing"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Publicaes")]),l("h1",null,"Gerenciar Publicaes")],-1)),l("div",PBe,[l("button",{class:"btn-secondary-action",onClick:m,title:"Ver Calendrio de Agendamentos"},[...D[4]||(D[4]=[l("i",{class:"fas fa-calendar-alt"},null,-1),z(" Ver Calendrio ",-1)])]),l("button",{class:"btn-icon-thin",onClick:C,title:"Atualizar Lista"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":s.value}])},null,2)])])])]),l("div",$Be,[l("div",{class:te(["kpi-card blue",{active:o.value===""}]),onClick:D[0]||(D[0]=A=>T(""))},[l("div",LBe,[l("span",FBe,F(n.value.length),1),D[6]||(D[6]=l("span",{class:"kpi-label"},"Total Imveis",-1))]),D[7]||(D[7]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-home"})],-1))],2),l("div",{class:te(["kpi-card orange",{active:o.value==="DESATIVADO"}]),onClick:D[1]||(D[1]=A=>T("DESATIVADO"))},[l("div",VBe,[l("span",BBe,F(_.value),1),D[8]||(D[8]=l("span",{class:"kpi-label"},"No Publicados",-1))]),D[9]||(D[9]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-eye-slash"})],-1))],2),l("div",{class:"kpi-card green",onClick:m,title:"Ver no Calendrio"},[l("div",UBe,[l("span",HBe,F(d.value?E(d.value.data_agendada):"-"),1),D[10]||(D[10]=l("span",{class:"kpi-label"},"Prximo Agendamento",-1))]),D[11]||(D[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-calendar-check"})],-1))]),l("div",{class:"kpi-card purple",onClick:m,title:"Ver Histrico no Calendrio"},[l("div",zBe,[l("span",jBe,F(u.value),1),D[12]||(D[12]=l("span",{class:"kpi-label"},"Posts (30 dias)",-1))]),D[13]||(D[13]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-share-alt"})],-1))])]),l("div",WBe,[l("div",GBe,[D[15]||(D[15]=l("label",null,"Buscar",-1)),l("div",qBe,[D[14]||(D[14]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":D[2]||(D[2]=A=>r.value=A),placeholder:"Ttulo, cdigo ou endereo...",class:"form-control"},null,512),[[de,r.value]])])]),l("div",KBe,[D[17]||(D[17]=l("label",null,"Finalidade",-1)),Y(l("select",{"onUpdate:modelValue":D[3]||(D[3]=A=>o.value=A),class:"form-control"},[...D[16]||(D[16]=[hi('<option value="" data-v-1078fcad>Todos</option><option value="A_VENDA" data-v-1078fcad>Venda</option><option value="PARA_ALUGAR" data-v-1078fcad>Aluguel</option><option value="VENDIDO" data-v-1078fcad>Vendidos</option><option value="ALUGADO" data-v-1078fcad>Alugados</option>',5)])],512),[[xt,o.value]])]),l("div",{class:"filter-group small-btn"},[D[19]||(D[19]=l("label",null,"",-1)),l("button",{onClick:k,class:"btn-clear",title:"Limpar Filtros"},[...D[18]||(D[18]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",YBe,[s.value?(O(),R("div",XBe,[(O(),R(Me,null,je(6,A=>l("div",{key:A,class:"skeleton-card"},[...D[20]||(D[20]=[l("div",{class:"skeleton-img"},null,-1),l("div",{class:"skeleton-text"},null,-1)])])),64))])):$.value.length===0?(O(),R("div",JBe,[...D[21]||(D[21]=[l("i",{class:"fas fa-filter"},null,-1),l("p",null,"Nenhum imvel encontrado com estes filtros.",-1)])])):(O(),R("div",QBe,[(O(!0),R(Me,null,je(P.value,A=>(O(),R("div",{key:A.id,class:"standard-card clickable-card",onClick:B=>g(A.id)},[l("div",e6e,[be(A6,{imovel:A},null,8,["imovel"])]),l("div",t6e,[l("button",{onClick:wt(B=>y(A),["stop"]),class:"btn-action-full"},[...D[22]||(D[22]=[l("i",{class:"fas fa-magic"},null,-1),z(" Gerar Post IA ",-1)])],8,n6e)])],8,ZBe))),128))])),M.value>1&&!s.value?(O(),R("div",s6e,[l("button",{onClick:I,disabled:a.value===1,class:"btn-page"},[...D[23]||(D[23]=[l("i",{class:"fas fa-chevron-left"},null,-1)])],8,i6e),l("span",r6e,[D[24]||(D[24]=z("Pgina ",-1)),l("strong",null,F(a.value),1),z(" de "+F(M.value),1)]),l("button",{onClick:V,disabled:a.value===M.value,class:"btn-page"},[...D[25]||(D[25]=[l("i",{class:"fas fa-chevron-right"},null,-1)])],8,o6e)])):J("",!0)]),be(RBe,{isOpen:f.value,imovel:h.value,onClose:b,onSuccess:x},null,8,["isOpen","imovel"])]))}}),l6e=tt(a6e,[["__scopeId","data-v-1078fcad"]]),c6e={class:"login-wrapper"},u6e={class:"split-right"},d6e={class:"login-form-container"},f6e={key:0,class:"text-center-success"},h6e={class:"success-desc"},p6e={key:1},m6e={class:"form-header"},g6e={key:0,class:"alert-error"},v6e={class:"form-group"},b6e={class:"input-wrapper"},y6e={class:"form-group"},x6e={class:"input-wrapper"},_6e={class:"form-group"},S6e={class:"input-wrapper"},E6e={class:"form-group"},w6e={class:"input-wrapper"},C6e=["disabled"],A6e={key:0},k6e={key:1},T6e=We({__name:"RegisterView",setup(t){const e=H(!1),n=H(""),s=H(!1),i=H({nome:"",nome_imobiliaria:"",email:"",telefone:""}),r=async()=>{e.value=!0,n.value="";try{await ce.post("/v1/public/register/",i.value),s.value=!0}catch(o){console.error("Erro no cadastro:",o),o.response&&o.response.data&&o.response.data.error?n.value=o.response.data.error:n.value="Erro ao processar cadastro. Tente novamente."}finally{e.value=!1}};return(o,a)=>{const c=on("router-link");return O(),R("div",c6e,[a[25]||(a[25]=hi('<div class="split-left" data-v-dd47c1ed><div class="bg-image" data-v-dd47c1ed></div><div class="overlay" data-v-dd47c1ed></div><div class="brand-content" data-v-dd47c1ed><div class="logo-small" data-v-dd47c1ed><div class="logo-box" data-v-dd47c1ed><i class="fas fa-laptop-house" data-v-dd47c1ed></i></div><span data-v-dd47c1ed>ImobHome</span></div><div class="hero-text" data-v-dd47c1ed><h2 data-v-dd47c1ed>Comece seu teste grtis de 7 dias.</h2><p data-v-dd47c1ed>&quot;A melhor deciso que tomei para minha carreira foi automatizar meus processos com o ImobHome.&quot;</p></div><div class="left-footer" data-v-dd47c1ed><span data-v-dd47c1ed> 2026 ImobHome</span></div></div></div>',1)),l("div",u6e,[l("div",d6e,[s.value?(O(),R("div",f6e,[a[9]||(a[9]=l("div",{class:"success-icon"},[l("i",{class:"fas fa-check"})],-1)),a[10]||(a[10]=l("h2",{class:"success-title"},"Conta Criada!",-1)),l("p",h6e,[a[4]||(a[4]=z(" Enviamos sua senha de acesso para ",-1)),l("strong",null,F(i.value.email),1),a[5]||(a[5]=z(". ",-1)),a[6]||(a[6]=l("br",null,null,-1)),a[7]||(a[7]=z("Verifique sua caixa de entrada (e spam). ",-1))]),be(c,{to:"/login",class:"btn-submit btn-link"},{default:Pe(()=>[...a[8]||(a[8]=[z(" Ir para Login ",-1)])]),_:1})])):(O(),R("div",p6e,[l("div",m6e,[a[13]||(a[13]=l("h2",null,"Crie sua conta",-1)),l("p",null,[a[12]||(a[12]=z("J tem uma conta? ",-1)),be(c,{to:"/login"},{default:Pe(()=>[...a[11]||(a[11]=[z("Fazer Login",-1)])]),_:1})])]),n.value?(O(),R("div",g6e,[a[14]||(a[14]=l("i",{class:"fas fa-exclamation-circle"},null,-1)),z(" "+F(n.value),1)])):J("",!0),l("form",{onSubmit:wt(r,["prevent"]),class:"form-box"},[l("div",v6e,[a[16]||(a[16]=l("label",null,"Nome Completo",-1)),l("div",b6e,[a[15]||(a[15]=l("i",{class:"fas fa-user icon"},null,-1)),Y(l("input",{"onUpdate:modelValue":a[0]||(a[0]=u=>i.value.nome=u),type:"text",required:"",placeholder:"Ex: Joo Silva"},null,512),[[de,i.value.nome]])])]),l("div",y6e,[a[18]||(a[18]=l("label",null,"Nome da Imobiliria",-1)),l("div",x6e,[a[17]||(a[17]=l("i",{class:"fas fa-building icon"},null,-1)),Y(l("input",{"onUpdate:modelValue":a[1]||(a[1]=u=>i.value.nome_imobiliaria=u),type:"text",required:"",placeholder:"Ex: Silva Imveis"},null,512),[[de,i.value.nome_imobiliaria]])])]),l("div",_6e,[a[20]||(a[20]=l("label",null,"E-mail Corporativo",-1)),l("div",S6e,[a[19]||(a[19]=l("i",{class:"fas fa-envelope icon"},null,-1)),Y(l("input",{"onUpdate:modelValue":a[2]||(a[2]=u=>i.value.email=u),type:"email",required:"",placeholder:"joao@exemplo.com"},null,512),[[de,i.value.email]])])]),l("div",E6e,[a[22]||(a[22]=l("label",null,"Telefone / WhatsApp",-1)),l("div",w6e,[a[21]||(a[21]=l("i",{class:"fas fa-phone icon"},null,-1)),Y(l("input",{"onUpdate:modelValue":a[3]||(a[3]=u=>i.value.telefone=u),type:"text",required:"",placeholder:"(00) 90000-0000"},null,512),[[de,i.value.telefone]])])]),l("button",{type:"submit",class:"btn-submit",disabled:e.value},[e.value?(O(),R("span",A6e,[...a[23]||(a[23]=[l("i",{class:"fas fa-circle-notch fa-spin"},null,-1),z(" Gerando Acesso...",-1)])])):(O(),R("span",k6e,"Gerar Minha Senha Grtis"))],8,C6e),a[24]||(a[24]=l("p",{class:"terms-text"}," Ao clicar, voc concorda com nossos Termos de Uso. A senha ser enviada para o seu e-mail. ",-1))],32)]))])])])}}}),D6e=tt(T6e,[["__scopeId","data-v-dd47c1ed"]]),O6e={class:"relatorios-container"},R6e={key:0,class:"loading-message"},M6e={key:1,class:"error-message"},I6e={key:2,class:"relatorios-wrapper"},N6e={class:"relatorio-card"},P6e={class:"summary-grid"},$6e={class:"summary-item"},L6e={class:"summary-item"},F6e={class:"summary-item"},V6e={class:"relatorio-card"},B6e={class:"chart-container"},U6e={class:"relatorio-card"},H6e={class:"chart-container"},z6e={class:"relatorio-card"},j6e={class:"tabela-wrapper"},W6e={class:"tabela-desempenho"},G6e=We({__name:"RelatoriosView",setup(t){const e=H({sumario_mes_atual:{},oportunidades_por_mes:[],origem_oportunidades:[],corretores_desempenho:[]}),n=H(!0),s=H(null),i=H(null),r=H(null);let o=null,a=null;function c(){if(i.value){const d=i.value.getContext("2d");d&&(o&&o.destroy(),o=new tu(d,{type:"bar",data:{labels:e.value.oportunidades_por_mes.map(f=>f.mes),datasets:[{label:"Abertas",data:e.value.oportunidades_por_mes.map(f=>f.abertas),backgroundColor:"#4DA3FF"},{label:"Ganhos",data:e.value.oportunidades_por_mes.map(f=>f.ganhas),backgroundColor:"#28a745"},{label:"Perdidas",data:e.value.oportunidades_por_mes.map(f=>f.perdidas),backgroundColor:"#dc3545"}]},options:{responsive:!0}}))}if(r.value){const d=r.value.getContext("2d");d&&(a&&a.destroy(),a=new tu(d,{type:"pie",data:{labels:e.value.origem_oportunidades.map(f=>f.origem),datasets:[{data:e.value.origem_oportunidades.map(f=>f.total),backgroundColor:["#4DA3FF","#28a745","#ffc107","#dc3545","#6c757d"]}]},options:{responsive:!0}}))}}async function u(){n.value=!0;try{const d=await ce.get("/v1/relatorios/");e.value=d.data,c()}catch(d){console.error("Erro ao carregar relatrios:",d),s.value="No foi possvel carregar os relatrios."}finally{n.value=!1}}return it(()=>{u()}),(d,f)=>(O(),R("div",O6e,[f[10]||(f[10]=l("header",{class:"view-header"},[l("h1",null,"Relatrios da Imobiliria")],-1)),n.value?(O(),R("div",R6e," A carregar dados dos relatrios... ")):J("",!0),s.value?(O(),R("div",M6e,F(s.value),1)):(O(),R("div",I6e,[l("div",N6e,[f[3]||(f[3]=l("h3",{class:"card-title"},"Resumo do Ms Atual",-1)),l("div",P6e,[l("div",$6e,[f[0]||(f[0]=l("span",null,"Novas Oportunidades:",-1)),l("strong",null,F(e.value.sumario_mes_atual?.novas_oportunidades||0),1)]),l("div",L6e,[f[1]||(f[1]=l("span",null,"Oportunidades Ganhas:",-1)),l("strong",null,F(e.value.sumario_mes_atual?.oportunidades_ganhas||0),1)]),l("div",F6e,[f[2]||(f[2]=l("span",null,"Oportunidades Perdidas:",-1)),l("strong",null,F(e.value.sumario_mes_atual?.oportunidades_perdidas||0),1)])])]),l("div",V6e,[f[4]||(f[4]=l("h3",{class:"card-title"},"Oportunidades por Ms (Ano Atual)",-1)),f[5]||(f[5]=l("p",{class:"chart-description"},"Negcios abertos, ganhos e perdidos ms a ms.",-1)),l("div",B6e,[l("canvas",{ref_key:"oportunidadesChartCanvas",ref:i},null,512)])]),l("div",U6e,[f[6]||(f[6]=l("h3",{class:"card-title"},"Funil de Vendas por Origem",-1)),f[7]||(f[7]=l("p",{class:"chart-description"},"Distribuio das oportunidades por fonte de lead.",-1)),l("div",H6e,[l("canvas",{ref_key:"origemChartCanvas",ref:r},null,512)])]),l("div",z6e,[f[9]||(f[9]=l("h3",{class:"card-title"},"Desempenho dos Corretores",-1)),l("div",j6e,[l("table",W6e,[f[8]||(f[8]=l("thead",null,[l("tr",null,[l("th",null,"Corretor"),l("th",null,"Oportunidades Abertas"),l("th",null,"Oportunidades Ganhas"),l("th",null,"Oportunidades Perdidas")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(e.value.corretores_desempenho,h=>(O(),R("tr",{key:h.id},[l("td",null,F(h.nome_corretor),1),l("td",null,F(h.oportunidades_abertas),1),l("td",null,F(h.oportunidades_ganhas),1),l("td",null,F(h.oportunidades_perdidas),1)]))),128))])])])])]))]))}}),q6e=tt(G6e,[["__scopeId","data-v-712c5a71"]]),K6e={class:"flex flex-col h-screen bg-gray-50 font-sans overflow-hidden text-gray-700"},Y6e={class:"flex-none bg-white border-b border-gray-200 px-6 py-5 shadow-sm z-20"},X6e={class:"max-w-7xl mx-auto w-full"},J6e={class:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4 mb-6"},Q6e={class:"text-sm text-gray-500 mt-1 flex items-center gap-2"},Z6e={class:"flex items-center gap-3"},eUe={class:"relative max-w-md"},tUe={class:"flex-1 overflow-y-auto p-6 scroll-smooth custom-scrollbar bg-[#f0f2f5]"},nUe={class:"max-w-7xl mx-auto h-full"},sUe={key:0,class:"flex flex-col items-center justify-center h-64 text-gray-400 animate-pulse"},iUe={key:1,class:"flex flex-col items-center justify-center h-[70vh] text-center"},rUe={class:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6 text-gray-300 text-4xl"},oUe={class:"text-xl font-bold text-gray-800 mb-2"},aUe={class:"text-gray-500 max-w-xs mx-auto mb-8 leading-relaxed"},lUe={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-12 items-start"},cUe=["onClick"],uUe={class:"flex justify-between items-center mb-4"},dUe={class:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity"},fUe=["onClick","title"],hUe={class:"flex-1 mb-4"},pUe={class:"text-sm text-gray-600 line-clamp-4 leading-relaxed whitespace-pre-line"},mUe={key:0,class:"mt-3 p-2 bg-green-50 border border-green-100 rounded-lg"},gUe={class:"text-xs text-green-800 italic flex items-start gap-1.5"},vUe={class:"pt-3 border-t border-gray-100 border-dashed flex items-center justify-between mt-auto"},bUe={key:0,class:"flex items-center gap-1.5 text-gray-500 max-w-[75%]"},yUe={class:"bg-gray-50 border border-gray-100 px-2 py-0.5 rounded text-[10px] font-medium truncate flex items-center gap-1"},xUe={key:1},_Ue=["title"],SUe=We({__name:"TarefasKanbanView",setup(t){const e=H([]),n=H(!1),s=H(!1),i=H(null),r=H(""),o=H(!1),a=we(()=>{let E=e.value;if(o.value?E=E.filter(C=>C.status==="concluida"):E=E.filter(C=>C.status!=="concluida"),r.value){const C=r.value.toLowerCase();E=E.filter(_=>_.titulo.toLowerCase().includes(C)||_.descricao&&_.descricao.toLowerCase().includes(C)||_.cliente_nome&&_.cliente_nome.toLowerCase().includes(C))}return E.sort((C,_)=>{if(o.value)return _.id-C.id;const T=C.data_vencimento?new Date(C.data_vencimento).getTime():1/0,k=_.data_vencimento?new Date(_.data_vencimento).getTime():1/0;return T-k})}),c=async()=>{n.value=!0;try{const E=await ce.get("/v1/tarefas/kanban/");e.value=Array.isArray(E.data)?E.data:E.data.results||[]}catch(E){console.error("Erro ao carregar:",E)}finally{n.value=!1}},u=async E=>{const C=E.status==="concluida";let _="",T="";if(C){if(!confirm("Reabrir esta tarefa para pendente?"))return;_="pendente"}else{const $=window.prompt("Observao ao finalizar? (Opcional)");if($===null)return;T=$.trim(),_="concluida"}const k={...E};E.status=_,E.observacoes_finalizacao=T;try{await ce.patch(`/v1/tarefas/${E.id}/`,{status:_,observacoes_finalizacao:T,concluida:_==="concluida"})}catch($){console.error("Erro API:",$),Object.assign(E,k),alert("Erro ao sincronizar. Tente novamente.")}},d=E=>{if(!E)return!1;const C=new Date;return C.setHours(0,0,0,0),new Date(E.split("T")[0]+"T00:00:00")<C},f=E=>{const C=E?.toUpperCase()||"MEDIA";return C==="ALTA"?"border-t-red-500":C==="BAIXA"?"border-t-green-500":"border-t-blue-500"},h=(E,C)=>{if(!E||C==="concluida")return"bg-gray-100 text-gray-500 border-gray-200";if(d(E))return"bg-red-100 text-red-700 border-red-200";const _=new Date;return _.setHours(0,0,0,0),new Date(E.split("T")[0]+"T00:00:00").getTime()===_.getTime()?"bg-orange-100 text-orange-700 border-orange-200":"bg-blue-50 text-blue-600 border-blue-100"},m=E=>{if(!E)return"S/ Data";const C=new Date(E.split("T")[0]+"T00:00:00"),_=new Date;_.setHours(0,0,0,0);const T=new Date(_);return T.setDate(T.getDate()+1),C.getTime()===_.getTime()?"Hoje":C.getTime()===T.getTime()?"Amanh":C.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},g=E=>{if(!E)return"?";const C=E.trim().split(" ");return C.length===1?C[0].substring(0,2).toUpperCase():(C[0][0]+C[1][0]).toUpperCase()},y=()=>{i.value=null,s.value=!0},b=E=>{i.value={...E},s.value=!0},x=()=>{s.value=!1,i.value=null};return it(()=>c()),(E,C)=>(O(),R("div",K6e,[l("header",Y6e,[l("div",X6e,[l("div",J6e,[l("div",null,[C[2]||(C[2]=l("nav",{class:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-wider mb-1"},[l("span",null,"Comercial"),l("i",{class:"fas fa-chevron-right text-[10px]"}),l("span",{class:"text-blue-600"},"Mural")],-1)),C[3]||(C[3]=l("h1",{class:"text-2xl font-bold text-gray-800 tracking-tight"},"Minhas Anotaes",-1)),l("p",Q6e,[l("i",{class:te(["fas",o.value?"fa-history text-purple-500":"fa-sort-amount-down text-blue-500"])},null,2),z(" "+F(o.value?"Visualizando histrico de tarefas finalizadas":"Organizado por data de vencimento"),1)])]),l("div",Z6e,[l("button",{class:te(["flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 border active:scale-95",o.value?"bg-purple-50 border-purple-200 text-purple-700 hover:bg-purple-100":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:border-gray-300"]),onClick:C[0]||(C[0]=_=>o.value=!o.value)},[l("i",{class:te(["fas",o.value?"fa-arrow-left":"fa-check-double"])},null,2),z(" "+F(o.value?"Voltar para Pendentes":"Ver Concludas"),1)],2),l("button",{class:"w-9 h-9 rounded-full flex items-center justify-center border border-gray-200 text-gray-500 hover:text-blue-600 hover:border-blue-200 hover:bg-blue-50 transition-all active:scale-95 bg-white",onClick:c,title:"Recarregar"},[l("i",{class:te(["fas fa-sync-alt",{"animate-spin":n.value}])},null,2)]),o.value?J("",!0):(O(),R("button",{key:0,class:"flex items-center gap-2 px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-full text-sm font-semibold shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 active:scale-95",onClick:y},[...C[4]||(C[4]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Nota ",-1)])]))])]),l("div",eUe,[C[5]||(C[5]=l("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[l("i",{class:"fas fa-search text-gray-400"})],-1)),Y(l("input",{type:"text","onUpdate:modelValue":C[1]||(C[1]=_=>r.value=_),class:"block w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-xl leading-5 bg-gray-50 text-gray-900 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-colors text-sm",placeholder:"Filtrar por ttulo, descrio ou cliente..."},null,512),[[de,r.value]])])])]),l("div",tUe,[l("div",nUe,[n.value?(O(),R("div",sUe,[...C[6]||(C[6]=[l("i",{class:"fas fa-circle-notch fa-spin text-3xl mb-3"},null,-1),l("span",{class:"text-sm font-medium"},"Carregando suas anotaes...",-1)])])):a.value.length===0?(O(),R("div",iUe,[l("div",rUe,[l("i",{class:te(["far",o.value?"fa-folder-open":"fa-sticky-note"])},null,2)]),l("h3",oUe,F(o.value?"Histrico limpo":"Tudo em dia por aqui!"),1),l("p",aUe,F(o.value?"Nenhuma tarefa finalizada foi encontrada com os filtros atuais.":"No h pendncias no momento. Aproveite para descansar ou planejar o futuro."),1),o.value?J("",!0):(O(),R("button",{key:0,class:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg hover:shadow-blue-500/30 transition-all",onClick:y}," Criar Primeira Tarefa "))])):(O(),R("div",lUe,[(O(!0),R(Me,null,je(a.value,_=>(O(),R("div",{key:_.id,onClick:T=>b(_),class:te(["group relative bg-white rounded-xl p-5 border border-gray-200 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col min-h-[180px] border-t-4",[f(_.prioridade),{"opacity-60 bg-gray-50 hover:opacity-100 grayscale-[0.5] hover:grayscale-0":_.status==="concluida"},{"bg-red-50 border-red-200":d(_.data_vencimento)&&_.status!=="concluida"}]])},[l("div",uUe,[l("span",{class:te(["px-2.5 py-1 rounded-md text-[11px] font-bold uppercase tracking-wide flex items-center gap-1.5 border",h(_.data_vencimento,_.status)])},[C[7]||(C[7]=l("i",{class:"far fa-clock"},null,-1)),z(" "+F(m(_.data_vencimento)),1)],2),l("div",dUe,[l("button",{onClick:wt(T=>u(_),["stop"]),class:te(["w-7 h-7 flex items-center justify-center rounded-full border transition-all duration-200 shadow-sm hover:scale-110 focus:outline-none",_.status==="concluida"?"border-gray-300 text-gray-400 hover:text-blue-600 hover:border-blue-400 bg-white":"border-gray-200 text-gray-300 hover:text-green-600 hover:border-green-400 hover:bg-green-50"]),title:_.status==="concluida"?"Reabrir":"Concluir"},[l("i",{class:te(["fas",_.status==="concluida"?"fa-undo text-xs":"fa-check"])},null,2)],10,fUe)])]),l("div",hUe,[l("h4",{class:te(["text-base font-bold text-gray-800 mb-2 leading-snug group-hover:text-blue-700 transition-colors line-clamp-2",{"line-through text-gray-400 decoration-2 decoration-gray-300":_.status==="concluida"}])},F(_.titulo),3),l("p",pUe,F(_.descricao||"Sem descrio."),1),_.observacoes_finalizacao&&_.status==="concluida"?(O(),R("div",mUe,[l("p",gUe,[C[8]||(C[8]=l("i",{class:"fas fa-pen-fancy text-[10px] mt-0.5"},null,-1)),l("span",null,F(_.observacoes_finalizacao),1)])])):J("",!0)]),l("div",vUe,[_.cliente_nome?(O(),R("div",bUe,[l("div",yUe,[C[9]||(C[9]=l("i",{class:"fas fa-user-circle text-gray-400"},null,-1)),z(" "+F(_.cliente_nome),1)])])):(O(),R("div",xUe)),C[10]||(C[10]=z()),l("div",{class:"w-7 h-7 rounded-full bg-blue-50 border border-blue-100 text-blue-600 text-[10px] font-bold flex items-center justify-center shadow-sm",title:_.responsavel_nome},F(g(_.responsavel_nome)),9,_Ue)])],10,cUe))),128))]))])]),s.value?(O(),is($5,{key:0,show:s.value,tarefa:i.value,onClose:x,onSaved:c},null,8,["show","tarefa"])):J("",!0)]))}}),EUe=tt(SUe,[["__scopeId","data-v-4ee2f491"]]),wUe={class:"page-container"},CUe={class:"page-header"},AUe={class:"header-main"},kUe={class:"title-area"},TUe={class:"breadcrumb"},DUe={class:"active"},OUe={class:"content-wrapper"},RUe={key:0,class:"loading-container"},MUe={class:"form-section highlight-section"},IUe={class:"form-grid-top"},NUe={class:"form-group type-selector"},PUe={class:"toggle-type"},$Ue={class:"form-group value-input"},LUe={class:"form-group date-input"},FUe={class:"form-group full-width mt-4"},VUe={class:"form-section"},BUe={class:"form-grid-2col"},UUe={class:"input-with-icon"},HUe={key:0,class:"dropdown-list"},zUe=["onClick"],jUe={class:"dd-main-text"},WUe={key:0,class:"dd-sub-text"},GUe={key:1,class:"dropdown-list"},qUe={class:"input-with-icon"},KUe={key:0,class:"dropdown-list"},YUe=["onClick"],XUe={class:"dd-main-text"},JUe={class:"code"},QUe={class:"dd-sub-text"},ZUe={key:1,class:"dropdown-list"},eHe={class:"form-section"},tHe={class:"form-grid-3col"},nHe={class:"form-group"},sHe={class:"select-wrapper"},iHe=["value"],rHe={class:"form-group"},oHe={class:"select-wrapper"},aHe=["value"],lHe={class:"form-group"},cHe={class:"select-wrapper"},uHe=["value"],dHe={class:"form-section last-section"},fHe={class:"form-grid-2col align-end"},hHe={class:"form-group"},pHe={value:"PAGO"},mHe={key:0,class:"form-group"},gHe={class:"form-group mt-4"},vHe={class:"form-footer"},bHe=["disabled"],yHe=We({__name:"TransacaoForm",setup(t){const e=an(),n=ms(),s=Ji.useToast(),i=we(()=>!!n.params.id),r=H(!0),o=H(!1),a=H([]),c=H([]),u=H([]),d=H([]),f=H([]),h=H(""),m=H(!1),g=H(null),y=H(""),b=H(!1),x=H(null),E=H({tipo:"RECEITA",descricao:"",valor:0,data_vencimento:Et(new Date,"yyyy-MM-dd"),data_transacao:Et(new Date,"yyyy-MM-dd"),data_pagamento:null,status:"PENDENTE",categoria:null,conta:null,forma_pagamento:null,cliente:null,imovel:null,observacoes:""}),C=we(()=>u.value.filter(W=>W.tipo===E.value.tipo)),_=we(()=>{if(!h.value)return c.value.slice(0,10);const W=h.value.toLowerCase();return c.value.filter(Z=>Z.nome.toLowerCase().includes(W)||Z.documento&&Z.documento.includes(W)).slice(0,10)}),T=we(()=>{if(!y.value)return a.value.slice(0,10);const W=y.value.toLowerCase();return a.value.filter(Z=>(Z.titulo_anuncio||"").toLowerCase().includes(W)||(Z.logradouro||"").toLowerCase().includes(W)||(Z.codigo_referencia||"").toLowerCase().includes(W)).slice(0,10)}),k=W=>{switch(W){case"PAGO":return"status-paid";case"ATRASADO":return"status-late";case"CANCELADO":return"status-cancelled";default:return"status-pending"}},$=()=>{m.value=!0,E.value.cliente&&(E.value.cliente=null)},M=W=>{E.value.cliente=W.id,h.value=W.nome,m.value=!1},P=()=>{E.value.cliente=null,h.value=""},V=()=>{b.value=!0,E.value.imovel&&(E.value.imovel=null)},I=W=>{E.value.imovel=W.id,y.value=`#${W.codigo_referencia} - ${W.titulo_anuncio||W.logradouro}`,b.value=!1},w=()=>{E.value.imovel=null,y.value=""},D=W=>{g.value&&!g.value.contains(W.target)&&(m.value=!1),x.value&&!x.value.contains(W.target)&&(b.value=!1)},A=()=>{E.value.status==="PAGO"&&!E.value.data_pagamento&&(E.value.data_pagamento=Et(new Date,"yyyy-MM-dd"))};async function B(){try{const[W,Z,Le,ge,qe]=await Promise.all([ce.get("/v1/financeiro/categorias/"),ce.get("/v1/financeiro/contas/"),ce.get("/v1/financeiro/formas-pagamento/"),ce.get("/v1/clientes/lista-simples/"),ce.get("/v1/imoveis/lista-simples/")]);u.value=W.data.results||W.data,d.value=Z.data.results||Z.data,f.value=Le.data.results||Le.data,c.value=ge.data.map(lt=>({id:lt.id,nome:lt.nome_display||lt.nome||"Sem Nome",documento:lt.documento||lt.cpf_cnpj})),a.value=qe.data,i.value||(d.value.length>0&&(E.value.conta=d.value[0].id),n.query.tipo&&(n.query.tipo==="RECEITA"||n.query.tipo==="DESPESA")&&(E.value.tipo=n.query.tipo))}catch(W){console.error("Erro ao carregar dependncias",W),s.error("Erro ao carregar listas de seleo.")}}async function N(){try{const{data:W}=await ce.get(`/v1/financeiro/transacoes/${n.params.id}/`);if(E.value={tipo:W.tipo,descricao:W.descricao,valor:Number(W.valor),data_vencimento:W.data_vencimento,data_transacao:W.data_transacao||Et(new Date,"yyyy-MM-dd"),data_pagamento:W.data_pagamento,status:W.status,categoria:W.categoria,conta:W.conta,forma_pagamento:W.forma_pagamento,cliente:W.cliente,imovel:W.imovel,observacoes:W.observacoes},W.cliente){const Z=c.value.find(Le=>Le.id===W.cliente);Z&&(h.value=Z.nome)}if(W.imovel){const Z=a.value.find(Le=>Le.id===W.imovel);Z&&(y.value=`#${Z.codigo_referencia} - ${Z.titulo_anuncio||Z.logradouro}`)}}catch(W){console.error("Erro ao carregar transao",W),s.error("Erro ao carregar dados da transao."),e.push("/financeiro/transacoes")}}async function q(){if(!E.value.categoria||!E.value.conta){s.warning("Categoria e Conta so obrigatrios.");return}if(E.value.status==="PAGO"&&!E.value.data_pagamento&&(E.value.data_pagamento=Et(new Date,"yyyy-MM-dd")),E.value.status==="PAGO"&&!E.value.data_pagamento){s.warning("Para transaes PAGAS, a Data da Baixa  obrigatria.");return}o.value=!0;const W={...E.value};W.data_transacao||(W.data_transacao=Et(new Date,"yyyy-MM-dd")),W.status!=="PAGO"&&(W.data_pagamento=null),W.cliente||(W.cliente=null),W.imovel||(W.imovel=null),W.forma_pagamento||(W.forma_pagamento=null),W.observacoes||(W.observacoes="");try{i.value?(await ce.put(`/v1/financeiro/transacoes/${n.params.id}/`,W),s.success("Transao atualizada com sucesso!")):(await ce.post("/v1/financeiro/transacoes/",W),s.success("Transao criada com sucesso!")),e.push("/financeiro/transacoes")}catch(Z){if(console.error("Erro API:",Z),Z.response&&Z.response.data){const Le=Z.response.data,ge=Object.keys(Le)[0],qe=Array.isArray(Le[ge])?Le[ge][0]:Le[ge];s.error(`Erro em ${ge}: ${qe}`)}else s.error("Erro ao salvar. Verifique os dados.")}finally{o.value=!1}}return it(async()=>{r.value=!0,await B(),i.value&&await N(),r.value=!1,document.addEventListener("click",D)}),Po(()=>{document.removeEventListener("click",D)}),(W,Z)=>{const Le=on("router-link");return O(),R("div",wUe,[l("header",CUe,[l("div",AUe,[l("div",kUe,[l("nav",TUe,[Z[17]||(Z[17]=l("span",null,"Financeiro",-1)),Z[18]||(Z[18]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),be(Le,{to:"/financeiro/transacoes"},{default:Pe(()=>[...Z[16]||(Z[16]=[z("Transaes",-1)])]),_:1}),Z[19]||(Z[19]=l("i",{class:"fas fa-chevron-right separator"},null,-1)),l("span",DUe,F(i.value?"Editar":"Nova")+" Transao",1)]),l("h1",null,F(i.value?"Editar Lanamento":"Novo Lanamento"),1)])])]),l("main",OUe,[r.value?(O(),R("div",RUe,[...Z[20]||(Z[20]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando formulrio...",-1)])])):(O(),R("form",{key:1,onSubmit:wt(q,["prevent"]),class:"standard-form"},[l("div",MUe,[l("div",IUe,[l("div",NUe,[Z[25]||(Z[25]=l("label",null,"Tipo de Movimentao",-1)),l("div",PUe,[l("label",{class:te(["type-option receita",{active:E.value.tipo==="RECEITA"}])},[Y(l("input",{type:"radio","onUpdate:modelValue":Z[0]||(Z[0]=ge=>E.value.tipo=ge),value:"RECEITA"},null,512),[[Lr,E.value.tipo]]),Z[21]||(Z[21]=l("span",{class:"icon"},[l("i",{class:"fas fa-arrow-up"})],-1)),Z[22]||(Z[22]=l("span",{class:"text"},"Receita",-1))],2),l("label",{class:te(["type-option despesa",{active:E.value.tipo==="DESPESA"}])},[Y(l("input",{type:"radio","onUpdate:modelValue":Z[1]||(Z[1]=ge=>E.value.tipo=ge),value:"DESPESA"},null,512),[[Lr,E.value.tipo]]),Z[23]||(Z[23]=l("span",{class:"icon"},[l("i",{class:"fas fa-arrow-down"})],-1)),Z[24]||(Z[24]=l("span",{class:"text"},"Despesa",-1))],2)])]),l("div",$Ue,[Z[26]||(Z[26]=l("label",null,"Valor (R$) *",-1)),be(da,{modelValue:E.value.valor,"onUpdate:modelValue":Z[2]||(Z[2]=ge=>E.value.valor=ge),modelModifiers:{number:!0},class:te(["form-control money-field",E.value.tipo==="DESPESA"?"text-red":"text-green"])},null,8,["modelValue","class"])]),l("div",LUe,[Z[27]||(Z[27]=l("label",null,"Vencimento *",-1)),Y(l("input",{type:"date","onUpdate:modelValue":Z[3]||(Z[3]=ge=>E.value.data_vencimento=ge),class:"form-control",required:""},null,512),[[de,E.value.data_vencimento]])])]),l("div",FUe,[Z[28]||(Z[28]=l("label",null,"Descrio *",-1)),Y(l("input",{type:"text","onUpdate:modelValue":Z[4]||(Z[4]=ge=>E.value.descricao=ge),class:"form-control",placeholder:"Ex: Aluguel Ref. Janeiro/2025",required:""},null,512),[[de,E.value.descricao]])])]),l("div",VUe,[Z[35]||(Z[35]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-link"}),z(" Vnculos")],-1)),l("div",BUe,[l("div",{class:"form-group relative",ref_key:"clienteDropdownRef",ref:g},[Z[31]||(Z[31]=l("label",null,"Cliente / Parte (Opcional)",-1)),l("div",UUe,[Z[29]||(Z[29]=l("i",{class:"fas fa-user"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":Z[5]||(Z[5]=ge=>h.value=ge),class:"form-control",placeholder:"Pesquisar por nome ou CPF/CNPJ...",onFocus:Z[6]||(Z[6]=ge=>m.value=!0),onInput:$},null,544),[[de,h.value]]),E.value.cliente||h.value?(O(),R("i",{key:0,class:"fas fa-times clear-icon",onClick:P,title:"Limpar"})):J("",!0)]),m.value&&_.value.length>0?(O(),R("ul",HUe,[(O(!0),R(Me,null,je(_.value,ge=>(O(),R("li",{key:ge.id,onClick:qe=>M(ge)},[l("div",jUe,F(ge.nome),1),ge.documento?(O(),R("div",WUe,F(ge.documento),1)):J("",!0)],8,zUe))),128))])):J("",!0),m.value&&_.value.length===0&&h.value?(O(),R("ul",GUe,[...Z[30]||(Z[30]=[l("li",{class:"no-results"},"Nenhum cliente encontrado.",-1)])])):J("",!0)],512),l("div",{class:"form-group relative",ref_key:"imovelDropdownRef",ref:x},[Z[34]||(Z[34]=l("label",null,"Imvel Vinculado (Opcional)",-1)),l("div",qUe,[Z[32]||(Z[32]=l("i",{class:"fas fa-home"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":Z[7]||(Z[7]=ge=>y.value=ge),class:"form-control",placeholder:"Pesquisar por cdigo, ttulo ou endereo...",onFocus:Z[8]||(Z[8]=ge=>b.value=!0),onInput:V},null,544),[[de,y.value]]),E.value.imovel||y.value?(O(),R("i",{key:0,class:"fas fa-times clear-icon",onClick:w,title:"Limpar"})):J("",!0)]),b.value&&T.value.length>0?(O(),R("ul",KUe,[(O(!0),R(Me,null,je(T.value,ge=>(O(),R("li",{key:ge.id,onClick:qe=>I(ge)},[l("div",XUe,[l("span",JUe,"#"+F(ge.codigo_referencia),1),z(" "+F(ge.titulo_anuncio),1)]),l("div",QUe,F(ge.logradouro),1)],8,YUe))),128))])):J("",!0),b.value&&T.value.length===0&&y.value?(O(),R("ul",ZUe,[...Z[33]||(Z[33]=[l("li",{class:"no-results"},"Nenhum imvel encontrado.",-1)])])):J("",!0)],512)])]),l("div",eHe,[Z[42]||(Z[42]=l("h3",{class:"section-title"},[l("i",{class:"fas fa-tags"}),z(" Classificao")],-1)),l("div",tHe,[l("div",nHe,[Z[37]||(Z[37]=l("label",null,"Categoria *",-1)),l("div",sHe,[Y(l("select",{"onUpdate:modelValue":Z[9]||(Z[9]=ge=>E.value.categoria=ge),class:"form-control",required:""},[Z[36]||(Z[36]=l("option",{value:null,disabled:""},"Selecione a Categoria",-1)),(O(!0),R(Me,null,je(C.value,ge=>(O(),R("option",{key:ge.id,value:ge.id},F(ge.nome),9,iHe))),128))],512),[[xt,E.value.categoria]])])]),l("div",rHe,[Z[39]||(Z[39]=l("label",null,"Conta (Destino/Origem) *",-1)),l("div",oHe,[Y(l("select",{"onUpdate:modelValue":Z[10]||(Z[10]=ge=>E.value.conta=ge),class:"form-control",required:""},[Z[38]||(Z[38]=l("option",{value:null,disabled:""},"Selecione a Conta",-1)),(O(!0),R(Me,null,je(d.value,ge=>(O(),R("option",{key:ge.id,value:ge.id},F(ge.nome),9,aHe))),128))],512),[[xt,E.value.conta]])])]),l("div",lHe,[Z[41]||(Z[41]=l("label",null,"Forma de Pagamento",-1)),l("div",cHe,[Y(l("select",{"onUpdate:modelValue":Z[11]||(Z[11]=ge=>E.value.forma_pagamento=ge),class:"form-control"},[Z[40]||(Z[40]=l("option",{value:null},"No definido",-1)),(O(!0),R(Me,null,je(f.value,ge=>(O(),R("option",{key:ge.id,value:ge.id},F(ge.nome),9,uHe))),128))],512),[[xt,E.value.forma_pagamento]])])])])]),l("div",dHe,[l("div",fHe,[l("div",hHe,[Z[46]||(Z[46]=l("label",null,"Situao Atual",-1)),Y(l("select",{"onUpdate:modelValue":Z[12]||(Z[12]=ge=>E.value.status=ge),onChange:A,class:te(["form-control status-select",k(E.value.status)])},[Z[43]||(Z[43]=l("option",{value:"PENDENTE"}," Pendente",-1)),l("option",pHe," "+F(E.value.tipo==="RECEITA"?"Recebido":"Pago"),1),Z[44]||(Z[44]=l("option",{value:"ATRASADO"}," Atrasado",-1)),Z[45]||(Z[45]=l("option",{value:"CANCELADO"}," Cancelado",-1))],34),[[xt,E.value.status]])]),E.value.status==="PAGO"?(O(),R("div",mHe,[Z[47]||(Z[47]=l("label",null,"Data da Baixa (Pagamento) *",-1)),Y(l("input",{type:"date","onUpdate:modelValue":Z[13]||(Z[13]=ge=>E.value.data_pagamento=ge),class:"form-control",required:""},null,512),[[de,E.value.data_pagamento]])])):J("",!0)]),l("div",gHe,[Z[48]||(Z[48]=l("label",null,"Observaes / Anotaes",-1)),Y(l("textarea",{"onUpdate:modelValue":Z[14]||(Z[14]=ge=>E.value.observacoes=ge),class:"form-control",rows:"2",placeholder:"Detalhes adicionais sobre esta transao..."},null,512),[[de,E.value.observacoes]])])]),l("div",vHe,[l("button",{type:"button",onClick:Z[15]||(Z[15]=ge=>Ve(e).push("/financeiro/transacoes")),class:"btn-secondary"}," Cancelar "),l("button",{type:"submit",class:"btn-primary",disabled:o.value},[l("i",{class:te(["fas",o.value?"fa-spinner fa-spin":"fa-save"])},null,2),z(" "+F(o.value?"Salvando...":"Salvar Lanamento"),1)],8,bHe)])],32))])])}}}),SN=tt(yHe,[["__scopeId","data-v-b6bc7ac8"]]),xHe={class:"min-h-screen bg-gray-50 p-4 md:p-8 font-sans text-slate-700"},_He={class:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4"},SHe={class:"flex flex-col gap-2"},EHe={class:"flex items-center gap-2 text-xs font-medium text-slate-400 uppercase tracking-wide"},wHe={class:"text-primary-600 font-bold"},CHe={class:"text-2xl md:text-3xl font-light text-slate-800 tracking-tight m-0"},AHe={key:0,class:"flex flex-col items-center justify-center py-16 text-slate-400"},kHe={key:1,class:"grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-6 items-start"},THe={class:"bg-white rounded-lg border border-slate-200 shadow-sm p-6"},DHe={class:"flex flex-col gap-4"},OHe={class:"flex flex-col gap-5"},RHe={class:"flex flex-col gap-1.5"},MHe={class:"[&_.vs__dropdown-toggle]:!border-slate-300 [&_.vs__dropdown-toggle]:!rounded-md [&_.vs__dropdown-toggle]:!pb-1 [&_.vs__search]:!text-sm [&_.vs__search]:!text-slate-700"},IHe={class:"py-1"},NHe={class:"font-bold text-slate-700 flex items-center gap-2 text-sm"},PHe={key:0,class:"bg-slate-100 text-slate-500 text-[10px] px-1.5 py-0.5 rounded border border-slate-200 font-mono"},$He={class:"text-xs text-slate-500 flex items-center gap-1 mt-0.5"},LHe={key:0,class:"text-xs text-slate-400"},FHe={class:"flex flex-col gap-1.5"},VHe={class:"[&_.vs__dropdown-toggle]:!border-slate-300 [&_.vs__dropdown-toggle]:!rounded-md [&_.vs__dropdown-toggle]:!pb-1 [&_.vs__search]:!text-sm [&_.vs__search]:!text-slate-700"},BHe={class:"py-1"},UHe={class:"font-bold text-slate-700 text-sm"},HHe={class:"text-xs text-slate-500 flex items-center gap-3 mt-0.5"},zHe={key:0,class:"flex items-center gap-1"},jHe={key:1,class:"flex items-center gap-1"},WHe={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},GHe={class:"flex flex-col gap-1.5"},qHe={class:"relative"},KHe=["min"],YHe={class:"flex flex-col gap-1.5"},XHe={class:"relative"},JHe={class:"flex flex-col gap-1.5"},QHe={class:"flex justify-end gap-3 pt-4 border-t border-slate-50 mt-2"},ZHe=["disabled"],e8e={key:0,class:"i-fas-spinner animate-spin"},t8e={class:"flex flex-col gap-6"},n8e={class:"px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center gap-2"},s8e={class:"text-sm font-bold text-slate-700 m-0"},i8e={key:0,class:"max-h-[300px] overflow-y-auto p-4 flex flex-col gap-3"},r8e={class:"flex items-center gap-2 mb-1"},o8e=["title"],a8e={key:0,class:"bg-slate-100 text-slate-500 text-[10px] px-1.5 py-0.5 rounded border border-slate-200 font-mono shrink-0"},l8e={class:"text-xs text-slate-500 line-clamp-2 leading-relaxed"},c8e={key:0},u8e={key:1,class:"p-8 text-center text-slate-400 text-xs italic bg-slate-50/50"},d8e={key:0,class:"p-4"},f8e={class:"mb-3 pb-2 border-b border-slate-50"},h8e={class:"text-base font-bold text-slate-800"},p8e={class:"flex flex-col gap-2.5 text-sm text-slate-600"},m8e={key:0,class:"flex items-center gap-2.5"},g8e={key:1,class:"flex items-center gap-2.5 break-all"},v8e={key:1,class:"p-8 text-center text-slate-400 text-xs italic bg-slate-50/50"},EN=We({__name:"VisitaFormView",setup(t){const e=ms(),n=an(),s=Ji.useToast(),i=we(()=>e.params.id),r=we(()=>!!i.value),o=H(!1),a=H(!1),c=H({imoveis:[],cliente:null,data:"",hora:"",observacoes:""}),u=H([]),d=H([]),f=H(null),h=new Date().toISOString().split("T")[0];let m=null;async function g(T,k){T.length>=2&&(m&&clearTimeout(m),k(!0),m=setTimeout(async()=>{try{const $=await ce.get(`/v1/imoveis/?search=${T}`),M=$.data.results||$.data;u.value=M.map(P=>({label:P.titulo_codigo||P.titulo_anuncio||`Imvel #${P.id}`,value:P.id,titulo_anuncio:P.titulo_anuncio,codigo:P.codigo_referencia,logradouro:P.logradouro,numero:P.numero,bairro:P.bairro,cidade:P.cidade}))}finally{k(!1)}},400))}async function y(T,k){T.length>=2&&(m&&clearTimeout(m),k(!0),m=setTimeout(async()=>{try{const $=await ce.get(`/v1/clientes/?search=${T}`),M=$.data.results||$.data;d.value=M.map(P=>({label:P.nome_display||P.nome||P.razao_social||"Cliente Sem Nome",value:P.id,telefone:P.telefone,email:P.email,documento:P.documento}))}finally{k(!1)}},400))}function b(T){f.value=T}async function x(){o.value=!0;try{const[T,k]=await Promise.all([ce.get("/v1/imoveis/lista-simples/"),ce.get("/v1/clientes/lista-simples/")]),$=Array.isArray(T.data)?T.data:T.data.results||[];u.value=$.map(P=>({label:P.label||P.titulo_anuncio||`Imvel ${P.codigo_referencia||P.id}`,value:P.value||P.id,titulo_anuncio:P.titulo_anuncio,codigo:P.codigo_referencia,logradouro:P.logradouro,bairro:P.bairro,cidade:P.cidade}));const M=Array.isArray(k.data)?k.data:k.data.results||[];if(d.value=M.map(P=>({label:P.label||P.nome_display||P.nome||P.razao_social||"Cliente",value:P.value||P.id,telefone:P.telefone,email:P.email,documento:P.documento})),r.value&&i.value){const V=(await ce.get(`/v1/visitas/${i.value}/`)).data;try{const I=Bn(V.data_visita);c.value.data=Et(I,"yyyy-MM-dd"),c.value.hora=Et(I,"HH:mm")}catch{}if(c.value.observacoes=V.observacoes||"",V.imoveis_obj&&Array.isArray(V.imoveis_obj)&&(c.value.imoveis=V.imoveis_obj.map(I=>{const w={label:I.titulo_anuncio||"Imvel",value:I.id,titulo_anuncio:I.titulo_anuncio,codigo:I.codigo_referencia,logradouro:I.logradouro,numero:I.numero,bairro:I.bairro,cidade:I.cidade};return u.value.find(D=>D.value===I.id)||u.value.unshift(w),w})),V.cliente_obj){const I=V.cliente_obj,w={label:I.nome||I.razao_social||"Cliente",value:I.id,telefone:I.telefone,email:I.email};c.value.cliente=w,f.value=w,d.value.find(D=>D.value===I.id)||d.value.unshift(w)}}}catch(T){console.error("Erro ao carregar dados:",T),s.error("Falha ao carregar dados iniciais.")}finally{o.value=!1}}function E(T){return T?typeof T=="object"&&"value"in T?T.value:typeof T=="number"?T:null:null}async function C(){if(c.value.imoveis.length===0){s.warning("Selecione pelo menos um imvel.");return}const T=E(c.value.cliente);if(!T){s.warning("Selecione um cliente.");return}if(!c.value.data||!c.value.hora){s.warning("Informe a data e hora.");return}a.value=!0;const k=c.value.imoveis.map(P=>E(P)).filter(P=>P!==null),$=`${c.value.data}T${c.value.hora}:00`,M={imoveis:k,cliente:T,data_visita:$,observacoes:c.value.observacoes};try{r.value?(await ce.put(`/v1/visitas/${i.value}/`,M),s.success("Agendamento atualizado!")):(await ce.post("/v1/visitas/",M),s.success("Agendamento criado com sucesso!")),n.push({name:"visitas"})}catch(P){console.error("Erro ao salvar:",P.response?.data||P);const V=P.response?.data?.detail||"Erro ao salvar agendamento.";s.error(V)}finally{a.value=!1}}function _(){n.push({name:"visitas"})}return it(x),(T,k)=>{const $=on("router-link");return O(),R("div",xHe,[l("header",_He,[l("div",SHe,[l("nav",EHe,[be($,{to:"/",class:"hover:text-primary-600 transition-colors decoration-none"},{default:Pe(()=>[...k[5]||(k[5]=[z("Incio",-1)])]),_:1}),k[7]||(k[7]=l("div",{class:"i-fas-chevron-right text-[10px]"},null,-1)),be($,{to:"/visitas",class:"hover:text-primary-600 transition-colors decoration-none"},{default:Pe(()=>[...k[6]||(k[6]=[z("Visitas",-1)])]),_:1}),k[8]||(k[8]=l("div",{class:"i-fas-chevron-right text-[10px]"},null,-1)),l("span",wHe,F(r.value?"Editar":"Agendar"),1)]),l("h1",CHe,F(r.value?"Editar Visita":"Agendar Nova Visita"),1)])]),o.value?(O(),R("div",AHe,[...k[9]||(k[9]=[l("div",{class:"w-10 h-10 border-3 border-slate-200 border-t-blue-600 rounded-full animate-spin mb-4"},null,-1),l("p",{class:"text-sm font-medium"},"A carregar dados...",-1)])])):(O(),R("div",kHe,[l("div",THe,[l("form",{onSubmit:wt(C,["prevent"]),class:"flex flex-col gap-6"},[l("div",DHe,[k[22]||(k[22]=l("div",{class:"flex items-center gap-2 pb-2 border-b border-slate-100 mb-2"},[l("div",{class:"i-far-calendar-alt text-blue-600 text-lg"}),l("h3",{class:"text-lg font-semibold text-slate-800 m-0"},"Dados do Agendamento")],-1)),l("div",OHe,[l("div",RHe,[k[12]||(k[12]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Imveis a Visitar "),l("span",{class:"text-red-500"},"*")],-1)),l("div",MHe,[be(Ve(Co),{modelValue:c.value.imoveis,"onUpdate:modelValue":k[0]||(k[0]=M=>c.value.imoveis=M),options:u.value,label:"label",multiple:"",placeholder:"Pesquisar e adicionar imveis...",onSearch:g},{option:Pe(M=>[l("div",IHe,[l("div",NHe,[z(F(M.titulo_anuncio||"Imvel sem ttulo")+" ",1),M.codigo?(O(),R("span",PHe,F(M.codigo),1)):J("",!0)]),l("div",$He,[k[10]||(k[10]=l("div",{class:"i-fas-map-marker-alt text-[10px]"},null,-1)),z(" "+F(M.logradouro||"Endereo N/A"),1)])])]),"no-options":Pe(()=>[...k[11]||(k[11]=[l("span",{class:"text-sm text-slate-400 p-2"},"Digite para buscar...",-1)])]),_:1},8,["modelValue","options"])]),r.value?J("",!0):(O(),R("small",LHe,"Selecione todos os imveis que sero visitados neste agendamento."))]),l("div",FHe,[k[16]||(k[16]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Cliente Interessado "),l("span",{class:"text-red-500"},"*")],-1)),l("div",VHe,[be(Ve(Co),{modelValue:c.value.cliente,"onUpdate:modelValue":k[1]||(k[1]=M=>c.value.cliente=M),options:d.value,label:"label",placeholder:"Pesquisar por nome, telefone ou CPF...",onSearch:y,"onOption:selected":b},{option:Pe(M=>[l("div",BHe,[l("div",UHe,F(M.label),1),l("div",HHe,[M.telefone?(O(),R("span",zHe,[k[13]||(k[13]=l("div",{class:"i-fas-phone-alt text-[10px]"},null,-1)),z(" "+F(M.telefone),1)])):J("",!0),M.documento?(O(),R("span",jHe,[k[14]||(k[14]=l("div",{class:"i-far-id-card text-[10px]"},null,-1)),z(" "+F(M.documento),1)])):J("",!0)])])]),"no-options":Pe(()=>[...k[15]||(k[15]=[l("span",{class:"text-sm text-slate-400 p-2"},"Digite para buscar...",-1)])]),_:1},8,["modelValue","options"])])]),l("div",WHe,[l("div",GHe,[k[18]||(k[18]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Data da Visita "),l("span",{class:"text-red-500"},"*")],-1)),l("div",qHe,[k[17]||(k[17]=l("div",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 i-far-calendar text-sm"},null,-1)),Y(l("input",{type:"date","onUpdate:modelValue":k[2]||(k[2]=M=>c.value.data=M),required:"",class:"w-full pl-9 pr-3 py-2 text-sm border border-slate-300 rounded-md focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all text-slate-700 bg-white",min:Ve(h)},null,8,KHe),[[de,c.value.data]])])]),l("div",YHe,[k[20]||(k[20]=l("label",{class:"text-sm font-bold text-slate-600"},[z("Hora "),l("span",{class:"text-red-500"},"*")],-1)),l("div",XHe,[k[19]||(k[19]=l("div",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 i-far-clock text-sm"},null,-1)),Y(l("input",{type:"time","onUpdate:modelValue":k[3]||(k[3]=M=>c.value.hora=M),required:"",class:"w-full pl-9 pr-3 py-2 text-sm border border-slate-300 rounded-md focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all text-slate-700 bg-white"},null,512),[[de,c.value.hora]])])])]),l("div",JHe,[k[21]||(k[21]=l("label",{class:"text-sm font-bold text-slate-600"},"Observaes / Instrues",-1)),Y(l("textarea",{"onUpdate:modelValue":k[4]||(k[4]=M=>c.value.observacoes=M),rows:"3",class:"w-full px-3 py-2 text-sm border border-slate-300 rounded-md focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none transition-all text-slate-700 bg-white resize-y min-h-[80px]",placeholder:"Ex: Levar as chaves do porto lateral; Cliente prefere no estacionar na garagem..."},null,512),[[de,c.value.observacoes]])])])]),l("div",QHe,[l("button",{type:"button",onClick:_,class:"px-4 py-2 rounded-md text-sm font-medium text-slate-600 bg-slate-50 hover:bg-slate-100 transition-colors border border-slate-200 cursor-pointer flex items-center gap-2"}," Cancelar "),l("button",{type:"submit",class:"flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-sm hover:shadow transition-all disabled:opacity-70 disabled:cursor-not-allowed border-none cursor-pointer",disabled:a.value},[a.value?(O(),R("div",e8e)):J("",!0),l("span",null,F(r.value?"Salvar Alteraes":"Confirmar Agendamento"),1)],8,ZHe)])],32)]),l("div",t8e,[l("div",{class:te(["bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden flex flex-col transition-all",{"opacity-60 grayscale":c.value.imoveis.length===0}])},[l("div",n8e,[k[23]||(k[23]=l("div",{class:"i-fas-home text-blue-600"},null,-1)),l("h3",s8e,"Roteiro ("+F(c.value.imoveis.length)+")",1)]),c.value.imoveis.length>0?(O(),R("div",i8e,[(O(!0),R(Me,null,je(c.value.imoveis,M=>(O(),R("div",{key:M.value,class:"pb-3 border-b border-slate-50 last:border-0 last:pb-0"},[l("div",r8e,[l("h4",{class:"text-sm font-bold text-slate-800 line-clamp-1",title:M.titulo_anuncio},F(M.titulo_anuncio||"Imvel sem ttulo"),9,o8e),M.codigo?(O(),R("span",a8e,F(M.codigo),1)):J("",!0)]),l("p",l8e,[z(F(M.logradouro||"Logradouro N/A")+" ",1),M.bairro?(O(),R("span",c8e,", "+F(M.bairro),1)):J("",!0)])]))),128))])):(O(),R("div",u8e," Selecione um ou mais imveis para visualizar o roteiro. "))],2),l("div",{class:te(["bg-white rounded-lg border border-slate-200 shadow-sm overflow-hidden flex flex-col transition-all",{"opacity-60 grayscale":!f.value}])},[k[26]||(k[26]=l("div",{class:"px-4 py-3 bg-slate-50 border-b border-slate-100 flex items-center gap-2"},[l("div",{class:"i-fas-user text-blue-600"}),l("h3",{class:"text-sm font-bold text-slate-700 m-0"},"Cliente")],-1)),f.value?(O(),R("div",d8e,[l("div",f8e,[l("h4",h8e,F(f.value.label),1)]),l("div",p8e,[f.value.telefone?(O(),R("p",m8e,[k[24]||(k[24]=l("div",{class:"w-6 h-6 rounded bg-green-50 flex items-center justify-center shrink-0"},[l("div",{class:"i-fas-phone text-green-600 text-xs"})],-1)),z(" "+F(f.value.telefone),1)])):J("",!0),f.value.email?(O(),R("p",g8e,[k[25]||(k[25]=l("div",{class:"w-6 h-6 rounded bg-blue-50 flex items-center justify-center shrink-0"},[l("div",{class:"i-fas-envelope text-blue-600 text-xs"})],-1)),z(" "+F(f.value.email),1)])):J("",!0)])])):(O(),R("div",v8e," Selecione um cliente para ver os detalhes de contato. "))],2)])]))])}}});/*!
 * Signature Pad v3.0.0-beta.4 | https://github.com/szimek/signature_pad
 * (c) 2020 Szymon Nowak | Released under the MIT license
 */class uy{constructor(e,n,s){this.x=e,this.y=n,this.time=s||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class MA{constructor(e,n,s,i,r,o){this.startPoint=e,this.control2=n,this.control1=s,this.endPoint=i,this.startWidth=r,this.endWidth=o}static fromPoints(e,n){const s=this.calculateControlPoints(e[0],e[1],e[2]).c2,i=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new MA(e[1],s,i,e[2],n.start,n.end)}static calculateControlPoints(e,n,s){const i=e.x-n.x,r=e.y-n.y,o=n.x-s.x,a=n.y-s.y,c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},u={x:(n.x+s.x)/2,y:(n.y+s.y)/2},d=Math.sqrt(i*i+r*r),f=Math.sqrt(o*o+a*a),h=c.x-u.x,m=c.y-u.y,g=f/(d+f),y={x:u.x+h*g,y:u.y+m*g},b=n.x-y.x,x=n.y-y.y;return{c1:new uy(c.x+b,c.y+x),c2:new uy(u.x+b,u.y+x)}}length(){let n=0,s,i;for(let r=0;r<=10;r+=1){const o=r/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){const u=a-s,d=c-i;n+=Math.sqrt(u*u+d*d)}s=a,i=c}return n}point(e,n,s,i,r){return n*(1-e)*(1-e)*(1-e)+3*s*(1-e)*(1-e)*e+3*i*(1-e)*e*e+r*e*e*e}}function b8e(t,e=250){let n=0,s=null,i,r,o;const a=()=>{n=Date.now(),s=null,i=t.apply(r,o),s||(r=null,o=[])};return function(...u){const d=Date.now(),f=e-(d-n);return r=this,o=u,f<=0||f>e?(s&&(clearTimeout(s),s=null),n=d,i=t.apply(r,o),s||(r=null,o=[])):s||(s=window.setTimeout(a,f)),i}}class dy{constructor(e,n={}){this.canvas=e,this.options=n,this._handleMouseDown=s=>{s.which===1&&(this._mouseButtonDown=!0,this._strokeBegin(s))},this._handleMouseMove=s=>{this._mouseButtonDown&&this._strokeMoveUpdate(s)},this._handleMouseUp=s=>{s.which===1&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(s))},this._handleTouchStart=s=>{if(s.preventDefault(),s.targetTouches.length===1){const i=s.changedTouches[0];this._strokeBegin(i)}},this._handleTouchMove=s=>{s.preventDefault();const i=s.targetTouches[0];this._strokeMoveUpdate(i)},this._handleTouchEnd=s=>{if(s.target===this.canvas){s.preventDefault();const r=s.changedTouches[0];this._strokeEnd(r)}},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._strokeMoveUpdate=this.throttle?b8e(dy.prototype._strokeUpdate,this.throttle):dy.prototype._strokeUpdate,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:e,canvas:n}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,n.width,n.height),e.fillRect(0,0,n.width,n.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,n={},s){const i=new Image,r=n.ratio||window.devicePixelRatio||1,o=n.width||this.canvas.width/r,a=n.height||this.canvas.height/r;this._reset(),i.onload=()=>{this._ctx.drawImage(i,0,0,o,a),s&&s()},i.onerror=c=>{s&&s(c)},i.src=e,this._isEmpty=!1}toDataURL(e="image/png",n){switch(e){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(e,n)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:n,curve:s})=>this._drawCurve({color:n,curve:s}),({color:n,point:s})=>this._drawDot({color:n,point:s})),this._data=e}toData(){return this._data}_strokeBegin(e){const n={color:this.penColor,points:[]};typeof this.onBegin=="function"&&this.onBegin(e),this._data.push(n),this._reset(),this._strokeUpdate(e)}_strokeUpdate(e){if(this._data.length===0){this._strokeBegin(e);return}const n=e.clientX,s=e.clientY,i=this._createPoint(n,s),r=this._data[this._data.length-1],o=r.points,a=o.length>0&&o[o.length-1],c=a?i.distanceTo(a)<=this.minDistance:!1,u=r.color;if(!a||!(a&&c)){const d=this._addPoint(i);a?d&&this._drawCurve({color:u,curve:d}):this._drawDot({color:u,point:i}),o.push({time:i.time,x:i.x,y:i.y})}}_strokeEnd(e){this._strokeUpdate(e),typeof this.onEnd=="function"&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,n){const s=this.canvas.getBoundingClientRect();return new uy(e-s.left,n-s.top,new Date().getTime())}_addPoint(e){const{_lastPoints:n}=this;if(n.push(e),n.length>2){n.length===3&&n.unshift(n[0]);const s=this._calculateCurveWidths(n[1],n[2]),i=MA.fromPoints(n,s);return n.shift(),i}return null}_calculateCurveWidths(e,n){const s=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(s),r={end:i,start:this._lastWidth};return this._lastVelocity=s,this._lastWidth=i,r}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,n,s){const i=this._ctx;i.moveTo(e,n),i.arc(e,n,s,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:n}){const s=this._ctx,i=n.endWidth-n.startWidth,r=Math.floor(n.length())*2;s.beginPath(),s.fillStyle=e;for(let o=0;o<r;o+=1){const a=o/r,c=a*a,u=c*a,d=1-a,f=d*d,h=f*d;let m=h*n.startPoint.x;m+=3*f*a*n.control1.x,m+=3*d*c*n.control2.x,m+=u*n.endPoint.x;let g=h*n.startPoint.y;g+=3*f*a*n.control1.y,g+=3*d*c*n.control2.y,g+=u*n.endPoint.y;const y=Math.min(n.startWidth+u*i,this.maxWidth);this._drawCurveSegment(m,g,y)}s.closePath(),s.fill()}_drawDot({color:e,point:n}){const s=this._ctx,i=typeof this.dotSize=="function"?this.dotSize():this.dotSize;s.beginPath(),this._drawCurveSegment(n.x,n.y,i),s.closePath(),s.fillStyle=e,s.fill()}_fromData(e,n,s){for(const i of e){const{color:r,points:o}=i;if(o.length>1)for(let a=0;a<o.length;a+=1){const c=o[a],u=new uy(c.x,c.y,c.time);this.penColor=r,a===0&&this._reset();const d=this._addPoint(u);d&&n({color:r,curve:d})}else this._reset(),s({color:r,point:o[0]})}}_toSVG(){const e=this._data,n=Math.max(window.devicePixelRatio||1,1),s=0,i=0,r=this.canvas.width/n,o=this.canvas.height/n,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:m,curve:g})=>{const y=document.createElement("path");if(!isNaN(g.control1.x)&&!isNaN(g.control1.y)&&!isNaN(g.control2.x)&&!isNaN(g.control2.y)){const b=`M ${g.startPoint.x.toFixed(3)},${g.startPoint.y.toFixed(3)} C ${g.control1.x.toFixed(3)},${g.control1.y.toFixed(3)} ${g.control2.x.toFixed(3)},${g.control2.y.toFixed(3)} ${g.endPoint.x.toFixed(3)},${g.endPoint.y.toFixed(3)}`;y.setAttribute("d",b),y.setAttribute("stroke-width",(g.endWidth*2.25).toFixed(3)),y.setAttribute("stroke",m),y.setAttribute("fill","none"),y.setAttribute("stroke-linecap","round"),a.appendChild(y)}},({color:m,point:g})=>{const y=document.createElement("circle"),b=typeof this.dotSize=="function"?this.dotSize():this.dotSize;y.setAttribute("r",b.toString()),y.setAttribute("cx",g.x.toString()),y.setAttribute("cy",g.y.toString()),y.setAttribute("fill",m),a.appendChild(y)});const c="data:image/svg+xml;base64,",u=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="${s} ${i} ${r} ${o}" width="${r}" height="${o}">`;let d=a.innerHTML;if(d===void 0){const m=document.createElement("dummy"),g=a.childNodes;m.innerHTML="";for(let y=0;y<g.length;y+=1)m.appendChild(g[y].cloneNode(!0));d=m.innerHTML}const h=u+d+"</svg>";return c+btoa(h)}}var y8e={format:"image/png",quality:.92,width:void 0,height:void 0,Canvas:void 0,crossOrigin:void 0},wN=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e={}),new Promise(function(n){e=Object.assign({},y8e,e);var s=e.Canvas?new e.Canvas:window.document.createElement("canvas"),i=e.Canvas?e.Canvas.Image:window.Image;e.Canvas&&(e.quality*=100);var r=t.map(function(a){return new Promise(function(c,u){a.constructor.name!=="Object"&&(a={src:a});var d=new i;d.crossOrigin=e.crossOrigin,d.onerror=function(){return u(new Error("Couldn't load image"))},d.onload=function(){return c(Object.assign({},a,{img:d}))},d.src=a.src})}),o=s.getContext("2d");n(Promise.all(r).then(function(a){var c=function(u){return e[u]||Math.max.apply(Math,a.map(function(d){return d.img[u]}))};return s.width=c("width"),s.height=c("height"),a.forEach(function(u){return o.globalAlpha=u.opacity?u.opacity:1,o.drawImage(u.img,u.x||0,u.y||0)}),e.Canvas&&e.format==="image/jpeg"?new Promise(function(u){s.toDataURL(e.format,{quality:e.quality,progressive:!1},function(d,f){if(d)throw d;u(f)})}):s.toDataURL(e.format,e.quality)}))})};const kE=["image/png","image/jpeg","image/svg+xml"],x8e=t=>kE.includes(t),_8e={dotSize:(.5+2.5)/2,minWidth:.5,maxWidth:2.5,throttle:16,minDistance:5,backgroundColor:"rgba(0,0,0,0)",penColor:"black",velocityFilterWeight:.7,onBegin:()=>{},onEnd:()=>{}},CN=t=>JSON.parse(JSON.stringify(t)),AN={src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",x:0,y:0};var k6=We({name:"VueSignaturePad",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},customStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},images:{type:Array,default:()=>[]},scaleToDevicePixelRatio:{type:Boolean,default:()=>!0}},data:()=>({signaturePad:{},cacheImages:[],signatureData:AN,onResizeHandler:null}),computed:{propsImagesAndCustomImages(){const t=CN(this.images),e=CN(this.cacheImages);return[...t,...e]}},watch:{options:function(t){Object.keys(t).forEach(e=>{this.signaturePad[e]&&(this.signaturePad[e]=t[e])})}},mounted(){const{options:t}=this,e=this.$refs.signaturePadCanvas,n=new dy(e,{..._8e,...t});this.signaturePad=n,t.resizeHandler&&(this.resizeCanvas=t.resizeHandler.bind(this)),this.onResizeHandler=this.resizeCanvas.bind(this),window.addEventListener("resize",this.onResizeHandler,!1),this.resizeCanvas()},beforeUnmount(){this.onResizeHandler&&window.removeEventListener("resize",this.onResizeHandler,!1)},methods:{resizeCanvas(){const t=this.$refs.signaturePadCanvas,e=this.signaturePad.toData(),n=this.scaleToDevicePixelRatio?Math.max(window.devicePixelRatio||1,1):1;t.width=t.offsetWidth*n,t.height=t.offsetHeight*n,t.getContext("2d").scale(n,n),this.signaturePad.clear(),this.signatureData=AN,this.signaturePad.fromData(e)},saveSignature(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kE[0],e=arguments.length>1?arguments[1]:void 0;const{signaturePad:n}=this,s={isEmpty:!1,data:void 0};if(!x8e(t)){const i=kE.join(", ");throw new Error(`The Image type is incorrect! We are support ${i} types.`)}return n.isEmpty()?{...s,isEmpty:!0}:(this.signatureData=n.toDataURL(t,e),{...s,data:this.signatureData})},undoSignature(){const{signaturePad:t}=this,e=t.toData();if(e)return t.fromData(e.slice(0,-1))},mergeImageAndSignature(t){return this.signatureData=t,wN([...this.images,...this.cacheImages,this.signatureData])},addImages(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.cacheImages=[...this.cacheImages,...t],wN([...this.images,...this.cacheImages,this.signatureData])},fromDataURL(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this.signaturePad.fromDataURL(t,e,n)},fromData(t){return this.signaturePad.fromData(t)},toData(){return this.signaturePad.toData()},lockSignaturePad(){return this.signaturePad.off()},openSignaturePad(){return this.signaturePad.on()},isEmpty(){return this.signaturePad.isEmpty()},getPropImagesAndCacheImages(){return this.propsImagesAndCustomImages},clearCacheImages(){return this.cacheImages=[],this.cacheImages},clearSignature(){return this.signaturePad.clear()}},render(){const{width:t,height:e,customStyle:n}=this;return so("div",{style:{width:t,height:e,...n}},[so("canvas",{style:{width:t,height:e},ref:"signaturePadCanvas"})])}});k6.__file="src/components/VueSignaturePad.vue";const S8e={class:"bg-white w-full max-w-[500px] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-scale-in"},E8e={class:"bg-slate-50 px-5 py-4 border-b border-slate-100 flex justify-between items-center"},w8e={class:"text-base font-bold text-slate-800 m-0 flex items-center gap-2"},C8e={class:"p-5 flex flex-col gap-4 bg-white"},A8e={class:"bg-blue-50 border border-blue-100 rounded-lg p-3"},k8e={class:"text-sm text-blue-800 m-0 text-center font-medium leading-relaxed"},T8e={class:"flex flex-col gap-2"},D8e={class:"relative border-2 border-dashed border-slate-300 rounded-xl bg-slate-50 overflow-hidden h-[220px] touch-none transition-colors hover:border-blue-300 group"},O8e={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none opacity-40 group-hover:opacity-60 transition-opacity"},R8e={class:"p-4 bg-slate-50 border-t border-slate-200 flex justify-end gap-3"},M8e=["disabled"],I8e={key:0,class:"i-fas-spinner animate-spin"},N8e={key:1,class:"i-fas-check"},P8e=We({__name:"AssinaturaModal",props:{titulo:{type:String,default:""},enderecoImovel:{type:String,default:""},isSaving:{type:Boolean,default:!1}},emits:["close","save"],setup(t,{emit:e}){const n=e,s=H(null),i=H(!1);it(()=>{r()});function r(){Ma(()=>{if(s.value){s.value.resizeCanvas();const u=s.value.$el;u.addEventListener("mousedown",()=>i.value=!0),u.addEventListener("touchstart",()=>i.value=!0)}})}function o(){s.value.clearSignature(),i.value=!1}function a(){n("close")}function c(){const{isEmpty:u,data:d}=s.value.saveSignature();if(u){alert("Por favor, faa sua assinatura antes de confirmar.");return}n("save",d)}return(u,d)=>(O(),R("div",{class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",onClick:wt(a,["self"])},[l("div",S8e,[l("div",E8e,[l("h3",w8e,[d[0]||(d[0]=l("div",{class:"i-fas-file-signature text-blue-600"},null,-1)),z(" "+F(t.titulo||"Coleta de Assinatura"),1)]),l("button",{onClick:a,class:"w-8 h-8 flex items-center justify-center rounded-full text-slate-400 hover:bg-slate-200 hover:text-red-500 transition-colors cursor-pointer border-none bg-transparent"},[...d[1]||(d[1]=[l("div",{class:"i-fas-times text-lg"},null,-1)])])]),l("div",C8e,[l("div",A8e,[l("p",k8e,F(t.enderecoImovel||"Confirmo a realizao da visita aos imveis selecionados."),1)]),l("div",T8e,[d[4]||(d[4]=l("label",{class:"text-xs font-bold text-slate-500 uppercase tracking-wide"},"Assine abaixo:",-1)),l("div",D8e,[be(Ve(k6),{width:"100%",height:"100%",ref_key:"signaturePad",ref:s,options:{penColor:"#1e293b",backgroundColor:"transparent"}},null,512),i.value?J("",!0):(O(),R("div",O8e,[...d[2]||(d[2]=[l("span",{class:"text-slate-400 font-medium flex items-center gap-2"},[l("div",{class:"i-fas-pen-alt"}),z(" Desenhe sua assinatura aqui ")],-1)])]))]),l("div",{class:"flex justify-end"},[l("button",{onClick:o,class:"text-xs font-semibold text-red-500 hover:text-red-700 bg-transparent border-none cursor-pointer flex items-center gap-1 py-1"},[...d[3]||(d[3]=[l("div",{class:"i-fas-eraser"},null,-1),z(" Limpar assinatura ",-1)])])])])]),l("div",R8e,[l("button",{onClick:a,class:"px-4 py-2.5 rounded-lg text-sm font-medium text-slate-600 bg-white border border-slate-200 hover:bg-slate-100 transition-colors cursor-pointer"}," Cancelar "),l("button",{onClick:c,class:"px-6 py-2.5 rounded-lg text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 shadow-sm hover:shadow transition-all cursor-pointer flex items-center gap-2 border-none disabled:opacity-70 disabled:cursor-not-allowed",disabled:t.isSaving},[t.isSaving?(O(),R("div",I8e)):(O(),R("div",N8e)),l("span",null,F(t.isSaving?"Salvando...":"Confirmar Assinatura"),1)],8,M8e)])])]))}}),IA=tt(P8e,[["__scopeId","data-v-91cd4b60"]]),$8e={class:"bg-white w-full max-w-2xl rounded-xl shadow-2xl flex flex-col max-h-[90vh] overflow-hidden animate-slide-up"},L8e={class:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50"},F8e={class:"text-xs text-slate-500 mt-1 flex items-center gap-2"},V8e={class:"font-mono bg-slate-200 px-1.5 rounded text-slate-600"},B8e={class:"p-6 overflow-y-auto flex flex-col gap-6"},U8e={class:"flex items-center gap-3"},H8e={class:"flex flex-col"},z8e={class:"flex gap-2"},j8e={key:0,class:"px-2 py-1 bg-white/60 rounded border border-emerald-200 text-[10px] font-bold text-emerald-700 flex items-center gap-1"},W8e={key:1,class:"px-2 py-1 bg-white/60 rounded border border-emerald-200 text-[10px] font-bold text-emerald-700 flex items-center gap-1"},G8e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q8e={class:"p-4 rounded-lg border border-slate-200 bg-white"},K8e={class:"flex flex-col gap-1"},Y8e={class:"font-bold text-slate-700 text-sm"},X8e=["href"],J8e=["href"],Q8e={class:"p-4 rounded-lg border border-slate-200 bg-white"},Z8e={class:"flex flex-col gap-1"},eze={class:"font-bold text-slate-700 text-sm"},tze={class:"flex flex-col gap-3"},nze={class:"flex-1 min-w-0"},sze={class:"flex justify-between items-start"},ize={class:"text-sm font-bold text-slate-700 truncate pr-2"},rze={key:0,class:"text-[10px] font-mono bg-white border border-slate-200 px-1.5 rounded text-slate-500"},oze={class:"text-xs text-slate-500 truncate mt-0.5"},aze={key:0},lze={class:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg border border-slate-100 italic"},cze={class:"p-4 bg-slate-50 border-t border-slate-200 flex flex-wrap justify-end gap-3"},uze={key:2,class:"flex items-center gap-2 px-4 py-2 bg-emerald-100 text-emerald-700 rounded-md font-bold text-sm border border-emerald-200 cursor-default"},dze=We({__name:"VisitaDetalhesModal",props:{show:{type:Boolean},visita:{}},emits:["close","iniciar-visita"],setup(t,{emit:e}){const n=t,s=e;function i(c){if(!c)return"-";try{return Et(Bn(c),"eeee, d 'de' MMMM 's' HH:mm",{locale:ys})}catch{return c}}function r(c){if(!c)return"-";try{return Et(Bn(c),"dd/MM/yyyy HH:mm")}catch{return"-"}}function o(){if(!n.visita?.id)return;const c=`${ce.defaults.baseURL}/v1/visitas/${n.visita.id}/pdf/`;window.open(c,"_blank")}function a(c){n.visita&&s("iniciar-visita",{visitaId:n.visita.id,imoveisIds:n.visita.imoveis_obj?.map(u=>u.id)||[],tipo:c})}return(c,u)=>t.show?(O(),R("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",onClick:u[4]||(u[4]=wt(d=>c.$emit("close"),["self"]))},[l("div",$8e,[l("div",L8e,[l("div",null,[u[6]||(u[6]=l("h2",{class:"text-lg font-bold text-slate-800 m-0"},"Detalhes da Visita",-1)),l("p",F8e,[l("span",V8e,"#"+F(t.visita?.id),1),u[5]||(u[5]=l("span",{class:"w-1 h-1 rounded-full bg-slate-300"},null,-1)),z(" "+F(i(t.visita?.data_visita)),1)])]),l("button",{onClick:u[0]||(u[0]=d=>c.$emit("close")),class:"w-8 h-8 flex items-center justify-center rounded-full text-slate-400 hover:bg-slate-100 hover:text-red-500 transition-colors cursor-pointer border-none bg-transparent"},[...u[7]||(u[7]=[l("div",{class:"i-fas-times text-lg"},null,-1)])])]),l("div",B8e,[l("div",{class:te(["flex items-center justify-between p-3 rounded-lg border",t.visita?.realizada?"bg-emerald-50 border-emerald-100":"bg-amber-50 border-amber-100"])},[l("div",U8e,[l("div",{class:te(["w-8 h-8 rounded-full flex items-center justify-center",t.visita?.realizada?"bg-emerald-100 text-emerald-600":"bg-amber-100 text-amber-600"])},[l("div",{class:te(t.visita?.realizada?"i-fas-check":"i-fas-clock")},null,2)],2),l("div",H8e,[l("span",{class:te(["text-xs font-bold uppercase tracking-wide",t.visita?.realizada?"text-emerald-700":"text-amber-700"])},F(t.visita?.realizada?"Visita Realizada":"Visita Pendente"),3),l("span",{class:te(["text-[11px] opacity-80",t.visita?.realizada?"text-emerald-700":"text-amber-700"])},F(t.visita?.realizada?"Concluda em "+r(t.visita?.data_assinatura||t.visita?.data_visita):"Aguardando realizao"),3)])]),l("div",z8e,[t.visita?.assinatura_cliente?(O(),R("div",j8e,[...u[8]||(u[8]=[l("div",{class:"i-fas-file-signature"},null,-1),z(" Cliente OK ",-1)])])):J("",!0),t.visita?.assinatura_corretor?(O(),R("div",W8e,[...u[9]||(u[9]=[l("div",{class:"i-fas-user-tie"},null,-1),z(" Corretor OK ",-1)])])):J("",!0)])],2),l("div",G8e,[l("div",q8e,[u[12]||(u[12]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2"},[l("div",{class:"i-fas-user text-blue-500"}),z(" Cliente ")],-1)),l("div",K8e,[l("span",Y8e,F(t.visita?.cliente_obj?.nome||"No informado"),1),t.visita?.cliente_obj?.telefone?(O(),R("a",{key:0,href:"tel:"+t.visita?.cliente_obj?.telefone,class:"text-xs text-slate-500 hover:text-blue-600 transition-colors flex items-center gap-1.5 decoration-none"},[u[10]||(u[10]=l("div",{class:"i-fas-phone text-[10px]"},null,-1)),z(" "+F(t.visita?.cliente_obj?.telefone),1)],8,X8e)):J("",!0),t.visita?.cliente_obj?.email?(O(),R("a",{key:1,href:"mailto:"+t.visita?.cliente_obj?.email,class:"text-xs text-slate-500 hover:text-blue-600 transition-colors flex items-center gap-1.5 decoration-none"},[u[11]||(u[11]=l("div",{class:"i-fas-envelope text-[10px]"},null,-1)),z(" "+F(t.visita?.cliente_obj?.email),1)],8,J8e)):J("",!0)])]),l("div",Q8e,[u[14]||(u[14]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2"},[l("div",{class:"i-fas-user-tie text-blue-500"}),z(" Corretor Responsvel ")],-1)),l("div",Z8e,[l("span",eze,F(t.visita?.corretor_nome||"No atribudo"),1),u[13]||(u[13]=l("span",{class:"text-xs text-slate-400"},"Imobiliria",-1))])])]),l("div",null,[u[16]||(u[16]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-2"},[l("div",{class:"i-fas-home text-blue-500"}),z(" Imveis no Roteiro ")],-1)),l("div",tze,[(O(!0),R(Me,null,je(t.visita?.imoveis_obj,d=>(O(),R("div",{key:d.id,class:"flex gap-3 p-3 rounded-lg border border-slate-100 bg-slate-50 hover:border-blue-200 transition-colors group"},[u[15]||(u[15]=l("div",{class:"w-10 h-10 rounded bg-white border border-slate-200 flex items-center justify-center shrink-0 text-slate-300"},[l("div",{class:"i-fas-building"})],-1)),l("div",nze,[l("div",sze,[l("h4",ize,F(d.titulo_anuncio||"Imvel sem ttulo"),1),d.codigo_referencia?(O(),R("span",rze,F(d.codigo_referencia),1)):J("",!0)]),l("p",oze,F(d.logradouro)+", "+F(d.numero)+" - "+F(d.bairro),1)])]))),128))])]),t.visita?.observacoes?(O(),R("div",aze,[u[17]||(u[17]=l("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2"},"Observaes",-1)),l("p",lze,' "'+F(t.visita.observacoes)+'" ',1)])):J("",!0)]),l("div",cze,[l("button",{onClick:u[1]||(u[1]=d=>c.$emit("close")),class:"px-4 py-2 rounded-md text-sm font-medium text-slate-600 bg-white border border-slate-300 hover:bg-slate-50 transition-all cursor-pointer"}," Fechar "),l("button",{onClick:o,class:"px-4 py-2 rounded-md text-sm font-medium text-slate-700 bg-white border border-slate-300 hover:bg-slate-50 hover:text-blue-600 hover:border-blue-300 transition-all cursor-pointer flex items-center gap-2 shadow-sm"},[...u[18]||(u[18]=[l("div",{class:"i-fas-file-pdf text-red-500"},null,-1),z(" Ficha de Visita ",-1)])]),t.visita?.assinatura_corretor?J("",!0):(O(),R("button",{key:0,onClick:u[2]||(u[2]=d=>a("CORRETOR")),class:"px-4 py-2 rounded-md text-sm font-medium text-white bg-slate-700 hover:bg-slate-800 transition-all cursor-pointer flex items-center gap-2 shadow-sm"},[...u[19]||(u[19]=[l("div",{class:"i-fas-pen-nib"},null,-1),z(" Assinar como Corretor ",-1)])])),t.visita?.assinatura_cliente?J("",!0):(O(),R("button",{key:1,onClick:u[3]||(u[3]=d=>a("CLIENTE")),class:"px-4 py-2 rounded-md text-sm font-bold text-white bg-blue-600 hover:bg-blue-700 transition-all cursor-pointer flex items-center gap-2 shadow-sm shadow-blue-200"},[...u[20]||(u[20]=[l("div",{class:"i-fas-file-signature"},null,-1),z(" Coletar Assinatura do Cliente ",-1)])])),t.visita?.assinatura_cliente&&t.visita?.assinatura_corretor?(O(),R("div",uze,[...u[21]||(u[21]=[l("div",{class:"i-fas-check-double"},null,-1),z(" Processo Concludo ",-1)])])):J("",!0)])])])):J("",!0)}}),fze=tt(dze,[["__scopeId","data-v-ebd9c7d6"]]),hze={class:"page-container"},pze={class:"page-header"},mze={class:"header-main"},gze={class:"actions-area"},vze={class:"kpi-grid"},bze={class:"kpi-content"},yze={class:"kpi-value"},xze={class:"kpi-content"},_ze={class:"kpi-value"},Sze={class:"kpi-content"},Eze={class:"kpi-value"},wze={class:"kpi-card bg-gray"},Cze={class:"kpi-content"},Aze={class:"kpi-value"},kze={class:"toolbar-row"},Tze={class:"filter-group search-group"},Dze={class:"input-with-icon"},Oze={class:"filter-group"},Rze={class:"report-main-wrapper"},Mze={key:0,class:"loading-state"},Ize={key:1,class:"error-message"},Nze={key:2,class:"empty-state"},Pze={key:3,class:"report-scroll-viewport"},$ze={class:"report-table"},Lze=["onClick"],Fze={class:"cell-date"},Vze={class:"date-main"},Bze={class:"date-sub"},Uze={class:"cell-imovel"},Hze=["title"],zze={class:"imovel-address"},jze={class:"cell-cliente"},Wze={class:"status-cell"},Gze={key:0,class:"badge-mini bg-blue-light",title:"Assinado Digitalmente"},qze={class:"actions-flex"},Kze=["onClick"],Yze=["onClick"],Xze=["onClick"],Jze={key:1,class:"disabled-wrapper"},Qze=["onClick"],Zze=We({__name:"VisitasView",setup(t){const e=H([]),n=H(!0),s=H(null),i=H(""),r=H(""),o=Ji.useToast(),a=H(!1),c=H(null),u=H(!1),d=H(!1),f=H(null),h=H([]),m=H("CORRETOR");function g(B){if(!B?.imoveis_obj||B.imoveis_obj.length===0)return"Nenhum imvel vinculado";const N=B.imoveis_obj[0],q=B.imoveis_obj.length;return q>1?`${N.titulo_anuncio||"Imvel Principal"} (+${q-1} outros)`:N.titulo_anuncio||"Imvel sem ttulo"}function y(B){if(!B?.imoveis_obj||B.imoveis_obj.length===0)return"Endereo no disponvel";const N=B.imoveis_obj[0];return`${N.logradouro||""}, ${N.numero||""}`}const b=we(()=>{const B=c.value?g(c.value):"";return`Assinatura do ${m.value==="CORRETOR"?"Corretor":"Cliente"} - ${B}`});function x(B){const N=`${ce.defaults.baseURL}/v1/visitas/${B}/pdf/`;window.open(N,"_blank")}const E=we(()=>{const B=e.value.length,N=e.value.filter(Le=>Le.realizada).length,q=B-N,W=new Date,Z=e.value.filter(Le=>{try{return XZ(Bn(Le.data_visita),W)}catch{return!1}}).length;return{total:B,realizadas:N,pendentes:q,hoje:Z}}),C=we(()=>e.value.filter(B=>{const N=i.value.toLowerCase(),q=!r.value||r.value==="REALIZADA"&&B.realizada||r.value==="PENDENTE"&&!B.realizada;let W=!1;if(!N)W=!0;else{const Z=(B.cliente_obj?.nome?.toLowerCase()||"").includes(N),Le=B.imoveis_obj?.some(ge=>(ge.titulo_anuncio?.toLowerCase()||"").includes(N)||(ge.logradouro?.toLowerCase()||"").includes(N)||(ge.bairro?.toLowerCase()||"").includes(N));W=Z||Le}return q&&W}));function _(B){try{return Et(Bn(B),"dd/MM/yyyy",{locale:ys})}catch{return"-"}}function T(B){try{return Et(Bn(B),"HH:mm")}catch{return"-"}}async function k(){n.value=!0,s.value=null;try{const B=await ce.get("/v1/visitas/");e.value=B.data}catch(B){console.error("Erro visitas:",B),s.value="No foi possvel carregar as visitas."}finally{n.value=!1}}async function $(B){if(window.confirm("Cancelar este agendamento?"))try{await ce.delete(`/v1/visitas/${B}/`),e.value=e.value.filter(N=>N.id!==B),o.success("Agendamento cancelado.")}catch{o.error("Erro ao cancelar.")}}function M(){i.value="",r.value=""}function P(B){f.value=B,d.value=!0}function V(){d.value=!1,f.value=null}function I(B){const{visitaId:N,imoveisIds:q,tipo:W}=B,Z=e.value.find(Le=>Le.id===N);Z&&(h.value=q,m.value=W,V(),w(Z,!0))}function w(B,N=!1){c.value=B,N||(B.imoveis_obj&&(h.value=B.imoveis_obj.map(q=>q.id)),m.value="CLIENTE"),a.value=!0}function D(){a.value=!1,c.value=null,h.value=[]}async function A(B){if(!c.value)return;u.value=!0;let N="";if(navigator.geolocation)try{const ge=await new Promise((qe,lt)=>{navigator.geolocation.getCurrentPosition(qe,lt,{timeout:4e3})});N=`${ge.coords.latitude}, ${ge.coords.longitude}`}catch{}const W=await(await fetch(B)).blob(),Z=new File([W],"assinatura.png",{type:"image/png"}),Le=new FormData;m.value==="CORRETOR"?(Le.append("assinatura_corretor",Z),Le.append("data_assinatura_corretor",new Date().toISOString())):(Le.append("assinatura_cliente",Z),Le.append("data_assinatura",new Date().toISOString()),Le.append("realizada","true")),N&&Le.append("localizacao_assinatura",N),h.value.forEach(ge=>Le.append("imoveis",ge.toString()));try{const ge=await ce.patch(`/v1/visitas/${c.value.id}/`,Le,{headers:{"Content-Type":"multipart/form-data"}}),qe=e.value.findIndex(lt=>lt.id===c.value.id);qe!==-1&&(e.value[qe]={...e.value[qe],...ge.data}),o.success("Assinatura salva com sucesso!"),D(),P(e.value[qe])}catch{o.error("Erro ao salvar assinatura.")}finally{u.value=!1}}return it(k),(B,N)=>{const q=on("router-link");return O(),R("div",hze,[l("header",pze,[l("div",mze,[N[7]||(N[7]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Agenda"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Visitas")]),l("h1",null,"Gerenciar Visitas")],-1)),l("div",gze,[l("button",{class:"btn-icon-thin",onClick:k,title:"Atualizar Lista"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":n.value}])},null,2)]),be(q,{to:{name:"visita-nova"},class:"btn-primary-thin"},{default:Pe(()=>[...N[6]||(N[6]=[l("i",{class:"fas fa-plus"},null,-1),z(" Novo Agendamento ",-1)])]),_:1})])])]),l("div",vze,[l("div",{class:te(["kpi-card blue",{active:r.value===""}]),onClick:N[0]||(N[0]=W=>r.value="")},[l("div",bze,[l("span",yze,F(E.value.total),1),N[8]||(N[8]=l("span",{class:"kpi-label"},"Total Visitas",-1))]),N[9]||(N[9]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-calendar-check"})],-1))],2),l("div",{class:te(["kpi-card orange",{active:r.value==="PENDENTE"}]),onClick:N[1]||(N[1]=W=>r.value="PENDENTE")},[l("div",xze,[l("span",_ze,F(E.value.pendentes),1),N[10]||(N[10]=l("span",{class:"kpi-label"},"Pendentes",-1))]),N[11]||(N[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-clock"})],-1))],2),l("div",{class:te(["kpi-card green",{active:r.value==="REALIZADA"}]),onClick:N[2]||(N[2]=W=>r.value="REALIZADA")},[l("div",Sze,[l("span",Eze,F(E.value.realizadas),1),N[12]||(N[12]=l("span",{class:"kpi-label"},"Realizadas",-1))]),N[13]||(N[13]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-check-circle"})],-1))],2),l("div",wze,[l("div",Cze,[l("span",Aze,F(E.value.hoje),1),N[14]||(N[14]=l("span",{class:"kpi-label"},"Hoje",-1))]),N[15]||(N[15]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-calendar-day"})],-1))])]),l("div",kze,[l("div",Tze,[N[17]||(N[17]=l("label",null,"Buscar",-1)),l("div",Dze,[N[16]||(N[16]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":N[3]||(N[3]=W=>i.value=W),placeholder:"Cliente, imvel, bairro...",class:"form-control"},null,512),[[de,i.value]])])]),l("div",Oze,[N[19]||(N[19]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":N[4]||(N[4]=W=>r.value=W),class:"form-control"},[...N[18]||(N[18]=[l("option",{value:""},"Todos",-1),l("option",{value:"PENDENTE"},"Pendente",-1),l("option",{value:"REALIZADA"},"Realizada",-1)])],512),[[xt,r.value]])]),l("div",{class:"filter-group small-btn"},[N[21]||(N[21]=l("label",null,"",-1)),l("button",{onClick:M,class:"btn-clear",title:"Limpar Filtros"},[...N[20]||(N[20]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",Rze,[n.value?(O(),R("div",Mze,[...N[22]||(N[22]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando visitas...",-1)])])):s.value?(O(),R("div",Ize,F(s.value),1)):C.value.length===0?(O(),R("div",Nze,[...N[23]||(N[23]=[l("i",{class:"fas fa-filter"},null,-1),l("p",null,"Nenhuma visita encontrada com os filtros selecionados.",-1)])])):(O(),R("div",Pze,[l("table",$ze,[N[34]||(N[34]=l("thead",null,[l("tr",null,[l("th",{width:"15%"},"Agendamento"),l("th",{width:"30%"},"Imvel"),l("th",{width:"20%"},"Cliente"),l("th",{width:"15%"},"Status"),l("th",{width:"20%",class:"text-right"},"Aes")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(C.value,W=>(O(),R("tr",{key:W.id,onClick:Z=>P(W),class:"clickable-row"},[l("td",null,[l("div",Fze,[l("span",Vze,F(_(W.data_visita)),1),l("span",Bze,[N[24]||(N[24]=l("i",{class:"far fa-clock"},null,-1)),z(" "+F(T(W.data_visita))+"  #"+F(W.id),1)])])]),l("td",null,[l("div",Uze,[l("span",{class:"imovel-title",title:g(W)},F(g(W)),9,Hze),l("span",zze,[N[25]||(N[25]=l("i",{class:"fas fa-map-marker-alt"},null,-1)),z(" "+F(y(W)),1)])])]),l("td",null,[l("div",jze,[N[26]||(N[26]=l("i",{class:"far fa-user"},null,-1)),l("span",null,F(W.cliente_obj?.nome||"No informado"),1)])]),l("td",null,[l("div",Wze,[l("span",{class:te(["badge-type",W.realizada?"bg-green":"bg-orange"])},F(W.realizada?"Realizada":"Pendente"),3),W.assinatura_cliente&&W.assinatura_corretor?(O(),R("span",Gze,[...N[27]||(N[27]=[l("i",{class:"fas fa-check-double"},null,-1),z(" Assinado ",-1)])])):J("",!0)])]),l("td",{class:"text-right",onClick:N[5]||(N[5]=wt(()=>{},["stop"]))},[l("div",qze,[W.assinatura_cliente&&W.assinatura_corretor?J("",!0):(O(),R("button",{key:0,onClick:Z=>P(W),class:"btn-action sign",title:"Assinar"},[...N[28]||(N[28]=[l("i",{class:"fas fa-file-signature"},null,-1)])],8,Kze)),l("button",{class:"btn-action pdf",onClick:Z=>x(W.id),title:"Gerar PDF"},[...N[29]||(N[29]=[l("i",{class:"fas fa-file-pdf"},null,-1)])],8,Yze),l("button",{class:"btn-action view",onClick:Z=>P(W),title:"Ver Detalhes"},[...N[30]||(N[30]=[l("i",{class:"fas fa-eye"},null,-1)])],8,Xze),W.assinatura_cliente||W.assinatura_corretor?(O(),R("div",Jze,[...N[31]||(N[31]=[l("button",{class:"btn-action edit disabled",disabled:""},[l("i",{class:"fas fa-pen"})],-1)])])):(O(),is(q,{key:2,to:`/visitas/editar/${W.id}`,class:"btn-action edit",title:"Editar"},{default:Pe(()=>[...N[32]||(N[32]=[l("i",{class:"fas fa-pen"},null,-1)])]),_:1},8,["to"])),l("button",{class:"btn-action delete",onClick:Z=>$(W.id),title:"Cancelar"},[...N[33]||(N[33]=[l("i",{class:"fas fa-trash"},null,-1)])],8,Qze)])])],8,Lze))),128))])])]))]),a.value?(O(),is(IA,{key:0,enderecoImovel:b.value,isSaving:u.value,onClose:D,onSave:A},null,8,["enderecoImovel","isSaving"])):J("",!0),d.value?(O(),is(fze,{key:1,show:d.value,visita:f.value,onClose:V,onIniciarVisita:I},null,8,["show","visita"])):J("",!0)])}}}),eje=tt(Zze,[["__scopeId","data-v-374c4f00"]]),tje=We({name:"VistoriaDetalhesModal",components:{AssinaturaModal:IA},props:{show:{type:Boolean,required:!0},vistoriaId:{type:Number,default:null}},emits:["close","refresh"],setup(t,{emit:e}){const n=H(null),s=H(!1),i=H(!1),r=H("overview"),o=H(!1),a=H(null),c=H(""),u=H(""),d=H(!1),f=async()=>{if(t.vistoriaId){s.value=!0;try{const T=await ce.get(`/v1/vistorias/vistorias/${t.vistoriaId}/`);n.value=T.data}catch(T){console.error("Erro:",T)}finally{s.value=!1}}};Rn(()=>t.show,T=>{T&&(r.value="overview",f())});const h=we(()=>n.value?.ambientes?n.value.ambientes.reduce((T,k)=>T+k.itens.length,0):0),m=we(()=>{if(!n.value?.ambientes)return 0;let T=0;return n.value.ambientes.forEach(k=>{T+=k.itens.filter($=>["RUIM","INOPERANTE","REGULAR"].includes($.estado)).length}),T}),g=we(()=>{if(!n.value?.ambientes)return[];const T=[];return n.value.ambientes.forEach(k=>{k.itens.forEach($=>{$.fotos&&$.fotos.forEach(M=>{T.push({url:M.url||M.imagem,ambiente:k.nome,item:$.item})})})}),T});return{vistoria:n,loading:s,downloading:i,activeTab:r,formatDate:_Se,totalItens:h,itensAvariados:m,allPhotos:g,getStatusClass:T=>({NOVO:"s-success",BOM:"s-primary",REGULAR:"s-warning",RUIM:"s-danger",INOPERANTE:"s-dark"})[T]||"s-secondary",getTipoClass:T=>T==="ENTRADA"?"badge-entrada":T==="SAIDA"?"badge-saida":"badge-periodica",downloadLaudo:async()=>{i.value=!0;try{const T=await ce.get(`/v1/vistorias/vistorias/${t.vistoriaId}/gerar-laudo/`,{responseType:"blob"}),k=window.URL.createObjectURL(new Blob([T.data])),$=document.createElement("a");$.href=k,$.download=`Laudo_${t.vistoriaId}.pdf`,document.body.appendChild($),$.click(),$.remove()}catch{alert("Erro ao gerar PDF.")}finally{i.value=!1}},viewPhoto:T=>window.open(T,"_blank"),showSignatureModal:o,signatureTitle:c,signatureTerm:u,isSavingSignature:d,openSignature:T=>{a.value=T,T==="locatario"?(c.value="Assinatura do Locatrio",u.value="Declaro estar de acordo com o estado do imvel descrito neste laudo."):T==="responsavel"?(c.value="Assinatura do Vistoriador",u.value="Declaro que realizei a vistoria e as informaes so verdadeiras."):(c.value="Assinatura do Proprietrio",u.value="Declaro estar ciente e de acordo com o laudo apresentado."),o.value=!0},handleSaveSignature:async T=>{if(!n.value||!a.value)return;d.value=!0;const $=await(await fetch(T)).blob(),M=new FormData;a.value==="locatario"?M.append("assinatura_locatario",$,"sig.png"):a.value==="responsavel"?M.append("assinatura_responsavel",$,"sig.png"):M.append("assinatura_proprietario",$,"sig.png");try{await ce.patch(`/v1/vistorias/vistorias/${n.value.id}/`,M,{headers:{"Content-Type":void 0}}),o.value=!1,f()}catch{alert("Erro ao salvar assinatura.")}finally{d.value=!1}}}}}),nje={class:"modal-window"},sje={class:"modal-header"},ije={class:"header-left"},rje={class:"text-muted ms-2",style:{"font-size":"0.9rem"}},oje={class:"modal-tabs"},aje={key:0,class:"modal-content-body"},lje={key:1,class:"modal-content-body"},cje={key:0,class:"tab-pane fade-in"},uje={class:"stats-grid"},dje={class:"stat-box"},fje=["title"],hje={class:"text-muted"},pje={class:"stat-box"},mje={class:"val"},gje={key:0,class:"text-success"},vje={key:1,class:"text-warning"},bje={class:"text-muted"},yje={class:"stat-box"},xje={class:"d-flex gap-3"},_je={class:"text-center"},Sje={class:"d-block text-dark h5 mb-0"},Eje={class:"text-center"},wje={class:"d-block text-danger h5 mb-0"},Cje={class:"section-block"},Aje={class:"signatures-container"},kje={class:"sig-icon"},Tje={class:"sig-info"},Dje={key:0},Oje={key:1},Rje={class:"sig-icon"},Mje={class:"sig-info"},Ije={key:0},Nje={key:1},Pje={class:"sig-icon"},$je={class:"sig-info"},Lje={key:0},Fje={key:1},Vje={key:1,class:"sig-card disabled"},Bje={class:"section-block"},Uje={class:"obs-box"},Hje={key:1,class:"tab-pane fade-in"},zje={key:0,class:"empty-tab"},jje={key:1,class:"accordion-list"},Wje={class:"acc-header"},Gje={class:"acc-title"},qje={class:"badge bg-light text-dark border"},Kje={class:"acc-body"},Yje={key:0,class:"text-muted small fst-italic p-2"},Xje={key:1,class:"items-table-wrapper"},Jje={class:"items-table"},Qje={class:"fw-bold"},Zje={class:"text-muted small"},e7e={key:0,class:"d-flex align-items-center gap-1"},t7e={key:1,class:"text-muted"},n7e={key:2,class:"tab-pane fade-in"},s7e={key:0,class:"empty-tab"},i7e={key:1,class:"gallery-grid"},r7e=["onClick"],o7e=["src"],a7e={class:"photo-overlay"},l7e={class:"modal-footer"},c7e=["href"],u7e=["disabled"],d7e={key:0,class:"fas fa-spinner fa-spin"},f7e={key:1,class:"fas fa-file-pdf"};function h7e(t,e,n,s,i,r){const o=on("AssinaturaModal");return t.show?(O(),R("div",{key:0,class:"modal-backdrop",onClick:e[9]||(e[9]=wt(a=>t.$emit("close"),["self"]))},[l("div",nje,[l("div",sje,[l("div",ije,[l("span",{class:te(["badge-type",t.getTipoClass(t.vistoria?.tipo)])},F(t.vistoria?.tipo_display),3),l("h3",null,"Vistoria #"+F(t.vistoria?.id),1),l("span",rje,[e[10]||(e[10]=l("i",{class:"far fa-calendar me-1"},null,-1)),z(" "+F(t.formatDate(t.vistoria?.data_vistoria)),1)])]),l("button",{class:"btn-close",onClick:e[0]||(e[0]=a=>t.$emit("close"))},[...e[11]||(e[11]=[l("i",{class:"fas fa-times"},null,-1)])])]),l("div",oje,[l("button",{class:te(["tab-btn",{active:t.activeTab==="overview"}]),onClick:e[1]||(e[1]=a=>t.activeTab="overview")},[...e[12]||(e[12]=[l("i",{class:"fas fa-chart-pie me-2"},null,-1),z(" Viso Geral ",-1)])],2),l("button",{class:te(["tab-btn",{active:t.activeTab==="checklist"}]),onClick:e[2]||(e[2]=a=>t.activeTab="checklist")},[e[13]||(e[13]=l("i",{class:"fas fa-list-check me-2"},null,-1)),z(" Checklist ("+F(t.totalItens)+") ",1)],2),l("button",{class:te(["tab-btn",{active:t.activeTab==="gallery"}]),onClick:e[3]||(e[3]=a=>t.activeTab="gallery")},[...e[14]||(e[14]=[l("i",{class:"fas fa-images me-2"},null,-1),z(" Galeria ",-1)])],2)]),t.loading?(O(),R("div",aje,[...e[15]||(e[15]=[l("div",{class:"loading-state"},[l("div",{class:"spinner"}),z(" Carregando...")],-1)])])):(O(),R("div",lje,[t.activeTab==="overview"?(O(),R("div",cje,[l("div",uje,[l("div",dje,[e[17]||(e[17]=l("label",null,"Imvel / Contrato",-1)),l("div",{class:"val text-truncate",title:t.vistoria.imovel_display},[e[16]||(e[16]=l("i",{class:"fas fa-map-marker-alt text-primary me-1"},null,-1)),z(" "+F(t.vistoria.imovel_display),1)],8,fje),l("small",hje,"Contrato #"+F(t.vistoria.contrato),1)]),l("div",pje,[e[20]||(e[20]=l("label",null,"Status Geral",-1)),l("div",mje,[t.vistoria.concluida?(O(),R("span",gje,[...e[18]||(e[18]=[l("i",{class:"fas fa-check-circle"},null,-1),z(" Concluda",-1)])])):(O(),R("span",vje,[...e[19]||(e[19]=[l("i",{class:"fas fa-clock"},null,-1),z(" Em Andamento",-1)])]))]),l("small",bje,F(t.vistoria.realizado_por_nome||"Vistoriador no informado"),1)]),l("div",yje,[e[23]||(e[23]=l("label",null,"Resumo de Itens",-1)),l("div",xje,[l("div",_je,[l("strong",Sje,F(t.totalItens),1),e[21]||(e[21]=l("small",{class:"text-muted",style:{"font-size":"0.7rem"}},"TOTAL",-1))]),l("div",Eje,[l("strong",wje,F(t.itensAvariados),1),e[22]||(e[22]=l("small",{class:"text-muted",style:{"font-size":"0.7rem"}},"AVARIAS",-1))])])])]),l("div",Cje,[e[28]||(e[28]=l("h5",{class:"section-title"},[l("i",{class:"fas fa-file-signature"}),z(" Assinaturas Digitais")],-1)),l("div",Aje,[l("div",{class:te(["sig-card",t.vistoria.assinatura_responsavel?"signed":"pending"])},[l("div",kje,[l("i",{class:te(t.vistoria.assinatura_responsavel?"fas fa-check":"fas fa-pen")},null,2)]),l("div",Tje,[e[24]||(e[24]=l("strong",null,"Vistoriador",-1)),t.vistoria.assinatura_responsavel?(O(),R("span",Dje,"Assinado")):(O(),R("span",Oje,"Pendente"))]),t.vistoria.assinatura_responsavel?J("",!0):(O(),R("button",{key:0,class:"btn-sig-action",onClick:e[4]||(e[4]=a=>t.openSignature("responsavel"))},"Assinar"))],2),l("div",{class:te(["sig-card",t.vistoria.assinatura_locatario?"signed":"pending"])},[l("div",Rje,[l("i",{class:te(t.vistoria.assinatura_locatario?"fas fa-check":"fas fa-pen")},null,2)]),l("div",Mje,[e[25]||(e[25]=l("strong",null,"Locatrio",-1)),t.vistoria.assinatura_locatario?(O(),R("span",Ije,"Assinado")):(O(),R("span",Nje,"Pendente"))]),t.vistoria.assinatura_locatario?J("",!0):(O(),R("button",{key:0,class:"btn-sig-action",onClick:e[5]||(e[5]=a=>t.openSignature("locatario"))},"Assinar"))],2),t.vistoria.exige_assinatura_proprietario?(O(),R("div",{key:0,class:te(["sig-card",t.vistoria.assinatura_proprietario?"signed":"pending"])},[l("div",Pje,[l("i",{class:te(t.vistoria.assinatura_proprietario?"fas fa-check":"fas fa-pen")},null,2)]),l("div",$je,[e[26]||(e[26]=l("strong",null,"Proprietrio",-1)),t.vistoria.assinatura_proprietario?(O(),R("span",Lje,"Assinado")):(O(),R("span",Fje,"Pendente"))]),t.vistoria.assinatura_proprietario?J("",!0):(O(),R("button",{key:0,class:"btn-sig-action",onClick:e[6]||(e[6]=a=>t.openSignature("proprietario"))},"Assinar"))],2)):(O(),R("div",Vje,[...e[27]||(e[27]=[l("div",{class:"sig-icon"},[l("i",{class:"fas fa-ban"})],-1),l("div",{class:"sig-info"},[l("strong",null,"Proprietrio"),l("span",null,"No exigido")],-1)])]))])]),l("div",Bje,[e[29]||(e[29]=l("h5",{class:"section-title"},"Observaes Gerais",-1)),l("p",Uje,F(t.vistoria.observacoes||"Nenhuma observao geral registrada."),1)])])):J("",!0),t.activeTab==="checklist"?(O(),R("div",Hje,[!t.vistoria.ambientes||t.vistoria.ambientes.length===0?(O(),R("div",zje,[...e[30]||(e[30]=[l("i",{class:"fas fa-clipboard-list"},null,-1),l("p",null,"Nenhum ambiente cadastrado.",-1)])])):(O(),R("div",jje,[(O(!0),R(Me,null,je(t.vistoria.ambientes,a=>(O(),R("div",{key:a.id,class:"acc-item"},[l("div",Wje,[l("span",Gje,F(a.nome),1),l("span",qje,F(a.itens.length)+" itens",1)]),l("div",Kje,[a.itens.length===0?(O(),R("div",Yje,"Sem itens avaliados.")):(O(),R("div",Xje,[l("table",Jje,[e[32]||(e[32]=l("thead",null,[l("tr",null,[l("th",null,"Item"),l("th",null,"Estado"),l("th",null,"Obs/Avarias"),l("th",null,"Fotos")])],-1)),l("tbody",null,[(O(!0),R(Me,null,je(a.itens,c=>(O(),R("tr",{key:c.id},[l("td",Qje,F(c.item),1),l("td",null,[l("span",{class:te(["status-dot-badge",t.getStatusClass(c.estado)])},F(c.estado),3)]),l("td",Zje,F(c.descricao_avaria||"-"),1),l("td",null,[c.fotos&&c.fotos.length?(O(),R("div",e7e,[e[31]||(e[31]=l("i",{class:"fas fa-camera text-primary"},null,-1)),z(" "+F(c.fotos.length),1)])):(O(),R("span",t7e,"-"))])]))),128))])])]))])]))),128))]))])):J("",!0),t.activeTab==="gallery"?(O(),R("div",n7e,[t.allPhotos.length===0?(O(),R("div",s7e,[...e[33]||(e[33]=[l("i",{class:"fas fa-images"},null,-1),l("p",null,"Nenhuma foto registrada nesta vistoria.",-1)])])):(O(),R("div",i7e,[(O(!0),R(Me,null,je(t.allPhotos,(a,c)=>(O(),R("div",{key:c,class:"gallery-item",onClick:u=>t.viewPhoto(a.url)},[l("img",{src:a.url,loading:"lazy"},null,8,o7e),l("div",a7e,[l("span",null,F(a.ambiente)+" - "+F(a.item),1)])],8,r7e))),128))]))])):J("",!0)])),l("div",l7e,[t.vistoria.arquivo_laudo_assinado?(O(),R("a",{key:0,href:t.vistoria.arquivo_laudo_assinado,target:"_blank",class:"btn-footer secondary"},[...e[34]||(e[34]=[l("i",{class:"fas fa-download"},null,-1),z(" Baixar Assinado ",-1)])],8,c7e)):J("",!0),l("button",{class:"btn-footer primary",onClick:e[7]||(e[7]=(...a)=>t.downloadLaudo&&t.downloadLaudo(...a)),disabled:t.downloading},[t.downloading?(O(),R("i",d7e)):(O(),R("i",f7e)),e[35]||(e[35]=z(" Gerar PDF ",-1))],8,u7e)])]),t.showSignatureModal?(O(),is(o,{key:0,titulo:t.signatureTitle,termo:t.signatureTerm,isSaving:t.isSavingSignature,onClose:e[8]||(e[8]=a=>t.showSignatureModal=!1),onSave:t.handleSaveSignature},null,8,["titulo","termo","isSaving","onSave"])):J("",!0)])):J("",!0)}const p7e=tt(tje,[["render",h7e],["__scopeId","data-v-4f0ef71a"]]),m7e={class:"page-container"},g7e={class:"page-header"},v7e={class:"header-main"},b7e={class:"actions-area"},y7e={class:"kpi-grid"},x7e={class:"kpi-card blue"},_7e={class:"kpi-content"},S7e={class:"kpi-value"},E7e={class:"kpi-card orange"},w7e={class:"kpi-content"},C7e={class:"kpi-value"},A7e={class:"kpi-card purple"},k7e={class:"kpi-content"},T7e={class:"kpi-value"},D7e={class:"kpi-card green"},O7e={class:"kpi-content"},R7e={class:"kpi-value"},M7e={class:"toolbar-grid"},I7e={class:"filter-cell search-cell"},N7e={class:"input-with-icon"},P7e={class:"filter-cell"},$7e={class:"content-wrapper"},L7e={key:0,class:"state-container"},F7e={key:1,class:"state-container empty"},V7e={key:2,class:"cards-grid"},B7e={class:"card-header"},U7e={class:"header-row"},H7e={class:"badge-contrato"},z7e=["title"],j7e={class:"people-section"},W7e=["title"],G7e={class:"person-info"},q7e={class:"person-name"},K7e=["title"],Y7e={class:"person-info"},X7e={class:"person-name"},J7e={class:"card-body"},Q7e={class:"vistoria-column column-entrada"},Z7e={class:"col-header"},e9e={key:0,class:"vistoria-details"},t9e={class:"detail-row"},n9e={class:"signatures-mini"},s9e={class:"sig-dots"},i9e={class:"actions-row"},r9e=["onClick"],o9e=["onClick"],a9e=["onClick"],l9e=["onClick"],c9e={key:1,class:"empty-column"},u9e={class:"vistoria-column column-saida"},d9e={class:"col-header"},f9e={key:0,class:"vistoria-details"},h9e={class:"detail-row"},p9e={class:"signatures-mini"},m9e={class:"sig-dots"},g9e={class:"actions-row"},v9e=["onClick"],b9e=["onClick"],y9e=["onClick"],x9e={key:1,class:"empty-column"},_9e={key:0,class:"card-footer"},S9e={class:"footer-chips"},E9e=["onClick"],w9e=We({__name:"VistoriasView",setup(t){const e=an(),n=H([]),s=H([]),i=H(!0),r=H(""),o=H(null),a=H(!1),c=H(null),u=H(!1),d=H(!1),f=H(""),h=H(null),m=H([]),g=we(()=>{const B=n.value.length,N=n.value.filter(Z=>Z.concluida&&!A(Z)).length,q=n.value.filter(Z=>Z.concluida).length,W=n.value.filter(Z=>!Z.concluida).length;return{total:B,assinaturasPendentes:N,concluidas:q,abertas:W}}),y=we(()=>{if(!n.value||!Array.isArray(n.value))return[];const B={};return n.value.forEach(N=>{if(!N||!N.contrato)return;const q=N.contrato;if(!B[q]){const W=s.value.find(Z=>Z.id===q);B[q]={contratoId:q,imovelDisplay:W?W.imovel_display:N.imovel_display||`Contrato #${q}`,locatario:W?W.locatario_nome:"Carregando...",locador:W?W.locador_nome:"Carregando...",entrada:null,saida:null,periodicas:[]}}N.tipo==="ENTRADA"?B[q].entrada=N:N.tipo==="SAIDA"?B[q].saida=N:B[q].periodicas.push(N)}),Object.values(B).sort((N,q)=>q.contratoId-N.contratoId)}),b=async()=>{try{const B=await ce.get("/v1/contratos/"),N=B.data.results||B.data;s.value=N.map(q=>{let W=`Imvel #${q.imovel}`;return q.imovel_detalhes&&(q.imovel_detalhes.endereco_completo?W=q.imovel_detalhes.endereco_completo:q.imovel_detalhes.logradouro&&(W=`${q.imovel_detalhes.logradouro}, ${q.imovel_detalhes.numero||""}`)),{id:q.id,imovel_display:W,locatario_nome:q.inquilino_detalhes?.nome_display||q.inquilino_detalhes?.nome||"N/D",locador_nome:q.proprietario_detalhes?.nome_display||q.proprietario_detalhes?.nome||"N/D"}})}catch(B){console.error("Erro ao carregar contratos:",B)}},x=async()=>{i.value=!0;try{const B={};o.value&&(B.tipo=o.value),r.value&&(B.search=r.value);const q=(await ce.get("/v1/vistorias/vistorias/",{params:B})).data;n.value=q.results?q.results:Array.isArray(q)?q:[]}catch{n.value=[]}finally{i.value=!1}};let E=null;const C=()=>{E&&clearTimeout(E),E=setTimeout(()=>x(),500)},_=()=>{r.value="",o.value=null,x()},T=()=>{e.push({name:"vistoria-nova"})},k=B=>{e.push({name:"vistoria-checklist",params:{id:B}})},$=B=>{c.value=B,a.value=!0},M=()=>{a.value=!1,c.value=null,x()},P=B=>{h.value=B.id;const N=s.value.find(W=>W.id===B.contrato);f.value=N?N.imovel_display:B.imovel_display||"Imvel da Vistoria";const q=[{label:`Locatrio: ${N?N.locatario_nome:"Locatrio"}`,value:"LOCATARIO",signed:!!B.assinatura_locatario},{label:`Vistoriador: ${B.realizado_por_nome||"Vistoriador"}`,value:"RESPONSAVEL",signed:!!B.assinatura_responsavel}];B.exige_assinatura_proprietario&&q.push({label:`Locador: ${N?N.locador_nome:"Locador"}`,value:"PROPRIETARIO",signed:!!B.assinatura_proprietario}),m.value=q,u.value=!0},V=()=>{u.value=!1,h.value=null,m.value=[]},I=async B=>{if(h.value){d.value=!0;try{await ce.post(`/v1/vistorias/vistorias/${h.value}/assinar/`,{assinatura:B.signatureData,tipo_assinante:B.tipoAssinante}),alert("Assinatura salva com sucesso!"),await x(),V()}catch(N){alert(N.response?.data?.detail||"Erro ao salvar assinatura.")}finally{d.value=!1}}},w=async B=>{if(confirm(`Gerar a Vistoria de Sada baseada na Entrada #${B.id}?`))try{i.value=!0;const N=await ce.post(`/v1/vistorias/vistorias/${B.id}/gerar-saida-da-entrada/`,{data_vistoria:new Date().toISOString().split("T")[0]});k(N.data.id)}catch(N){alert(N.response?.data?.error||"Erro ao gerar vistoria de sada."),i.value=!1}},D=B=>{if(!B)return"--/--";try{return Et(new Date(B),"dd/MM/yyyy")}catch{return B}},A=B=>!!B.assinatura_locatario&&!!B.assinatura_responsavel&&(!B.exige_assinatura_proprietario||!!B.assinatura_proprietario);return it(async()=>{await b(),await x()}),(B,N)=>(O(),R("div",m7e,[l("header",g7e,[l("div",v7e,[N[3]||(N[3]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Operacional"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Vistorias")]),l("h1",null,"Gesto de Vistorias")],-1)),l("div",b7e,[l("button",{class:"btn-icon-thin",onClick:x,title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":i.value}])},null,2)]),l("button",{class:"btn-primary-thin",onClick:T},[...N[2]||(N[2]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Vistoria ",-1)])])])])]),l("div",y7e,[l("div",x7e,[l("div",_7e,[l("span",S7e,F(g.value.total),1),N[4]||(N[4]=l("span",{class:"kpi-label"},"Total Listado",-1))]),N[5]||(N[5]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-clipboard-list"})],-1))]),l("div",E7e,[l("div",w7e,[l("span",C7e,F(g.value.assinaturasPendentes),1),N[6]||(N[6]=l("span",{class:"kpi-label"},"Assinaturas Pendentes",-1))]),N[7]||(N[7]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-file-signature"})],-1))]),l("div",A7e,[l("div",k7e,[l("span",T7e,F(g.value.abertas),1),N[8]||(N[8]=l("span",{class:"kpi-label"},"Em Aberto/Execuo",-1))]),N[9]||(N[9]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-tools"})],-1))]),l("div",D7e,[l("div",O7e,[l("span",R7e,F(g.value.concluidas),1),N[10]||(N[10]=l("span",{class:"kpi-label"},"Concludas (100%)",-1))]),N[11]||(N[11]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-check-circle"})],-1))])]),l("div",M7e,[l("div",I7e,[N[13]||(N[13]=l("label",null,"Buscar",-1)),l("div",N7e,[N[12]||(N[12]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":N[0]||(N[0]=q=>r.value=q),placeholder:"Buscar por imvel, contrato ou nome...",class:"form-control",onInput:C},null,544),[[de,r.value]])])]),l("div",P7e,[N[15]||(N[15]=l("label",null,"Tipo",-1)),Y(l("select",{"onUpdate:modelValue":N[1]||(N[1]=q=>o.value=q),onChange:x,class:"form-control"},[...N[14]||(N[14]=[l("option",{value:null},"Todas as Vistorias",-1),l("option",{value:"ENTRADA"},"Entrada",-1),l("option",{value:"SAIDA"},"Sada",-1),l("option",{value:"PERIODICA"},"Peridica",-1)])],544),[[xt,o.value]])]),l("div",{class:"filter-cell clear-cell"},[N[17]||(N[17]=l("label",null,"",-1)),l("button",{onClick:_,class:"btn-clear",title:"Limpar Filtros"},[...N[16]||(N[16]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",$7e,[i.value?(O(),R("div",L7e,[...N[18]||(N[18]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando vistorias...",-1)])])):y.value.length===0?(O(),R("div",F7e,[...N[19]||(N[19]=[l("i",{class:"fas fa-folder-open empty-icon"},null,-1),l("h3",null,"Nenhuma vistoria encontrada",-1),l("p",{class:"text-sm mt-2 text-slate-400"},"Tente ajustar a busca ou inicie um novo processo.",-1)])])):(O(),R("div",V7e,[(O(!0),R(Me,null,je(y.value,q=>(O(),R("div",{class:"imob-card",key:q.contratoId},[l("div",B7e,[l("div",U7e,[l("span",H7e,"Contrato #"+F(q.contratoId),1),N[20]||(N[20]=l("button",{class:"btn-options",title:"Mais opes"},[l("i",{class:"fas fa-ellipsis-h"})],-1))]),l("h4",{class:"address-title",title:q.imovelDisplay},F(q.imovelDisplay),9,z7e)]),l("div",j7e,[l("div",{class:"person-item",title:q.locatario},[N[22]||(N[22]=l("div",{class:"person-icon bg-blue-50 text-blue-600"},[l("i",{class:"fas fa-user"})],-1)),l("div",G7e,[N[21]||(N[21]=l("span",{class:"person-label"},"Locatrio",-1)),l("span",q7e,F(q.locatario),1)])],8,W7e),l("div",{class:"person-item",title:q.locador},[N[24]||(N[24]=l("div",{class:"person-icon bg-purple-50 text-purple-600"},[l("i",{class:"fas fa-key"})],-1)),l("div",Y7e,[N[23]||(N[23]=l("span",{class:"person-label"},"Locador",-1)),l("span",X7e,F(q.locador),1)])],8,K7e)]),l("div",J7e,[l("div",Q7e,[l("div",Z7e,[N[25]||(N[25]=l("span",{class:"tag-tipo tag-entrada"},"Entrada",-1)),q.entrada?(O(),R("span",{key:0,class:te(["status-pill",q.entrada.concluida?"status-ok":"status-pending"])},F(q.entrada.concluida?"Concluda":"Aberta"),3)):J("",!0)]),q.entrada?(O(),R("div",e9e,[l("div",t9e,[N[26]||(N[26]=l("i",{class:"far fa-calendar text-slate-400"},null,-1)),l("span",null,F(D(q.entrada.data_vistoria)),1)]),l("div",n9e,[l("div",s9e,[l("span",{class:te(["dot",q.entrada.assinatura_locatario?"dot-green":"dot-gray"]),title:"Locatrio"},"L",2),l("span",{class:te(["dot",q.entrada.assinatura_responsavel?"dot-green":"dot-gray"]),title:"Vistoriador"},"R",2),q.entrada.exige_assinatura_proprietario?(O(),R("span",{key:0,class:te(["dot",q.entrada.assinatura_proprietario?"dot-green":"dot-gray"]),title:"Locador"},"P",2)):J("",!0)])]),l("div",i9e,[q.entrada.concluida?J("",!0):(O(),R("button",{key:0,onClick:W=>k(q.entrada.id),class:"btn-action primary",title:"Editar/Executar"},[...N[27]||(N[27]=[l("i",{class:"fas fa-pencil-alt"},null,-1)])],8,r9e)),l("button",{onClick:W=>$(q.entrada.id),class:"btn-action secondary",title:"Ver Detalhes"},[...N[28]||(N[28]=[l("i",{class:"fas fa-eye"},null,-1)])],8,o9e),q.entrada.concluida&&!A(q.entrada)?(O(),R("button",{key:1,onClick:wt(W=>P(q.entrada),["stop"]),class:"btn-action warning",title:"Coletar Assinaturas"},[...N[29]||(N[29]=[l("i",{class:"fas fa-pen-nib"},null,-1)])],8,a9e)):J("",!0)]),q.entrada.concluida&&!q.saida&&A(q.entrada)?(O(),R("button",{key:0,class:"btn-text-link mt-2",onClick:W=>w(q.entrada)},[...N[30]||(N[30]=[z(" Criar Sada ",-1),l("i",{class:"fas fa-arrow-right ml-1"},null,-1)])],8,l9e)):J("",!0)])):(O(),R("div",c9e,[...N[31]||(N[31]=[l("span",null,"",-1)])]))]),N[38]||(N[38]=l("div",{class:"vertical-divider"},null,-1)),l("div",u9e,[l("div",d9e,[N[32]||(N[32]=l("span",{class:"tag-tipo tag-saida"},"Sada",-1)),q.saida?(O(),R("span",{key:0,class:te(["status-pill",q.saida.concluida?"status-ok":"status-pending"])},F(q.saida.concluida?"Concluda":"Aberta"),3)):J("",!0)]),q.saida?(O(),R("div",f9e,[l("div",h9e,[N[33]||(N[33]=l("i",{class:"far fa-calendar text-slate-400"},null,-1)),l("span",null,F(D(q.saida.data_vistoria)),1)]),l("div",p9e,[l("div",m9e,[l("span",{class:te(["dot",q.saida.assinatura_locatario?"dot-green":"dot-gray"]),title:"Locatrio"},"L",2),l("span",{class:te(["dot",q.saida.assinatura_responsavel?"dot-green":"dot-gray"]),title:"Vistoriador"},"R",2),q.saida.exige_assinatura_proprietario?(O(),R("span",{key:0,class:te(["dot",q.saida.assinatura_proprietario?"dot-green":"dot-gray"]),title:"Locador"},"P",2)):J("",!0)])]),l("div",g9e,[q.saida.concluida?J("",!0):(O(),R("button",{key:0,onClick:W=>k(q.saida.id),class:"btn-action primary",title:"Editar"},[...N[34]||(N[34]=[l("i",{class:"fas fa-pencil-alt"},null,-1)])],8,v9e)),l("button",{onClick:W=>$(q.saida.id),class:"btn-action secondary",title:"Ver Detalhes"},[...N[35]||(N[35]=[l("i",{class:"fas fa-eye"},null,-1)])],8,b9e),q.saida.concluida&&!A(q.saida)?(O(),R("button",{key:1,onClick:wt(W=>P(q.saida),["stop"]),class:"btn-action warning",title:"Coletar Assinaturas"},[...N[36]||(N[36]=[l("i",{class:"fas fa-pen-nib"},null,-1)])],8,y9e)):J("",!0)])])):(O(),R("div",x9e,[...N[37]||(N[37]=[l("span",null,"Aguardando",-1)])]))])]),q.periodicas.length>0?(O(),R("div",_9e,[N[39]||(N[39]=l("span",{class:"footer-label"},[l("i",{class:"fas fa-history mr-1"}),z(" Peridicas:")],-1)),l("div",S9e,[(O(!0),R(Me,null,je(q.periodicas,W=>(O(),R("button",{key:W.id,onClick:Z=>$(W.id),class:"chip"},F(D(W.data_vistoria)),9,E9e))),128))])])):J("",!0)]))),128))]))]),be(p7e,{show:a.value,vistoriaId:c.value,onClose:M,onRefresh:x},null,8,["show","vistoriaId"]),u.value?(O(),is(IA,{key:0,titulo:"Coletar Assinatura",termo:"Declaro que estou de acordo com o estado do imvel conforme vistoria apresentada.",enderecoImovel:f.value,assinantesDisponiveis:m.value,isSaving:d.value,onClose:V,onSave:I},null,8,["enderecoImovel","assinantesDisponiveis","isSaving"])):J("",!0)]))}}),C9e=tt(w9e,[["__scopeId","data-v-16389762"]]),A9e=We({name:"VistoriaFormView",directives:{clickOutside:{mounted(t,e){t.clickOutsideEvent=n=>{t===n.target||t.contains(n.target)||e.value()},document.body.addEventListener("click",t.clickOutsideEvent)},unmounted(t){document.body.removeEventListener("click",t.clickOutsideEvent)}}},setup(){const t=an(),e=ms(),n=H(!1),s=H(!1),i=H([]),r=H(""),o=H(!1),a=e.params.id?Number(e.params.id):null,c=we(()=>!!a),u=H({contrato:null,tipo:"ENTRADA",data_vistoria:new Date().toISOString().split("T")[0],observacoes:"",exige_assinatura_proprietario:!1,realizado_por_nome:""}),d=we(()=>{const _=i.value.find(T=>T.id===u.value.contrato);return _?{imovel:_.imovel_display,inquilino:_.inquilino_nome}:{imovel:r.value||"Contrato Selecionado",inquilino:""}}),f=we(()=>{const _=r.value.toLowerCase();return _?i.value.filter(T=>(T.imovel_display||"").toLowerCase().includes(_)||(T.inquilino_nome||"").toLowerCase().includes(_)||String(T.id).includes(_)).slice(0,10):i.value.slice(0,10)}),h=()=>{c.value||(o.value=!0)},m=()=>{o.value=!0,u.value.contrato&&(u.value.contrato=null)},g=()=>{o.value=!1},y=()=>{r.value="",u.value.contrato=null,o.value=!0,x()},b=_=>{u.value.contrato=_.id,r.value=_.imovel_display,o.value=!1},x=async()=>{if(!c.value){s.value=!0,i.value=[],u.value.contrato=null,r.value="";try{const _=u.value.tipo,T=await ce.get("/v1/contratos/pendentes_vistoria/",{params:{tipo:_}}),k=T.data.results||T.data;console.log(`API retornou ${k.length} contratos para ${_}`),i.value=k.map($=>{let M="Locatrio";$.inquilino_detalhes?.nome_display?M=$.inquilino_detalhes.nome_display:$.inquilino_detalhes?.nome?M=$.inquilino_detalhes.nome:$.inquilino_nome?M=$.inquilino_nome:typeof $.inquilino=="object"&&$.inquilino?.nome&&(M=$.inquilino.nome);let P=`Contrato #${$.id}`;return $.imovel_display?P=$.imovel_display:$.imovel_detalhes?.endereco_completo?P=$.imovel_detalhes.endereco_completo:$.imovel_detalhes?.logradouro&&(P=$.imovel_detalhes.logradouro),{id:$.id,imovel_display:P,inquilino_nome:M,tipo_contrato:$.tipo_contrato||"ALUGUEL",status:$.status_contrato||"ATIVO"}})}catch(_){console.error("Erro ao buscar contratos:",_)}finally{s.value=!1}}},E=async()=>{if(!u.value.contrato)return alert("Selecione um contrato antes de continuar.");n.value=!0;try{let _=a;c.value?await ce.patch(`/v1/vistorias/vistorias/${a}/`,u.value):_=(await ce.post("/v1/vistorias/vistorias/",u.value)).data.id,t.push({name:"vistoria-checklist",params:{id:_}})}catch(_){let T="Erro tcnico ao salvar.";if(_.response?.data){const k=_.response.data;T=k.detail||Object.values(k).flat()[0]}alert(T)}finally{n.value=!1}},C=()=>t.push("/vistorias");return it(async()=>{if(c.value)try{const _=await ce.get(`/v1/vistorias/vistorias/${a}/`);if(Object.assign(u.value,_.data),_.data.data_vistoria&&(u.value.data_vistoria=_.data.data_vistoria.split("T")[0]),u.value.contrato){const k=(await ce.get(`/v1/contratos/${u.value.contrato}/`)).data,$=k.imovel_display||k.imovel_detalhes?.logradouro||`Contrato #${k.id}`,M=k.inquilino_detalhes?.nome_display||k.inquilino_nome||"Inquilino";r.value=$,i.value=[{id:k.id,imovel_display:$,inquilino_nome:M,status:k.status_contrato}]}}catch{t.push("/vistorias")}else await x()}),{form:u,filteredContratos:f,saving:n,isEdit:c,loadingContratos:s,searchQuery:r,showDropdown:o,currentContratoDisplay:d,openDropdown:h,handleInput:m,selectContrato:b,clearSelection:y,saveVistoria:E,goBack:C,closeDropdown:g,fetchContratosAptos:x}}}),k9e={class:"app-layout"},T9e={class:"nav-header"},D9e={class:"nav-inner"},O9e={class:"nav-left"},R9e={class:"nav-title-group"},M9e={class:"nav-title"},I9e={class:"nav-right"},N9e=["disabled"],P9e={class:"page-content"},$9e={class:"content-grid"},L9e={class:"main-form-col"},F9e={class:"card-body-main"},V9e={class:"search-engine-wrapper"},B9e={key:0,class:"selected-contract-pill fade-in"},U9e={class:"pill-text"},H9e={class:"pill-label"},z9e={class:"pill-value text-truncate"},j9e={key:0,class:"pill-sub mt-1"},W9e={key:1,class:"search-input-container"},G9e=["disabled"],q9e={key:0,class:"input-loader spinner-border spinner-border-sm text-primary"},K9e={key:0,class:"search-results-panel"},Y9e={key:0},X9e=["onClick"],J9e={class:"result-data"},Q9e={class:"result-title"},Z9e={class:"result-sub"},eWe={key:0},tWe={class:"result-tags"},nWe={class:"badge-status"},sWe={key:1,class:"no-results p-4 text-center"},iWe={key:0,class:"text-muted"},rWe={key:1},oWe={key:0,class:"small text-muted mb-0"},aWe={key:1,class:"small text-muted mb-0"},lWe={class:"glass-card mb-4"},cWe={class:"card-body-main"},uWe={class:"row g-4"},dWe={class:"col-12"},fWe={class:"type-cards-group"},hWe=["disabled"],pWe=["disabled"],mWe=["disabled"],gWe={class:"col-md-6"},vWe={class:"input-pro-wrapper"},bWe={class:"col-md-6"},yWe={class:"input-pro-wrapper"},xWe={class:"side-options-col"},_We={class:"sticky-wrapper"},SWe={class:"glass-card side-card-padding mb-4"},EWe={class:"switch-block"},wWe={class:"toggle-switch"},CWe={class:"glass-card side-card-padding"};function AWe(t,e,n,s,i,r){const o=Dy("click-outside");return O(),R("div",k9e,[l("nav",T9e,[l("div",D9e,[l("div",O9e,[l("button",{class:"btn-circle-back",onClick:e[0]||(e[0]=(...a)=>t.goBack&&t.goBack(...a))},[...e[17]||(e[17]=[l("i",{class:"fas fa-arrow-left"},null,-1)])]),l("div",R9e,[e[18]||(e[18]=l("span",{class:"nav-category"},"Vistorias",-1)),l("h1",M9e,F(t.isEdit?"Edio Tcnica":"Nova Inspeo"),1)])]),l("div",I9e,[l("button",{class:"btn-cancel",onClick:e[1]||(e[1]=(...a)=>t.goBack&&t.goBack(...a))},"Cancelar"),l("button",{class:"btn-save-main",onClick:e[2]||(e[2]=(...a)=>t.saveVistoria&&t.saveVistoria(...a)),disabled:t.saving},[t.saving?(O(),R(Me,{key:0},[e[19]||(e[19]=l("i",{class:"fas fa-spinner fa-spin me-2"},null,-1)),e[20]||(e[20]=z(" Processando... ",-1))],64)):(O(),R(Me,{key:1},[z(F(t.isEdit?"Atualizar Vistoria":"Criar e Continuar")+" ",1),e[21]||(e[21]=l("i",{class:"fas fa-chevron-right ms-2"},null,-1))],64))],8,N9e)])])]),l("main",P9e,[l("div",$9e,[l("div",L9e,[l("div",{class:te(["glass-card mb-4",{"step-completed":t.form.contrato}])},[e[33]||(e[33]=l("div",{class:"card-header-main"},[l("div",{class:"step-indicator"},"1"),l("div",{class:"header-info"},[l("h2",null,"Vnculo do Imvel"),l("p",null,"Busque o contrato de aluguel para associar esta vistoria.")])],-1)),l("div",F9e,[Y((O(),R("div",V9e,[t.form.contrato&&!t.showDropdown?(O(),R("div",B9e,[e[23]||(e[23]=l("div",{class:"pill-icon"},[l("i",{class:"fas fa-file-contract"})],-1)),l("div",U9e,[l("span",H9e,"Contrato Selecionado (#"+F(t.form.contrato)+")",1),l("span",z9e,F(t.currentContratoDisplay.imovel),1),t.currentContratoDisplay.inquilino?(O(),R("span",j9e,[e[22]||(e[22]=l("i",{class:"far fa-user me-1 text-primary"},null,-1)),z(" "+F(t.currentContratoDisplay.inquilino),1)])):J("",!0)]),t.isEdit?J("",!0):(O(),R("button",{key:0,class:"btn-change",onClick:e[3]||(e[3]=(...a)=>t.clearSelection&&t.clearSelection(...a))},"Alterar"))])):(O(),R("div",W9e,[e[24]||(e[24]=l("i",{class:"fas fa-search search-main-icon"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=a=>t.searchQuery=a),placeholder:"Busque por endereo, inquilino ou ID...",class:"main-search-input",onFocus:e[5]||(e[5]=(...a)=>t.openDropdown&&t.openDropdown(...a)),onInput:e[6]||(e[6]=(...a)=>t.handleInput&&t.handleInput(...a)),disabled:t.isEdit||t.loadingContratos},null,40,G9e),[[de,t.searchQuery]]),t.loadingContratos?(O(),R("div",q9e)):J("",!0)])),be($l,{name:"dropdown-anim"},{default:Pe(()=>[t.showDropdown&&!t.isEdit?(O(),R("div",K9e,[t.filteredContratos.length>0?(O(),R("div",Y9e,[(O(!0),R(Me,null,je(t.filteredContratos,a=>(O(),R("div",{key:a.id,class:"result-row",onClick:c=>t.selectContrato(a)},[e[27]||(e[27]=l("div",{class:"result-avatar"},[l("i",{class:"fas fa-map-marker-alt"})],-1)),l("div",J9e,[l("span",Q9e,F(a.imovel_display),1),l("span",Z9e,[z(" Contrato #"+F(a.id)+" ",1),a.inquilino_nome?(O(),R("span",eWe,[e[25]||(e[25]=z("  ",-1)),e[26]||(e[26]=l("i",{class:"far fa-user mx-1"},null,-1)),z(" "+F(a.inquilino_nome),1)])):J("",!0)])]),l("div",tWe,[l("span",nWe,F(a.status),1)])],8,X9e))),128))])):(O(),R("div",sWe,[t.loadingContratos?(O(),R("div",iWe,[...e[28]||(e[28]=[l("i",{class:"fas fa-circle-notch fa-spin mb-2"},null,-1),l("p",{class:"small mb-0"},"Carregando lista de contratos...",-1)])])):(O(),R("div",rWe,[e[31]||(e[31]=l("i",{class:"fas fa-folder-open mb-3 fs-4 text-muted opacity-50"},null,-1)),e[32]||(e[32]=l("p",{class:"fw-bold text-dark mb-1"},"Nenhum contrato encontrado.",-1)),t.form.tipo==="ENTRADA"?(O(),R("p",oWe,[...e[29]||(e[29]=[z(" Listando contratos ",-1),l("b",null,"ATIVOS ou RASCUNHO",-1),z(" sem vistoria de entrada. ",-1)])])):t.form.tipo==="SAIDA"?(O(),R("p",aWe,[...e[30]||(e[30]=[z(" Listando apenas contratos ",-1),l("b",null,"ATIVOS",-1),z(" sem vistoria de sada. ",-1)])])):J("",!0)]))]))])):J("",!0)]),_:1})])),[[o,t.closeDropdown]])])],2),l("div",lWe,[e[45]||(e[45]=l("div",{class:"card-header-main"},[l("div",{class:"step-indicator"},"2"),l("div",{class:"header-info"},[l("h2",null,"Configurao da Inspeo"),l("p",null,"Dados de controle, data e tipo de movimentao.")])],-1)),l("div",cWe,[l("div",uWe,[l("div",dWe,[e[40]||(e[40]=l("label",{class:"form-section-label"},"Propsito da Vistoria",-1)),l("div",fWe,[l("label",{class:te(["t-card",{"active success":t.form.tipo==="ENTRADA"}])},[Y(l("input",{type:"radio","onUpdate:modelValue":e[7]||(e[7]=a=>t.form.tipo=a),value:"ENTRADA",disabled:t.isEdit,onChange:e[8]||(e[8]=(...a)=>t.fetchContratosAptos&&t.fetchContratosAptos(...a))},null,40,hWe),[[Lr,t.form.tipo]]),e[34]||(e[34]=l("i",{class:"fas fa-key"},null,-1)),e[35]||(e[35]=l("span",null,"Entrada",-1))],2),l("label",{class:te(["t-card",{"active danger":t.form.tipo==="SAIDA"}])},[Y(l("input",{type:"radio","onUpdate:modelValue":e[9]||(e[9]=a=>t.form.tipo=a),value:"SAIDA",disabled:t.isEdit,onChange:e[10]||(e[10]=(...a)=>t.fetchContratosAptos&&t.fetchContratosAptos(...a))},null,40,pWe),[[Lr,t.form.tipo]]),e[36]||(e[36]=l("i",{class:"fas fa-door-open"},null,-1)),e[37]||(e[37]=l("span",null,"Sada",-1))],2),l("label",{class:te(["t-card",{"active info":t.form.tipo==="PERIODICA"}])},[Y(l("input",{type:"radio","onUpdate:modelValue":e[11]||(e[11]=a=>t.form.tipo=a),value:"PERIODICA",disabled:t.isEdit,onChange:e[12]||(e[12]=(...a)=>t.fetchContratosAptos&&t.fetchContratosAptos(...a))},null,40,mWe),[[Lr,t.form.tipo]]),e[38]||(e[38]=l("i",{class:"fas fa-history"},null,-1)),e[39]||(e[39]=l("span",null,"Peridica",-1))],2)])]),l("div",gWe,[e[42]||(e[42]=l("label",{class:"field-label-pro"},"Data de Realizao",-1)),l("div",vWe,[e[41]||(e[41]=l("i",{class:"far fa-calendar-check"},null,-1)),Y(l("input",{type:"date","onUpdate:modelValue":e[13]||(e[13]=a=>t.form.data_vistoria=a),class:"input-pro"},null,512),[[de,t.form.data_vistoria]])])]),l("div",bWe,[e[44]||(e[44]=l("label",{class:"field-label-pro"},"Vistoriador",-1)),l("div",yWe,[e[43]||(e[43]=l("i",{class:"far fa-id-badge"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=a=>t.form.realizado_por_nome=a),class:"input-pro",placeholder:"Nome do perito"},null,512),[[de,t.form.realizado_por_nome]])])])])])])]),l("aside",xWe,[l("div",_We,[l("div",SWe,[e[48]||(e[48]=l("h3",{class:"side-title"},"Configuraes de Laudo",-1)),l("div",EWe,[e[47]||(e[47]=l("div",{class:"switch-content"},[l("strong",null,"Assinatura Proprietrio"),l("p",null,"Inclui campo para o dono do imvel.")],-1)),l("label",wWe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=a=>t.form.exige_assinatura_proprietario=a)},null,512),[[Zt,t.form.exige_assinatura_proprietario]]),e[46]||(e[46]=l("span",{class:"toggle-slider"},null,-1))])])]),l("div",CWe,[e[49]||(e[49]=l("h3",{class:"side-title"},"Observaes Tcnicas",-1)),Y(l("textarea",{"onUpdate:modelValue":e[16]||(e[16]=a=>t.form.observacoes=a),class:"textarea-pro",placeholder:"Ex: Entrega de 3 chaves tetra, vistoria de gs realizada...",rows:"6"},null,512),[[de,t.form.observacoes]]),e[50]||(e[50]=l("div",{class:"textarea-footer"},[l("i",{class:"fas fa-info-circle me-1"}),z(" Estas notas aparecero no laudo. ")],-1))]),e[51]||(e[51]=l("div",{class:"help-box mt-4"},[l("h4",null,"Dica de Uso"),l("p",null,"Certifique-se de que a data informada corresponde ao dia em que voc esteve fisicamente no imvel.")],-1))])])])])])}const kN=tt(A9e,[["render",AWe],["__scopeId","data-v-db34f8f2"]]),kWe={class:"vistoria-page"},TWe={class:"header-fixed"},DWe={class:"header-content"},OWe={class:"header-left"},RWe={class:"subtitle"},MWe={class:"header-actions"},IWe=["disabled"],NWe={key:0,class:"fas fa-print"},PWe={key:1,class:"fas fa-spinner fa-spin"},$We=["disabled"],LWe={key:0,class:"fas fa-check"},FWe={key:1,class:"fas fa-spinner fa-spin"},VWe={class:"progress-container"},BWe={class:"tabs"},UWe=["onClick"],HWe={class:"main-content"},zWe={key:0,class:"loading-state"},jWe={key:1},WWe={key:0,class:"tab-panel"},GWe={class:"card summary-card"},qWe={class:"summary-text"},KWe={class:"summary-percent"},YWe=["disabled"],XWe={class:"ambientes-list"},JWe={key:0,class:"empty-state"},QWe=["onClick"],ZWe={class:"ambiente-title"},eGe={class:"count-badge"},tGe={class:"ambiente-controls"},nGe=["onClick"],sGe={class:"ambiente-body"},iGe=["onClick"],rGe={class:"item-content"},oGe={class:"item-main"},aGe={class:"item-name"},lGe={class:"comp-col"},cGe={class:"comp-value"},uGe={class:"comp-col"},dGe={class:"comp-value"},fGe={key:0,class:"worse-alert"},hGe={key:1,class:"item-avaria"},pGe={class:"item-meta"},mGe={key:0,class:"photos-indicator"},gGe=["onClick"],vGe={key:1,class:"tab-panel"},bGe={class:"card form-card"},yGe={class:"form-group"},xGe={class:"input-wrapper"},_Ge=["disabled"],SGe={class:"form-group"},EGe={class:"input-wrapper"},wGe=["disabled"],CGe={class:"form-group"},AGe={class:"input-wrapper"},kGe=["disabled"],TGe=["disabled"],DGe={key:0,class:"fas fa-spinner fa-spin me-2"},OGe={key:2,class:"tab-panel"},RGe={class:"card form-card"},MGe=["disabled"],IGe=["disabled"],NGe={key:0,class:"fas fa-spinner fa-spin me-2"},PGe={key:0,class:"modal-overlay"},$Ge={class:"modal-card small"},LGe={class:"modal-buttons"},FGe={class:"modal-sheet"},VGe={class:"sheet-header"},BGe={class:"sheet-content"},UGe={class:"form-group"},HGe=["disabled"],zGe={class:"form-group"},jGe={class:"status-grid"},WGe=["onClick","disabled"],GGe={class:"form-group"},qGe=["disabled"],KGe={class:"form-group"},YGe={class:"photos-grid"},XGe=["onClick"],JGe=["src"],QGe={key:0,class:"mt-2 p-2 bg-blue-50 text-blue-700 text-xs rounded flex justify-between items-center border border-blue-100"},ZGe={class:"truncate"},eqe={class:"sheet-footer"},tqe=We({__name:"VistoriaAmbientesView",setup(t){const e=ms(),n=an(),s=e.params.id,i=H(null),r=H(!0),o=H(!1),a=H({}),c=H([]),u=H(null),d=H(!1),f=H(!1),h=H("checklist"),m=H(!1),g=H(!1),y=H({nome:""}),b=H(null),x=H(null),E=H({id:null,item:"",estado:"BOM",descricao_avaria:"",fotos:[]}),C=H(null),_=[{val:"NOVO",label:"Novo",color:"#10b981"},{val:"BOM",label:"Bom",color:"#3b82f6"},{val:"REGULAR",label:"Regular",color:"#f59e0b"},{val:"RUIM",label:"Ruim",color:"#ef4444"},{val:"INOPERANTE",label:"Inop.",color:"#64748b"}],T=we(()=>c.value.reduce((Oe,ae)=>Oe+(ae.itens?ae.itens.length:0),0)),k=we(()=>{if(T.value===0)return 0;const Oe=c.value.reduce((ae,se)=>ae+se.itens.filter(xe=>xe.estado).length,0);return Math.round(Oe/T.value*100)}),$=async()=>{r.value=!0;try{const Oe=await ce.get(`/v1/vistorias/vistorias/${s}/`);a.value=Oe.data,c.value=(Oe.data.ambientes||[]).map(ae=>({...ae,isCollapsed:!1})),a.value.tipo==="SAIDA"&&await M(a.value.contrato||0)}catch(Oe){console.error("Erro ao carregar dados:",Oe)}finally{r.value=!1}},M=async Oe=>{try{const ae=await ce.get("/v1/vistorias/vistorias/",{params:{contrato:Oe,tipo:"ENTRADA",concluida:!0}}),se=ae.data.results?ae.data.results[0]:ae.data[0];if(se){const xe=await ce.get(`/v1/vistorias/vistorias/${se.id}/`);u.value=xe.data,P()}}catch(ae){console.error("Erro ref entrada",ae)}},P=()=>{u.value&&c.value.forEach(Oe=>{const ae=u.value.ambientes.find(se=>se.nome.toLowerCase()===Oe.nome.toLowerCase());ae&&Oe.itens.forEach(se=>{if(se.estado_referencia_entrada)return;const xe=ae.itens.find(Ie=>Ie.item.toLowerCase()===se.item.toLowerCase());xe&&(se.estado_referencia_entrada=xe.estado,se.descricao_referencia_entrada=xe.descricao_avaria)})})},V=Oe=>{if(!Oe.estado_referencia_entrada)return!1;const ae=["NOVO","BOM","REGULAR","RUIM","INOPERANTE"];return ae.indexOf(Oe.estado)>ae.indexOf(Oe.estado_referencia_entrada)},I=async()=>{a.value.concluida||await ce.patch(`/v1/vistorias/vistorias/${s}/`,{observacoes:a.value.observacoes,leitura_agua:a.value.leitura_agua,leitura_luz:a.value.leitura_luz,leitura_gas:a.value.leitura_gas,chaves_devolvidas:a.value.chaves_devolvidas})},w=async()=>{f.value=!0;try{await I(),alert("Dados salvos com sucesso!")}catch(Oe){console.error(Oe),alert("Erro ao salvar. Verifique sua conexo.")}finally{f.value=!1}},D=async()=>{if(a.value.concluida){n.push("/vistorias");return}if(confirm("Tem certeza que deseja finalizar a vistoria? A edio ser bloqueada.")){d.value=!0;try{await I(),await ce.patch(`/v1/vistorias/vistorias/${s}/`,{concluida:!0}),alert("Vistoria finalizada com sucesso!"),n.push("/vistorias")}catch(Oe){alert("Erro ao finalizar vistoria."),console.error(Oe)}finally{d.value=!1}}},A=()=>{a.value.concluida||(y.value.nome="",m.value=!0)},B=async()=>{if(y.value.nome)try{await ce.post("/v1/vistorias/ambientes/",{vistoria:s,nome:y.value.nome}),m.value=!1,$()}catch{alert("Erro ao criar")}},N=async Oe=>{if(confirm("Apagar ambiente?"))try{await ce.delete(`/v1/vistorias/ambientes/${Oe}/`),$()}catch{alert("Erro")}},q=Oe=>{Oe.isCollapsed=!Oe.isCollapsed},W=(Oe,ae)=>{x.value=Oe,b.value=ae,C.value=null,ae?E.value={...ae}:E.value={id:null,item:"",estado:"BOM",descricao_avaria:"",fotos:[]},g.value=!0},Z=async()=>{if(!E.value.item)return alert("Informe o nome do item");try{let Oe=b.value?.id;const ae={ambiente:x.value,item:E.value.item,estado:E.value.estado,descricao_avaria:E.value.descricao_avaria};if(Oe?await ce.patch(`/v1/vistorias/itens/${Oe}/`,ae):Oe=(await ce.post("/v1/vistorias/itens/",ae)).data.id,C.value&&Oe){const se=new FormData;se.append("item",String(Oe)),se.append("imagem",C.value),console.log("Enviando foto para item:",Oe,C.value.name),await ce.post("/v1/vistorias/fotos/",se,{headers:{"Content-Type":"multipart/form-data"}})}g.value=!1,$()}catch(Oe){console.error("Erro no saveItem:",Oe);let ae="Erro ao salvar item.";if(Oe.response){if(Oe.response.status===500)ae="Erro interno no servidor ao processar a imagem. Tente uma imagem menor ou contate o suporte.";else if(Oe.response.data&&Oe.response.data.detail)ae=Oe.response.data.detail;else if(Oe.response.data&&typeof Oe.response.data=="object"){const se=Object.keys(Oe.response.data);se.length>0&&(ae=`${se[0]}: ${Oe.response.data[se[0]]}`)}}alert(ae)}},Le=()=>i.value?.click(),ge=Oe=>{const ae=Oe.target;ae.files&&ae.files.length>0&&(C.value=ae.files[0])},qe=async()=>{o.value=!0;try{const Oe=await ce.get(`/v1/vistorias/vistorias/${s}/gerar-laudo/`,{responseType:"blob"});window.open(window.URL.createObjectURL(new Blob([Oe.data],{type:"application/pdf"})),"_blank")}catch{alert("Erro PDF")}finally{o.value=!1}},lt=()=>n.push("/vistorias"),Mt=Oe=>window.open(Oe,"_blank");return it($),(Oe,ae)=>(O(),R("div",kWe,[l("header",TWe,[l("div",DWe,[l("div",OWe,[l("button",{onClick:lt,class:"btn-back"},[...ae[11]||(ae[11]=[l("i",{class:"fas fa-arrow-left"},null,-1)])]),l("div",null,[l("h1",null,"Vistoria de "+F(a.value.tipo),1),l("p",RWe,F(a.value.imovel_display),1)])]),l("div",MWe,[l("button",{onClick:qe,disabled:o.value,class:"btn-icon",title:"PDF"},[o.value?(O(),R("i",PWe)):(O(),R("i",NWe))],8,IWe),l("button",{onClick:D,disabled:a.value.concluida||d.value,class:"btn-action primary"},[d.value?(O(),R("i",FWe)):(O(),R("i",LWe)),l("span",null,F(a.value.concluida?"Concluda":d.value?"Finalizando...":"Finalizar"),1)],8,$We)])]),l("div",VWe,[l("div",{class:"progress-bar",style:Ws({width:`${k.value}%`})},null,4)])]),l("div",BWe,[(O(),R(Me,null,je([{id:"checklist",l:"Checklist",i:"fa-list"},{id:"medidores",l:"Medidores",i:"fa-tachometer-alt"},{id:"chaves",l:"Chaves",i:"fa-key"}],se=>l("button",{key:se.id,onClick:xe=>h.value=se.id,class:te(["tab-item",{active:h.value===se.id}])},[l("i",{class:te(["fas",se.i])},null,2),z(" "+F(se.l),1)],10,UWe)),64))]),l("main",HWe,[r.value?(O(),R("div",zWe,[...ae[12]||(ae[12]=[l("i",{class:"fas fa-circle-notch fa-spin"},null,-1),z(" Carregando...",-1)])])):(O(),R("div",jWe,[h.value==="checklist"?(O(),R("div",WWe,[l("div",GWe,[l("div",qWe,[ae[13]||(ae[13]=l("h3",null,"Progresso",-1)),l("p",null,F(T.value)+" itens vistoriados",1)]),l("div",KWe,F(k.value)+"%",1),a.value.concluida?J("",!0):(O(),R("button",{key:0,onClick:w,class:"btn-link",disabled:f.value},F(f.value?"Salvando...":"Salvar Manualmente"),9,YWe))]),l("div",XWe,[c.value.length===0?(O(),R("div",JWe,[ae[14]||(ae[14]=l("i",{class:"fas fa-home"},null,-1)),ae[15]||(ae[15]=l("p",null,"Nenhum ambiente.",-1)),a.value.concluida?J("",!0):(O(),R("button",{key:0,onClick:A,class:"btn-action secondary"},"Criar Ambiente"))])):J("",!0),(O(!0),R(Me,null,je(c.value,se=>(O(),R("div",{key:se.id,class:"ambiente-container"},[l("div",{class:"ambiente-header",onClick:xe=>q(se)},[l("div",ZWe,[ae[16]||(ae[16]=l("i",{class:"fas fa-door-open"},null,-1)),l("span",null,F(se.nome),1),l("span",eGe,F(se.itens?.length||0),1)]),l("div",tGe,[a.value.concluida?J("",!0):(O(),R("button",{key:0,onClick:wt(xe=>N(se.id),["stop"]),class:"btn-icon-small trash"},[...ae[17]||(ae[17]=[l("i",{class:"fas fa-trash"},null,-1)])],8,nGe)),l("i",{class:te(["fas fa-chevron-down arrow",{rotated:!se.isCollapsed}])},null,2)])],8,QWe),Y(l("div",sGe,[(O(!0),R(Me,null,je(se.itens,xe=>(O(),R("div",{key:xe.id||0,onClick:Ie=>W(se.id,xe),class:"item-card"},[l("div",{class:te(["status-strip",xe.estado])},null,2),l("div",rGe,[l("div",oGe,[l("span",aGe,F(xe.item),1),l("span",{class:te(["item-badge",xe.estado])},F(xe.estado),3)]),xe.estado_referencia_entrada?(O(),R("div",{key:0,class:te(["comparison-box",{alert:V(xe)}])},[l("div",lGe,[ae[18]||(ae[18]=l("span",{class:"comp-label"},"Entrada",-1)),l("span",cGe,F(xe.estado_referencia_entrada),1)]),ae[21]||(ae[21]=l("div",{class:"comp-arrow"},[l("i",{class:"fas fa-arrow-right"})],-1)),l("div",uGe,[ae[19]||(ae[19]=l("span",{class:"comp-label"},"Sada",-1)),l("span",dGe,F(xe.estado),1)]),V(xe)?(O(),R("div",fGe,[...ae[20]||(ae[20]=[l("i",{class:"fas fa-exclamation-triangle"},null,-1),z(" Piorou",-1)])])):J("",!0)],2)):J("",!0),xe.descricao_avaria?(O(),R("div",hGe,[ae[22]||(ae[22]=l("i",{class:"fas fa-comment-dots"},null,-1)),z(" "+F(xe.descricao_avaria),1)])):J("",!0),l("div",pGe,[xe.fotos&&xe.fotos.length?(O(),R("div",mGe,[ae[23]||(ae[23]=l("i",{class:"fas fa-camera"},null,-1)),z(" "+F(xe.fotos.length)+" fotos",1)])):J("",!0),ae[24]||(ae[24]=l("span",{class:"action-text"},"Editar >",-1))])])],8,iGe))),128)),a.value.concluida?J("",!0):(O(),R("button",{key:0,onClick:xe=>W(se.id,null),class:"btn-add-item"},[...ae[25]||(ae[25]=[l("i",{class:"fas fa-plus"},null,-1),z(" Novo Item",-1)])],8,gGe))],512),[[Hs,!se.isCollapsed]])]))),128)),a.value.concluida?J("",!0):(O(),R("button",{key:1,onClick:A,class:"btn-dashed"},[...ae[26]||(ae[26]=[l("i",{class:"fas fa-plus-circle"},null,-1),z(" Novo Ambiente",-1)])]))])])):J("",!0),h.value==="medidores"?(O(),R("div",vGe,[l("div",bGe,[ae[33]||(ae[33]=l("h3",null,"Leituras",-1)),l("div",yGe,[ae[28]||(ae[28]=l("label",null,"gua",-1)),l("div",xGe,[ae[27]||(ae[27]=l("i",{class:"fas fa-tint icon-water"},null,-1)),Y(l("input",{"onUpdate:modelValue":ae[0]||(ae[0]=se=>a.value.leitura_agua=se),type:"text",disabled:a.value.concluida},null,8,_Ge),[[de,a.value.leitura_agua]])])]),l("div",SGe,[ae[30]||(ae[30]=l("label",null,"Luz",-1)),l("div",EGe,[ae[29]||(ae[29]=l("i",{class:"fas fa-bolt icon-energy"},null,-1)),Y(l("input",{"onUpdate:modelValue":ae[1]||(ae[1]=se=>a.value.leitura_luz=se),type:"text",disabled:a.value.concluida},null,8,wGe),[[de,a.value.leitura_luz]])])]),l("div",CGe,[ae[32]||(ae[32]=l("label",null,"Gs",-1)),l("div",AGe,[ae[31]||(ae[31]=l("i",{class:"fas fa-fire icon-gas"},null,-1)),Y(l("input",{"onUpdate:modelValue":ae[2]||(ae[2]=se=>a.value.leitura_gas=se),type:"text",disabled:a.value.concluida},null,8,kGe),[[de,a.value.leitura_gas]])])]),a.value.concluida?J("",!0):(O(),R("button",{key:0,onClick:w,class:"btn-action primary full-width",disabled:f.value},[f.value?(O(),R("i",DGe)):J("",!0),z(" "+F(f.value?"Salvando...":"Salvar"),1)],8,TGe))])])):J("",!0),h.value==="chaves"?(O(),R("div",OGe,[l("div",RGe,[ae[34]||(ae[34]=l("h3",null,"Chaves",-1)),Y(l("textarea",{"onUpdate:modelValue":ae[3]||(ae[3]=se=>a.value.chaves_devolvidas=se),rows:"6",class:"std-textarea",placeholder:"Descreva as chaves...",disabled:a.value.concluida},null,8,MGe),[[de,a.value.chaves_devolvidas]]),a.value.concluida?J("",!0):(O(),R("button",{key:0,onClick:w,class:"btn-action primary full-width",disabled:f.value},[f.value?(O(),R("i",NGe)):J("",!0),z(" "+F(f.value?"Salvando...":"Salvar"),1)],8,IGe))])])):J("",!0)]))]),m.value?(O(),R("div",PGe,[l("div",$Ge,[ae[35]||(ae[35]=l("h3",null,"Novo Ambiente",-1)),Y(l("input",{"onUpdate:modelValue":ae[4]||(ae[4]=se=>y.value.nome=se),type:"text",class:"std-input",placeholder:"Ex: Sala",autoFocus:""},null,512),[[de,y.value.nome]]),l("div",LGe,[l("button",{onClick:ae[5]||(ae[5]=se=>m.value=!1),class:"btn-action secondary"},"Cancelar"),l("button",{onClick:B,class:"btn-action primary"},"Criar")])])])):J("",!0),g.value?(O(),R("div",{key:1,class:"modal-overlay",onClick:ae[10]||(ae[10]=wt(se=>g.value=!1,["self"]))},[l("div",FGe,[l("div",VGe,[l("h3",null,F(b.value?"Editar":"Novo")+" Item",1),l("button",{onClick:ae[6]||(ae[6]=se=>g.value=!1),class:"close-btn"},[...ae[36]||(ae[36]=[l("i",{class:"fas fa-times"},null,-1)])])]),l("div",BGe,[l("div",UGe,[ae[37]||(ae[37]=l("label",null,"Nome",-1)),Y(l("input",{"onUpdate:modelValue":ae[7]||(ae[7]=se=>E.value.item=se),class:"std-input",placeholder:"Ex: Porta",disabled:a.value.concluida},null,8,HGe),[[de,E.value.item]])]),l("div",zGe,[ae[38]||(ae[38]=l("label",null,"Estado",-1)),l("div",jGe,[(O(),R(Me,null,je(_,se=>l("button",{key:se.val,onClick:xe=>!a.value.concluida&&(E.value.estado=se.val),class:te(["status-btn",{selected:E.value.estado===se.val}]),style:Ws({"--status-color":se.color}),disabled:a.value.concluida},F(se.label),15,WGe)),64))])]),l("div",GGe,[ae[39]||(ae[39]=l("label",null,"Obs",-1)),Y(l("textarea",{"onUpdate:modelValue":ae[8]||(ae[8]=se=>E.value.descricao_avaria=se),rows:"3",class:"std-textarea",disabled:a.value.concluida},null,8,qGe),[[de,E.value.descricao_avaria]])]),l("div",KGe,[ae[42]||(ae[42]=l("label",null,"Fotos",-1)),l("div",YGe,[a.value.concluida?J("",!0):(O(),R("div",{key:0,class:"photo-add",onClick:Le},[...ae[40]||(ae[40]=[l("i",{class:"fas fa-camera mb-1"},null,-1),l("span",null,"Add",-1)])])),(O(!0),R(Me,null,je(b.value?.fotos,se=>(O(),R("div",{key:se.id,class:"photo-item",onClick:xe=>Mt(se.url)},[l("img",{src:se.url},null,8,JGe)],8,XGe))),128)),l("input",{type:"file",ref_key:"fileInput",ref:i,class:"hidden",accept:"image/*",onChange:ge},null,544)]),C.value?(O(),R("div",QGe,[l("span",ZGe,[ae[41]||(ae[41]=l("i",{class:"fas fa-file-image me-1"},null,-1)),z(" "+F(C.value.name),1)]),l("button",{onClick:ae[9]||(ae[9]=se=>C.value=null),class:"text-blue-500 hover:text-blue-700 fw-bold px-2"},"X")])):J("",!0)])]),l("div",eqe,[a.value.concluida?J("",!0):(O(),R("button",{key:0,onClick:Z,class:"btn-action primary full-width"},F(C.value?"Salvar e Enviar Foto":"Salvar Item"),1))])])])):J("",!0)]))}}),nqe=tt(tqe,[["__scopeId","data-v-6f75f698"]]),sqe={class:"page-container"},iqe={class:"page-header"},rqe={class:"header-main"},oqe={class:"actions-area"},aqe={class:"quick-actions"},lqe={key:0,class:"kpi-grid"},cqe={class:"kpi-card orange"},uqe={class:"kpi-content"},dqe={class:"kpi-value"},fqe={class:"kpi-card green"},hqe={class:"kpi-content"},pqe={class:"kpi-value"},mqe={class:"kpi-card blue"},gqe={class:"kpi-content"},vqe={class:"kpi-value"},bqe={class:"kpi-card purple"},yqe={class:"kpi-content"},xqe={class:"kpi-value"},_qe={class:"toolbar-grid"},Sqe={class:"filter-cell search-cell"},Eqe={class:"input-with-icon"},wqe={class:"filter-cell",style:{"min-width":"240px"}},Cqe={class:"date-group-row"},Aqe={class:"filter-cell"},kqe={class:"report-main-wrapper"},Tqe={key:0,class:"loading-state"},Dqe={key:1,class:"empty-state"},Oqe={key:2,class:"empty-state"},Rqe={key:3,class:"report-scroll-viewport"},Mqe={class:"report-table"},Iqe={class:"date-cell"},Nqe={class:"date-day"},Pqe={class:"date-month"},$qe={class:"font-medium text-slate-700"},Lqe={class:"text-muted text-sm"},Fqe={class:"text-right font-bold text-danger"},Vqe={class:"text-center"},Bqe={class:"text-right"},Uqe={class:"actions-flex"},Hqe=["onClick","disabled"],zqe=["onClick","disabled"],jqe={key:4,class:"table-footer"},Wqe={class:"footer-info"},Gqe={class:"modal-content"},qqe={key:0,class:"modal-body"},Kqe={class:"summary-box"},Yqe={class:"summary-item"},Xqe={class:"value"},Jqe={class:"summary-item"},Qqe={class:"value highlight text-danger"},Zqe={class:"form-grid"},eKe={class:"form-group"},tKe={class:"form-group"},nKe=["value"],sKe={class:"form-group full-width"},iKe=["value"],rKe={class:"modal-footer"},oKe=["disabled"],aKe={key:0,class:"fas fa-check"},lKe={key:1},cKe={key:2},uKe=We({__name:"ContasPagarView",setup(t){an();const e=H([]),n=H(0),s=H(null),i=H(!0),r=H(null),o=H(!1),a=H(null),c=H(!1),u=H([]),d=H([]),f=No({data_pagamento:"",forma_pagamento:"",conta:null}),h=H({status:"PENDENTE",data_vencimento_inicio:"",data_vencimento_fim:"",search:""}),m=H("data_vencimento"),g=I=>{if(I==null)return"R$ 0,00";const w=typeof I=="string"?parseFloat(I):I;return isNaN(w)?"R$ 0,00":w.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},y=I=>{if(!I)return"N/A";try{return Et(new Date(I+"T00:00:00"),"dd/MM/yyyy",{locale:ys})}catch{return"Invlida"}},b=I=>{switch(I){case"PENDENTE":return"status-orange";case"ATRASADO":return"status-red";case"PAGO":return"status-green";default:return"status-gray"}};function x(I){m.value===I?m.value=`-${I}`:(m.value,`${I}`,m.value=I),P(!0)}function E(I){return m.value===I?"fa-sort-up text-blue-600":m.value===`-${I}`?"fa-sort-down text-blue-600":"fa-sort text-slate-300 hover:text-slate-500"}const C=I=>{a.value=I,f.data_pagamento=Et(new Date,"yyyy-MM-dd"),f.forma_pagamento="",f.conta=I.conta||null,o.value=!0},_=()=>{o.value=!1,a.value=null,c.value=!1},T=async()=>{if(a.value){c.value=!0;try{const I=a.value.id,w={status:"PAGO",data_pagamento:f.data_pagamento};f.forma_pagamento&&(w.forma_pagamento=f.forma_pagamento),f.conta&&(w.conta=f.conta),await ce.patch(`/v1/financeiro/transacoes/${I}/`,w),_(),P(!1)}catch(I){console.error("Erro ao baixar pagamento:",I),alert("Erro ao registrar pagamento.")}finally{c.value=!1}}},k=async I=>{if(confirm(`Deseja reverter o pagamento de "${I.descricao}" para PENDENTE?`)){I.isUpdating=!0;try{await ce.patch(`/v1/financeiro/transacoes/${I.id}/`,{status:"PENDENTE",data_pagamento:null}),P(!1)}catch{alert("Erro ao reverter o status.")}finally{I.isUpdating=!1}}},$=I=>{const w=new Date;let D,A;const B="yyyy-MM-dd";I==="currentMonth"?(D=yd(w),A=Wc(w)):(D=w,A=I3(w,30)),h.value.status="PENDENTE",h.value.data_vencimento_inicio=Et(D,B),h.value.data_vencimento_fim=Et(A,B),P(!0)},M=()=>{h.value={status:"PENDENTE",data_vencimento_inicio:"",data_vencimento_fim:"",search:""},P(!0)};async function P(I=!1){I||(i.value=!0),r.value=null;try{const w=await ce.get("/v1/financeiro/transacoes/stats/");s.value=w.data;const D={};h.value.status&&(D.status=h.value.status),h.value.data_vencimento_inicio&&(D.data_vencimento_inicio=h.value.data_vencimento_inicio),h.value.data_vencimento_fim&&(D.data_vencimento_fim=h.value.data_vencimento_fim),h.value.search&&(D.search=h.value.search),D.page_size=50,D.ordenacao=m.value;const A=await ce.get("/v1/financeiro/transacoes/a-pagar/",{params:D}),B=A.data.results||[];n.value=A.data.count||0,e.value=B.map(N=>({...N,isUpdating:!1}))}catch(w){console.error(w),r.value="No foi possvel carregar os dados."}finally{i.value=!1}}async function V(){try{const[I,w]=await Promise.all([ce.get("/v1/financeiro/formas-pagamento/"),ce.get("/v1/financeiro/contas/")]);u.value=Array.isArray(I.data)?I.data:I.data.results||[],d.value=Array.isArray(w.data)?w.data:w.data.results||[]}catch(I){console.warn(I)}}return it(()=>{P(!1),V()}),(I,w)=>{const D=on("router-link");return O(),R("div",sqe,[l("header",iqe,[l("div",rqe,[w[21]||(w[21]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Financeiro"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Contas a Pagar")]),l("h1",null,"Contas a Pagar")],-1)),l("div",oqe,[l("div",aqe,[l("button",{onClick:w[0]||(w[0]=A=>$("currentMonth")),class:"btn-text",title:"Filtrar Ms Atual"},"Ms Atual"),w[19]||(w[19]=l("span",{class:"divider"},"|",-1)),l("button",{onClick:w[1]||(w[1]=A=>$("next30Days")),class:"btn-text",title:"Prximos 30 Dias"},"30 Dias")]),l("button",{class:"btn-icon-thin",onClick:w[2]||(w[2]=A=>P(!1)),title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":i.value}])},null,2)]),be(D,{to:{name:"transacao-nova",query:{tipo:"DESPESA"}},class:"btn-primary-thin"},{default:Pe(()=>[...w[20]||(w[20]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Despesa ",-1)])]),_:1})])])]),s.value&&s.value.a_pagar?(O(),R("div",lqe,[l("div",cqe,[l("div",uqe,[l("span",dqe,F(g(s.value.a_pagar.pendente)),1),w[22]||(w[22]=l("span",{class:"kpi-label"},"A Pagar (Pendente)",-1))]),w[23]||(w[23]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-file-invoice-dollar"})],-1))]),l("div",fqe,[l("div",hqe,[l("span",pqe,F(g(s.value.a_pagar.pago_mes_atual)),1),w[24]||(w[24]=l("span",{class:"kpi-label"},"Pago (Ms Atual)",-1))]),w[25]||(w[25]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-check-double"})],-1))]),l("div",mqe,[l("div",gqe,[l("span",vqe,F(g(s.value.saldo_previsto)),1),w[26]||(w[26]=l("span",{class:"kpi-label"},"Saldo Previsto (Fluxo)",-1))]),w[27]||(w[27]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-wallet"})],-1))]),l("div",bqe,[l("div",yqe,[l("span",xqe,F(n.value),1),w[28]||(w[28]=l("span",{class:"kpi-label"},"Contas Listadas",-1))]),w[29]||(w[29]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-list"})],-1))])])):J("",!0),l("div",_qe,[l("div",Sqe,[w[31]||(w[31]=l("label",null,"Buscar",-1)),l("div",Eqe,[w[30]||(w[30]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":w[3]||(w[3]=A=>h.value.search=A),placeholder:"Fornecedor, descrio...",class:"form-control",onKeyup:w[4]||(w[4]=Op(A=>P(!0),["enter"]))},null,544),[[de,h.value.search]])])]),l("div",wqe,[w[33]||(w[33]=l("label",null,"Vencimento (De - At)",-1)),l("div",Cqe,[Y(l("input",{type:"date","onUpdate:modelValue":w[5]||(w[5]=A=>h.value.data_vencimento_inicio=A),onChange:w[6]||(w[6]=A=>P(!0)),class:"form-control"},null,544),[[de,h.value.data_vencimento_inicio]]),w[32]||(w[32]=l("span",{class:"date-sep"},"-",-1)),Y(l("input",{type:"date","onUpdate:modelValue":w[7]||(w[7]=A=>h.value.data_vencimento_fim=A),onChange:w[8]||(w[8]=A=>P(!0)),class:"form-control"},null,544),[[de,h.value.data_vencimento_fim]])])]),l("div",Aqe,[w[35]||(w[35]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":w[9]||(w[9]=A=>h.value.status=A),onChange:w[10]||(w[10]=A=>P(!0)),class:"form-control"},[...w[34]||(w[34]=[l("option",{value:""},"Todos",-1),l("option",{value:"PENDENTE"},"Pendente",-1),l("option",{value:"ATRASADO"},"Atrasado",-1),l("option",{value:"PAGO"},"Pago",-1)])],544),[[xt,h.value.status]])]),l("div",{class:"filter-cell clear-cell"},[w[37]||(w[37]=l("label",null,"",-1)),l("button",{onClick:M,class:"btn-clear",title:"Limpar Filtros"},[...w[36]||(w[36]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",kqe,[i.value?(O(),R("div",Tqe,[...w[38]||(w[38]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando despesas...",-1)])])):r.value?(O(),R("div",Dqe,[w[39]||(w[39]=l("i",{class:"fas fa-exclamation-circle empty-icon text-red"},null,-1)),l("p",null,F(r.value),1)])):e.value.length===0?(O(),R("div",Oqe,[...w[40]||(w[40]=[l("i",{class:"fas fa-folder-open empty-icon"},null,-1),l("p",null,"Nenhuma conta a pagar encontrada para os filtros selecionados.",-1)])])):(O(),R("div",Rqe,[l("table",Mqe,[l("thead",null,[l("tr",null,[l("th",{width:"12%",onClick:w[11]||(w[11]=A=>x("data_vencimento")),class:"sortable"},[w[41]||(w[41]=z(" Vencimento ",-1)),l("i",{class:te(["fas",E("data_vencimento")])},null,2)]),l("th",{width:"25%",onClick:w[12]||(w[12]=A=>x("cliente__nome")),class:"sortable"},[w[42]||(w[42]=z(" Fornecedor/Destino ",-1)),l("i",{class:te(["fas",E("cliente__nome")])},null,2)]),l("th",{width:"25%",onClick:w[13]||(w[13]=A=>x("descricao")),class:"sortable"},[w[43]||(w[43]=z(" Descrio ",-1)),l("i",{class:te(["fas",E("descricao")])},null,2)]),l("th",{width:"15%",onClick:w[14]||(w[14]=A=>x("valor")),class:"sortable text-right"},[w[44]||(w[44]=z(" Valor ",-1)),l("i",{class:te(["fas",E("valor")])},null,2)]),l("th",{width:"10%",onClick:w[15]||(w[15]=A=>x("status")),class:"sortable text-center"},[w[45]||(w[45]=z(" Status ",-1)),l("i",{class:te(["fas",E("status")])},null,2)]),w[46]||(w[46]=l("th",{width:"13%",class:"text-right"},"Aes",-1))])]),l("tbody",null,[(O(!0),R(Me,null,je(e.value,A=>(O(),R("tr",{key:A.id},[l("td",null,[l("div",Iqe,[l("span",Nqe,F(y(A.data_vencimento).split("/")[0]),1),l("span",Pqe,F(y(A.data_vencimento).substring(3)),1)])]),l("td",$qe,F(A.fornecedor_nome||A.cliente_nome||"No informado"),1),l("td",Lqe,F(A.descricao),1),l("td",Fqe,F(g(A.valor)),1),l("td",Vqe,[l("span",{class:te(["status-pill",b(A.status)])},F(A.status),3)]),l("td",Bqe,[l("div",Uqe,[A.status!=="PAGO"?(O(),R("button",{key:0,onClick:B=>C(A),class:"btn-action success",title:"Pagar",disabled:A.isUpdating},[...w[47]||(w[47]=[l("i",{class:"fas fa-money-bill-wave"},null,-1)])],8,Hqe)):(O(),R("button",{key:1,onClick:B=>k(A),class:"btn-action danger",title:"Reverter Pagamento",disabled:A.isUpdating},[...w[48]||(w[48]=[l("i",{class:"fas fa-undo"},null,-1)])],8,zqe)),be(D,{to:{name:"transacao-editar",params:{id:A.id}},class:"btn-action primary",title:"Editar"},{default:Pe(()=>[...w[49]||(w[49]=[l("i",{class:"fas fa-pen"},null,-1)])]),_:1},8,["to"])])])]))),128))])])])),n.value>e.value.length?(O(),R("div",jqe,[l("span",Wqe,"Exibindo "+F(e.value.length)+" de "+F(n.value)+" registros. Utilize os filtros para ver mais.",1)])):J("",!0)]),o.value?(O(),R("div",{key:1,class:"modal-overlay",onClick:wt(_,["self"])},[l("div",Gqe,[l("div",{class:"modal-header"},[w[50]||(w[50]=l("h3",null,"Baixar Conta a Pagar",-1)),l("button",{class:"close-btn",onClick:_},"")]),a.value?(O(),R("div",qqe,[l("div",Kqe,[l("div",Yqe,[w[51]||(w[51]=l("span",{class:"label"},"Descrio",-1)),l("span",Xqe,F(a.value.descricao),1)]),l("div",Jqe,[w[52]||(w[52]=l("span",{class:"label"},"Valor",-1)),l("span",Qqe,F(g(a.value.valor)),1)])]),l("div",Zqe,[l("div",eKe,[w[53]||(w[53]=l("label",null,"Data Pagamento",-1)),Y(l("input",{type:"date","onUpdate:modelValue":w[16]||(w[16]=A=>f.data_pagamento=A),class:"form-control"},null,512),[[de,f.data_pagamento]])]),l("div",tKe,[w[55]||(w[55]=l("label",null,"Forma de Pagamento",-1)),Y(l("select",{"onUpdate:modelValue":w[17]||(w[17]=A=>f.forma_pagamento=A),class:"form-control"},[w[54]||(w[54]=l("option",{value:"",disabled:""},"Selecione...",-1)),(O(!0),R(Me,null,je(u.value,A=>(O(),R("option",{key:A.id,value:A.id},F(A.nome),9,nKe))),128))],512),[[xt,f.forma_pagamento]])]),l("div",sKe,[w[57]||(w[57]=l("label",null,"Conta de Sada",-1)),Y(l("select",{"onUpdate:modelValue":w[18]||(w[18]=A=>f.conta=A),class:"form-control"},[w[56]||(w[56]=l("option",{value:null},"No alterar conta",-1)),(O(!0),R(Me,null,je(d.value,A=>(O(),R("option",{key:A.id,value:A.id},F(A.nome),9,iKe))),128))],512),[[xt,f.conta]])])])])):J("",!0),l("div",rKe,[l("button",{class:"btn-ghost",onClick:_},"Cancelar"),l("button",{class:"btn-primary-modal",onClick:T,disabled:c.value},[c.value?J("",!0):(O(),R("i",aKe)),c.value?(O(),R("span",lKe,"Processando...")):(O(),R("span",cKe,"Confirmar Pagamento"))],8,oKe)])])])):J("",!0)])}}}),dKe=tt(uKe,[["__scopeId","data-v-7499b62d"]]),fKe={class:"page-container"},hKe={class:"page-header"},pKe={class:"header-main"},mKe={class:"actions-area"},gKe={class:"quick-actions"},vKe={key:0,class:"kpi-grid"},bKe={class:"kpi-card orange"},yKe={class:"kpi-content"},xKe={class:"kpi-value"},_Ke={class:"kpi-card green"},SKe={class:"kpi-content"},EKe={class:"kpi-value"},wKe={class:"kpi-card blue"},CKe={class:"kpi-content"},AKe={class:"kpi-value"},kKe={class:"kpi-card purple"},TKe={class:"kpi-content"},DKe={class:"kpi-value"},OKe={class:"toolbar-grid"},RKe={class:"filter-cell search-cell"},MKe={class:"input-with-icon"},IKe={class:"filter-cell",style:{"min-width":"240px"}},NKe={class:"date-group-row"},PKe={class:"filter-cell"},$Ke={class:"report-main-wrapper"},LKe={key:0,class:"loading-state"},FKe={key:1,class:"empty-state"},VKe={key:2,class:"empty-state"},BKe={key:3,class:"report-scroll-viewport"},UKe={class:"report-table"},HKe={class:"date-cell"},zKe={class:"date-day"},jKe={class:"date-month"},WKe={class:"font-medium text-slate-700"},GKe={class:"text-muted text-sm"},qKe={class:"text-right font-bold text-success"},KKe={class:"text-center"},YKe={class:"text-right"},XKe={class:"actions-flex"},JKe=["onClick","disabled"],QKe=["onClick","disabled"],ZKe={key:4,class:"table-footer"},eYe={class:"footer-info"},tYe={class:"modal-content"},nYe={key:0,class:"modal-body"},sYe={class:"summary-box"},iYe={class:"summary-item"},rYe={class:"value"},oYe={class:"summary-item"},aYe={class:"value highlight"},lYe={class:"form-grid"},cYe={class:"form-group"},uYe={class:"form-group"},dYe=["value"],fYe={class:"form-group full-width"},hYe=["value"],pYe={class:"modal-footer"},mYe=["disabled"],gYe={key:0,class:"fas fa-check"},vYe={key:1},bYe={key:2},yYe=We({__name:"ContasReceberView",setup(t){an();const e=H([]),n=H(0),s=H(null),i=H(!0),r=H(null),o=H(!1),a=H(null),c=H(!1),u=H([]),d=H([]),f=No({data_pagamento:"",forma_pagamento:"",conta:null}),h=H({status:"PENDENTE",data_vencimento_inicio:"",data_vencimento_fim:"",cliente_search:"",cliente_id:null}),m=H("data_vencimento"),g=I=>{if(I==null)return"R$ 0,00";const w=typeof I=="string"?parseFloat(I):I;return isNaN(w)?"R$ 0,00":w.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},y=I=>{if(!I)return"N/A";try{return Et(new Date(I+"T00:00:00"),"dd/MM/yyyy",{locale:ys})}catch{return"Invlida"}},b=I=>{switch(I){case"PENDENTE":return"status-orange";case"ATRASADO":return"status-red";case"PAGO":return"status-green";default:return"status-gray"}};function x(I){m.value===I?m.value=`-${I}`:(m.value,`${I}`,m.value=I),P(!0)}function E(I){return m.value===I?"fa-sort-up text-blue-600":m.value===`-${I}`?"fa-sort-down text-blue-600":"fa-sort text-slate-300 hover:text-slate-500"}const C=I=>{a.value=I,f.data_pagamento=Et(new Date,"yyyy-MM-dd"),f.forma_pagamento="",f.conta=I.conta||null,o.value=!0},_=()=>{o.value=!1,a.value=null,c.value=!1},T=async()=>{if(a.value){c.value=!0;try{const I=a.value.id,w={status:"PAGO",data_pagamento:f.data_pagamento};f.forma_pagamento&&(w.forma_pagamento=f.forma_pagamento),f.conta&&(w.conta=f.conta),await ce.patch(`/v1/financeiro/transacoes/${I}/`,w),_(),P(!1)}catch(I){console.error("Erro ao baixar recebimento:",I),alert("Erro ao registrar recebimento.")}finally{c.value=!1}}},k=async I=>{if(confirm(`Deseja reverter o recebimento de "${I.descricao}" para PENDENTE?`)){I.isUpdating=!0;try{await ce.patch(`/v1/financeiro/transacoes/${I.id}/`,{status:"PENDENTE",data_pagamento:null}),P(!1)}catch{alert("Erro ao reverter o status.")}finally{I.isUpdating=!1}}},$=I=>{const w=new Date;let D,A;const B="yyyy-MM-dd";I==="currentMonth"?(D=yd(w),A=Wc(w)):(D=w,A=I3(w,30)),h.value.status="PENDENTE",h.value.data_vencimento_inicio=Et(D,B),h.value.data_vencimento_fim=Et(A,B),P(!0)},M=()=>{h.value={status:"PENDENTE",data_vencimento_inicio:"",data_vencimento_fim:"",cliente_search:"",cliente_id:null},P(!0)};async function P(I=!1){I||(i.value=!0),r.value=null;try{const w=await ce.get("/v1/financeiro/transacoes/stats/");s.value=w.data;const D={};h.value.status&&(D.status=h.value.status),h.value.data_vencimento_inicio&&(D.data_vencimento_inicio=h.value.data_vencimento_inicio),h.value.data_vencimento_fim&&(D.data_vencimento_fim=h.value.data_vencimento_fim),h.value.cliente_search?D.search=h.value.cliente_search:h.value.cliente_id&&(D.cliente_id=h.value.cliente_id),D.page_size=50,D.ordenacao=m.value;const A=await ce.get("/v1/financeiro/transacoes/a-receber/",{params:D}),B=A.data.results||[];n.value=A.data.count||0,e.value=B.map(N=>({...N,isUpdating:!1}))}catch(w){console.error(w),r.value="No foi possvel carregar os dados."}finally{i.value=!1}}async function V(){try{const[I,w]=await Promise.all([ce.get("/v1/financeiro/formas-pagamento/"),ce.get("/v1/financeiro/contas/")]);u.value=Array.isArray(I.data)?I.data:I.data.results||[],d.value=Array.isArray(w.data)?w.data:w.data.results||[]}catch(I){console.warn(I)}}return it(()=>{P(!1),V()}),(I,w)=>{const D=on("router-link");return O(),R("div",fKe,[l("header",hKe,[l("div",pKe,[w[21]||(w[21]=l("div",{class:"title-area"},[l("nav",{class:"breadcrumb"},[l("span",null,"Financeiro"),l("i",{class:"fas fa-chevron-right separator"}),l("span",{class:"active"},"Contas a Receber")]),l("h1",null,"Contas a Receber")],-1)),l("div",mKe,[l("div",gKe,[l("button",{onClick:w[0]||(w[0]=A=>$("currentMonth")),class:"btn-text",title:"Filtrar Ms Atual"},"Ms Atual"),w[19]||(w[19]=l("span",{class:"divider"},"|",-1)),l("button",{onClick:w[1]||(w[1]=A=>$("next30Days")),class:"btn-text",title:"Prximos 30 Dias"},"30 Dias")]),l("button",{class:"btn-icon-thin",onClick:w[2]||(w[2]=A=>P(!1)),title:"Atualizar Dados"},[l("i",{class:te(["fas fa-sync-alt",{"fa-spin":i.value}])},null,2)]),be(D,{to:{name:"transacao-nova",query:{tipo:"RECEITA"}},class:"btn-primary-thin"},{default:Pe(()=>[...w[20]||(w[20]=[l("i",{class:"fas fa-plus"},null,-1),z(" Nova Receita ",-1)])]),_:1})])])]),s.value&&s.value.a_receber?(O(),R("div",vKe,[l("div",bKe,[l("div",yKe,[l("span",xKe,F(g(s.value.a_receber.pendente)),1),w[22]||(w[22]=l("span",{class:"kpi-label"},"A Receber (Pendente)",-1))]),w[23]||(w[23]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-clock"})],-1))]),l("div",_Ke,[l("div",SKe,[l("span",EKe,F(g(s.value.a_receber.pago_mes_atual)),1),w[24]||(w[24]=l("span",{class:"kpi-label"},"Recebido (Ms)",-1))]),w[25]||(w[25]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-check-circle"})],-1))]),l("div",wKe,[l("div",CKe,[l("span",AKe,F(g(s.value.saldo_previsto)),1),w[26]||(w[26]=l("span",{class:"kpi-label"},"Saldo Previsto (Fluxo)",-1))]),w[27]||(w[27]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-wallet"})],-1))]),l("div",kKe,[l("div",TKe,[l("span",DKe,F(n.value),1),w[28]||(w[28]=l("span",{class:"kpi-label"},"Transaes Listadas",-1))]),w[29]||(w[29]=l("div",{class:"kpi-icon"},[l("i",{class:"fas fa-list-ol"})],-1))])])):J("",!0),l("div",OKe,[l("div",RKe,[w[31]||(w[31]=l("label",null,"Buscar Cliente",-1)),l("div",MKe,[w[30]||(w[30]=l("i",{class:"fas fa-search"},null,-1)),Y(l("input",{type:"text","onUpdate:modelValue":w[3]||(w[3]=A=>h.value.cliente_search=A),placeholder:"Nome, CPF ou ID...",class:"form-control",onKeyup:w[4]||(w[4]=Op(A=>P(!0),["enter"]))},null,544),[[de,h.value.cliente_search]])])]),l("div",IKe,[w[33]||(w[33]=l("label",null,"Vencimento (De - At)",-1)),l("div",NKe,[Y(l("input",{type:"date","onUpdate:modelValue":w[5]||(w[5]=A=>h.value.data_vencimento_inicio=A),onChange:w[6]||(w[6]=A=>P(!0)),class:"form-control"},null,544),[[de,h.value.data_vencimento_inicio]]),w[32]||(w[32]=l("span",{class:"date-sep"},"-",-1)),Y(l("input",{type:"date","onUpdate:modelValue":w[7]||(w[7]=A=>h.value.data_vencimento_fim=A),onChange:w[8]||(w[8]=A=>P(!0)),class:"form-control"},null,544),[[de,h.value.data_vencimento_fim]])])]),l("div",PKe,[w[35]||(w[35]=l("label",null,"Status",-1)),Y(l("select",{"onUpdate:modelValue":w[9]||(w[9]=A=>h.value.status=A),onChange:w[10]||(w[10]=A=>P(!0)),class:"form-control"},[...w[34]||(w[34]=[l("option",{value:""},"Todos",-1),l("option",{value:"PENDENTE"},"Pendente",-1),l("option",{value:"ATRASADO"},"Atrasado",-1),l("option",{value:"PAGO"},"Pago",-1)])],544),[[xt,h.value.status]])]),l("div",{class:"filter-cell clear-cell"},[w[37]||(w[37]=l("label",null,"",-1)),l("button",{onClick:M,class:"btn-clear",title:"Limpar Filtros"},[...w[36]||(w[36]=[l("i",{class:"fas fa-eraser"},null,-1)])])])]),l("main",$Ke,[i.value?(O(),R("div",LKe,[...w[38]||(w[38]=[l("div",{class:"spinner"},null,-1),l("p",null,"Carregando finanas...",-1)])])):r.value?(O(),R("div",FKe,[w[39]||(w[39]=l("i",{class:"fas fa-exclamation-triangle empty-icon text-red"},null,-1)),l("p",null,F(r.value),1)])):e.value.length===0?(O(),R("div",VKe,[...w[40]||(w[40]=[l("i",{class:"fas fa-folder-open empty-icon"},null,-1),l("p",null,"Nenhuma conta a receber encontrada com os filtros atuais.",-1)])])):(O(),R("div",BKe,[l("table",UKe,[l("thead",null,[l("tr",null,[l("th",{width:"12%",onClick:w[11]||(w[11]=A=>x("data_vencimento")),class:"sortable"},[w[41]||(w[41]=z(" Vencimento ",-1)),l("i",{class:te(["fas",E("data_vencimento")])},null,2)]),l("th",{width:"25%",onClick:w[12]||(w[12]=A=>x("cliente__nome")),class:"sortable"},[w[42]||(w[42]=z(" Cliente ",-1)),l("i",{class:te(["fas",E("cliente__nome")])},null,2)]),l("th",{width:"25%",onClick:w[13]||(w[13]=A=>x("descricao")),class:"sortable"},[w[43]||(w[43]=z(" Descrio ",-1)),l("i",{class:te(["fas",E("descricao")])},null,2)]),l("th",{width:"15%",onClick:w[14]||(w[14]=A=>x("valor")),class:"sortable text-right"},[w[44]||(w[44]=z(" Valor ",-1)),l("i",{class:te(["fas",E("valor")])},null,2)]),l("th",{width:"10%",onClick:w[15]||(w[15]=A=>x("status")),class:"sortable text-center"},[w[45]||(w[45]=z(" Status ",-1)),l("i",{class:te(["fas",E("status")])},null,2)]),w[46]||(w[46]=l("th",{width:"13%",class:"text-right"},"Aes",-1))])]),l("tbody",null,[(O(!0),R(Me,null,je(e.value,A=>(O(),R("tr",{key:A.id},[l("td",null,[l("div",HKe,[l("span",zKe,F(y(A.data_vencimento).split("/")[0]),1),l("span",jKe,F(y(A.data_vencimento).substring(3)),1)])]),l("td",WKe,F(A.cliente_nome||"Cliente no identificado"),1),l("td",GKe,F(A.descricao),1),l("td",qKe,F(g(A.valor)),1),l("td",KKe,[l("span",{class:te(["status-pill",b(A.status)])},F(A.status),3)]),l("td",YKe,[l("div",XKe,[A.status!=="PAGO"?(O(),R("button",{key:0,onClick:B=>C(A),class:"btn-action success",title:"Receber",disabled:A.isUpdating},[...w[47]||(w[47]=[l("i",{class:"fas fa-hand-holding-usd"},null,-1)])],8,JKe)):(O(),R("button",{key:1,onClick:B=>k(A),class:"btn-action danger",title:"Reverter Pagamento",disabled:A.isUpdating},[...w[48]||(w[48]=[l("i",{class:"fas fa-undo"},null,-1)])],8,QKe)),be(D,{to:{name:"transacao-editar",params:{id:A.id}},class:"btn-action primary",title:"Editar"},{default:Pe(()=>[...w[49]||(w[49]=[l("i",{class:"fas fa-pen"},null,-1)])]),_:1},8,["to"])])])]))),128))])])])),n.value>e.value.length?(O(),R("div",ZKe,[l("span",eYe,"Exibindo "+F(e.value.length)+" de "+F(n.value)+" registros. Utilize os filtros para ver mais.",1)])):J("",!0)]),o.value?(O(),R("div",{key:1,class:"modal-overlay",onClick:wt(_,["self"])},[l("div",tYe,[l("div",{class:"modal-header"},[w[50]||(w[50]=l("h3",null,"Baixar Conta a Receber",-1)),l("button",{class:"close-btn",onClick:_},"")]),a.value?(O(),R("div",nYe,[l("div",sYe,[l("div",iYe,[w[51]||(w[51]=l("span",{class:"label"},"Cliente",-1)),l("span",rYe,F(a.value.cliente_nome||"N/A"),1)]),l("div",oYe,[w[52]||(w[52]=l("span",{class:"label"},"Valor",-1)),l("span",aYe,F(g(a.value.valor)),1)])]),l("div",lYe,[l("div",cYe,[w[53]||(w[53]=l("label",null,"Data Recebimento",-1)),Y(l("input",{type:"date","onUpdate:modelValue":w[16]||(w[16]=A=>f.data_pagamento=A),class:"form-control"},null,512),[[de,f.data_pagamento]])]),l("div",uYe,[w[55]||(w[55]=l("label",null,"Forma de Pagamento",-1)),Y(l("select",{"onUpdate:modelValue":w[17]||(w[17]=A=>f.forma_pagamento=A),class:"form-control"},[w[54]||(w[54]=l("option",{value:"",disabled:""},"Selecione...",-1)),(O(!0),R(Me,null,je(u.value,A=>(O(),R("option",{key:A.id,value:A.id},F(A.nome),9,dYe))),128))],512),[[xt,f.forma_pagamento]])]),l("div",fYe,[w[57]||(w[57]=l("label",null,"Conta de Entrada",-1)),Y(l("select",{"onUpdate:modelValue":w[18]||(w[18]=A=>f.conta=A),class:"form-control"},[w[56]||(w[56]=l("option",{value:null},"No alterar conta",-1)),(O(!0),R(Me,null,je(d.value,A=>(O(),R("option",{key:A.id,value:A.id},F(A.nome),9,hYe))),128))],512),[[xt,f.conta]])])])])):J("",!0),l("div",pYe,[l("button",{class:"btn-ghost",onClick:_},"Cancelar"),l("button",{class:"btn-primary-modal",onClick:T,disabled:c.value},[c.value?J("",!0):(O(),R("i",gYe)),c.value?(O(),R("span",vYe,"Processando...")):(O(),R("span",bYe,"Confirmar"))],8,mYe)])])])):J("",!0)])}}}),xYe=tt(yYe,[["__scopeId","data-v-59804da2"]]),_Ye={class:"page-container"},SYe={class:"content-card"},EYe={class:"form-group"},wYe=["value"],CYe={key:0,class:"loading-state"},AYe={key:1},kYe={class:"table-title"},TYe={class:"table-wrapper"},DYe={class:"styled-table"},OYe=["value"],RYe={class:"text-right"},MYe=["disabled"],IYe={class:"content-card"},NYe={class:"form-group"},PYe=["disabled"],$Ye={key:0,class:"log-processamento"},LYe=We({__name:"RemessaRetornoView",setup(t){const e=H([]),n=H(null),s=H([]),i=H([]),r=H(!0),o=H(null),a=H(""),c=async()=>{r.value=!0;try{const b=await ce.get("/v1/boletos/ciclo-boletos/pendentes-remessa/");s.value=b.data}catch(b){console.error(b)}finally{r.value=!1}},u=async()=>{try{const b=await ce.get("/v1/boletos/configuracoes-banco/");e.value=b.data}catch(b){console.error(b)}},d=async()=>{try{const b=await ce.post("/v1/boletos/ciclo-boletos/gerar-remessa/",{transacao_ids:i.value,config_banco_id:n.value},{responseType:"blob"}),x=window.URL.createObjectURL(new Blob([b.data])),E=document.createElement("a");E.href=x,E.setAttribute("download",`REMESSA_${new Date().toISOString()}.txt`),document.body.appendChild(E),E.click(),E.remove(),i.value=[],c()}catch(b){alert("Erro ao gerar arquivo de remessa."),console.error(b)}},f=async()=>{if(!o.value)return;const b=new FormData;b.append("arquivo_retorno",o.value);try{const x=await ce.post("/v1/boletos/ciclo-boletos/processar-retorno/",b,{headers:{"Content-Type":"multipart/form-data"}});a.value=x.data.log}catch(x){alert("Erro ao processar arquivo de retorno."),console.error(x)}},h=b=>{const x=b.target;x.files&&(o.value=x.files[0])},m=b=>{b.target.checked?i.value=s.value.map(E=>E.id):i.value=[]},g=b=>new Date(b+"T00:00:00").toLocaleDateString("pt-BR"),y=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b||0);return it(()=>{u(),c()}),(b,x)=>(O(),R("div",_Ye,[x[12]||(x[12]=l("div",{class:"header-section"},[l("h1",{class:"page-title"},"Remessa e Retorno de Boletos"),l("p",{class:"page-subtitle"},"Gere arquivos de remessa para o banco e processe os retornos para dar baixa nos pagamentos.")],-1)),l("div",SYe,[x[8]||(x[8]=l("h2",{class:"card-title"},"1. Gerar Arquivo de Remessa",-1)),l("div",EYe,[x[3]||(x[3]=l("label",{for:"banco"},"Selecione a Configurao Bancria:",-1)),Y(l("select",{id:"banco","onUpdate:modelValue":x[0]||(x[0]=E=>n.value=E),class:"form-control"},[x[2]||(x[2]=l("option",{value:null},"-- Selecione --",-1)),(O(!0),R(Me,null,je(e.value,E=>(O(),R("option",{key:E.id,value:E.id},F(E.nome_banco),9,wYe))),128))],512),[[xt,n.value]])]),r.value?(O(),R("div",CYe,"Carregando contas pendentes...")):(O(),R("div",AYe,[l("h3",kYe,"Contas Pendentes de Remessa ("+F(s.value.length)+")",1),l("div",TYe,[l("table",DYe,[l("thead",null,[l("tr",null,[l("th",null,[l("input",{type:"checkbox",onChange:m},null,32)]),x[4]||(x[4]=l("th",null,"Vencimento",-1)),x[5]||(x[5]=l("th",null,"Cliente",-1)),x[6]||(x[6]=l("th",null,"Descrio",-1)),x[7]||(x[7]=l("th",{class:"text-right"},"Valor",-1))])]),l("tbody",null,[(O(!0),R(Me,null,je(s.value,E=>(O(),R("tr",{key:E.id},[l("td",null,[Y(l("input",{type:"checkbox","onUpdate:modelValue":x[1]||(x[1]=C=>i.value=C),value:E.id},null,8,OYe),[[Zt,i.value]])]),l("td",null,F(g(E.vencimento)),1),l("td",null,F(E.cliente_nome),1),l("td",null,F(E.descricao),1),l("td",RYe,F(y(E.valor)),1)]))),128))])])]),l("button",{onClick:d,disabled:!n.value||i.value.length===0,class:"btn-primary"}," Gerar Arquivo de Remessa ("+F(i.value.length)+" selecionadas) ",9,MYe)]))]),l("div",IYe,[x[11]||(x[11]=l("h2",{class:"card-title"},"2. Processar Arquivo de Retorno",-1)),l("div",NYe,[x[9]||(x[9]=l("label",{for:"retorno-file"},"Selecione o arquivo de retorno (.ret) fornecido pelo banco:",-1)),l("input",{type:"file",id:"retorno-file",onChange:h,class:"form-control"},null,32)]),l("button",{onClick:f,disabled:!o.value,class:"btn-success"}," Processar Arquivo ",8,PYe),a.value?(O(),R("div",$Ye,[x[10]||(x[10]=l("h4",null,"Resultado:",-1)),l("pre",null,F(a.value),1)])):J("",!0)])]))}}),FYe=tt(LYe,[["__scopeId","data-v-7632ba34"]]),VYe={key:0,class:"agency-home fade-in"},BYe={class:"agency-hero"},UYe={class:"container hero-container"},HYe={class:"search-wrapper"},zYe={class:"input-icon"},jYe=["placeholder","disabled"],WYe=["disabled"],GYe={key:0,class:"typing-dots"},qYe={key:1},KYe={key:2},YYe={class:"ai-toggle-wrapper"},XYe={class:"toggle-switch"},JYe={key:0,class:"filters-section container"},QYe={class:"filters-bar slide-up"},ZYe={class:"filters-scroll"},eXe={class:"filter-group"},tXe={class:"filter-group"},nXe={class:"filter-group small"},sXe={class:"filter-group money-group"},iXe={class:"filter-group money-group"},rXe={class:"container listings-section"},oXe={key:0,class:"ai-feedback fade-in-up"},aXe={class:"ai-content"},lXe={key:1,class:"imoveis-grid"},cXe={key:2,class:"empty-state fade-in"},uXe={key:3,class:"imoveis-grid fade-in"},dXe={key:1,class:"landing-page"},fXe={class:"container nav-content"},hXe={class:"nav-actions"},pXe={id:"top",class:"hero-section"},mXe={class:"container hero-content"},gXe={class:"hero-buttons"},vXe=We({__name:"PublicHomeView",setup(t){const e=ms(),n=H(!1),s=H([]),i=H(!1),r=H(!1),o=H(""),a=H({search:"",tipo:"",status:"",quartos_min:"",vagas_min:"",valor_min:"",valor_max:""}),c=we(()=>{const g=window.location.hostname;return e.path.startsWith("/site")?!0:!(g==="localhost"||g==="127.0.0.1"||g==="teste.localhost"||(g==="imobhome.com.br"||g==="www.imobhome.com.br"))}),u=we(()=>r.value?"Ex: Casa de praia com 4 sutes e piscina...":"Busque por cidade, bairro ou cdigo...");function d(){a.value={search:"",tipo:"",status:"",quartos_min:"",vagas_min:"",valor_min:"",valor_max:""},f()}async function f(){if(c.value){i.value=!0,o.value="";try{const g=window.location.hostname,y=g.split(".");let b=y.length>1&&y[0]!=="www"?y[0]:"estilomusical";if(g.includes("localhost")&&(b="estilomusical"),r.value&&a.value.search.trim().length>0){const x=await tp.post("/public/imoveis/busca-ia/",{query:a.value.search},{params:{subdomain:b}});s.value=x.data.imoveis||[],x.data.mensagem&&(o.value=x.data.mensagem)}else{const x={subdomain:b,publicado:!0};a.value.search&&(x.search=a.value.search),a.value.tipo&&(x.tipo=a.value.tipo),a.value.status&&(x.status=a.value.status),a.value.quartos_min&&(x.quartos_min=a.value.quartos_min),a.value.vagas_min&&(x.vagas_min=a.value.vagas_min),a.value.valor_min&&(x.valor_min=a.value.valor_min),a.value.valor_max&&(x.valor_max=a.value.valor_max);const E=await tp.get("/public/imoveis/",{params:x});s.value=E.data.results||E.data}}catch(g){console.error("Erro ao buscar imveis",g),g.response&&g.response.data&&g.response.data.error?o.value=` ${g.response.data.error}`:o.value="No conseguimos conectar com a busca inteligente agora.",r.value&&(s.value=[])}finally{i.value=!1}}}const h=()=>{n.value=window.scrollY>20},m=g=>{document.getElementById(g)?.scrollIntoView({behavior:"smooth"})};return it(()=>{window.addEventListener("scroll",h),c.value&&f()}),Yl(()=>{window.removeEventListener("scroll",h)}),(g,y)=>{const b=on("router-link");return c.value?(O(),R("div",VYe,[l("div",BYe,[y[13]||(y[13]=l("div",{class:"hero-overlay"},null,-1)),l("div",UYe,[y[10]||(y[10]=l("span",{class:"hero-badge"},[l("i",{class:"fas fa-sparkles"}),z(" Nova Busca Inteligente ")],-1)),y[11]||(y[11]=l("h2",{class:"agency-title"},"Qual o imvel dos seus sonhos?",-1)),y[12]||(y[12]=l("p",{class:"agency-subtitle"},"Descreva o que voc procura e nossa IA encontra para voc.",-1)),l("div",HYe,[r.value?(O(),R("div",{key:0,class:te(["search-box glass-effect",{"ai-active":r.value}])},[l("div",zYe,[l("i",{class:te(["fas",r.value?"fa-robot":"fa-search"])},null,2)]),Y(l("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=x=>a.value.search=x),placeholder:u.value,onKeyup:Op(f,["enter"]),disabled:i.value},null,40,jYe),[[de,a.value.search]]),l("button",{onClick:f,class:"btn-search",disabled:i.value},[i.value&&r.value?(O(),R("span",GYe,"Pensando...")):i.value?(O(),R("span",qYe,"Buscando...")):(O(),R("span",KYe,"Buscar"))],8,WYe)],2)):J("",!0),l("div",YYe,[l("label",XYe,[Y(l("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=x=>r.value=x)},null,512),[[Zt,r.value]]),y[9]||(y[9]=l("span",{class:"slider round"},null,-1))]),l("span",{class:te(["toggle-label",{active:r.value}])}," Ativar Inteligncia Artificial ",2)])])])]),r.value?J("",!0):(O(),R("div",JYe,[l("div",QYe,[l("div",ZYe,[l("div",eXe,[y[15]||(y[15]=l("i",{class:"fas fa-home filter-icon"},null,-1)),Y(l("select",{"onUpdate:modelValue":y[2]||(y[2]=x=>a.value.tipo=x),class:"form-select"},[...y[14]||(y[14]=[hi('<option value="" data-v-10e9eb9c>Tipo de Imvel</option><option value="CASA" data-v-10e9eb9c>Casa</option><option value="APARTAMENTO" data-v-10e9eb9c>Apartamento</option><option value="TERRENO" data-v-10e9eb9c>Terreno</option><option value="SALA_COMERCIAL" data-v-10e9eb9c>Sala Comercial</option><option value="GALPAO" data-v-10e9eb9c>Galpo</option><option value="RURAL" data-v-10e9eb9c>Rural</option>',7)])],512),[[xt,a.value.tipo]])]),l("div",tXe,[y[17]||(y[17]=l("i",{class:"fas fa-key filter-icon"},null,-1)),Y(l("select",{"onUpdate:modelValue":y[3]||(y[3]=x=>a.value.status=x),class:"form-select"},[...y[16]||(y[16]=[l("option",{value:""},"Operao",-1),l("option",{value:"A_VENDA"},"Comprar",-1),l("option",{value:"PARA_ALUGAR"},"Alugar",-1)])],512),[[xt,a.value.status]])]),l("div",nXe,[Y(l("select",{"onUpdate:modelValue":y[4]||(y[4]=x=>a.value.quartos_min=x),class:"form-select"},[...y[18]||(y[18]=[hi('<option value="" data-v-10e9eb9c>Quartos</option><option value="1" data-v-10e9eb9c>1+</option><option value="2" data-v-10e9eb9c>2+</option><option value="3" data-v-10e9eb9c>3+</option><option value="4" data-v-10e9eb9c>4+</option>',5)])],512),[[xt,a.value.quartos_min]])]),l("div",sXe,[y[19]||(y[19]=l("span",{class:"currency"},"R$",-1)),Y(l("input",{type:"number","onUpdate:modelValue":y[5]||(y[5]=x=>a.value.valor_min=x),placeholder:"Mnimo",class:"form-input"},null,512),[[de,a.value.valor_min]])]),y[22]||(y[22]=l("div",{class:"separator"},"-",-1)),l("div",iXe,[y[20]||(y[20]=l("span",{class:"currency"},"R$",-1)),Y(l("input",{type:"number","onUpdate:modelValue":y[6]||(y[6]=x=>a.value.valor_max=x),placeholder:"Mximo",class:"form-input"},null,512),[[de,a.value.valor_max]])]),l("button",{onClick:f,class:"btn-filter-apply",title:"Aplicar Filtros"},[...y[21]||(y[21]=[l("i",{class:"fas fa-check"},null,-1)])])])])])),l("div",rXe,[o.value?(O(),R("div",oXe,[y[25]||(y[25]=l("div",{class:"ai-avatar"},[l("i",{class:"fas fa-magic"})],-1)),l("div",aXe,[y[23]||(y[23]=l("strong",null,"Assistente Virtual:",-1)),l("p",null,F(o.value),1)]),l("button",{onClick:y[7]||(y[7]=x=>o.value=""),class:"close-feedback"},[...y[24]||(y[24]=[l("i",{class:"fas fa-times"},null,-1)])])])):J("",!0),i.value?(O(),R("div",lXe,[(O(),R(Me,null,je(6,x=>l("div",{key:x,class:"skeleton-card"},[...y[26]||(y[26]=[hi('<div class="skeleton-image" data-v-10e9eb9c></div><div class="skeleton-content" data-v-10e9eb9c><div class="skeleton-line title" data-v-10e9eb9c></div><div class="skeleton-line subtitle" data-v-10e9eb9c></div><div class="skeleton-line price" data-v-10e9eb9c></div></div>',2)])])),64))])):s.value.length===0?(O(),R("div",cXe,[y[27]||(y[27]=l("div",{class:"empty-icon"},[l("i",{class:"fas fa-search-location"})],-1)),y[28]||(y[28]=l("h3",null,"Nenhum imvel encontrado",-1)),y[29]||(y[29]=l("p",null,"Tente mudar os filtros ou fazer uma nova busca com a IA.",-1)),l("button",{class:"btn-reset",onClick:d},"Limpar Filtros")])):(O(),R("div",uXe,[(O(!0),R(Me,null,je(s.value,x=>(O(),is(A6,{key:x.id,imovel:x},null,8,["imovel"]))),128))]))]),y[30]||(y[30]=l("a",{href:"https://wa.me/5511999999999",target:"_blank",class:"floating-whatsapp",title:"Fale conosco"},[l("i",{class:"fab fa-whatsapp"})],-1))])):(O(),R("div",dXe,[l("nav",{class:te(["navbar",{scrolled:n.value}])},[l("div",fXe,[l("div",{class:"logo",onClick:y[8]||(y[8]=x=>m("top"))},[...y[31]||(y[31]=[l("div",{class:"logo-icon"},[l("i",{class:"fas fa-laptop-house"})],-1),l("span",{class:"logo-text"},[z("Imob"),l("span",{class:"highlight"},"Home")],-1)])]),l("div",hXe,[be(b,{to:"/login",class:"btn-login"},{default:Pe(()=>[...y[32]||(y[32]=[z("Entrar",-1)])]),_:1}),be(b,{to:"/cadastro",class:"btn-cta-small"},{default:Pe(()=>[...y[33]||(y[33]=[z("Criar Conta",-1)])]),_:1})])])],2),l("section",pXe,[l("div",mXe,[y[35]||(y[35]=l("h1",{class:"hero-title"},[z("Gesto Imobiliria "),l("span",{class:"gradient-text"},"Simples")],-1)),y[36]||(y[36]=l("p",{class:"hero-subtitle"},"O sistema ideal para corretores e pequenas imobilirias.",-1)),l("div",gXe,[be(b,{to:"/cadastro",class:"btn-hero-primary"},{default:Pe(()=>[...y[34]||(y[34]=[z("Comear Agora",-1)])]),_:1})])])])]))}}}),TN=tt(vXe,[["__scopeId","data-v-10e9eb9c"]]),bXe={class:"imovel-detail-container"},yXe={key:0,class:"loading-message"},xXe={key:1,class:"error-message"},_Xe={key:2,class:"imovel-content"},SXe={class:"main-column"},EXe={class:"imovel-title"},wXe={class:"imovel-location"},CXe={class:"gallery"},AXe=["src"],kXe={class:"thumbnail-grid"},TXe=["src","onClick"],DXe={class:"details-section"},OXe={class:"highlights-grid"},RXe={class:"highlight-item"},MXe={class:"highlight-item"},IXe={class:"highlight-item"},NXe={class:"highlight-item"},PXe={key:0,class:"highlight-item"},$Xe={key:1,class:"highlight-item"},LXe={key:2,class:"highlight-item"},FXe={key:3,class:"highlight-item"},VXe={key:4,class:"highlight-item"},BXe={class:"details-section"},UXe={class:"description-text"},HXe={class:"details-section"},zXe={class:"features-list"},jXe={key:0},WXe={key:1},GXe={key:2},qXe={key:3},KXe={key:4},YXe={key:5},XXe={key:6},JXe={key:7},QXe={key:8},ZXe={key:9},eJe={key:10},tJe={key:0,class:"details-section"},nJe={class:"features-list"},sJe={key:0},iJe={key:1},rJe={key:2},oJe={key:3},aJe={key:4},lJe={key:5},cJe={key:6},uJe={key:7},dJe={class:"info-sidebar"},fJe={class:"sidebar-box"},hJe={class:"imovel-ref"},pJe={class:"price-box"},mJe={class:"price-label"},gJe={class:"imovel-price"},vJe={key:0,class:"imovel-condo"},bJe={key:1,class:"imovel-iptu"},yJe={class:"contact-form-section"},xJe=["disabled"],_Je={key:0,class:"success-message"},SJe={class:"image-modal-content"},EJe=["src"],wJe=We({__name:"PublicImovelDetailView",setup(t){const e=ms(),n=H(null),s=H(!0),i=H(null),r=H(""),o=H(!1),a=H(""),c=H(0),u=H({nome:"",email:"",telefone:"",mensagem:"Ol! Tenho interesse neste imvel e gostaria de mais informaes.",imovel:e.params.id}),d=H(!1),f=H(!1),h=we(()=>n.value?n.value.portaria_24h||n.value.elevador||n.value.piscina_condominio||n.value.academia||n.value.salao_festas:!1);function m(T){const k=n.value.imagens.findIndex($=>$.imagem===T);k!==-1&&(c.value=k),a.value=T,o.value=!0}function g(){o.value=!1}function y(){const T=(c.value+1)%n.value.imagens.length;c.value=T,a.value=n.value.imagens[T].imagem,r.value=n.value.imagens[T].imagem}function b(){const T=(c.value-1+n.value.imagens.length)%n.value.imagens.length;c.value=T,a.value=n.value.imagens[T].imagem,r.value=n.value.imagens[T].imagem}async function x(){s.value=!0;try{const k=window.location.hostname.split(".");let $=null;if(k.length>1&&k[0]!=="www"&&k[0]!=="localhost"&&($=k[0]),($==="localhost"||!$)&&($="estilomusical"),!$){i.value="Site no encontrado. Aceda atravs de um endereo de imobiliria vlido.",s.value=!1;return}const M={subdomain:$},P=await tp.get(`/public/imoveis/${e.params.id}/`,{params:M});if(n.value=P.data,n.value.imagens&&n.value.imagens.length>0){const V=n.value.imagens.find(I=>I.principal)||n.value.imagens[0];r.value=V.imagem}else r.value="https://via.placeholder.com/800x600.png?text=Sem+Imagem"}catch(T){console.error("Erro ao buscar detalhes do imvel:",T),i.value="No foi possvel carregar os detalhes do imvel."}finally{s.value=!1}}async function E(){d.value=!0;try{await tp.post("/public/contatos/",u.value),f.value=!0,u.value.nome="",u.value.email="",u.value.telefone=""}catch(T){console.error("Erro ao enviar contato:",T),alert("Ocorreu um erro ao enviar sua mensagem. Tente novamente.")}finally{d.value=!1}}it(()=>{x()});function C(T){return T.status==="A_VENDA"?"Valor de Venda":T.status==="PARA_ALUGAR"?"Valor do Aluguel":"Valor"}function _(T){return T.status==="A_VENDA"&&T.valor_venda?parseFloat(T.valor_venda).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):T.status==="PARA_ALUGAR"&&T.valor_aluguel?`${parseFloat(T.valor_aluguel).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} /ms`:"A consultar"}return(T,k)=>(O(),R("div",bXe,[s.value?(O(),R("div",yXe,"A carregar detalhes do imvel...")):J("",!0),i.value?(O(),R("div",xXe,F(i.value),1)):J("",!0),n.value?(O(),R("div",_Xe,[l("div",SXe,[l("h1",EXe,F(n.value.titulo_anuncio),1),l("p",wXe,F(n.value.logradouro)+", "+F(n.value.numero)+", "+F(n.value.bairro)+", "+F(n.value.cidade)+" - "+F(n.value.estado),1),l("div",CXe,[l("img",{src:r.value,alt:"Imagem principal do imvel",class:"main-image",onClick:k[0]||(k[0]=$=>m(r.value))},null,8,AXe),l("div",kXe,[(O(!0),R(Me,null,je(n.value.imagens,$=>(O(),R("img",{key:$.id,src:$.imagem,onClick:M=>r.value=$.imagem,class:te([{active:r.value===$.imagem},"thumbnail"])},null,10,TXe))),128))])]),l("div",DXe,[k[14]||(k[14]=l("h2",null,"Destaques",-1)),l("div",OXe,[l("div",RXe,[k[5]||(k[5]=l("i",{class:"fas fa-ruler-combined"},null,-1)),z(" "+F(n.value.area_util||n.value.area_construida)+" m",1)]),l("div",MXe,[k[6]||(k[6]=l("i",{class:"fas fa-bed"},null,-1)),z(" "+F(n.value.quartos)+" Quarto(s)",1)]),l("div",IXe,[k[7]||(k[7]=l("i",{class:"fas fa-bath"},null,-1)),z(" "+F(n.value.suites)+" Sute(s)",1)]),l("div",NXe,[k[8]||(k[8]=l("i",{class:"fas fa-car"},null,-1)),z(" "+F(n.value.vagas_garagem)+" Vaga(s)",1)]),n.value.piscina_privativa||n.value.piscina_condominio?(O(),R("div",PXe,[...k[9]||(k[9]=[l("i",{class:"fas fa-swimmer"},null,-1),z(" Piscina",-1)])])):J("",!0),n.value.churrasqueira_privativa||n.value.churrasqueira_condominio?(O(),R("div",$Xe,[...k[10]||(k[10]=[l("i",{class:"fas fa-utensils"},null,-1),z(" Churrasqueira",-1)])])):J("",!0),n.value.academia?(O(),R("div",LXe,[...k[11]||(k[11]=[l("i",{class:"fas fa-dumbbell"},null,-1),z(" Academia",-1)])])):J("",!0),n.value.aceita_pet?(O(),R("div",FXe,[...k[12]||(k[12]=[l("i",{class:"fas fa-paw"},null,-1),z(" Aceita Pet",-1)])])):J("",!0),n.value.mobiliado?(O(),R("div",VXe,[...k[13]||(k[13]=[l("i",{class:"fas fa-couch"},null,-1),z(" Mobiliado",-1)])])):J("",!0)])]),l("div",BXe,[k[15]||(k[15]=l("h2",null,"Descrio",-1)),l("p",UXe,F(n.value.descricao_completa||"Descrio no disponvel."),1)]),l("div",HXe,[k[27]||(k[27]=l("h2",null,"Caractersticas do Imvel",-1)),l("ul",zXe,[n.value.area_util?(O(),R("li",jXe,[k[16]||(k[16]=l("span",null,"rea til:",-1)),z(" "+F(n.value.area_util)+" m",1)])):J("",!0),n.value.area_construida?(O(),R("li",WXe,[k[17]||(k[17]=l("span",null,"rea Construda:",-1)),z(" "+F(n.value.area_construida)+" m",1)])):J("",!0),n.value.area_total?(O(),R("li",GXe,[k[18]||(k[18]=l("span",null,"rea Total:",-1)),z(" "+F(n.value.area_total)+" m",1)])):J("",!0),n.value.quartos?(O(),R("li",qXe,[k[19]||(k[19]=l("span",null,"Quartos:",-1)),z(" "+F(n.value.quartos),1)])):J("",!0),n.value.suites?(O(),R("li",KXe,[k[20]||(k[20]=l("span",null,"Sutes:",-1)),z(" "+F(n.value.suites),1)])):J("",!0),n.value.banheiros?(O(),R("li",YXe,[k[21]||(k[21]=l("span",null,"Banheiros:",-1)),z(" "+F(n.value.banheiros),1)])):J("",!0),n.value.vagas_garagem?(O(),R("li",XXe,[k[22]||(k[22]=l("span",null,"Vagas de Garagem:",-1)),z(" "+F(n.value.vagas_garagem),1)])):J("",!0),n.value.ano_construcao?(O(),R("li",JXe,[k[23]||(k[23]=l("span",null,"Ano de Construo:",-1)),z(" "+F(n.value.ano_construcao),1)])):J("",!0),n.value.andar?(O(),R("li",QXe,[k[24]||(k[24]=l("span",null,"Andar:",-1)),z(" "+F(n.value.andar),1)])):J("",!0),n.value.varanda?(O(),R("li",ZXe,[...k[25]||(k[25]=[l("span",null,"Varanda / Sacada:",-1),z(" Sim",-1)])])):J("",!0),n.value.ar_condicionado?(O(),R("li",eJe,[...k[26]||(k[26]=[l("span",null,"Ar Condicionado:",-1),z(" Sim",-1)])])):J("",!0)])]),h.value?(O(),R("div",tJe,[k[36]||(k[36]=l("h2",null,"Caractersticas do Condomnio",-1)),l("ul",nJe,[n.value.portaria_24h?(O(),R("li",sJe,[...k[28]||(k[28]=[l("span",null,"Portaria 24h:",-1),z(" Sim",-1)])])):J("",!0),n.value.elevador?(O(),R("li",iJe,[...k[29]||(k[29]=[l("span",null,"Elevador:",-1),z(" Sim",-1)])])):J("",!0),n.value.salao_festas?(O(),R("li",rJe,[...k[30]||(k[30]=[l("span",null,"Salo de Festas:",-1),z(" Sim",-1)])])):J("",!0),n.value.academia?(O(),R("li",oJe,[...k[31]||(k[31]=[l("span",null,"Academia:",-1),z(" Sim",-1)])])):J("",!0),n.value.piscina_condominio?(O(),R("li",aJe,[...k[32]||(k[32]=[l("span",null,"Piscina:",-1),z(" Sim",-1)])])):J("",!0),n.value.playground?(O(),R("li",lJe,[...k[33]||(k[33]=[l("span",null,"Playground:",-1),z(" Sim",-1)])])):J("",!0),n.value.quadra_esportiva?(O(),R("li",cJe,[...k[34]||(k[34]=[l("span",null,"Quadra Esportiva:",-1),z(" Sim",-1)])])):J("",!0),n.value.espaco_gourmet?(O(),R("li",uJe,[...k[35]||(k[35]=[l("span",null,"Espao Gourmet:",-1),z(" Sim",-1)])])):J("",!0)])])):J("",!0)]),l("div",dJe,[l("div",fJe,[l("p",hJe,"Ref: "+F(n.value.codigo_referencia),1),l("div",pJe,[l("p",mJe,F(C(n.value)),1),l("p",gJe,F(_(n.value)),1),n.value.valor_condominio?(O(),R("p",vJe,"Condomnio: R$ "+F(n.value.valor_condominio),1)):J("",!0),n.value.valor_iptu?(O(),R("p",bJe,"IPTU: R$ "+F(n.value.valor_iptu)+" (anual)",1)):J("",!0)]),l("div",yJe,[k[37]||(k[37]=l("h3",null,"Fale com o corretor",-1)),l("form",{onSubmit:wt(E,["prevent"])},[Y(l("input",{type:"text","onUpdate:modelValue":k[1]||(k[1]=$=>u.value.nome=$),placeholder:"Seu nome",required:""},null,512),[[de,u.value.nome]]),Y(l("input",{type:"email","onUpdate:modelValue":k[2]||(k[2]=$=>u.value.email=$),placeholder:"Seu e-mail",required:""},null,512),[[de,u.value.email]]),Y(l("input",{type:"tel","onUpdate:modelValue":k[3]||(k[3]=$=>u.value.telefone=$),placeholder:"Seu telefone *",required:""},null,512),[[de,u.value.telefone]]),Y(l("textarea",{"onUpdate:modelValue":k[4]||(k[4]=$=>u.value.mensagem=$),rows:"4",placeholder:"Ol! Tenho interesse neste imvel e gostaria de mais informaes.",required:""},null,512),[[de,u.value.mensagem]]),l("button",{type:"submit",disabled:d.value},F(d.value?"A enviar...":"Enviar Mensagem"),9,xJe),f.value?(O(),R("p",_Je,"Mensagem enviada com sucesso!")):J("",!0)],32)])])])])):J("",!0),o.value?(O(),R("div",{key:3,class:"image-modal-overlay",onClick:g},[l("button",{class:"modal-nav-btn prev-btn",onClick:wt(b,["stop"])},"<"),l("div",SJe,[l("img",{src:a.value,alt:"Imagem ampliada do imvel"},null,8,EJe)]),l("button",{class:"modal-nav-btn next-btn",onClick:wt(y,["stop"])},">")])):J("",!0)]))}}),CJe=tt(wJe,[["__scopeId","data-v-4955ffe3"]]),AJe={class:"space-y-6"},kJe={class:"flex justify-between items-center"},TJe={class:"flex gap-3"},DJe=["disabled"],OJe={key:0,class:"i-fas-save w-4 h-4"},RJe={key:1,class:"i-fas-spinner animate-spin w-4 h-4"},MJe={key:0,class:"bg-red-50 text-red-600 p-4 rounded-lg flex items-center gap-2"},IJe={class:"flex space-x-1 border-b border-slate-200 mb-6"},NJe=["onClick"],PJe={key:0,class:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600"},$Je={key:1,class:"flex justify-center py-12"},LJe={key:2,class:"bg-white p-6 rounded-xl shadow-sm border border-slate-100 space-y-6"},FJe={class:"space-y-4"},VJe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},BJe={class:"flex items-center gap-3 bg-yellow-50 p-4 rounded-lg border border-yellow-100 mt-4"},UJe={class:"space-y-4"},HJe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},zJe={class:"md:col-span-2"},jJe={class:"space-y-4"},WJe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},GJe=We({__name:"ConfiguracaoSistemaView",setup(t){an(),$o();const e=H("geral"),n=[{id:"geral",label:"Geral"},{id:"email",label:"E-mail"},{id:"integracoes",label:"Integraes"}],s=H(!1),i=H(!0),r=H(""),o=H({site_url:"",base_public_url:"",email_host:"",email_port:587,email_host_user:"",email_host_password:"",default_from_email:"",google_api_key:"",cloudinary_cloud_name:"",cloudinary_api_key:"",cloudinary_api_secret:"",modo_manutencao:!1});it(async()=>{await a()});async function a(){try{i.value=!0;const u=await ce.get("/v1/core/configuracao-global/");u.data&&(o.value={...o.value,...u.data})}catch(u){console.error(u),u.response?.status===403?r.value="Voc no tem permisso para visualizar estas configuraes.":r.value="Erro ao carregar configuraes."}finally{i.value=!1}}async function c(){try{s.value=!0,r.value="",await ce.put("/v1/core/configuracao-global/",o.value),alert("Configuraes salvas com sucesso!")}catch(u){console.error(u),r.value="Erro ao salvar configuraes."}finally{s.value=!1}}return(u,d)=>(O(),R("div",AJe,[l("header",kJe,[d[12]||(d[12]=l("div",null,[l("h1",{class:"text-2xl font-bold text-slate-800"},"Configuraes do Sistema"),l("p",{class:"text-slate-500"},"Gerencie as variveis globais de ambiente (Email, Integraes, URLs).")],-1)),l("div",TJe,[l("button",{onClick:c,disabled:s.value,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2"},[s.value?(O(),R("div",RJe)):(O(),R("div",OJe)),z(" "+F(s.value?"Salvando...":"Salvar Alteraes"),1)],8,DJe)])]),r.value?(O(),R("div",MJe,[d[13]||(d[13]=l("div",{class:"i-fas-exclamation-triangle w-5 h-5"},null,-1)),z(" "+F(r.value),1)])):J("",!0),l("div",IJe,[(O(),R(Me,null,je(n,f=>l("button",{key:f.id,onClick:h=>e.value=f.id,class:te(["px-4 py-2 text-sm font-medium transition-colors relative cursor-pointer",e.value===f.id?"text-blue-600":"text-slate-500 hover:text-slate-700"])},[z(F(f.label)+" ",1),e.value===f.id?(O(),R("div",PJe)):J("",!0)],10,NJe)),64))]),i.value?(O(),R("div",$Je,[...d[14]||(d[14]=[l("div",{class:"i-fas-spinner w-8 h-8 text-blue-600 animate-spin"},null,-1)])])):(O(),R("form",LJe,[Y(l("div",FJe,[d[18]||(d[18]=l("h3",{class:"text-lg font-semibold text-slate-800 border-b pb-2"},"URLs e Manuteno",-1)),l("div",VJe,[l("div",null,[d[15]||(d[15]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"URL do Sistema",-1)),Y(l("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>o.value.site_url=f),type:"text",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"https://imobhome.com.br"},null,512),[[de,o.value.site_url]])]),l("div",null,[d[16]||(d[16]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"URL Pblica Base",-1)),Y(l("input",{"onUpdate:modelValue":d[1]||(d[1]=f=>o.value.base_public_url=f),type:"text",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"https://imobhome.com.br"},null,512),[[de,o.value.base_public_url]])])]),l("div",BJe,[Y(l("input",{"onUpdate:modelValue":d[2]||(d[2]=f=>o.value.modo_manutencao=f),type:"checkbox",id:"manutencao",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 cursor-pointer"},null,512),[[Zt,o.value.modo_manutencao]]),d[17]||(d[17]=l("div",null,[l("label",{for:"manutencao",class:"font-medium text-slate-800 cursor-pointer"},"Ativar Modo Manuteno"),l("p",{class:"text-xs text-slate-500"},"Se ativo, apenas Superusurios conseguiro acessar o sistema.")],-1))])],512),[[Hs,e.value==="geral"]]),Y(l("div",UJe,[d[24]||(d[24]=l("h3",{class:"text-lg font-semibold text-slate-800 border-b pb-2"},"Configuraes de E-mail (SMTP)",-1)),l("div",HJe,[l("div",null,[d[19]||(d[19]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Host SMTP",-1)),Y(l("input",{"onUpdate:modelValue":d[3]||(d[3]=f=>o.value.email_host=f),type:"text",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"smtp.gmail.com"},null,512),[[de,o.value.email_host]])]),l("div",null,[d[20]||(d[20]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Porta SMTP",-1)),Y(l("input",{"onUpdate:modelValue":d[4]||(d[4]=f=>o.value.email_port=f),type:"number",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"587"},null,512),[[de,o.value.email_port,void 0,{number:!0}]])]),l("div",null,[d[21]||(d[21]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Usurio (E-mail)",-1)),Y(l("input",{"onUpdate:modelValue":d[5]||(d[5]=f=>o.value.email_host_user=f),type:"email",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[de,o.value.email_host_user]])]),l("div",null,[d[22]||(d[22]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Senha (App Password)",-1)),Y(l("input",{"onUpdate:modelValue":d[6]||(d[6]=f=>o.value.email_host_password=f),type:"password",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[de,o.value.email_host_password]])]),l("div",zJe,[d[23]||(d[23]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Remetente Padro",-1)),Y(l("input",{"onUpdate:modelValue":d[7]||(d[7]=f=>o.value.default_from_email=f),type:"text",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Nome <email@dominio.com>"},null,512),[[de,o.value.default_from_email]])])])],512),[[Hs,e.value==="email"]]),Y(l("div",jJe,[d[30]||(d[30]=l("h3",{class:"text-lg font-semibold text-slate-800 border-b pb-2"},"Google & IA",-1)),l("div",null,[d[25]||(d[25]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Google API Key (Maps/Gemini Global)",-1)),Y(l("input",{"onUpdate:modelValue":d[8]||(d[8]=f=>o.value.google_api_key=f),type:"password",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[de,o.value.google_api_key]]),d[26]||(d[26]=l("p",{class:"text-xs text-slate-500 mt-1"},"Usada como fallback se a imobiliria no tiver sua prpria chave.",-1))]),d[31]||(d[31]=l("h3",{class:"text-lg font-semibold text-slate-800 border-b pb-2 pt-4"},"Cloudinary (Uploads)",-1)),l("div",WJe,[l("div",null,[d[27]||(d[27]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Cloud Name",-1)),Y(l("input",{"onUpdate:modelValue":d[9]||(d[9]=f=>o.value.cloudinary_cloud_name=f),type:"text",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[de,o.value.cloudinary_cloud_name]])]),l("div",null,[d[28]||(d[28]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"API Key",-1)),Y(l("input",{"onUpdate:modelValue":d[10]||(d[10]=f=>o.value.cloudinary_api_key=f),type:"text",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[de,o.value.cloudinary_api_key]])]),l("div",null,[d[29]||(d[29]=l("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"API Secret",-1)),Y(l("input",{"onUpdate:modelValue":d[11]||(d[11]=f=>o.value.cloudinary_api_secret=f),type:"password",class:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none"},null,512),[[de,o.value.cloudinary_api_secret]])])])],512),[[Hs,e.value==="integracoes"]])]))]))}}),NA=pX({history:GY("/"),routes:[{path:"/",name:"public-home",component:TN,meta:{title:"Incio - ImobHome",requiresAuth:!1}},{path:"/site",component:ise,children:[{path:"",name:"site-home",component:TN,meta:{title:"Imveis"}},{path:"imovel/:id",name:"public-imovel-detail",component:CJe,meta:{title:"Detalhes do Imvel"}}]},{path:"/login",name:"login",component:PFe,meta:{title:"Login",requiresAuth:!1}},{path:"/cadastro",name:"register",component:D6e,meta:{title:"Crie sua conta",requiresAuth:!1}},{path:"/bloqueado",name:"lock-screen",component:xFe,meta:{title:"Acesso Suspenso",requiresAuth:!1}},{path:"/",component:jne,meta:{requiresAuth:!0},children:[{path:"dashboard",name:"dashboard",component:lke,meta:{title:"Dashboard"}},{path:"alugueis/dashboard",name:"alugueis-dashboard",component:kse,meta:{title:"Dashboard de Aluguis"}},{path:"funil-vendas",name:"funil-vendas",component:LNe,meta:{title:"Funil de Vendas"}},{path:"oportunidades/nova",name:"oportunidade-nova",component:_N,meta:{title:"Nova Oportunidade"}},{path:"oportunidades/editar/:id",name:"oportunidade-editar",component:_N,meta:{title:"Editar Oportunidade"}},{path:"imoveis",name:"imoveis",component:VPe,meta:{title:"Gerenciar Imveis"}},{path:"imoveis/novo",name:"imovel-novo",component:xN,meta:{title:"Adicionar Novo Imvel"}},{path:"imoveis/editar/:id",name:"imovel-editar",component:xN,meta:{title:"Editar Imvel"}},{path:"imoveis/:id/imagens",name:"imovel-imagens",component:C6,props:t=>({imovelId:t.params.id}),meta:{title:"Gerenciar Imagens do Imvel",isAdmin:!0}},{path:"imoveis/:id/autorizacao-editor",name:"imovel-editor-autorizacao",component:OM,props:{docType:"imovel-autorizacao"},meta:{title:"Editar Autorizao"}},{path:"clientes",name:"clientes",component:Qhe,meta:{title:"Gerenciar Clientes"}},{path:"clientes/novo",name:"cliente-novo",component:iR,meta:{title:"Adicionar Novo Cliente"}},{path:"clientes/editar/:id",name:"cliente-editar",component:iR,meta:{title:"Editar Cliente"}},{path:"contratos",name:"contratos",component:UEe,meta:{title:"Gerenciar Contratos"}},{path:"contratos/novo",name:"contrato-novo",component:PM,meta:{title:"Adicionar Novo Contrato"}},{path:"contratos/editar/:id",name:"contrato-editar",component:PM,meta:{title:"Editar Contrato"}},{path:"contratos/:id/detalhes",name:"ContratoRead",component:xSe,meta:{title:"Detalhes do Contrato"}},{path:"contratos/editar-documento/:id",name:"contrato-editar-documento",component:OM,meta:{title:"Editar Documento do Contrato"}},{path:"vistorias",name:"vistorias",component:C9e,meta:{title:"Gerenciar Vistorias"}},{path:"vistorias/nova",name:"vistoria-nova",component:kN,meta:{title:"Nova Vistoria"}},{path:"vistorias/editar/:id",name:"vistoria-editar",component:kN,meta:{title:"Editar Vistoria"}},{path:"vistorias/checklist/:id",name:"vistoria-checklist",component:nqe,meta:{title:"Executar Vistoria"}},{path:"visitas",name:"visitas",component:eje,meta:{title:"Gerenciar Visitas"}},{path:"visitas/nova",name:"visita-nova",component:EN,meta:{title:"Agendar Nova Visita"}},{path:"visitas/editar/:id",name:"visita-editar",component:EN,meta:{title:"Editar Visita"}},{path:"contatos",name:"contatos",component:Nwe,meta:{title:"Gerenciar Contatos",isAdmin:!0}},{path:"corretores",name:"corretores",component:SCe,meta:{title:"Gerenciar Utilizadores",isAdmin:!0}},{path:"corretores/novo",name:"corretor-novo",component:LM,meta:{title:"Registar Novo Utilizador",isAdmin:!0}},{path:"corretores/editar/:id",name:"corretor-editar",component:LM,meta:{title:"Editar Utilizador",isAdmin:!0}},{path:"calendario",name:"calendario",component:qde,meta:{title:"Meu Calendrio"}},{path:"tarefas-board",name:"tarefas-board",component:EUe,meta:{title:"Quadro de Tarefas"}},{path:"publicacoes",name:"publicacoes",component:l6e,meta:{title:"Central de Publicaes"}},{path:"calendario-publicacoes",name:"calendario-publicacoes",component:Uue,meta:{title:"Calendrio de Publicaes"}},{path:"relatorios",name:"relatorios",component:q6e,meta:{title:"Relatrios",isAdmin:!0}},{path:"relatorios/autorizacoes",name:"relatorio-autorizacoes",component:fie,meta:{title:"Relatrio de Autorizaes",isAdmin:!0}},{path:"autorizacoes",name:"autorizacoes",component:Aie,meta:{title:"Gesto de Autorizaes",isAdmin:!0}},{path:"configuracoes-ia",name:"configuracoes-ia",component:Ape,meta:{title:"Configuraes da IA",isAdmin:!0}},{path:"integracoes",name:"integracoes",component:m3e,meta:{title:"Integraes",isAdmin:!0}},{path:"integracoes/bancos/nova",name:"configuracao-banco-nova",component:rR,meta:{title:"Nova Configurao de Banco",isAdmin:!0}},{path:"integracoes/bancos/editar/:id",name:"configuracao-banco-editar",component:rR,meta:{title:"Editar Configurao de Banco",isAdmin:!0}},{path:"financeiro",name:"financeiro",redirect:{name:"financeiro-dashboard"}},{path:"financeiro/dashboard",name:"financeiro-dashboard",component:YMe,meta:{title:"Dashboard Financeiro",isAdmin:!0}},{path:"financeiro/transacoes",name:"lista-transacoes",component:uFe,meta:{title:"Transaes Financeiras",isAdmin:!0}},{path:"financeiro/transacoes/nova",name:"transacao-nova",component:SN,meta:{title:"Nova Transao",isAdmin:!0}},{path:"financeiro/transacoes/editar/:id",name:"transacao-editar",component:SN,meta:{title:"Editar Transao",isAdmin:!0}},{path:"financeiro/dre",name:"dre",component:Xke,meta:{title:"Relatrio DRE",isAdmin:!0}},{path:"financeiro/contas",name:"lista-contas",component:B4e,meta:{title:"Gerenciar Contas Bancrias",isAdmin:!0}},{path:"financeiro/contas/nova",name:"conta-nova",component:oR,meta:{title:"Nova Conta Bancria",isAdmin:!0}},{path:"financeiro/contas/editar/:id",name:"conta-editar",component:oR,meta:{title:"Editar Conta Bancria",isAdmin:!0}},{path:"financeiro/categorias",name:"lista-categorias",component:X3e,meta:{title:"Gerenciar Categorias Financeiras",isAdmin:!0}},{path:"financeiro/categorias/nova",name:"nova-categoria",component:sR,meta:{title:"Adicionar Categoria",isAdmin:!0}},{path:"financeiro/categorias/editar/:id",name:"editar-categoria",component:sR,meta:{title:"Editar Categoria",isAdmin:!0}},{path:"financeiro/formas-pagamento",name:"lista-formas-pagamento",component:J4e,meta:{title:"Gerenciar Formas de Pagamento",isAdmin:!0}},{path:"financeiro/formas-pagamento/nova",name:"nova-forma-pagamento",component:aN,meta:{title:"Adicionar Forma de Pagamento",isAdmin:!0}},{path:"financeiro/formas-pagamento/editar/:id",name:"editar-forma-pagamento",component:aN,meta:{title:"Editar Forma de Pagamento",isAdmin:!0}},{path:"financeiro/contas-a-pagar",name:"contas-a-pagar",component:dKe,meta:{title:"Contas a Pagar",isAdmin:!0}},{path:"financeiro/contas-a-receber",name:"contas-a-receber",component:xYe,meta:{title:"Contas a Receber",isAdmin:!0}},{path:"financeiro/remessa-retorno",name:"remessa-retorno",component:FYe,meta:{title:"Remessa e Retorno",isAdmin:!0}},{path:"configuracoes/sistema",name:"configuracao-sistema",component:GJe,meta:{title:"Configuraes do Sistema",isAdmin:!0}}]},{path:"/:pathMatch(.*)*",redirect:"/"}]});NA.beforeEach(async(t,e,n)=>{let s;try{s=$o()}catch{}const i=Ji.useToast();if(document.title=`${t.meta.title||"ImobHome"}`,s&&!s.token){const f=localStorage.getItem("authToken");if(f){s.token=f;try{await s.initialize()}catch(h){console.error("Erro ao inicializar auth:",h)}}}const r=!!s.token,o=t.matched.some(f=>f.meta.requiresAuth),a=s.user,c=a?.is_superuser||!1,u=a?.is_admin||!1,d=c||u;if(o&&!r){n({name:"login"});return}else if((t.name==="login"||t.name==="register")&&r){n({name:"dashboard"});return}else if(r&&t.meta.isAdmin){d?n():(i.error("Acesso Negado: Voc no tem permisso para acessar esta rea."),e.name==="dashboard"?n(!1):n({name:"dashboard"}));return}n()});var qJe=Object.defineProperty,KJe=(t,e,n)=>e in t?qJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,DN=(t,e,n)=>(KJe(t,typeof e!="symbol"?e+"":e,n),n);const Ei={debug:!1,masked:!1,prefix:"",suffix:"",thousands:",",decimal:".",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0,modelModifiers:{number:!1},shouldRound:!0,focusOnRight:!1},T6=["+","-"],D6=["decimal","thousands","prefix","suffix"];function fa(t){return Math.max(0,Math.min(t,1e3))}function fy(t,e){return t=t.padStart(e+1,"0"),e===0?t:`${t.slice(0,-e)}.${t.slice(-e)}`}function O6(t){return t=t?t.toString():"",t.replace(/\D+/g,"")||"0"}function YJe(t,e){return t.replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${e}`)}function XJe(t,e,n){return e?t+n+e:t}function sh(t,e){return T6.includes(t)?(console.warn(`v-money3 "${e}" property don't accept "${t}" as a value.`),!1):/\d/g.test(t)?(console.warn(`v-money3 "${e}" property don't accept "${t}" (any number) as a value.`),!1):!0}function JJe(t){for(const e of D6)if(!sh(t[e],e))return!1;return!0}function hy(t){for(const e of D6){t[e]=t[e].replace(/\d+/g,"");for(const n of T6)t[e]=t[e].replaceAll(n,"")}return t}function R6(t){const e=t.length,n=t.indexOf(".");return e-(n+1)}function ON(t){return t.replace(/^(-?)0+(?!\.)(.+)/,"$1$2")}function M6(t){return/^-?[\d]+$/g.test(t)}function I6(t){return/^-?[\d]+(\.[\d]+)$/g.test(t)}function RN(t,e,n){return e>t.length-1?t:t.substring(0,e)+n+t.substring(e+1)}function N6(t,e){const n=e-R6(t);if(n>=0)return t;let s=t.slice(0,n);const i=t.slice(n);if(s.charAt(s.length-1)==="."&&(s=s.slice(0,-1)),parseInt(i.charAt(0),10)>=5){for(let r=s.length-1;r>=0;r-=1){const o=s.charAt(r);if(o!=="."&&o!=="-"){const a=parseInt(o,10)+1;if(a<10)return RN(s,r,a);s=RN(s,r,"0")}}return`1${s}`}return s}function P6(t,e){const n=()=>{t.setSelectionRange(e,e)};t===document.activeElement&&(n(),setTimeout(n,1))}function $6(t){return new Event(t,{bubbles:!0,cancelable:!1})}function jt({debug:t=!1},...e){t&&console.log(...e)}class L1{constructor(e){DN(this,"number",0n),DN(this,"decimal",0),this.setNumber(e)}getNumber(){return this.number}getDecimalPrecision(){return this.decimal}setNumber(e){this.decimal=0,typeof e=="bigint"?this.number=e:typeof e=="number"?this.setupString(e.toString()):this.setupString(e)}toFixed(e=0,n=!0){let s=this.toString();const i=e-this.getDecimalPrecision();return i>0?(s.includes(".")||(s+="."),s.padEnd(s.length+i,"0")):i<0?n?N6(s,e):s.slice(0,i):s}toString(){let e=this.number.toString();if(this.decimal){let n=!1;return e.charAt(0)==="-"&&(e=e.substring(1),n=!0),e=e.padStart(e.length+this.decimal,"0"),e=`${e.slice(0,-this.decimal)}.${e.slice(-this.decimal)}`,e=ON(e),(n?"-":"")+e}return e}lessThan(e){const[n,s]=this.adjustComparisonNumbers(e);return n<s}biggerThan(e){const[n,s]=this.adjustComparisonNumbers(e);return n>s}isEqual(e){const[n,s]=this.adjustComparisonNumbers(e);return n===s}setupString(e){if(e=ON(e),M6(e))this.number=BigInt(e);else if(I6(e))this.decimal=R6(e),this.number=BigInt(e.replace(".",""));else throw new Error(`BigNumber has received and invalid format for the constructor: ${e}`)}adjustComparisonNumbers(e){let n;e.constructor.name!=="BigNumber"?n=new L1(e):n=e;const s=this.getDecimalPrecision()-n.getDecimalPrecision();let i=this.getNumber(),r=n.getNumber();return s>0?r=n.getNumber()*10n**BigInt(s):s<0&&(i=this.getNumber()*10n**BigInt(s*-1)),[i,r]}}function TE(t,e=Ei,n=""){if(jt(e,"utils format() - caller",n),jt(e,"utils format() - input1",t),t==null)t="";else if(typeof t=="number")e.shouldRound?t=t.toFixed(fa(e.precision)):t=t.toFixed(fa(e.precision)+1).slice(0,-1);else if(e.modelModifiers&&e.modelModifiers.number&&M6(t))t=Number(t).toFixed(fa(e.precision));else if(!e.disableNegative&&t==="-")return t;jt(e,"utils format() - input2",t);const s=e.disableNegative?"":t.indexOf("-")>=0?"-":"";let i=t.replace(e.prefix,"").replace(e.suffix,"");jt(e,"utils format() - filtered",i),!e.precision&&e.thousands!=="."&&I6(i)&&(i=N6(i,0),jt(e,"utils format() - !opt.precision && isValidFloat()",i));const r=O6(i);jt(e,"utils format() - numbers",r),jt(e,"utils format() - numbersToCurrency",s+fy(r,e.precision));const o=new L1(s+fy(r,e.precision));jt(e,"utils format() - bigNumber1",o.toString()),e.max&&o.biggerThan(e.max)&&o.setNumber(e.max),e.min&&o.lessThan(e.min)&&o.setNumber(e.min);const a=o.toFixed(fa(e.precision),e.shouldRound);if(jt(e,"utils format() - bigNumber2",o.toFixed(fa(e.precision))),/^0(\.0+)?$/g.test(a)&&e.allowBlank)return"";let[c,u]=a.split(".");const d=u!==void 0?u.length:0;c=c.padStart(e.minimumNumberOfCharacters-d,"0"),c=YJe(c,e.thousands);const f=e.prefix+XJe(c,u,e.decimal)+e.suffix;return jt(e,"utils format() - output",f),f}function DE(t,e=Ei,n=""){if(jt(e,"utils unformat() - caller",n),jt(e,"utils unformat() - input",t),!e.disableNegative&&t==="-")return jt(e,"utils unformat() - return netagive symbol",t),t;const s=e.disableNegative?"":t.indexOf("-")>=0?"-":"",i=t.replace(e.prefix,"").replace(e.suffix,"");jt(e,"utils unformat() - filtered",i);const r=O6(i);jt(e,"utils unformat() - numbers",r);const o=new L1(s+fy(r,e.precision));jt(e,"utils unformat() - bigNumber1",r.toString()),e.max&&o.biggerThan(e.max)&&o.setNumber(e.max),e.min&&o.lessThan(e.min)&&o.setNumber(e.min);let a=o.toFixed(fa(e.precision),e.shouldRound);return e.modelModifiers&&e.modelModifiers.number&&(a=parseFloat(a)),jt(e,"utils unformat() - output",a),a}const OE=(t,e,n)=>{if(jt(e,"directive setValue() - caller",n),!JJe(e)){jt(e,"directive setValue() - validateRestrictedOptions() return false. Stopping here...",t.value);return}let s=t.value.length-(t.selectionEnd||0);t.value=TE(t.value,e,n),s=Math.max(s,e.suffix.length),s=t.value.length-s,s=Math.max(s,e.prefix.length),P6(t,s),t.dispatchEvent($6("change"))},MN=(t,e)=>{const n=t.currentTarget,s=t.code==="Backspace"||t.code==="Delete",i=n.value.length-(n.selectionEnd||0)===0;if(jt(e,"directive onkeydown() - el.value",n.value),jt(e,"directive onkeydown() - backspacePressed",s),jt(e,"directive onkeydown() - isAtEndPosition",i),e.allowBlank&&s&&i&&DE(n.value,e,"directive onkeydown allowBlank")===0&&(jt(e,'directive onkeydown() - set el.value = ""',n.value),n.value="",n.dispatchEvent($6("change"))),jt(e,"directive onkeydown() - e.key",t.key),t.key==="+"){jt(e,"directive onkeydown() - unformat el.value",n.value);let r=DE(n.value,e,"directive onkeydown +");typeof r=="string"&&(r=parseFloat(r)),r<0&&(n.value=String(r*-1))}},IN=(t,e)=>{const n=t.currentTarget;jt(e,"directive oninput()",n.value),/^[1-9]$/.test(n.value)&&(n.value=fy(n.value,fa(e.precision)),jt(e,"directive oninput() - is 1-9",n.value)),OE(n,e,"directive oninput")},NN=(t,e)=>{const n=t.currentTarget;jt(e,"directive onFocus()",n.value),e.focusOnRight&&P6(n,n.value.length-e.suffix.length)},L6={mounted(t,e){if(!e.value)return;const n=hy({...Ei,...e.value});if(jt(n,"directive mounted() - opt",n),t.tagName.toLocaleUpperCase()!=="INPUT"){const s=t.getElementsByTagName("input");s.length!==1||(t=s[0])}t.onkeydown=s=>{MN(s,n)},t.oninput=s=>{IN(s,n)},t.onfocus=s=>{NN(s,n)},jt(n,"directive mounted() - el.value",t.value),OE(t,n,"directive mounted")},updated(t,e){if(!e.value)return;const n=hy({...Ei,...e.value});t.onkeydown=s=>{MN(s,n)},t.oninput=s=>{IN(s,n)},t.onfocus=s=>{NN(s,n)},jt(n,"directive updated() - el.value",t.value),jt(n,"directive updated() - opt",n),OE(t,n,"directive updated")},beforeUnmount(t){t.onkeydown=null,t.oninput=null,t.onfocus=null}},QJe=["id","value","disabled"],ZJe={inheritAttrs:!1,name:"Money3",directives:{money3:L6}},eQe=We({...ZJe,props:{debug:{required:!1,type:Boolean,default:!1},id:{required:!1,type:[Number,String],default:()=>{const t=gi();return t?t.uid:null}},modelValue:{required:!0,type:[Number,String]},modelModifiers:{required:!1,type:Object,default:()=>({number:!1})},masked:{type:Boolean,default:!1},precision:{type:Number,default:()=>Ei.precision},decimal:{type:String,default:()=>Ei.decimal,validator(t){return sh(t,"decimal")}},thousands:{type:String,default:()=>Ei.thousands,validator(t){return sh(t,"thousands")}},prefix:{type:String,default:()=>Ei.prefix,validator(t){return sh(t,"prefix")}},suffix:{type:String,default:()=>Ei.suffix,validator(t){return sh(t,"suffix")}},disableNegative:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},max:{type:[Number,String],default:()=>Ei.max},min:{type:[Number,String],default:()=>Ei.min},allowBlank:{type:Boolean,default:()=>Ei.allowBlank},minimumNumberOfCharacters:{type:Number,default:()=>Ei.minimumNumberOfCharacters},shouldRound:{type:Boolean,default:()=>Ei.shouldRound},focusOnRight:{type:Boolean,default:()=>Ei.focusOnRight}},emits:["update:model-value"],setup(t,{emit:e}){const n=t,{modelValue:s,modelModifiers:i,masked:r,precision:o,shouldRound:a,focusOnRight:c}=GE(n);jt(n,"component setup()",n);let u=s.value;(n.disableNegative||u!=="-")&&i.value&&i.value.number&&(a.value?u=Number(s.value).toFixed(fa(o.value)):u=Number(s.value).toFixed(fa(o.value)+1).slice(0,-1));const d=H(TE(u,n,"component setup"));jt(n,"component setup() - data.formattedValue",d.value),Rn(s,f);function f(b){jt(n,"component watch() -> value",b);const x=TE(b,hy({...n}),"component watch");x!==d.value&&(jt(n,"component watch() changed -> formatted",x),d.value=x)}let h=null;function m(b){let x=b.target.value;jt(n,"component change() -> evt.target.value",x),r.value&&!i.value.number||(x=DE(x,hy({...n}),"component change")),x!==h&&(h=x,jt(n,"component change() -> update:model-value",x),e("update:model-value",x))}const g=FP(),y=we(()=>{const b={...g};return delete b["onUpdate:modelValue"],b});return(b,x)=>{const E=Dy("money3");return Y((O(),R("input",Gh({id:`${t.id}`},Ve(y),{type:"tel",class:"v-money3",value:d.value,disabled:n.disabled,onChange:m}),null,16,QJe)),[[E,{precision:Ve(o),decimal:n.decimal,thousands:n.thousands,prefix:n.prefix,suffix:n.suffix,disableNegative:n.disableNegative,min:n.min,max:n.max,allowBlank:n.allowBlank,minimumNumberOfCharacters:n.minimumNumberOfCharacters,debug:n.debug,modelModifiers:Ve(i),shouldRound:Ve(a),focusOnRight:Ve(c)}]])}}}),tQe={install(t){t.component("money3",eQe),t.directive("money3",L6)}},F1=$v(lY),nQe=tY();F1.use(nQe);F1.use(NA);F1.use(tQe);const RE=$o();RE.initialize&&RE.initialize();jJ(NA,RE);F1.mount("#app");
